/*! For license information please see chunk.c589beed6c2c18d35871.js.LICENSE.txt */
(self.webpackChunkopendatafit_embed=self.webpackChunkopendatafit_embed||[]).push([[709],{11713:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(57339),i=n(9216),o=n(20044),a=n(9582),s=n(92438),l=n(71275);window.define("opendatafit-embed/modifiers/will-destroy",(function(){return r.Z})),window.define("opendatafit-embed/modifiers/did-insert",(function(){return i.Z})),window.define("opendatafit-embed/modifiers/style",(function(){return o.Z})),window.define("opendatafit-embed/helpers/or",(function(){return a.Z})),window.define("opendatafit-embed/helpers/element",(function(){return s.Z}));const u=(0,l.createTemplateFactory)({id:"jM1W6m1w",block:'[[[41,[30,1,["isOpen"]],[[[1,"  "],[10,0],[14,0,"ember-basic-dropdown-content-wormhole-origin"],[12],[1,"\\n    "],[8,[39,1],null,[["@destinationElement","@renderInPlace"],[[30,0,["destinationElement"]],[30,2]]],[["default"],[[[[1,"\\n"],[41,[30,3],[[[1,"        "],[10,0],[14,0,"ember-basic-dropdown-overlay"],[12],[13],[1,"\\n"]],[]],null],[1,"\\n"],[44,[[28,[37,3],[[28,[37,4],[[30,4],"div"],null]],null]],[[[1,"        "],[8,[30,5],[[16,1,[30,0,["dropdownId"]]],[16,0,[29,["ember-basic-dropdown-content ember-basic-dropdown-content--",[30,6],"\\n            ember-basic-dropdown-content--",[30,7],"\\n            ",[30,0,["animationClass"]],[52,[30,2]," ember-basic-dropdown-content--in-place"],"\\n            ",[30,8]]]],[16,"dir",[30,9]],[17,10],[4,[38,5],[[30,11],[28,[37,6],null,[["top","left","right","width","height"],[[30,12],[30,13],[30,14],[30,15],[30,16]]]]],null],[4,[38,7],[[30,0,["setup"]]],null],[4,[38,7],[[30,1,["actions","reposition"]]],null],[4,[38,7],[[30,0,["setupMutationObserver"]]],null],[4,[38,7],[[30,0,["animateIn"]]],null],[4,[38,8],[[30,0,["teardownMutationObserver"]]],null],[4,[38,8],[[30,0,["animateOut"]]],null],[4,[38,8],[[30,0,["teardown"]]],null],[4,[38,9],["focusin",[28,[37,10],[[28,[37,4],[[30,17],[30,0,["noop"]]],null],[30,1]],null]],null],[4,[38,9],["focusout",[28,[37,10],[[28,[37,4],[[30,18],[30,0,["noop"]]],null],[30,1]],null]],null],[4,[38,9],["mouseenter",[28,[37,10],[[28,[37,4],[[30,19],[30,0,["noop"]]],null],[30,1]],null]],null],[4,[38,9],["mouseleave",[28,[37,10],[[28,[37,4],[[30,20],[30,0,["noop"]]],null],[30,1]],null]],null]],null,[["default"],[[[[1,"\\n          "],[18,21,null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[5]]],[1,"    "]],[]]]]],[1,"\\n  "],[13],[1,"\\n"]],[]],[[[1,"  "],[11,0],[16,1,[30,0,["dropdownId"]]],[24,0,"ember-basic-dropdown-content-placeholder"],[4,[38,5],[[28,[37,6],null,[["display"],["none"]]]],null],[12],[13],[1,"\\n"]],[]]]],["@dropdown","@renderInPlace","@overlay","@htmlTag","OptionalTag","@hPosition","@vPosition","@defaultClass","@dir","&attrs","@otherStyles","@top","@left","@right","@width","@height","@onFocusIn","@onFocusOut","@onMouseEnter","@onMouseLeave","&default"],false,["if","maybe-in-element","let","element","or","style","hash","did-insert","will-destroy","on","fn","yield"]]',moduleName:"ember-basic-dropdown/templates/components/basic-dropdown-content.hbs",isStrictMode:!1})},25371:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(57339),i=n(9582),o=n(92438),a=n(71275);window.define("opendatafit-embed/modifiers/will-destroy",(function(){return r.Z})),window.define("opendatafit-embed/helpers/or",(function(){return i.Z})),window.define("opendatafit-embed/helpers/element",(function(){return o.Z}));const s=(0,a.createTemplateFactory)({id:"n2x/0hFQ",block:'[[[44,[[28,[37,1],[[28,[37,2],[[30,1],"div"],null]],null]],[[[1,"  "],[8,[30,2],[[16,0,[29,["ember-basic-dropdown-trigger\\n      ",[52,[30,3]," ember-basic-dropdown-trigger--in-place"],"\\n      ",[52,[30,4],[28,[37,4],[" ember-basic-dropdown-trigger--",[30,4]],null]],"\\n      ",[52,[30,5],[28,[37,4],[" ember-basic-dropdown-trigger--",[30,5]],null]],"\\n      ",[30,6]]]],[24,"role","button"],[16,"tabindex",[52,[51,[30,7,["disabled"]]],"0"]],[16,"data-ebd-id",[29,[[30,7,["uniqueId"]],"-trigger"]]],[16,"aria-owns",[29,["ember-basic-dropdown-content-",[30,7,["uniqueId"]]]]],[16,"aria-controls",[29,["ember-basic-dropdown-content-",[30,7,["uniqueId"]]]]],[16,"aria-expanded",[29,[[30,7,["isOpen"]]]]],[16,"aria-disabled",[52,[30,7,["disabled"]],"true"]],[17,8],[4,[38,6],[[30,0,["removeGlobalHandlers"]]],null],[4,[38,7],["mousedown",[30,0,["handleMouseDown"]]],null],[4,[38,7],["click",[30,0,["handleClick"]]],null],[4,[38,7],["keydown",[30,0,["handleKeyDown"]]],null],[4,[38,7],["touchstart",[30,0,["handleTouchStart"]]],null],[4,[38,7],["touchend",[30,0,["handleTouchEnd"]]],null],[4,[38,7],["keydown",[28,[37,8],[[28,[37,2],[[30,9],[30,0,["noop"]]],null],[30,7]],null]],null],[4,[38,7],["mousedown",[28,[37,8],[[28,[37,2],[[30,10],[30,0,["noop"]]],null],[30,7]],null]],null],[4,[38,7],["touchend",[28,[37,8],[[28,[37,2],[[30,11],[30,0,["noop"]]],null],[30,7]],null]],null],[4,[38,7],["click",[28,[37,8],[[28,[37,2],[[30,12],[30,0,["noop"]]],null],[30,7]],null]],null],[4,[38,7],["mouseenter",[28,[37,8],[[28,[37,2],[[30,13],[30,0,["noop"]]],null],[30,7]],null]],null],[4,[38,7],["mouseleave",[28,[37,8],[[28,[37,2],[[30,14],[30,0,["noop"]]],null],[30,7]],null]],null],[4,[38,7],["focus",[28,[37,8],[[28,[37,2],[[30,15],[30,0,["noop"]]],null],[30,7]],null]],null],[4,[38,7],["blur",[28,[37,8],[[28,[37,2],[[30,16],[30,0,["noop"]]],null],[30,7]],null]],null],[4,[38,7],["focusin",[28,[37,8],[[28,[37,2],[[30,17],[30,0,["noop"]]],null],[30,7]],null]],null],[4,[38,7],["focusout",[28,[37,8],[[28,[37,2],[[30,18],[30,0,["noop"]]],null],[30,7]],null]],null]],null,[["default"],[[[[1,"\\n    "],[18,19,null],[1,"\\n  "]],[]]]]],[1,"\\n"]],[2]]]],["@htmlTag","OptionalTag","@renderInPlace","@hPosition","@vPosition","@defaultClass","@dropdown","&attrs","@onKeyDown","@onMouseDown","@onTouchEnd","@onClick","@onMouseEnter","@onMouseLeave","@onFocus","@onBlur","@onFocusIn","@onFocusOut","&default"],false,["let","element","or","if","concat","unless","will-destroy","on","fn","yield"]]',moduleName:"ember-basic-dropdown/templates/components/basic-dropdown-trigger.hbs",isStrictMode:!1})},14192:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(9582),i=n(86449),o=n(90280),a=n(71275);window.define("opendatafit-embed/helpers/or",(function(){return r.Z})),window.define("opendatafit-embed/helpers/ensure-safe-component",(function(){return i.Z})),window.define("opendatafit-embed/helpers/eq",(function(){return o.Z}));const s=(0,a.createTemplateFactory)({id:"QzO5yzRa",block:'[[[44,[[28,[37,1],null,[["uniqueId","isOpen","disabled","actions","Trigger","Content"],[[30,0,["publicAPI","uniqueId"]],[30,0,["publicAPI","isOpen"]],[30,0,["publicAPI","disabled"]],[30,0,["publicAPI","actions"]],[52,[28,[37,3],[[30,1],[27]],null],[50,"basic-dropdown-trigger",0,null,[["dropdown","hPosition","renderInPlace","vPosition"],[[28,[37,5],[[30,0,["publicAPI"]]],null],[28,[37,5],[[30,0,["hPosition"]]],null],[28,[37,5],[[30,0,["renderInPlace"]]],null],[28,[37,5],[[30,0,["vPosition"]]],null]]]],[50,[28,[37,6],[[30,1]],null],0,null,[["dropdown","hPosition","renderInPlace","vPosition"],[[28,[37,5],[[30,0,["publicAPI"]]],null],[28,[37,5],[[30,0,["hPosition"]]],null],[28,[37,5],[[30,0,["renderInPlace"]]],null],[28,[37,5],[[30,0,["vPosition"]]],null]]]]],[52,[28,[37,3],[[30,2],[27]],null],[50,"basic-dropdown-content",0,null,[["dropdown","hPosition","renderInPlace","preventScroll","rootEventType","vPosition","destination","top","left","right","width","height","otherStyles"],[[28,[37,5],[[30,0,["publicAPI"]]],null],[28,[37,5],[[30,0,["hPosition"]]],null],[28,[37,5],[[30,0,["renderInPlace"]]],null],[28,[37,5],[[30,3]],null],[28,[37,7],[[30,4],"click"],null],[28,[37,5],[[30,0,["vPosition"]]],null],[28,[37,5],[[30,0,["destination"]]],null],[28,[37,5],[[30,0,["top"]]],null],[28,[37,5],[[30,0,["left"]]],null],[28,[37,5],[[30,0,["right"]]],null],[28,[37,5],[[30,0,["width"]]],null],[28,[37,5],[[30,0,["height"]]],null],[28,[37,5],[[30,0,["otherStyles"]]],null]]]],[50,[28,[37,6],[[30,2]],null],0,null,[["dropdown","hPosition","renderInPlace","preventScroll","rootEventType","vPosition","destination","top","left","right","width","height","otherStyles"],[[28,[37,5],[[30,0,["publicAPI"]]],null],[28,[37,5],[[30,0,["hPosition"]]],null],[28,[37,5],[[30,0,["renderInPlace"]]],null],[28,[37,5],[[30,3]],null],[28,[37,7],[[30,4],"click"],null],[28,[37,5],[[30,0,["vPosition"]]],null],[28,[37,5],[[30,0,["destination"]]],null],[28,[37,5],[[30,0,["top"]]],null],[28,[37,5],[[30,0,["left"]]],null],[28,[37,5],[[30,0,["right"]]],null],[28,[37,5],[[30,0,["width"]]],null],[28,[37,5],[[30,0,["height"]]],null],[28,[37,5],[[30,0,["otherStyles"]]],null]]]]]]]]],[[[41,[30,0,["renderInPlace"]],[[[1,"    "],[11,0],[24,0,"ember-basic-dropdown"],[17,6],[12],[18,7,[[30,5]]],[13],[1,"\\n"]],[]],[[[1,"    "],[18,7,[[30,5]]],[1,"\\n"]],[]]]],[5]]]],["@triggerComponent","@contentComponent","@preventScroll","@rootEventType","api","&attrs","&default"],false,["let","hash","if","eq","component","readonly","ensure-safe-component","or","yield"]]',moduleName:"ember-basic-dropdown/templates/components/basic-dropdown.hbs",isStrictMode:!1})},36846:(e,t,n)=>{"use strict";function r(e){return null!=e&&e.__esModule?e:{default:e}}n.d(t,{Z:()=>r})},54069:e=>{var t=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,n,r;try{t=Map}catch(e){t=function(){}}try{n=Set}catch(e){n=function(){}}try{r=Promise}catch(e){r=function(){}}function i(o,s,l,u,c){"object"==typeof s&&(l=s.depth,u=s.prototype,c=s.includeNonEnumerable,s=s.circular);var d=[],h=[],f="undefined"!=typeof Buffer;return void 0===s&&(s=!0),void 0===l&&(l=1/0),function o(l,p){if(null===l)return null;if(0===p)return l;var m,g;if("object"!=typeof l)return l;if(e(l,t))m=new t;else if(e(l,n))m=new n;else if(e(l,r))m=new r((function(e,t){l.then((function(t){e(o(t,p-1))}),(function(e){t(o(e,p-1))}))}));else if(i.__isArray(l))m=[];else if(i.__isRegExp(l))m=new RegExp(l.source,a(l)),l.lastIndex&&(m.lastIndex=l.lastIndex);else if(i.__isDate(l))m=new Date(l.getTime());else{if(f&&Buffer.isBuffer(l))return m=Buffer.allocUnsafe?Buffer.allocUnsafe(l.length):new Buffer(l.length),l.copy(m),m;e(l,Error)?m=Object.create(l):void 0===u?(g=Object.getPrototypeOf(l),m=Object.create(g)):(m=Object.create(u),g=u)}if(s){var y=d.indexOf(l);if(-1!=y)return h[y];d.push(l),h.push(m)}for(var v in e(l,t)&&l.forEach((function(e,t){var n=o(t,p-1),r=o(e,p-1);m.set(n,r)})),e(l,n)&&l.forEach((function(e){var t=o(e,p-1);m.add(t)})),l){var b;g&&(b=Object.getOwnPropertyDescriptor(g,v)),b&&null==b.set||(m[v]=o(l[v],p-1))}if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(l);for(v=0;v<w.length;v++){var _=w[v];(!(S=Object.getOwnPropertyDescriptor(l,_))||S.enumerable||c)&&(m[_]=o(l[_],p-1),S.enumerable||Object.defineProperty(m,_,{enumerable:!1}))}}if(c){var k=Object.getOwnPropertyNames(l);for(v=0;v<k.length;v++){var S,M=k[v];(S=Object.getOwnPropertyDescriptor(l,M))&&S.enumerable||(m[M]=o(l[M],p-1),Object.defineProperty(m,M,{enumerable:!1}))}}return m}(o,l)}function o(e){return Object.prototype.toString.call(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return i.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},i.__objToStr=o,i.__isDate=function(e){return"object"==typeof e&&"[object Date]"===o(e)},i.__isArray=function(e){return"object"==typeof e&&"[object Array]"===o(e)},i.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===o(e)},i.__getRegExpFlags=a,i}();e.exports&&(e.exports=t)},52601:function(e){e.exports=function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,n){return t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(e,n)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function r(e,i,o){return r=n()?Reflect.construct:function(e,n,r){var i=[null];i.push.apply(i,n);var o=new(Function.bind.apply(e,i));return r&&t(o,r.prototype),o},r.apply(null,arguments)}function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=Object.hasOwnProperty,s=Object.setPrototypeOf,l=Object.isFrozen,u=Object.getPrototypeOf,c=Object.getOwnPropertyDescriptor,d=Object.freeze,h=Object.seal,f=Object.create,p="undefined"!=typeof Reflect&&Reflect,m=p.apply,g=p.construct;m||(m=function(e,t,n){return e.apply(t,n)}),d||(d=function(e){return e}),h||(h=function(e){return e}),g||(g=function(e,t){return r(e,i(t))});var y,v=T(Array.prototype.forEach),b=T(Array.prototype.pop),w=T(Array.prototype.push),_=T(String.prototype.toLowerCase),k=T(String.prototype.match),S=T(String.prototype.replace),M=T(String.prototype.indexOf),x=T(String.prototype.trim),O=T(RegExp.prototype.test),C=(y=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g(y,t)});function T(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return m(e,t,r)}}function R(e,t,n){n=n||_,s&&s(e,null);for(var r=t.length;r--;){var i=t[r];if("string"==typeof i){var o=n(i);o!==i&&(l(t)||(t[r]=o),i=o)}e[i]=!0}return e}function D(e){var t,n=f(null);for(t in e)m(a,e,[t])&&(n[t]=e[t]);return n}function E(e,t){for(;null!==e;){var n=c(e,t);if(n){if(n.get)return T(n.get);if("function"==typeof n.value)return T(n.value)}e=u(e)}return function(e){return console.warn("fallback value for",e),null}}var A=d(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),L=d(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),j=d(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),P=d(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),I=d(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),H=d(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),N=d(["#text"]),F=d(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Y=d(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),z=d(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),B=d(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),W=h(/\{\{[\w\W]*|[\w\W]*\}\}/gm),$=h(/<%[\w\W]*|[\w\W]*%>/gm),U=h(/^data-[\-\w.\u00B7-\uFFFF]/),V=h(/^aria-[\-\w]+$/),q=h(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),G=h(/^(?:\w+script|data):/i),K=h(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Z=h(/^html$/i),X=function(){return"undefined"==typeof window?null:window},J=function(t,n){if("object"!==e(t)||"function"!=typeof t.createPolicy)return null;var r=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(r=n.currentScript.getAttribute(i));var o="dompurify"+(r?"#"+r:"");try{return t.createPolicy(o,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};return function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X(),r=function(e){return t(e)};if(r.version="2.4.0",r.removed=[],!n||!n.document||9!==n.document.nodeType)return r.isSupported=!1,r;var o=n.document,a=n.document,s=n.DocumentFragment,l=n.HTMLTemplateElement,u=n.Node,c=n.Element,h=n.NodeFilter,f=n.NamedNodeMap,p=void 0===f?n.NamedNodeMap||n.MozNamedAttrMap:f,m=n.HTMLFormElement,g=n.DOMParser,y=n.trustedTypes,T=c.prototype,Q=E(T,"cloneNode"),ee=E(T,"nextSibling"),te=E(T,"childNodes"),ne=E(T,"parentNode");if("function"==typeof l){var re=a.createElement("template");re.content&&re.content.ownerDocument&&(a=re.content.ownerDocument)}var ie=J(y,o),oe=ie?ie.createHTML(""):"",ae=a,se=ae.implementation,le=ae.createNodeIterator,ue=ae.createDocumentFragment,ce=ae.getElementsByTagName,de=o.importNode,he={};try{he=D(a).documentMode?a.documentMode:{}}catch(e){}var fe={};r.isSupported="function"==typeof ne&&se&&void 0!==se.createHTMLDocument&&9!==he;var pe,me,ge=W,ye=$,ve=U,be=V,we=G,_e=K,ke=q,Se=null,Me=R({},[].concat(i(A),i(L),i(j),i(I),i(N))),xe=null,Oe=R({},[].concat(i(F),i(Y),i(z),i(B))),Ce=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Te=null,Re=null,De=!0,Ee=!0,Ae=!1,Le=!1,je=!1,Pe=!1,Ie=!1,He=!1,Ne=!1,Fe=!1,Ye=!0,ze=!1,Be="user-content-",We=!0,$e=!1,Ue={},Ve=null,qe=R({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ge=null,Ke=R({},["audio","video","img","source","image","track"]),Ze=null,Xe=R({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Je="http://www.w3.org/1998/Math/MathML",Qe="http://www.w3.org/2000/svg",et="http://www.w3.org/1999/xhtml",tt=et,nt=!1,rt=["application/xhtml+xml","text/html"],it="text/html",ot=null,at=a.createElement("form"),st=function(e){return e instanceof RegExp||e instanceof Function},lt=function(t){ot&&ot===t||(t&&"object"===e(t)||(t={}),t=D(t),pe=pe=-1===rt.indexOf(t.PARSER_MEDIA_TYPE)?it:t.PARSER_MEDIA_TYPE,me="application/xhtml+xml"===pe?function(e){return e}:_,Se="ALLOWED_TAGS"in t?R({},t.ALLOWED_TAGS,me):Me,xe="ALLOWED_ATTR"in t?R({},t.ALLOWED_ATTR,me):Oe,Ze="ADD_URI_SAFE_ATTR"in t?R(D(Xe),t.ADD_URI_SAFE_ATTR,me):Xe,Ge="ADD_DATA_URI_TAGS"in t?R(D(Ke),t.ADD_DATA_URI_TAGS,me):Ke,Ve="FORBID_CONTENTS"in t?R({},t.FORBID_CONTENTS,me):qe,Te="FORBID_TAGS"in t?R({},t.FORBID_TAGS,me):{},Re="FORBID_ATTR"in t?R({},t.FORBID_ATTR,me):{},Ue="USE_PROFILES"in t&&t.USE_PROFILES,De=!1!==t.ALLOW_ARIA_ATTR,Ee=!1!==t.ALLOW_DATA_ATTR,Ae=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Le=t.SAFE_FOR_TEMPLATES||!1,je=t.WHOLE_DOCUMENT||!1,He=t.RETURN_DOM||!1,Ne=t.RETURN_DOM_FRAGMENT||!1,Fe=t.RETURN_TRUSTED_TYPE||!1,Ie=t.FORCE_BODY||!1,Ye=!1!==t.SANITIZE_DOM,ze=t.SANITIZE_NAMED_PROPS||!1,We=!1!==t.KEEP_CONTENT,$e=t.IN_PLACE||!1,ke=t.ALLOWED_URI_REGEXP||ke,tt=t.NAMESPACE||et,t.CUSTOM_ELEMENT_HANDLING&&st(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ce.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&st(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ce.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ce.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Le&&(Ee=!1),Ne&&(He=!0),Ue&&(Se=R({},i(N)),xe=[],!0===Ue.html&&(R(Se,A),R(xe,F)),!0===Ue.svg&&(R(Se,L),R(xe,Y),R(xe,B)),!0===Ue.svgFilters&&(R(Se,j),R(xe,Y),R(xe,B)),!0===Ue.mathMl&&(R(Se,I),R(xe,z),R(xe,B))),t.ADD_TAGS&&(Se===Me&&(Se=D(Se)),R(Se,t.ADD_TAGS,me)),t.ADD_ATTR&&(xe===Oe&&(xe=D(xe)),R(xe,t.ADD_ATTR,me)),t.ADD_URI_SAFE_ATTR&&R(Ze,t.ADD_URI_SAFE_ATTR,me),t.FORBID_CONTENTS&&(Ve===qe&&(Ve=D(Ve)),R(Ve,t.FORBID_CONTENTS,me)),We&&(Se["#text"]=!0),je&&R(Se,["html","head","body"]),Se.table&&(R(Se,["tbody"]),delete Te.tbody),d&&d(t),ot=t)},ut=R({},["mi","mo","mn","ms","mtext"]),ct=R({},["foreignobject","desc","title","annotation-xml"]),dt=R({},["title","style","font","a","script"]),ht=R({},L);R(ht,j),R(ht,P);var ft=R({},I);R(ft,H);var pt=function(e){var t=ne(e);t&&t.tagName||(t={namespaceURI:et,tagName:"template"});var n=_(e.tagName),r=_(t.tagName);return e.namespaceURI===Qe?t.namespaceURI===et?"svg"===n:t.namespaceURI===Je?"svg"===n&&("annotation-xml"===r||ut[r]):Boolean(ht[n]):e.namespaceURI===Je?t.namespaceURI===et?"math"===n:t.namespaceURI===Qe?"math"===n&&ct[r]:Boolean(ft[n]):e.namespaceURI===et&&!(t.namespaceURI===Qe&&!ct[r])&&!(t.namespaceURI===Je&&!ut[r])&&!ft[n]&&(dt[n]||!ht[n])},mt=function(e){w(r.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=oe}catch(t){e.remove()}}},gt=function(e,t){try{w(r.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){w(r.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!xe[e])if(He||Ne)try{mt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},yt=function(e){var t,n;if(Ie)e="<remove></remove>"+e;else{var r=k(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===pe&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var i=ie?ie.createHTML(e):e;if(tt===et)try{t=(new g).parseFromString(i,pe)}catch(e){}if(!t||!t.documentElement){t=se.createDocument(tt,"template",null);try{t.documentElement.innerHTML=nt?"":i}catch(e){}}var o=t.body||t.documentElement;return e&&n&&o.insertBefore(a.createTextNode(n),o.childNodes[0]||null),tt===et?ce.call(t,je?"html":"body")[0]:je?t.documentElement:o},vt=function(e){return le.call(e.ownerDocument||e,e,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT,null,!1)},bt=function(e){return e instanceof m&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof p)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)},wt=function(t){return"object"===e(u)?t instanceof u:t&&"object"===e(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},_t=function(e,t,n){fe[e]&&v(fe[e],(function(e){e.call(r,t,n,ot)}))},kt=function(e){var t;if(_t("beforeSanitizeElements",e,null),bt(e))return mt(e),!0;if(O(/[\u0080-\uFFFF]/,e.nodeName))return mt(e),!0;var n=me(e.nodeName);if(_t("uponSanitizeElement",e,{tagName:n,allowedTags:Se}),e.hasChildNodes()&&!wt(e.firstElementChild)&&(!wt(e.content)||!wt(e.content.firstElementChild))&&O(/<[/\w]/g,e.innerHTML)&&O(/<[/\w]/g,e.textContent))return mt(e),!0;if("select"===n&&O(/<template/i,e.innerHTML))return mt(e),!0;if(!Se[n]||Te[n]){if(!Te[n]&&Mt(n)){if(Ce.tagNameCheck instanceof RegExp&&O(Ce.tagNameCheck,n))return!1;if(Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(n))return!1}if(We&&!Ve[n]){var i=ne(e)||e.parentNode,o=te(e)||e.childNodes;if(o&&i)for(var a=o.length-1;a>=0;--a)i.insertBefore(Q(o[a],!0),ee(e))}return mt(e),!0}return e instanceof c&&!pt(e)?(mt(e),!0):"noscript"!==n&&"noembed"!==n||!O(/<\/no(script|embed)/i,e.innerHTML)?(Le&&3===e.nodeType&&(t=e.textContent,t=S(t,ge," "),t=S(t,ye," "),e.textContent!==t&&(w(r.removed,{element:e.cloneNode()}),e.textContent=t)),_t("afterSanitizeElements",e,null),!1):(mt(e),!0)},St=function(e,t,n){if(Ye&&("id"===t||"name"===t)&&(n in a||n in at))return!1;if(Ee&&!Re[t]&&O(ve,t));else if(De&&O(be,t));else if(!xe[t]||Re[t]){if(!(Mt(e)&&(Ce.tagNameCheck instanceof RegExp&&O(Ce.tagNameCheck,e)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(e))&&(Ce.attributeNameCheck instanceof RegExp&&O(Ce.attributeNameCheck,t)||Ce.attributeNameCheck instanceof Function&&Ce.attributeNameCheck(t))||"is"===t&&Ce.allowCustomizedBuiltInElements&&(Ce.tagNameCheck instanceof RegExp&&O(Ce.tagNameCheck,n)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(n))))return!1}else if(Ze[t]);else if(O(ke,S(n,_e,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==M(n,"data:")||!Ge[e])if(Ae&&!O(we,S(n,_e,"")));else if(n)return!1;return!0},Mt=function(e){return e.indexOf("-")>0},xt=function(t){var n,i,o,a;_t("beforeSanitizeAttributes",t,null);var s=t.attributes;if(s){var l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:xe};for(a=s.length;a--;){var u=n=s[a],c=u.name,d=u.namespaceURI;if(i="value"===c?n.value:x(n.value),o=me(c),l.attrName=o,l.attrValue=i,l.keepAttr=!0,l.forceKeepAttr=void 0,_t("uponSanitizeAttribute",t,l),i=l.attrValue,!l.forceKeepAttr&&(gt(c,t),l.keepAttr))if(O(/\/>/i,i))gt(c,t);else{Le&&(i=S(i,ge," "),i=S(i,ye," "));var h=me(t.nodeName);if(St(h,o,i)){if(!ze||"id"!==o&&"name"!==o||(gt(c,t),i=Be+i),ie&&"object"===e(y)&&"function"==typeof y.getAttributeType)if(d);else switch(y.getAttributeType(h,o)){case"TrustedHTML":i=ie.createHTML(i);break;case"TrustedScriptURL":i=ie.createScriptURL(i)}try{d?t.setAttributeNS(d,c,i):t.setAttribute(c,i),b(r.removed)}catch(e){}}}}_t("afterSanitizeAttributes",t,null)}},Ot=function e(t){var n,r=vt(t);for(_t("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)_t("uponSanitizeShadowNode",n,null),kt(n)||(n.content instanceof s&&e(n.content),xt(n));_t("afterSanitizeShadowDOM",t,null)};return r.sanitize=function(t){var i,a,l,c,d,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((nt=!t)&&(t="\x3c!--\x3e"),"string"!=typeof t&&!wt(t)){if("function"!=typeof t.toString)throw C("toString is not a function");if("string"!=typeof(t=t.toString()))throw C("dirty is not a string, aborting")}if(!r.isSupported){if("object"===e(n.toStaticHTML)||"function"==typeof n.toStaticHTML){if("string"==typeof t)return n.toStaticHTML(t);if(wt(t))return n.toStaticHTML(t.outerHTML)}return t}if(Pe||lt(h),r.removed=[],"string"==typeof t&&($e=!1),$e){if(t.nodeName){var f=me(t.nodeName);if(!Se[f]||Te[f])throw C("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof u)1===(a=(i=yt("\x3c!----\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?i=a:i.appendChild(a);else{if(!He&&!Le&&!je&&-1===t.indexOf("<"))return ie&&Fe?ie.createHTML(t):t;if(!(i=yt(t)))return He?null:Fe?oe:""}i&&Ie&&mt(i.firstChild);for(var p=vt($e?t:i);l=p.nextNode();)3===l.nodeType&&l===c||kt(l)||(l.content instanceof s&&Ot(l.content),xt(l),c=l);if(c=null,$e)return t;if(He){if(Ne)for(d=ue.call(i.ownerDocument);i.firstChild;)d.appendChild(i.firstChild);else d=i;return xe.shadowroot&&(d=de.call(o,d,!0)),d}var m=je?i.outerHTML:i.innerHTML;return je&&Se["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&O(Z,i.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+i.ownerDocument.doctype.name+">\n"+m),Le&&(m=S(m,ge," "),m=S(m,ye," ")),ie&&Fe?ie.createHTML(m):m},r.setConfig=function(e){lt(e),Pe=!0},r.clearConfig=function(){ot=null,Pe=!1},r.isValidAttribute=function(e,t,n){ot||lt({});var r=me(e),i=me(t);return St(r,i,n)},r.addHook=function(e,t){"function"==typeof t&&(fe[e]=fe[e]||[],w(fe[e],t))},r.removeHook=function(e){if(fe[e])return b(fe[e])},r.removeHooks=function(e){fe[e]&&(fe[e]=[])},r.removeAllHooks=function(){fe={}},r}()}()},70434:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(71275),i=n(45308),o=n(35428),a=n(41572),s=n(78479),l=(0,r.createTemplateFactory)({id:"yPeCfy0k",block:'[[[10,"main"],[14,1,"ember-welcome-page-id-selector"],[15,"data-ember-version",[29,[[30,0,["emberVersion"]]]]],[12],[1,"\\n  "],[10,0],[14,0,"columns"],[12],[1,"\\n    "],[10,0],[14,0,"tomster"],[12],[1,"\\n      "],[10,"img"],[15,"src",[29,[[30,0,["rootURL"]],"ember-welcome-page/images/construction.png"]]],[14,"alt","Under construction"],[12],[13],[1,"\\n    "],[13],[1,"\\n    "],[10,0],[14,0,"welcome"],[12],[1,"\\n      "],[10,"h1"],[14,1,"title"],[12],[1,"Congratulations, you made it!"],[13],[1,"\\n\\n      "],[10,2],[12],[1,"You’ve officially spun up your Ember app. You’ve got one more decision to make: what do you want to do next? We’d suggest one of the following to help you get going:"],[13],[1,"\\n      "],[10,"ul"],[12],[1,"\\n        "],[10,"li"],[12],[10,3],[15,6,[29,["https://guides.emberjs.com/",[52,[30,0,["isCurrent"]],"","v"],[30,0,["emberVersion"]],"/getting-started/quick-start/"]]],[12],[1,"Quick Start"],[13],[1," - a quick introduction to how Ember works. Learn about defining your first route, writing a UI component and deploying your application."],[13],[1,"\\n        "],[10,"li"],[12],[10,3],[15,6,[29,["https://guides.emberjs.com/",[52,[30,0,["isCurrent"]],"","v"],[30,0,["emberVersion"]],"/tutorial/ember-cli/"]]],[12],[1,"Ember Guides"],[13],[1," - this is our more thorough, hands-on intro to Ember. Your crash course in Ember philosophy, background and some in-depth discussion of how things work (and why they work the way they do)."],[13],[1,"\\n      "],[13],[1,"\\n      "],[10,2],[12],[1,"If you run into problems, please join "],[10,3],[14,6,"https://discord.gg/emberjs"],[12],[1,"our community\'s Discord server"],[13],[1," or visit "],[10,3],[14,6,"http://discuss.emberjs.com/"],[12],[1,"our forums"],[13],[1," for ideas and answers— our community is filled with friendly folks who are willing to help! We enjoy helping new Ember developers get started, and our "],[10,3],[14,6,"https://emberjs.com/community/"],[12],[1,"Ember Community"],[13],[1," is incredibly supportive."],[13],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n  "],[10,2],[14,0,"postscript"],[12],[1,"To remove this welcome message, remove the\\n    "],[10,"code"],[12],[1,"\\n      <WelcomePage />\\n    "],[13],[1,"\\n    component from your\\n    "],[10,"code"],[12],[1,"\\n      app/templates/application.hbs\\n    "],[13],[1,"\\n    file and save it...you\'ll see this page update soon after!\\n  "],[13],[1,"\\n"],[13],[1,"\\n\\n"]],[],false,["if"]]',moduleName:"ember-welcome-page/dist/components/welcome-page.js",isStrictMode:!1});class u extends s.Z{get isCurrent(){return!/^\d+\.\d+\.\d+$/.test(a.VERSION)}get rootURL(){let e=(0,o.getOwner)(this).factoryFor("config:environment");return e?e.class.rootURL:"/"}get emberVersion(){if(this.isCurrent)return"current";{let[e,t]=a.VERSION.split(".");return`${e}.${t}.0`}}}(0,i.setComponentTemplate)(l,u)},15232:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n}},74556:e=>{"use strict";e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n,r="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(n=t.cmp,function(e){return function(t,r){var i={key:t,value:e[t]},o={key:r,value:e[r]};return n(i,o)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var n,a;if(Array.isArray(t)){for(a="[",n=0;n<t.length;n++)n&&(a+=","),a+=e(t[n])||"null";return a+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=o.push(t)-1,l=Object.keys(t).sort(i&&i(t));for(a="",n=0;n<l.length;n++){var u=l[n],c=e(t[u]);c&&(a&&(a+=","),a+=JSON.stringify(u)+":"+c)}return o.splice(s,1),"{"+a+"}"}}(e)}},55449:(e,t,n)=>{var r=n(75029),i=n(47165),o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not a function")}},76668:(e,t,n)=>{var r=n(86595),i=n(47165),o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not a constructor")}},72920:(e,t,n)=>{var r=n(75029),i=String,o=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw o("Can't set "+i(e)+" as a prototype")}},51521:(e,t,n)=>{var r=n(44263),i=n(54333),o=n(84564).f,a=r("unscopables"),s=Array.prototype;null==s[a]&&o(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},11764:(e,t,n)=>{"use strict";var r=n(11461).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},41216:(e,t,n)=>{var r=n(65534),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw i("Incorrect invocation")}},16865:(e,t,n)=>{var r=n(28117),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not an object")}},20752:(e,t,n)=>{var r=n(4027);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},47278:(e,t,n)=>{"use strict";var r=n(49382),i=n(93609),o=n(6449);e.exports=function(e){for(var t=r(this),n=o(t),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,u=void 0===l?n:i(l,n);u>s;)t[s++]=e;return t}},67995:(e,t,n)=>{"use strict";var r=n(86864).forEach,i=n(19981)("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},46458:(e,t,n)=>{"use strict";var r=n(35538),i=n(27773),o=n(49382),a=n(63568),s=n(99945),l=n(86595),u=n(6449),c=n(42004),d=n(67517),h=n(1208),f=Array;e.exports=function(e){var t=o(e),n=l(this),p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m;g&&(m=r(m,p>2?arguments[2]:void 0));var y,v,b,w,_,k,S=h(t),M=0;if(!S||this===f&&s(S))for(y=u(t),v=n?new this(y):f(y);y>M;M++)k=g?m(t[M],M):t[M],c(v,M,k);else for(_=(w=d(t,S)).next,v=n?new this:[];!(b=i(_,w)).done;M++)k=g?a(w,m,[b.value,M],!0):b.value,c(v,M,k);return v.length=M,v}},15656:(e,t,n)=>{var r=n(89842),i=n(93609),o=n(6449),a=function(e){return function(t,n,a){var s,l=r(t),u=o(l),c=i(a,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},86864:(e,t,n)=>{var r=n(35538),i=n(92983),o=n(19676),a=n(49382),s=n(6449),l=n(95332),u=i([].push),c=function(e){var t=1==e,n=2==e,i=3==e,c=4==e,d=6==e,h=7==e,f=5==e||d;return function(p,m,g,y){for(var v,b,w=a(p),_=o(w),k=r(m,g),S=s(_),M=0,x=y||l,O=t?x(p,S):n||h?x(p,0):void 0;S>M;M++)if((f||M in _)&&(b=k(v=_[M],M,w),e))if(t)O[M]=b;else if(b)switch(e){case 3:return!0;case 5:return v;case 6:return M;case 2:u(O,v)}else switch(e){case 4:return!1;case 7:u(O,v)}return d?-1:i||c?c:O}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},60982:(e,t,n)=>{"use strict";var r=n(79583),i=n(89842),o=n(23555),a=n(6449),s=n(19981),l=Math.min,u=[].lastIndexOf,c=!!u&&1/[1].lastIndexOf(1,-0)<0,d=s("lastIndexOf"),h=c||!d;e.exports=h?function(e){if(c)return r(u,this,arguments)||0;var t=i(this),n=a(t),s=n-1;for(arguments.length>1&&(s=l(s,o(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:u},27321:(e,t,n)=>{var r=n(4027),i=n(44263),o=n(17477),a=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},19981:(e,t,n)=>{"use strict";var r=n(4027);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},4333:(e,t,n)=>{var r=n(55449),i=n(49382),o=n(19676),a=n(6449),s=TypeError,l=function(e){return function(t,n,l,u){r(n);var c=i(t),d=o(c),h=a(c),f=e?h-1:0,p=e?-1:1;if(l<2)for(;;){if(f in d){u=d[f],f+=p;break}if(f+=p,e?f<0:h<=f)throw s("Reduce of empty array with no initial value")}for(;e?f>=0:h>f;f+=p)f in d&&(u=n(u,d[f],f,c));return u}};e.exports={left:l(!1),right:l(!0)}},23974:(e,t,n)=>{"use strict";var r=n(84131),i=n(34290),o=TypeError,a=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(i(e)&&!a(e,"length").writable)throw o("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},54233:(e,t,n)=>{var r=n(93609),i=n(6449),o=n(42004),a=Array,s=Math.max;e.exports=function(e,t,n){for(var l=i(e),u=r(t,l),c=r(void 0===n?l:n,l),d=a(s(c-u,0)),h=0;u<c;u++,h++)o(d,h,e[u]);return d.length=h,d}},23069:(e,t,n)=>{var r=n(92983);e.exports=r([].slice)},94475:(e,t,n)=>{var r=n(54233),i=Math.floor,o=function(e,t){var n=e.length,l=i(n/2);return n<8?a(e,t):s(e,o(r(e,0,l),t),o(r(e,l),t),t)},a=function(e,t){for(var n,r,i=e.length,o=1;o<i;){for(r=o,n=e[o];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==o++&&(e[r]=n)}return e},s=function(e,t,n,r){for(var i=t.length,o=n.length,a=0,s=0;a<i||s<o;)e[a+s]=a<i&&s<o?r(t[a],n[s])<=0?t[a++]:n[s++]:a<i?t[a++]:n[s++];return e};e.exports=o},16666:(e,t,n)=>{var r=n(34290),i=n(86595),o=n(28117),a=n(44263)("species"),s=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,(i(t)&&(t===s||r(t.prototype))||o(t)&&null===(t=t[a]))&&(t=void 0)),void 0===t?s:t}},95332:(e,t,n)=>{var r=n(16666);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},63568:(e,t,n)=>{var r=n(16865),i=n(96250);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){i(e,"throw",t)}}},52881:(e,t,n)=>{var r=n(44263)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},17297:(e,t,n)=>{var r=n(2123),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},47834:(e,t,n)=>{var r=n(98700),i=n(75029),o=n(17297),a=n(44263)("toStringTag"),s=Object,l="Arguments"==o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=s(e),a))?n:l?o(t):"Object"==(r=o(t))&&i(t.callee)?"Arguments":r}},60344:(e,t,n)=>{"use strict";var r=n(84564).f,i=n(54333),o=n(23546),a=n(35538),s=n(41216),l=n(21798),u=n(42928),c=n(61739),d=n(9518),h=n(88652),f=n(84131),p=n(89065).fastKey,m=n(56525),g=m.set,y=m.getterFor;e.exports={getConstructor:function(e,t,n,c){var d=e((function(e,r){s(e,h),g(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),f||(e.size=0),l(r)||u(r,e[c],{that:e,AS_ENTRIES:n})})),h=d.prototype,m=y(t),v=function(e,t,n){var r,i,o=m(e),a=b(e,t);return a?a.value=n:(o.last=a={index:i=p(t,!0),key:t,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),f?o.size++:e.size++,"F"!==i&&(o.index[i]=a)),e},b=function(e,t){var n,r=m(e),i=p(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return o(h,{clear:function(){for(var e=m(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,f?e.size=0:this.size=0},delete:function(e){var t=this,n=m(t),r=b(t,e);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==r&&(n.first=i),n.last==r&&(n.last=o),f?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=m(this),r=a(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!b(this,e)}}),o(h,n?{get:function(e){var t=b(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),f&&r(h,"size",{get:function(){return m(this).size}}),d},setStrong:function(e,t,n){var r=t+" Iterator",i=y(t),o=y(r);c(e,t,(function(e,t){g(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?d("keys"==t?n.key:"values"==t?n.value:[n.key,n.value],!1):(e.target=void 0,d(void 0,!0))}),n?"entries":"values",!n,!0),h(t)}}},98815:(e,t,n)=>{"use strict";var r=n(92983),i=n(23546),o=n(89065).getWeakData,a=n(41216),s=n(16865),l=n(21798),u=n(28117),c=n(42928),d=n(86864),h=n(82870),f=n(56525),p=f.set,m=f.getterFor,g=d.find,y=d.findIndex,v=r([].splice),b=0,w=function(e){return e.frozen||(e.frozen=new _)},_=function(){this.entries=[]},k=function(e,t){return g(e.entries,(function(e){return e[0]===t}))};_.prototype={get:function(e){var t=k(this,e);if(t)return t[1]},has:function(e){return!!k(this,e)},set:function(e,t){var n=k(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=y(this.entries,(function(t){return t[0]===e}));return~t&&v(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,n,r){var d=e((function(e,i){a(e,f),p(e,{type:t,id:b++,frozen:void 0}),l(i)||c(i,e[r],{that:e,AS_ENTRIES:n})})),f=d.prototype,g=m(t),y=function(e,t,n){var r=g(e),i=o(s(t),!0);return!0===i?w(r).set(t,n):i[r.id]=n,e};return i(f,{delete:function(e){var t=g(this);if(!u(e))return!1;var n=o(e);return!0===n?w(t).delete(e):n&&h(n,t.id)&&delete n[t.id]},has:function(e){var t=g(this);if(!u(e))return!1;var n=o(e);return!0===n?w(t).has(e):n&&h(n,t.id)}}),i(f,n?{get:function(e){var t=g(this);if(u(e)){var n=o(e);return!0===n?w(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return y(this,e,t)}}:{add:function(e){return y(this,e,!0)}}),d}}},69799:(e,t,n)=>{"use strict";var r=n(20614),i=n(2164),o=n(92983),a=n(88001),s=n(11458),l=n(89065),u=n(42928),c=n(41216),d=n(75029),h=n(21798),f=n(28117),p=n(4027),m=n(52881),g=n(3633),y=n(81789);e.exports=function(e,t,n){var v=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),w=v?"set":"add",_=i[e],k=_&&_.prototype,S=_,M={},x=function(e){var t=o(k[e]);s(k,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(b&&!f(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return b&&!f(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(b&&!f(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(a(e,!d(_)||!(b||k.forEach&&!p((function(){(new _).entries().next()})))))S=n.getConstructor(t,e,v,w),l.enable();else if(a(e,!0)){var O=new S,C=O[w](b?{}:-0,1)!=O,T=p((function(){O.has(1)})),R=m((function(e){new _(e)})),D=!b&&p((function(){for(var e=new _,t=5;t--;)e[w](t,t);return!e.has(-0)}));R||((S=t((function(e,t){c(e,k);var n=y(new _,e,S);return h(t)||u(t,n[w],{that:n,AS_ENTRIES:v}),n}))).prototype=k,k.constructor=S),(T||D)&&(x("delete"),x("has"),v&&x("get")),(D||C)&&x(w),b&&k.clear&&delete k.clear}return M[e]=S,r({global:!0,constructor:!0,forced:S!=_},M),g(S,e),b||n.setStrong(S,e,v),S}},74539:(e,t,n)=>{var r=n(82870),i=n(85662),o=n(54179),a=n(84564);e.exports=function(e,t,n){for(var s=i(t),l=a.f,u=o.f,c=0;c<s.length;c++){var d=s[c];r(e,d)||n&&r(n,d)||l(e,d,u(t,d))}}},87801:(e,t,n)=>{var r=n(44263)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},78517:(e,t,n)=>{var r=n(4027);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},69052:(e,t,n)=>{var r=n(92983),i=n(72113),o=n(6042),a=/"/g,s=r("".replace);e.exports=function(e,t,n,r){var l=o(i(e)),u="<"+t;return""!==n&&(u+=" "+n+'="'+s(o(r),a,"&quot;")+'"'),u+">"+l+"</"+t+">"}},9518:e=>{e.exports=function(e,t){return{value:e,done:t}}},2431:(e,t,n)=>{var r=n(84131),i=n(84564),o=n(51268);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},51268:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},42004:(e,t,n)=>{"use strict";var r=n(93782),i=n(84564),o=n(51268);e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,o(0,n)):e[a]=n}},11458:(e,t,n)=>{var r=n(75029),i=n(84564),o=n(92079),a=n(36356);e.exports=function(e,t,n,s){s||(s={});var l=s.enumerable,u=void 0!==s.name?s.name:t;if(r(n)&&o(n,u,s),s.global)l?e[t]=n:a(t,n);else{try{s.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},23546:(e,t,n)=>{var r=n(11458);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},36356:(e,t,n)=>{var r=n(2164),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},95318:(e,t,n)=>{"use strict";var r=n(47165),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw i("Cannot delete property "+r(t)+" of "+r(e))}},84131:(e,t,n)=>{var r=n(4027);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},44129:e=>{var t="object"==typeof document&&document.all,n=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},8085:(e,t,n)=>{var r=n(2164),i=n(28117),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},34827:e=>{var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},6403:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},80111:(e,t,n)=>{var r=n(8085)("span").classList,i=r&&r.constructor&&r.constructor.prototype;e.exports=i===Object.prototype?void 0:i},7123:(e,t,n)=>{var r=n(83179).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},95061:(e,t,n)=>{var r=n(83179);e.exports=/MSIE|Trident/.test(r)},40995:(e,t,n)=>{var r=n(83179);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},69493:(e,t,n)=>{var r=n(17297),i=n(2164);e.exports="process"==r(i.process)},83179:(e,t,n)=>{var r=n(63047);e.exports=r("navigator","userAgent")||""},17477:(e,t,n)=>{var r,i,o=n(2164),a=n(83179),s=o.process,l=o.Deno,u=s&&s.versions||l&&l.version,c=u&&u.v8;c&&(i=(r=c.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},49944:(e,t,n)=>{var r=n(83179).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},3702:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},20614:(e,t,n)=>{var r=n(2164),i=n(54179).f,o=n(2431),a=n(11458),s=n(36356),l=n(74539),u=n(88001);e.exports=function(e,t){var n,c,d,h,f,p=e.target,m=e.global,g=e.stat;if(n=m?r:g?r[p]||s(p,{}):(r[p]||{}).prototype)for(c in t){if(h=t[c],d=e.dontCallGetSet?(f=i(n,c))&&f.value:n[c],!u(m?c:p+(g?".":"#")+c,e.forced)&&void 0!==d){if(typeof h==typeof d)continue;l(h,d)}(e.sham||d&&d.sham)&&o(h,"sham",!0),a(n,c,h,e)}}},4027:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},42001:(e,t,n)=>{"use strict";n(24937);var r=n(92983),i=n(11458),o=n(55679),a=n(4027),s=n(44263),l=n(2431),u=s("species"),c=RegExp.prototype;e.exports=function(e,t,n,d){var h=s(e),f=!a((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),p=f&&!a((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return t=!0,null},n[h](""),!t}));if(!f||!p||n){var m=r(/./[h]),g=t(h,""[e],(function(e,t,n,i,a){var s=r(e),l=t.exec;return l===o||l===c.exec?f&&!a?{done:!0,value:m(t,n,i)}:{done:!0,value:s(n,t,i)}:{done:!1}}));i(String.prototype,e,g[0]),i(c,h,g[1])}d&&l(c[h],"sham",!0)}},58096:(e,t,n)=>{var r=n(4027);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},79583:(e,t,n)=>{var r=n(52586),i=Function.prototype,o=i.apply,a=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},35538:(e,t,n)=>{var r=n(92983),i=n(55449),o=n(52586),a=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?a(e,t):function(){return e.apply(t,arguments)}}},52586:(e,t,n)=>{var r=n(4027);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},62414:(e,t,n)=>{"use strict";var r=n(92983),i=n(55449),o=n(28117),a=n(82870),s=n(23069),l=n(52586),u=Function,c=r([].concat),d=r([].join),h={},f=function(e,t,n){if(!a(h,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";h[t]=u("C,a","return new C("+d(r,",")+")")}return h[t](e,n)};e.exports=l?u.bind:function(e){var t=i(this),n=t.prototype,r=s(arguments,1),a=function(){var n=c(r,s(arguments));return this instanceof a?f(t,n.length,n):t.apply(e,n)};return o(n)&&(a.prototype=n),a}},27773:(e,t,n)=>{var r=n(52586),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},37410:(e,t,n)=>{var r=n(84131),i=n(82870),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),l=s&&"something"===function(){}.name,u=s&&(!r||r&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:u}},2123:(e,t,n)=>{var r=n(52586),i=Function.prototype,o=i.call,a=r&&i.bind.bind(o,o);e.exports=function(e){return r?a(e):function(){return o.apply(e,arguments)}}},92983:(e,t,n)=>{var r=n(17297),i=n(2123);e.exports=function(e){if("Function"===r(e))return i(e)}},63047:(e,t,n)=>{var r=n(2164),i=n(75029),o=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e]):r[e]&&r[e][t]}},1208:(e,t,n)=>{var r=n(47834),i=n(41048),o=n(21798),a=n(60624),s=n(44263)("iterator");e.exports=function(e){if(!o(e))return i(e,s)||i(e,"@@iterator")||a[r(e)]}},67517:(e,t,n)=>{var r=n(27773),i=n(55449),o=n(16865),a=n(47165),s=n(1208),l=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(i(n))return o(r(n,e));throw l(a(e)+" is not iterable")}},41048:(e,t,n)=>{var r=n(55449),i=n(21798);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},99629:(e,t,n)=>{var r=n(92983),i=n(49382),o=Math.floor,a=r("".charAt),s=r("".replace),l=r("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,d,h){var f=n+e.length,p=r.length,m=c;return void 0!==d&&(d=i(d),m=u),s(h,m,(function(i,s){var u;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,n);case"'":return l(t,f);case"<":u=d[l(s,1,-1)];break;default:var c=+s;if(0===c)return i;if(c>p){var h=o(c/10);return 0===h?i:h<=p?void 0===r[h-1]?a(s,1):r[h-1]+a(s,1):i}u=r[c-1]}return void 0===u?"":u}))}},2164:e=>{var t=function(e){return e&&e.Math==Math&&e};e.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof global&&global)||function(){return this}()||Function("return this")()},82870:(e,t,n)=>{var r=n(92983),i=n(49382),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},70511:e=>{e.exports={}},87220:(e,t,n)=>{var r=n(63047);e.exports=r("document","documentElement")},77494:(e,t,n)=>{var r=n(84131),i=n(4027),o=n(8085);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},19676:(e,t,n)=>{var r=n(92983),i=n(4027),o=n(17297),a=Object,s=r("".split);e.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?s(e,""):a(e)}:a},81789:(e,t,n)=>{var r=n(75029),i=n(28117),o=n(18232);e.exports=function(e,t,n){var a,s;return o&&r(a=t.constructor)&&a!==n&&i(s=a.prototype)&&s!==n.prototype&&o(e,s),e}},18523:(e,t,n)=>{var r=n(92983),i=n(75029),o=n(98386),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},89065:(e,t,n)=>{var r=n(20614),i=n(92983),o=n(70511),a=n(28117),s=n(82870),l=n(84564).f,u=n(79571),c=n(47922),d=n(7859),h=n(40708),f=n(58096),p=!1,m=h("meta"),g=0,y=function(e){l(e,m,{value:{objectID:"O"+g++,weakData:{}}})},v=e.exports={enable:function(){v.enable=function(){},p=!0;var e=u.f,t=i([].splice),n={};n[m]=1,e(n).length&&(u.f=function(n){for(var r=e(n),i=0,o=r.length;i<o;i++)if(r[i]===m){t(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:c.f}))},fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,m)){if(!d(e))return"F";if(!t)return"E";y(e)}return e[m].objectID},getWeakData:function(e,t){if(!s(e,m)){if(!d(e))return!0;if(!t)return!1;y(e)}return e[m].weakData},onFreeze:function(e){return f&&p&&d(e)&&!s(e,m)&&y(e),e}};o[m]=!0},56525:(e,t,n)=>{var r,i,o,a=n(6399),s=n(2164),l=n(28117),u=n(2431),c=n(82870),d=n(98386),h=n(92187),f=n(70511),p="Object already initialized",m=s.TypeError,g=s.WeakMap;if(a||d.state){var y=d.state||(d.state=new g);y.get=y.get,y.has=y.has,y.set=y.set,r=function(e,t){if(y.has(e))throw m(p);return t.facade=e,y.set(e,t),t},i=function(e){return y.get(e)||{}},o=function(e){return y.has(e)}}else{var v=h("state");f[v]=!0,r=function(e,t){if(c(e,v))throw m(p);return t.facade=e,u(e,v,t),t},i=function(e){return c(e,v)?e[v]:{}},o=function(e){return c(e,v)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return n}}}},99945:(e,t,n)=>{var r=n(44263),i=n(60624),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},34290:(e,t,n)=>{var r=n(17297);e.exports=Array.isArray||function(e){return"Array"==r(e)}},75029:(e,t,n)=>{var r=n(44129),i=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},86595:(e,t,n)=>{var r=n(92983),i=n(4027),o=n(75029),a=n(47834),s=n(63047),l=n(18523),u=function(){},c=[],d=s("Reflect","construct"),h=/^\s*(?:class|function)\b/,f=r(h.exec),p=!h.exec(u),m=function(e){if(!o(e))return!1;try{return d(u,c,e),!0}catch(e){return!1}},g=function(e){if(!o(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!f(h,l(e))}catch(e){return!0}};g.sham=!0,e.exports=!d||i((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?g:m},39158:(e,t,n)=>{var r=n(82870);e.exports=function(e){return void 0!==e&&(r(e,"value")||r(e,"writable"))}},88001:(e,t,n)=>{var r=n(4027),i=n(75029),o=/#|\.prototype\./,a=function(e,t){var n=l[s(e)];return n==c||n!=u&&(i(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=a.data={},u=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},24336:(e,t,n)=>{var r=n(28117),i=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&i(e)===e}},21798:e=>{e.exports=function(e){return null==e}},28117:(e,t,n)=>{var r=n(75029),i=n(44129),o=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===o}:function(e){return"object"==typeof e?null!==e:r(e)}},80590:e=>{e.exports=!1},71602:(e,t,n)=>{var r=n(28117),i=n(17297),o=n(44263)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},78491:(e,t,n)=>{var r=n(63047),i=n(75029),o=n(65534),a=n(41681),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&o(t.prototype,s(e))}},42928:(e,t,n)=>{var r=n(35538),i=n(27773),o=n(16865),a=n(47165),s=n(99945),l=n(6449),u=n(65534),c=n(67517),d=n(1208),h=n(96250),f=TypeError,p=function(e,t){this.stopped=e,this.result=t},m=p.prototype;e.exports=function(e,t,n){var g,y,v,b,w,_,k,S=n&&n.that,M=!(!n||!n.AS_ENTRIES),x=!(!n||!n.IS_RECORD),O=!(!n||!n.IS_ITERATOR),C=!(!n||!n.INTERRUPTED),T=r(t,S),R=function(e){return g&&h(g,"normal",e),new p(!0,e)},D=function(e){return M?(o(e),C?T(e[0],e[1],R):T(e[0],e[1])):C?T(e,R):T(e)};if(x)g=e.iterator;else if(O)g=e;else{if(!(y=d(e)))throw f(a(e)+" is not iterable");if(s(y)){for(v=0,b=l(e);b>v;v++)if((w=D(e[v]))&&u(m,w))return w;return new p(!1)}g=c(e,y)}for(_=x?e.next:g.next;!(k=i(_,g)).done;){try{w=D(k.value)}catch(e){h(g,"throw",e)}if("object"==typeof w&&w&&u(m,w))return w}return new p(!1)}},96250:(e,t,n)=>{var r=n(27773),i=n(16865),o=n(41048);e.exports=function(e,t,n){var a,s;i(e);try{if(!(a=o(e,"return"))){if("throw"===t)throw n;return n}a=r(a,e)}catch(e){s=!0,a=e}if("throw"===t)throw n;if(s)throw a;return i(a),n}},17760:(e,t,n)=>{"use strict";var r=n(36737).IteratorPrototype,i=n(54333),o=n(51268),a=n(3633),s=n(60624),l=function(){return this};e.exports=function(e,t,n,u){var c=t+" Iterator";return e.prototype=i(r,{next:o(+!u,n)}),a(e,c,!1,!0),s[c]=l,e}},61739:(e,t,n)=>{"use strict";var r=n(20614),i=n(27773),o=n(80590),a=n(37410),s=n(75029),l=n(17760),u=n(29511),c=n(18232),d=n(3633),h=n(2431),f=n(11458),p=n(44263),m=n(60624),g=n(36737),y=a.PROPER,v=a.CONFIGURABLE,b=g.IteratorPrototype,w=g.BUGGY_SAFARI_ITERATORS,_=p("iterator"),k="keys",S="values",M="entries",x=function(){return this};e.exports=function(e,t,n,a,p,g,O){l(n,t,a);var C,T,R,D=function(e){if(e===p&&P)return P;if(!w&&e in L)return L[e];switch(e){case k:case S:case M:return function(){return new n(this,e)}}return function(){return new n(this)}},E=t+" Iterator",A=!1,L=e.prototype,j=L[_]||L["@@iterator"]||p&&L[p],P=!w&&j||D(p),I="Array"==t&&L.entries||j;if(I&&(C=u(I.call(new e)))!==Object.prototype&&C.next&&(o||u(C)===b||(c?c(C,b):s(C[_])||f(C,_,x)),d(C,E,!0,!0),o&&(m[E]=x)),y&&p==S&&j&&j.name!==S&&(!o&&v?h(L,"name",S):(A=!0,P=function(){return i(j,this)})),p)if(T={values:D(S),keys:g?P:D(k),entries:D(M)},O)for(R in T)(w||A||!(R in L))&&f(L,R,T[R]);else r({target:t,proto:!0,forced:w||A},T);return o&&!O||L[_]===P||f(L,_,P,{name:p}),m[t]=P,T}},36737:(e,t,n)=>{"use strict";var r,i,o,a=n(4027),s=n(75029),l=n(28117),u=n(54333),c=n(29511),d=n(11458),h=n(44263),f=n(80590),p=h("iterator"),m=!1;[].keys&&("next"in(o=[].keys())?(i=c(c(o)))!==Object.prototype&&(r=i):m=!0),!l(r)||a((function(){var e={};return r[p].call(e)!==e}))?r={}:f&&(r=u(r)),s(r[p])||d(r,p,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:m}},60624:e=>{e.exports={}},6449:(e,t,n)=>{var r=n(93765);e.exports=function(e){return r(e.length)}},92079:(e,t,n)=>{var r=n(4027),i=n(75029),o=n(82870),a=n(84131),s=n(37410).CONFIGURABLE,l=n(18523),u=n(56525),c=u.enforce,d=u.get,h=Object.defineProperty,f=a&&!r((function(){return 8!==h((function(){}),"length",{value:8}).length})),p=String(String).split("String"),m=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!o(e,"name")||s&&e.name!==t)&&(a?h(e,"name",{value:t,configurable:!0}):e.name=t),f&&n&&o(n,"arity")&&e.length!==n.arity&&h(e,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?a&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=c(e);return o(r,"source")||(r.source=p.join("string"==typeof t?t:"")),e};Function.prototype.toString=m((function(){return i(this)&&d(this).source||l(this)}),"toString")},86324:e=>{var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},1891:(e,t,n)=>{var r=n(71602),i=TypeError;e.exports=function(e){if(r(e))throw i("The method doesn't accept regular expressions");return e}},88383:(e,t,n)=>{"use strict";var r=n(84131),i=n(92983),o=n(27773),a=n(4027),s=n(4520),l=n(48450),u=n(74869),c=n(49382),d=n(19676),h=Object.assign,f=Object.defineProperty,p=i([].concat);e.exports=!h||a((function(){if(r&&1!==h({b:1},h(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=h({},e)[n]||s(h({},t)).join("")!=i}))?function(e,t){for(var n=c(e),i=arguments.length,a=1,h=l.f,f=u.f;i>a;)for(var m,g=d(arguments[a++]),y=h?p(s(g),h(g)):s(g),v=y.length,b=0;v>b;)m=y[b++],r&&!o(f,g,m)||(n[m]=g[m]);return n}:h},54333:(e,t,n)=>{var r,i=n(16865),o=n(18793),a=n(3702),s=n(70511),l=n(87220),u=n(8085),c=n(92187)("IE_PROTO"),d=function(){},h=function(e){return"<script>"+e+"<\/script>"},f=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},p=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t;p="undefined"!=typeof document?document.domain&&r?f(r):((t=u("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F):f(r);for(var n=a.length;n--;)delete p.prototype[a[n]];return p()};s[c]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=i(e),n=new d,d.prototype=null,n[c]=e):n=p(),void 0===t?n:o.f(n,t)}},18793:(e,t,n)=>{var r=n(84131),i=n(63072),o=n(84564),a=n(16865),s=n(89842),l=n(4520);t.f=r&&!i?Object.defineProperties:function(e,t){a(e);for(var n,r=s(t),i=l(t),u=i.length,c=0;u>c;)o.f(e,n=i[c++],r[n]);return e}},84564:(e,t,n)=>{var r=n(84131),i=n(77494),o=n(63072),a=n(16865),s=n(93782),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor;t.f=r?o?function(e,t,n){if(a(e),t=s(t),a(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var r=c(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(a(e),t=s(t),a(n),i)try{return u(e,t,n)}catch(e){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},54179:(e,t,n)=>{var r=n(84131),i=n(27773),o=n(74869),a=n(51268),s=n(89842),l=n(93782),u=n(82870),c=n(77494),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=l(t),c)try{return d(e,t)}catch(e){}if(u(e,t))return a(!i(o.f,e,t),e[t])}},47922:(e,t,n)=>{var r=n(17297),i=n(89842),o=n(79571).f,a=n(54233),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==r(e)?function(e){try{return o(e)}catch(e){return a(s)}}(e):o(i(e))}},79571:(e,t,n)=>{var r=n(23116),i=n(3702).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},48450:(e,t)=>{t.f=Object.getOwnPropertySymbols},29511:(e,t,n)=>{var r=n(82870),i=n(75029),o=n(49382),a=n(92187),s=n(78517),l=a("IE_PROTO"),u=Object,c=u.prototype;e.exports=s?u.getPrototypeOf:function(e){var t=o(e);if(r(t,l))return t[l];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof u?c:null}},7859:(e,t,n)=>{var r=n(4027),i=n(28117),o=n(17297),a=n(20752),s=Object.isExtensible,l=r((function(){s(1)}));e.exports=l||a?function(e){return!!i(e)&&(!a||"ArrayBuffer"!=o(e))&&(!s||s(e))}:s},65534:(e,t,n)=>{var r=n(92983);e.exports=r({}.isPrototypeOf)},23116:(e,t,n)=>{var r=n(92983),i=n(82870),o=n(89842),a=n(15656).indexOf,s=n(70511),l=r([].push);e.exports=function(e,t){var n,r=o(e),u=0,c=[];for(n in r)!i(s,n)&&i(r,n)&&l(c,n);for(;t.length>u;)i(r,n=t[u++])&&(~a(c,n)||l(c,n));return c}},4520:(e,t,n)=>{var r=n(23116),i=n(3702);e.exports=Object.keys||function(e){return r(e,i)}},74869:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},18232:(e,t,n)=>{var r=n(92983),i=n(16865),o=n(72920);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return i(n),o(r),t?e(n,r):n.__proto__=r,n}}():void 0)},33903:(e,t,n)=>{var r=n(84131),i=n(92983),o=n(4520),a=n(89842),s=i(n(74869).f),l=i([].push),u=function(e){return function(t){for(var n,i=a(t),u=o(i),c=u.length,d=0,h=[];c>d;)n=u[d++],r&&!s(i,n)||l(h,e?[n,i[n]]:i[n]);return h}};e.exports={entries:u(!0),values:u(!1)}},19806:(e,t,n)=>{"use strict";var r=n(98700),i=n(47834);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},16933:(e,t,n)=>{var r=n(27773),i=n(75029),o=n(28117),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&i(n=e.toString)&&!o(s=r(n,e)))return s;if(i(n=e.valueOf)&&!o(s=r(n,e)))return s;if("string"!==t&&i(n=e.toString)&&!o(s=r(n,e)))return s;throw a("Can't convert object to primitive value")}},85662:(e,t,n)=>{var r=n(63047),i=n(92983),o=n(79571),a=n(48450),s=n(16865),l=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=a.f;return n?l(t,n(e)):t}},2920:(e,t,n)=>{var r=n(2164);e.exports=r},85843:(e,t,n)=>{var r=n(84564).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},25908:(e,t,n)=>{var r=n(27773),i=n(16865),o=n(75029),a=n(17297),s=n(55679),l=TypeError;e.exports=function(e,t){var n=e.exec;if(o(n)){var u=r(n,e,t);return null!==u&&i(u),u}if("RegExp"===a(e))return r(s,e,t);throw l("RegExp#exec called on incompatible receiver")}},55679:(e,t,n)=>{"use strict";var r,i,o=n(27773),a=n(92983),s=n(6042),l=n(40130),u=n(17239),c=n(60901),d=n(54333),h=n(56525).get,f=n(17624),p=n(76564),m=c("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,y=g,v=a("".charAt),b=a("".indexOf),w=a("".replace),_=a("".slice),k=(i=/b*/g,o(g,r=/a/,"a"),o(g,i,"a"),0!==r.lastIndex||0!==i.lastIndex),S=u.BROKEN_CARET,M=void 0!==/()??/.exec("")[1];(k||M||S||f||p)&&(y=function(e){var t,n,r,i,a,u,c,f=this,p=h(f),x=s(e),O=p.raw;if(O)return O.lastIndex=f.lastIndex,t=o(y,O,x),f.lastIndex=O.lastIndex,t;var C=p.groups,T=S&&f.sticky,R=o(l,f),D=f.source,E=0,A=x;if(T&&(R=w(R,"y",""),-1===b(R,"g")&&(R+="g"),A=_(x,f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==v(x,f.lastIndex-1))&&(D="(?: "+D+")",A=" "+A,E++),n=new RegExp("^(?:"+D+")",R)),M&&(n=new RegExp("^"+D+"$(?!\\s)",R)),k&&(r=f.lastIndex),i=o(g,T?n:f,A),T?i?(i.input=_(i.input,E),i[0]=_(i[0],E),i.index=f.lastIndex,f.lastIndex+=i[0].length):f.lastIndex=0:k&&i&&(f.lastIndex=f.global?i.index+i[0].length:r),M&&i&&i.length>1&&o(m,i[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&C)for(i.groups=u=d(null),a=0;a<C.length;a++)u[(c=C[a])[0]]=i[c[1]];return i}),e.exports=y},40130:(e,t,n)=>{"use strict";var r=n(16865);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},61667:(e,t,n)=>{var r=n(27773),i=n(82870),o=n(65534),a=n(40130),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||i(e,"flags")||!o(s,e)?t:r(a,e)}},17239:(e,t,n)=>{var r=n(4027),i=n(2164).RegExp,o=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=o||r((function(){return!i("a","y").sticky})),s=o||r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:o}},17624:(e,t,n)=>{var r=n(4027),i=n(2164).RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},76564:(e,t,n)=>{var r=n(4027),i=n(2164).RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},72113:(e,t,n)=>{var r=n(21798),i=TypeError;e.exports=function(e){if(r(e))throw i("Can't call method on "+e);return e}},85267:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},68629:(e,t,n)=>{var r=n(2164),i=n(79583),o=n(75029),a=n(83179),s=n(23069),l=n(84553),u=/MSIE .\./.test(a),c=r.Function,d=function(e){return u?function(t,n){var r=l(arguments.length,1)>2,a=o(t)?t:c(t),u=r?s(arguments,2):void 0;return e(r?function(){i(a,this,u)}:a,n)}:e};e.exports={setTimeout:d(r.setTimeout),setInterval:d(r.setInterval)}},88652:(e,t,n)=>{"use strict";var r=n(63047),i=n(84564),o=n(44263),a=n(84131),s=o("species");e.exports=function(e){var t=r(e),n=i.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},3633:(e,t,n)=>{var r=n(84564).f,i=n(82870),o=n(44263)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,o)&&r(e,o,{configurable:!0,value:t})}},92187:(e,t,n)=>{var r=n(60901),i=n(40708),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},98386:(e,t,n)=>{var r=n(2164),i=n(36356),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},60901:(e,t,n)=>{var r=n(80590),i=n(98386);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.25.5",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",source:"https://github.com/zloirock/core-js"})},45920:(e,t,n)=>{var r=n(16865),i=n(76668),o=n(21798),a=n(44263)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||o(n=r(s)[a])?t:i(n)}},70668:(e,t,n)=>{var r=n(4027);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},11461:(e,t,n)=>{var r=n(92983),i=n(23555),o=n(6042),a=n(72113),s=r("".charAt),l=r("".charCodeAt),u=r("".slice),c=function(e){return function(t,n){var r,c,d=o(a(t)),h=i(n),f=d.length;return h<0||h>=f?e?"":void 0:(r=l(d,h))<55296||r>56319||h+1===f||(c=l(d,h+1))<56320||c>57343?e?s(d,h):r:e?u(d,h,h+2):c-56320+(r-55296<<10)+65536}};e.exports={codeAt:c(!1),charAt:c(!0)}},7295:(e,t,n)=>{var r=n(83179);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},32372:(e,t,n)=>{var r=n(92983),i=n(93765),o=n(6042),a=n(93527),s=n(72113),l=r(a),u=r("".slice),c=Math.ceil,d=function(e){return function(t,n,r){var a,d,h=o(s(t)),f=i(n),p=h.length,m=void 0===r?" ":o(r);return f<=p||""==m?h:((d=l(m,c((a=f-p)/m.length))).length>a&&(d=u(d,0,a)),e?h+d:d+h)}};e.exports={start:d(!1),end:d(!0)}},93527:(e,t,n)=>{"use strict";var r=n(23555),i=n(6042),o=n(72113),a=RangeError;e.exports=function(e){var t=i(o(this)),n="",s=r(e);if(s<0||s==1/0)throw a("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(n+=t);return n}},13107:(e,t,n)=>{var r=n(37410).PROPER,i=n(4027),o=n(12856);e.exports=function(e){return i((function(){return!!o[e]()||"​᠎"!=="​᠎"[e]()||r&&o[e].name!==e}))}},66626:(e,t,n)=>{var r=n(92983),i=n(72113),o=n(6042),a=n(12856),s=r("".replace),l="["+a+"]",u=RegExp("^"+l+l+"*"),c=RegExp(l+l+"*$"),d=function(e){return function(t){var n=o(i(t));return 1&e&&(n=s(n,u,"")),2&e&&(n=s(n,c,"")),n}};e.exports={start:d(1),end:d(2),trim:d(3)}},10292:(e,t,n)=>{var r=n(17477),i=n(4027);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},26233:(e,t,n)=>{var r=n(27773),i=n(63047),o=n(44263),a=n(11458);e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,s=o("toPrimitive");t&&!t[s]&&a(t,s,(function(e){return r(n,this)}),{arity:1})}},71657:(e,t,n)=>{var r=n(10292);e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},65322:(e,t,n)=>{var r,i,o,a,s=n(2164),l=n(79583),u=n(35538),c=n(75029),d=n(82870),h=n(4027),f=n(87220),p=n(23069),m=n(8085),g=n(84553),y=n(40995),v=n(69493),b=s.setImmediate,w=s.clearImmediate,_=s.process,k=s.Dispatch,S=s.Function,M=s.MessageChannel,x=s.String,O=0,C={};try{r=s.location}catch(e){}var T=function(e){if(d(C,e)){var t=C[e];delete C[e],t()}},R=function(e){return function(){T(e)}},D=function(e){T(e.data)},E=function(e){s.postMessage(x(e),r.protocol+"//"+r.host)};b&&w||(b=function(e){g(arguments.length,1);var t=c(e)?e:S(e),n=p(arguments,1);return C[++O]=function(){l(t,void 0,n)},i(O),O},w=function(e){delete C[e]},v?i=function(e){_.nextTick(R(e))}:k&&k.now?i=function(e){k.now(R(e))}:M&&!y?(a=(o=new M).port2,o.port1.onmessage=D,i=u(a.postMessage,a)):s.addEventListener&&c(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!h(E)?(i=E,s.addEventListener("message",D,!1)):i="onreadystatechange"in m("script")?function(e){f.appendChild(m("script")).onreadystatechange=function(){f.removeChild(this),T(e)}}:function(e){setTimeout(R(e),0)}),e.exports={set:b,clear:w}},27212:(e,t,n)=>{var r=n(92983);e.exports=r(1..valueOf)},93609:(e,t,n)=>{var r=n(23555),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},89842:(e,t,n)=>{var r=n(19676),i=n(72113);e.exports=function(e){return r(i(e))}},23555:(e,t,n)=>{var r=n(86324);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},93765:(e,t,n)=>{var r=n(23555),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},49382:(e,t,n)=>{var r=n(72113),i=Object;e.exports=function(e){return i(r(e))}},6437:(e,t,n)=>{var r=n(27773),i=n(28117),o=n(78491),a=n(41048),s=n(16933),l=n(44263),u=TypeError,c=l("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n,l=a(e,c);if(l){if(void 0===t&&(t="default"),n=r(l,e,t),!i(n)||o(n))return n;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},93782:(e,t,n)=>{var r=n(6437),i=n(78491);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},98700:(e,t,n)=>{var r={};r[n(44263)("toStringTag")]="z",e.exports="[object z]"===String(r)},6042:(e,t,n)=>{var r=n(47834),i=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},47165:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},40708:(e,t,n)=>{var r=n(92983),i=0,o=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},41681:(e,t,n)=>{var r=n(10292);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},63072:(e,t,n)=>{var r=n(84131),i=n(4027);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},84553:e=>{var t=TypeError;e.exports=function(e,n){if(e<n)throw t("Not enough arguments");return e}},6399:(e,t,n)=>{var r=n(2164),i=n(75029),o=r.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},58243:(e,t,n)=>{var r=n(2920),i=n(82870),o=n(86699),a=n(84564).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},86699:(e,t,n)=>{var r=n(44263);t.f=r},44263:(e,t,n)=>{var r=n(2164),i=n(60901),o=n(82870),a=n(40708),s=n(10292),l=n(41681),u=i("wks"),c=r.Symbol,d=c&&c.for,h=l?c:c&&c.withoutSetter||a;e.exports=function(e){if(!o(u,e)||!s&&"string"!=typeof u[e]){var t="Symbol."+e;s&&o(c,e)?u[e]=c[e]:u[e]=l&&d?d(t):h(t)}return u[e]}},12856:e=>{e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},23074:(e,t,n)=>{"use strict";var r=n(20614),i=n(4027),o=n(34290),a=n(28117),s=n(49382),l=n(6449),u=n(34827),c=n(42004),d=n(95332),h=n(27321),f=n(44263),p=n(17477),m=f("isConcatSpreadable"),g=p>=51||!i((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),y=h("concat"),v=function(e){if(!a(e))return!1;var t=e[m];return void 0!==t?!!t:o(e)};r({target:"Array",proto:!0,arity:1,forced:!g||!y},{concat:function(e){var t,n,r,i,o,a=s(this),h=d(a,0),f=0;for(t=-1,r=arguments.length;t<r;t++)if(v(o=-1===t?a:arguments[t]))for(i=l(o),u(f+i),n=0;n<i;n++,f++)n in o&&c(h,f,o[n]);else u(f+1),c(h,f++,o);return h.length=f,h}})},53548:(e,t,n)=>{var r=n(20614),i=n(47278),o=n(51521);r({target:"Array",proto:!0},{fill:i}),o("fill")},77209:(e,t,n)=>{"use strict";var r=n(20614),i=n(86864).filter;r({target:"Array",proto:!0,forced:!n(27321)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},76198:(e,t,n)=>{"use strict";var r=n(20614),i=n(86864).findIndex,o=n(51521),a="findIndex",s=!0;a in[]&&Array(1).findIndex((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(a)},73732:(e,t,n)=>{"use strict";var r=n(20614),i=n(86864).find,o=n(51521),a="find",s=!0;a in[]&&Array(1).find((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(a)},65086:(e,t,n)=>{var r=n(20614),i=n(46458);r({target:"Array",stat:!0,forced:!n(52881)((function(e){Array.from(e)}))},{from:i})},49229:(e,t,n)=>{"use strict";var r=n(20614),i=n(15656).includes,o=n(4027),a=n(51521);r({target:"Array",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},80010:(e,t,n)=>{"use strict";var r=n(20614),i=n(92983),o=n(15656).indexOf,a=n(19981),s=i([].indexOf),l=!!s&&1/s([1],1,-0)<0,u=a("indexOf");r({target:"Array",proto:!0,forced:l||!u},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return l?s(this,e,t)||0:o(this,e,t)}})},84593:(e,t,n)=>{"use strict";var r=n(89842),i=n(51521),o=n(60624),a=n(56525),s=n(84564).f,l=n(61739),u=n(9518),c=n(80590),d=n(84131),h="Array Iterator",f=a.set,p=a.getterFor(h);e.exports=l(Array,"Array",(function(e,t){f(this,{type:h,target:r(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,u(void 0,!0)):u("keys"==n?r:"values"==n?t[r]:[r,t[r]],!1)}),"values");var m=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!c&&d&&"values"!==m.name)try{s(m,"name",{value:"values"})}catch(e){}},41410:(e,t,n)=>{"use strict";var r=n(20614),i=n(92983),o=n(19676),a=n(89842),s=n(19981),l=i([].join),u=o!=Object,c=s("join",",");r({target:"Array",proto:!0,forced:u||!c},{join:function(e){return l(a(this),void 0===e?",":e)}})},22569:(e,t,n)=>{var r=n(20614),i=n(60982);r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},45826:(e,t,n)=>{"use strict";var r=n(20614),i=n(86864).map;r({target:"Array",proto:!0,forced:!n(27321)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},22579:(e,t,n)=>{"use strict";var r=n(20614),i=n(4333).left,o=n(19981),a=n(17477),s=n(69493);r({target:"Array",proto:!0,forced:!o("reduce")||!s&&a>79&&a<83},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},66240:(e,t,n)=>{"use strict";var r=n(20614),i=n(92983),o=n(34290),a=i([].reverse),s=[1,2];r({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),a(this)}})},66091:(e,t,n)=>{"use strict";var r=n(20614),i=n(34290),o=n(86595),a=n(28117),s=n(93609),l=n(6449),u=n(89842),c=n(42004),d=n(44263),h=n(27321),f=n(23069),p=h("slice"),m=d("species"),g=Array,y=Math.max;r({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var n,r,d,h=u(this),p=l(h),v=s(e,p),b=s(void 0===t?p:t,p);if(i(h)&&(n=h.constructor,(o(n)&&(n===g||i(n.prototype))||a(n)&&null===(n=n[m]))&&(n=void 0),n===g||void 0===n))return f(h,v,b);for(r=new(void 0===n?g:n)(y(b-v,0)),d=0;v<b;v++,d++)v in h&&c(r,d,h[v]);return r.length=d,r}})},16228:(e,t,n)=>{"use strict";var r=n(20614),i=n(92983),o=n(55449),a=n(49382),s=n(6449),l=n(95318),u=n(6042),c=n(4027),d=n(94475),h=n(19981),f=n(7123),p=n(95061),m=n(17477),g=n(49944),y=[],v=i(y.sort),b=i(y.push),w=c((function(){y.sort(void 0)})),_=c((function(){y.sort(null)})),k=h("sort"),S=!c((function(){if(m)return m<70;if(!(f&&f>3)){if(p)return!0;if(g)return g<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)y.push({k:t+r,v:n})}for(y.sort((function(e,t){return t.v-e.v})),r=0;r<y.length;r++)t=y[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:w||!_||!k||!S},{sort:function(e){void 0!==e&&o(e);var t=a(this);if(S)return void 0===e?v(t):v(t,e);var n,r,i=[],c=s(t);for(r=0;r<c;r++)r in t&&b(i,t[r]);for(d(i,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:u(t)>u(n)?1:-1}}(e)),n=s(i),r=0;r<n;)t[r]=i[r++];for(;r<c;)l(t,r++);return t}})},41360:(e,t,n)=>{"use strict";var r=n(20614),i=n(49382),o=n(93609),a=n(23555),s=n(6449),l=n(23974),u=n(34827),c=n(95332),d=n(42004),h=n(95318),f=n(27321)("splice"),p=Math.max,m=Math.min;r({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var n,r,f,g,y,v,b=i(this),w=s(b),_=o(e,w),k=arguments.length;for(0===k?n=r=0:1===k?(n=0,r=w-_):(n=k-2,r=m(p(a(t),0),w-_)),u(w+n-r),f=c(b,r),g=0;g<r;g++)(y=_+g)in b&&d(f,g,b[y]);if(f.length=r,n<r){for(g=_;g<w-r;g++)v=g+n,(y=g+r)in b?b[v]=b[y]:h(b,v);for(g=w;g>w-r+n;g--)h(b,g-1)}else if(n>r)for(g=w-r;g>_;g--)v=g+n-1,(y=g+r-1)in b?b[v]=b[y]:h(b,v);for(g=0;g<n;g++)b[g+_]=arguments[g+2];return l(b,w-r+n),f}})},40298:(e,t,n)=>{var r=n(84131),i=n(37410).EXISTS,o=n(92983),a=n(84564).f,s=Function.prototype,l=o(s.toString),u=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,c=o(u.exec);r&&!i&&a(s,"name",{configurable:!0,get:function(){try{return c(u,l(this))[1]}catch(e){return""}}})},95080:(e,t,n)=>{var r=n(20614),i=n(63047),o=n(79583),a=n(27773),s=n(92983),l=n(4027),u=n(34290),c=n(75029),d=n(28117),h=n(78491),f=n(23069),p=n(10292),m=i("JSON","stringify"),g=s(/./.exec),y=s("".charAt),v=s("".charCodeAt),b=s("".replace),w=s(1..toString),_=/[\uD800-\uDFFF]/g,k=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,M=!p||l((function(){var e=i("Symbol")();return"[null]"!=m([e])||"{}"!=m({a:e})||"{}"!=m(Object(e))})),x=l((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),O=function(e,t){var n=f(arguments),r=t;if((d(t)||void 0!==e)&&!h(e))return u(t)||(t=function(e,t){if(c(r)&&(t=a(r,this,e,t)),!h(t))return t}),n[1]=t,o(m,null,n)},C=function(e,t,n){var r=y(n,t-1),i=y(n,t+1);return g(k,e)&&!g(S,i)||g(S,e)&&!g(k,r)?"\\u"+w(v(e,0),16):e};m&&r({target:"JSON",stat:!0,arity:3,forced:M||x},{stringify:function(e,t,n){var r=f(arguments),i=o(M?O:m,null,r);return x&&"string"==typeof i?b(i,_,C):i}})},85059:(e,t,n)=>{"use strict";n(69799)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(60344))},60111:(e,t,n)=>{n(85059)},72839:(e,t,n)=>{"use strict";var r=n(84131),i=n(2164),o=n(92983),a=n(88001),s=n(11458),l=n(82870),u=n(81789),c=n(65534),d=n(78491),h=n(6437),f=n(4027),p=n(79571).f,m=n(54179).f,g=n(84564).f,y=n(27212),v=n(66626).trim,b="Number",w=i.Number,_=w.prototype,k=i.TypeError,S=o("".slice),M=o("".charCodeAt),x=function(e){var t=h(e,"number");return"bigint"==typeof t?t:O(t)},O=function(e){var t,n,r,i,o,a,s,l,u=h(e,"number");if(d(u))throw k("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=v(u),43===(t=M(u,0))||45===t){if(88===(n=M(u,2))||120===n)return NaN}else if(48===t){switch(M(u,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+u}for(a=(o=S(u,2)).length,s=0;s<a;s++)if((l=M(o,s))<48||l>i)return NaN;return parseInt(o,r)}return+u};if(a(b,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var C,T=function(e){var t=arguments.length<1?0:w(x(e)),n=this;return c(_,n)&&f((function(){y(n)}))?u(Object(t),n,T):t},R=r?p(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),D=0;R.length>D;D++)l(w,C=R[D])&&!l(T,C)&&g(T,C,m(w,C));T.prototype=_,_.constructor=T,s(i,b,T,{constructor:!0})}},78141:(e,t,n)=>{n(20614)({target:"Number",stat:!0},{isInteger:n(24336)})},35884:(e,t,n)=>{"use strict";var r=n(20614),i=n(92983),o=n(23555),a=n(27212),s=n(93527),l=n(4027),u=RangeError,c=String,d=Math.floor,h=i(s),f=i("".slice),p=i(1..toFixed),m=function(e,t,n){return 0===t?n:t%2==1?m(e,t-1,n*e):m(e*e,t/2,n)},g=function(e,t,n){for(var r=-1,i=n;++r<6;)i+=t*e[r],e[r]=i%1e7,i=d(i/1e7)},y=function(e,t){for(var n=6,r=0;--n>=0;)r+=e[n],e[n]=d(r/t),r=r%t*1e7},v=function(e){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==e[t]){var r=c(e[t]);n=""===n?r:n+h("0",7-r.length)+r}return n};r({target:"Number",proto:!0,forced:l((function(){return"0.000"!==p(8e-5,3)||"1"!==p(.9,0)||"1.25"!==p(1.255,2)||"1000000000000000128"!==p(0xde0b6b3a7640080,0)}))||!l((function(){p({})}))},{toFixed:function(e){var t,n,r,i,s=a(this),l=o(e),d=[0,0,0,0,0,0],p="",b="0";if(l<0||l>20)throw u("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return c(s);if(s<0&&(p="-",s=-s),s>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(s*m(2,69,1))-69)<0?s*m(2,-t,1):s/m(2,t,1),n*=4503599627370496,(t=52-t)>0){for(g(d,0,n),r=l;r>=7;)g(d,1e7,0),r-=7;for(g(d,m(10,r,1),0),r=t-1;r>=23;)y(d,1<<23),r-=23;y(d,1<<r),g(d,1,1),y(d,2),b=v(d)}else g(d,0,n),g(d,1<<-t,0),b=v(d)+h("0",l);return l>0?p+((i=b.length)<=l?"0."+h("0",l-i)+b:f(b,0,i-l)+"."+f(b,i-l)):p+b}})},76477:(e,t,n)=>{var r=n(20614),i=n(88383);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},75532:(e,t,n)=>{var r=n(20614),i=n(58096),o=n(4027),a=n(28117),s=n(89065).onFreeze,l=Object.freeze;r({target:"Object",stat:!0,forced:o((function(){l(1)})),sham:!i},{freeze:function(e){return l&&a(e)?l(s(e)):e}})},90869:(e,t,n)=>{var r=n(20614),i=n(4027),o=n(89842),a=n(54179).f,s=n(84131),l=i((function(){a(1)}));r({target:"Object",stat:!0,forced:!s||l,sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(o(e),t)}})},40674:(e,t,n)=>{var r=n(20614),i=n(84131),o=n(85662),a=n(89842),s=n(54179),l=n(42004);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,n,r=a(e),i=s.f,u=o(r),c={},d=0;u.length>d;)void 0!==(n=i(r,t=u[d++]))&&l(c,t,n);return c}})},53809:(e,t,n)=>{var r=n(20614),i=n(4027),o=n(47922).f;r({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:o})},24113:(e,t,n)=>{var r=n(20614),i=n(10292),o=n(4027),a=n(48450),s=n(49382);r({target:"Object",stat:!0,forced:!i||o((function(){a.f(1)}))},{getOwnPropertySymbols:function(e){var t=a.f;return t?t(s(e)):[]}})},29847:(e,t,n)=>{var r=n(20614),i=n(4027),o=n(49382),a=n(29511),s=n(78517);r({target:"Object",stat:!0,forced:i((function(){a(1)})),sham:!s},{getPrototypeOf:function(e){return a(o(e))}})},44991:(e,t,n)=>{var r=n(20614),i=n(49382),o=n(4520);r({target:"Object",stat:!0,forced:n(4027)((function(){o(1)}))},{keys:function(e){return o(i(e))}})},74557:(e,t,n)=>{n(20614)({target:"Object",stat:!0},{setPrototypeOf:n(18232)})},60324:(e,t,n)=>{var r=n(98700),i=n(11458),o=n(19806);r||i(Object.prototype,"toString",o,{unsafe:!0})},82730:(e,t,n)=>{var r=n(20614),i=n(33903).values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},44497:(e,t,n)=>{var r=n(20614),i=n(63047),o=n(79583),a=n(62414),s=n(76668),l=n(16865),u=n(28117),c=n(54333),d=n(4027),h=i("Reflect","construct"),f=Object.prototype,p=[].push,m=d((function(){function e(){}return!(h((function(){}),[],e)instanceof e)})),g=!d((function(){h((function(){}))})),y=m||g;r({target:"Reflect",stat:!0,forced:y,sham:y},{construct:function(e,t){s(e),l(t);var n=arguments.length<3?e:s(arguments[2]);if(g&&!m)return h(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return o(p,r,t),new(o(a,e,r))}var i=n.prototype,d=c(u(i)?i:f),y=o(e,d,t);return u(y)?y:d}})},38211:(e,t,n)=>{var r=n(20614),i=n(27773),o=n(28117),a=n(16865),s=n(39158),l=n(54179),u=n(29511);r({target:"Reflect",stat:!0},{get:function e(t,n){var r,c,d=arguments.length<3?t:arguments[2];return a(t)===d?t[n]:(r=l.f(t,n))?s(r)?r.value:void 0===r.get?void 0:i(r.get,d):o(c=u(t))?e(c,n,d):void 0}})},36111:(e,t,n)=>{var r=n(84131),i=n(2164),o=n(92983),a=n(88001),s=n(81789),l=n(2431),u=n(79571).f,c=n(65534),d=n(71602),h=n(6042),f=n(61667),p=n(17239),m=n(85843),g=n(11458),y=n(4027),v=n(82870),b=n(56525).enforce,w=n(88652),_=n(44263),k=n(17624),S=n(76564),M=_("match"),x=i.RegExp,O=x.prototype,C=i.SyntaxError,T=o(O.exec),R=o("".charAt),D=o("".replace),E=o("".indexOf),A=o("".slice),L=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,j=/a/g,P=/a/g,I=new x(j)!==j,H=p.MISSED_STICKY,N=p.UNSUPPORTED_Y;if(a("RegExp",r&&(!I||H||k||S||y((function(){return P[M]=!1,x(j)!=j||x(P)==P||"/a/i"!=x(j,"i")}))))){for(var F=function(e,t){var n,r,i,o,a,u,p=c(O,this),m=d(e),g=void 0===t,y=[],w=e;if(!p&&m&&g&&e.constructor===F)return e;if((m||c(O,e))&&(e=e.source,g&&(t=f(w))),e=void 0===e?"":h(e),t=void 0===t?"":h(t),w=e,k&&"dotAll"in j&&(r=!!t&&E(t,"s")>-1)&&(t=D(t,/s/g,"")),n=t,H&&"sticky"in j&&(i=!!t&&E(t,"y")>-1)&&N&&(t=D(t,/y/g,"")),S&&(o=function(e){for(var t,n=e.length,r=0,i="",o=[],a={},s=!1,l=!1,u=0,c="";r<=n;r++){if("\\"===(t=R(e,r)))t+=R(e,++r);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:T(L,A(e,r+1))&&(r+=2,l=!0),i+=t,u++;continue;case">"===t&&l:if(""===c||v(a,c))throw new C("Invalid capture group name");a[c]=!0,o[o.length]=[c,u],l=!1,c="";continue}l?c+=t:i+=t}return[i,o]}(e),e=o[0],y=o[1]),a=s(x(e,t),p?this:O,F),(r||i||y.length)&&(u=b(a),r&&(u.dotAll=!0,u.raw=F(function(e){for(var t,n=e.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(t=R(e,r))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),i+=t):i+="[\\s\\S]":i+=t+R(e,++r);return i}(e),n)),i&&(u.sticky=!0),y.length&&(u.groups=y)),e!==w)try{l(a,"source",""===w?"(?:)":w)}catch(e){}return a},Y=u(x),z=0;Y.length>z;)m(F,x,Y[z++]);O.constructor=F,F.prototype=O,g(i,"RegExp",F,{constructor:!0})}w("RegExp")},24937:(e,t,n)=>{"use strict";var r=n(20614),i=n(55679);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},167:(e,t,n)=>{"use strict";var r=n(37410).PROPER,i=n(11458),o=n(16865),a=n(6042),s=n(4027),l=n(61667),u="toString",c=RegExp.prototype.toString,d=s((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),h=r&&c.name!=u;(d||h)&&i(RegExp.prototype,u,(function(){var e=o(this);return"/"+a(e.source)+"/"+a(l(e))}),{unsafe:!0})},66092:(e,t,n)=>{"use strict";n(69799)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(60344))},72398:(e,t,n)=>{n(66092)},42973:(e,t,n)=>{"use strict";var r=n(20614),i=n(11461).codeAt;r({target:"String",proto:!0},{codePointAt:function(e){return i(this,e)}})},5356:(e,t,n)=>{"use strict";var r,i=n(20614),o=n(92983),a=n(54179).f,s=n(93765),l=n(6042),u=n(1891),c=n(72113),d=n(87801),h=n(80590),f=o("".endsWith),p=o("".slice),m=Math.min,g=d("endsWith");i({target:"String",proto:!0,forced:!(!h&&!g&&(r=a(String.prototype,"endsWith"),r&&!r.writable)||g)},{endsWith:function(e){var t=l(c(this));u(e);var n=arguments.length>1?arguments[1]:void 0,r=t.length,i=void 0===n?r:m(s(n),r),o=l(e);return f?f(t,o,i):p(t,i-o.length,i)===o}})},72422:(e,t,n)=>{"use strict";var r=n(20614),i=n(92983),o=n(1891),a=n(72113),s=n(6042),l=n(87801),u=i("".indexOf);r({target:"String",proto:!0,forced:!l("includes")},{includes:function(e){return!!~u(s(a(this)),s(o(e)),arguments.length>1?arguments[1]:void 0)}})},73479:(e,t,n)=>{"use strict";var r=n(11461).charAt,i=n(6042),o=n(56525),a=n(61739),s=n(9518),l="String Iterator",u=o.set,c=o.getterFor(l);a(String,"String",(function(e){u(this,{type:l,string:i(e),index:0})}),(function(){var e,t=c(this),n=t.string,i=t.index;return i>=n.length?s(void 0,!0):(e=r(n,i),t.index+=e.length,s(e,!1))}))},94508:(e,t,n)=>{"use strict";var r=n(20614),i=n(69052);r({target:"String",proto:!0,forced:n(70668)("link")},{link:function(e){return i(this,"a","href",e)}})},73390:(e,t,n)=>{"use strict";var r=n(27773),i=n(42001),o=n(16865),a=n(21798),s=n(93765),l=n(6042),u=n(72113),c=n(41048),d=n(11764),h=n(25908);i("match",(function(e,t,n){return[function(t){var n=u(this),i=a(t)?void 0:c(t,e);return i?r(i,t,n):new RegExp(t)[e](l(n))},function(e){var r=o(this),i=l(e),a=n(t,r,i);if(a.done)return a.value;if(!r.global)return h(r,i);var u=r.unicode;r.lastIndex=0;for(var c,f=[],p=0;null!==(c=h(r,i));){var m=l(c[0]);f[p]=m,""===m&&(r.lastIndex=d(i,s(r.lastIndex),u)),p++}return 0===p?null:f}]}))},96566:(e,t,n)=>{"use strict";var r=n(20614),i=n(32372).start;r({target:"String",proto:!0,forced:n(7295)},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},57920:(e,t,n)=>{"use strict";var r=n(79583),i=n(27773),o=n(92983),a=n(42001),s=n(4027),l=n(16865),u=n(75029),c=n(21798),d=n(23555),h=n(93765),f=n(6042),p=n(72113),m=n(11764),g=n(41048),y=n(99629),v=n(25908),b=n(44263)("replace"),w=Math.max,_=Math.min,k=o([].concat),S=o([].push),M=o("".indexOf),x=o("".slice),O="$0"==="a".replace(/./,"$0"),C=!!/./[b]&&""===/./[b]("a","$0");a("replace",(function(e,t,n){var o=C?"$":"$0";return[function(e,n){var r=p(this),o=c(e)?void 0:g(e,b);return o?i(o,e,r,n):i(t,f(r),e,n)},function(e,i){var a=l(this),s=f(e);if("string"==typeof i&&-1===M(i,o)&&-1===M(i,"$<")){var c=n(t,a,s,i);if(c.done)return c.value}var p=u(i);p||(i=f(i));var g=a.global;if(g){var b=a.unicode;a.lastIndex=0}for(var O=[];;){var C=v(a,s);if(null===C)break;if(S(O,C),!g)break;""===f(C[0])&&(a.lastIndex=m(s,h(a.lastIndex),b))}for(var T,R="",D=0,E=0;E<O.length;E++){for(var A=f((C=O[E])[0]),L=w(_(d(C.index),s.length),0),j=[],P=1;P<C.length;P++)S(j,void 0===(T=C[P])?T:String(T));var I=C.groups;if(p){var H=k([A],j,L,s);void 0!==I&&S(H,I);var N=f(r(i,void 0,H))}else N=y(A,s,L,j,I,i);L>=D&&(R+=x(s,D,L)+N,D=L+A.length)}return R+x(s,D)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!O||C)},57048:(e,t,n)=>{"use strict";var r=n(27773),i=n(42001),o=n(16865),a=n(21798),s=n(72113),l=n(85267),u=n(6042),c=n(41048),d=n(25908);i("search",(function(e,t,n){return[function(t){var n=s(this),i=a(t)?void 0:c(t,e);return i?r(i,t,n):new RegExp(t)[e](u(n))},function(e){var r=o(this),i=u(e),a=n(t,r,i);if(a.done)return a.value;var s=r.lastIndex;l(s,0)||(r.lastIndex=0);var c=d(r,i);return l(r.lastIndex,s)||(r.lastIndex=s),null===c?-1:c.index}]}))},52534:(e,t,n)=>{"use strict";var r=n(79583),i=n(27773),o=n(92983),a=n(42001),s=n(16865),l=n(21798),u=n(71602),c=n(72113),d=n(45920),h=n(11764),f=n(93765),p=n(6042),m=n(41048),g=n(54233),y=n(25908),v=n(55679),b=n(17239),w=n(4027),_=b.UNSUPPORTED_Y,k=4294967295,S=Math.min,M=[].push,x=o(/./.exec),O=o(M),C=o("".slice);a("split",(function(e,t,n){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var o=p(c(this)),a=void 0===n?k:n>>>0;if(0===a)return[];if(void 0===e)return[o];if(!u(e))return i(t,o,e,a);for(var s,l,d,h=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,y=new RegExp(e.source,f+"g");(s=i(v,y,o))&&!((l=y.lastIndex)>m&&(O(h,C(o,m,s.index)),s.length>1&&s.index<o.length&&r(M,h,g(s,1)),d=s[0].length,m=l,h.length>=a));)y.lastIndex===s.index&&y.lastIndex++;return m===o.length?!d&&x(y,"")||O(h,""):O(h,C(o,m)),h.length>a?g(h,0,a):h}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:i(t,this,e,n)}:t,[function(t,n){var r=c(this),a=l(t)?void 0:m(t,e);return a?i(a,t,r,n):i(o,p(r),t,n)},function(e,r){var i=s(this),a=p(e),l=n(o,i,a,r,o!==t);if(l.done)return l.value;var u=d(i,RegExp),c=i.unicode,m=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(_?"g":"y"),g=new u(_?"^(?:"+i.source+")":i,m),v=void 0===r?k:r>>>0;if(0===v)return[];if(0===a.length)return null===y(g,a)?[a]:[];for(var b=0,w=0,M=[];w<a.length;){g.lastIndex=_?0:w;var x,T=y(g,_?C(a,w):a);if(null===T||(x=S(f(g.lastIndex+(_?w:0)),a.length))===b)w=h(a,w,c);else{if(O(M,C(a,b,w)),M.length===v)return M;for(var R=1;R<=T.length-1;R++)if(O(M,T[R]),M.length===v)return M;w=b=x}}return O(M,C(a,b)),M}]}),!!w((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),_)},57535:(e,t,n)=>{"use strict";var r,i=n(20614),o=n(92983),a=n(54179).f,s=n(93765),l=n(6042),u=n(1891),c=n(72113),d=n(87801),h=n(80590),f=o("".startsWith),p=o("".slice),m=Math.min,g=d("startsWith");i({target:"String",proto:!0,forced:!(!h&&!g&&(r=a(String.prototype,"startsWith"),r&&!r.writable)||g)},{startsWith:function(e){var t=l(c(this));u(e);var n=s(m(arguments.length>1?arguments[1]:void 0,t.length)),r=l(e);return f?f(t,r,n):p(t,n,n+r.length)===r}})},71893:(e,t,n)=>{"use strict";var r=n(20614),i=n(66626).trim;r({target:"String",proto:!0,forced:n(13107)("trim")},{trim:function(){return i(this)}})},74506:(e,t,n)=>{"use strict";var r=n(20614),i=n(2164),o=n(27773),a=n(92983),s=n(80590),l=n(84131),u=n(10292),c=n(4027),d=n(82870),h=n(65534),f=n(16865),p=n(89842),m=n(93782),g=n(6042),y=n(51268),v=n(54333),b=n(4520),w=n(79571),_=n(47922),k=n(48450),S=n(54179),M=n(84564),x=n(18793),O=n(74869),C=n(11458),T=n(60901),R=n(92187),D=n(70511),E=n(40708),A=n(44263),L=n(86699),j=n(58243),P=n(26233),I=n(3633),H=n(56525),N=n(86864).forEach,F=R("hidden"),Y="Symbol",z=H.set,B=H.getterFor(Y),W=Object.prototype,$=i.Symbol,U=$&&$.prototype,V=i.TypeError,q=i.QObject,G=S.f,K=M.f,Z=_.f,X=O.f,J=a([].push),Q=T("symbols"),ee=T("op-symbols"),te=T("wks"),ne=!q||!q.prototype||!q.prototype.findChild,re=l&&c((function(){return 7!=v(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=G(W,t);r&&delete W[t],K(e,t,n),r&&e!==W&&K(W,t,r)}:K,ie=function(e,t){var n=Q[e]=v(U);return z(n,{type:Y,tag:e,description:t}),l||(n.description=t),n},oe=function(e,t,n){e===W&&oe(ee,t,n),f(e);var r=m(t);return f(n),d(Q,r)?(n.enumerable?(d(e,F)&&e[F][r]&&(e[F][r]=!1),n=v(n,{enumerable:y(0,!1)})):(d(e,F)||K(e,F,y(1,{})),e[F][r]=!0),re(e,r,n)):K(e,r,n)},ae=function(e,t){f(e);var n=p(t),r=b(n).concat(ce(n));return N(r,(function(t){l&&!o(se,n,t)||oe(e,t,n[t])})),e},se=function(e){var t=m(e),n=o(X,this,t);return!(this===W&&d(Q,t)&&!d(ee,t))&&(!(n||!d(this,t)||!d(Q,t)||d(this,F)&&this[F][t])||n)},le=function(e,t){var n=p(e),r=m(t);if(n!==W||!d(Q,r)||d(ee,r)){var i=G(n,r);return!i||!d(Q,r)||d(n,F)&&n[F][r]||(i.enumerable=!0),i}},ue=function(e){var t=Z(p(e)),n=[];return N(t,(function(e){d(Q,e)||d(D,e)||J(n,e)})),n},ce=function(e){var t=e===W,n=Z(t?ee:p(e)),r=[];return N(n,(function(e){!d(Q,e)||t&&!d(W,e)||J(r,Q[e])})),r};u||(C(U=($=function(){if(h(U,this))throw V("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,t=E(e),n=function(e){this===W&&o(n,ee,e),d(this,F)&&d(this[F],t)&&(this[F][t]=!1),re(this,t,y(1,e))};return l&&ne&&re(W,t,{configurable:!0,set:n}),ie(t,e)}).prototype,"toString",(function(){return B(this).tag})),C($,"withoutSetter",(function(e){return ie(E(e),e)})),O.f=se,M.f=oe,x.f=ae,S.f=le,w.f=_.f=ue,k.f=ce,L.f=function(e){return ie(A(e),e)},l&&(K(U,"description",{configurable:!0,get:function(){return B(this).description}}),s||C(W,"propertyIsEnumerable",se,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:$}),N(b(te),(function(e){j(e)})),r({target:Y,stat:!0,forced:!u},{useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!l},{create:function(e,t){return void 0===t?v(e):ae(v(e),t)},defineProperty:oe,defineProperties:ae,getOwnPropertyDescriptor:le}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ue}),P(),I($,Y),D[F]=!0},16465:(e,t,n)=>{"use strict";var r=n(20614),i=n(84131),o=n(2164),a=n(92983),s=n(82870),l=n(75029),u=n(65534),c=n(6042),d=n(84564).f,h=n(74539),f=o.Symbol,p=f&&f.prototype;if(i&&l(f)&&(!("description"in p)||void 0!==f().description)){var m={},g=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:c(arguments[0]),t=u(p,this)?new f(e):void 0===e?f():f(e);return""===e&&(m[t]=!0),t};h(g,f),g.prototype=p,p.constructor=g;var y="Symbol(test)"==String(f("test")),v=a(p.valueOf),b=a(p.toString),w=/^Symbol\((.*)\)[^)]+$/,_=a("".replace),k=a("".slice);d(p,"description",{configurable:!0,get:function(){var e=v(this);if(s(m,e))return"";var t=b(e),n=y?k(t,7,-1):_(t,w,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:g})}},63555:(e,t,n)=>{var r=n(20614),i=n(63047),o=n(82870),a=n(6042),s=n(60901),l=n(71657),u=s("string-to-symbol-registry"),c=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!l},{for:function(e){var t=a(e);if(o(u,t))return u[t];var n=i("Symbol")(t);return u[t]=n,c[n]=t,n}})},99962:(e,t,n)=>{n(58243)("iterator")},11294:(e,t,n)=>{n(74506),n(63555),n(60467),n(95080),n(24113)},60467:(e,t,n)=>{var r=n(20614),i=n(82870),o=n(78491),a=n(47165),s=n(60901),l=n(71657),u=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!l},{keyFor:function(e){if(!o(e))throw TypeError(a(e)+" is not a symbol");if(i(u,e))return u[e]}})},82424:(e,t,n)=>{"use strict";var r,i=n(2164),o=n(92983),a=n(23546),s=n(89065),l=n(69799),u=n(98815),c=n(28117),d=n(7859),h=n(56525).enforce,f=n(6399),p=!i.ActiveXObject&&"ActiveXObject"in i,m=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},g=l("WeakMap",m,u);if(f&&p){r=u.getConstructor(m,"WeakMap",!0),s.enable();var y=g.prototype,v=o(y.delete),b=o(y.has),w=o(y.get),_=o(y.set);a(y,{delete:function(e){if(c(e)&&!d(e)){var t=h(this);return t.frozen||(t.frozen=new r),v(this,e)||t.frozen.delete(e)}return v(this,e)},has:function(e){if(c(e)&&!d(e)){var t=h(this);return t.frozen||(t.frozen=new r),b(this,e)||t.frozen.has(e)}return b(this,e)},get:function(e){if(c(e)&&!d(e)){var t=h(this);return t.frozen||(t.frozen=new r),b(this,e)?w(this,e):t.frozen.get(e)}return w(this,e)},set:function(e,t){if(c(e)&&!d(e)){var n=h(this);n.frozen||(n.frozen=new r),b(this,e)?_(this,e,t):n.frozen.set(e,t)}else _(this,e,t);return this}})}},73503:(e,t,n)=>{n(82424)},17618:(e,t,n)=>{"use strict";n(69799)("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(98815))},6989:(e,t,n)=>{n(17618)},13146:(e,t,n)=>{var r=n(20614),i=n(2164),o=n(65322).clear;r({global:!0,bind:!0,enumerable:!0,forced:i.clearImmediate!==o},{clearImmediate:o})},20623:(e,t,n)=>{var r=n(2164),i=n(6403),o=n(80111),a=n(67995),s=n(2431),l=function(e){if(e&&e.forEach!==a)try{s(e,"forEach",a)}catch(t){e.forEach=a}};for(var u in i)i[u]&&l(r[u]&&r[u].prototype);l(o)},19199:(e,t,n)=>{var r=n(2164),i=n(6403),o=n(80111),a=n(84593),s=n(2431),l=n(44263),u=l("iterator"),c=l("toStringTag"),d=a.values,h=function(e,t){if(e){if(e[u]!==d)try{s(e,u,d)}catch(t){e[u]=d}if(e[c]||s(e,c,t),i[t])for(var n in a)if(e[n]!==a[n])try{s(e,n,a[n])}catch(t){e[n]=a[n]}}};for(var f in i)h(r[f]&&r[f].prototype,f);h(o,"DOMTokenList")},41134:(e,t,n)=>{n(13146),n(71861)},71861:(e,t,n)=>{var r=n(20614),i=n(2164),o=n(65322).set;r({global:!0,bind:!0,enumerable:!0,forced:i.setImmediate!==o},{setImmediate:o})},45390:(e,t,n)=>{var r=n(20614),i=n(2164),o=n(68629).setInterval;r({global:!0,bind:!0,forced:i.setInterval!==o},{setInterval:o})},42766:(e,t,n)=>{var r=n(20614),i=n(2164),o=n(68629).setTimeout;r({global:!0,bind:!0,forced:i.setTimeout!==o},{setTimeout:o})},36592:(e,t,n)=>{n(45390),n(42766)},97362:function(e){var t;"undefined"!=typeof self&&self,t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){},function(e,t,n){"use strict";n.r(t),n(0);var r=function(){function e(e,t,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=n}return e.range=function(t,n){return n?t&&t.loc&&n.loc&&t.loc.lexer===n.loc.lexer?new e(t.loc.lexer,t.loc.start,n.loc.end):null:t&&t.loc},e}(),i=function(){function e(e,t){this.text=void 0,this.loc=void 0,this.text=e,this.loc=t}return e.prototype.range=function(t,n){return new e(n,r.range(this,t))},e}(),o=function e(t,n){this.position=void 0;var r,i="KaTeX parse error: "+t,o=n&&n.loc;if(o&&o.start<=o.end){var a=o.lexer.input;r=o.start;var s=o.end;r===a.length?i+=" at end of input: ":i+=" at position "+(r+1)+": ";var l=a.slice(r,s).replace(/[^]/g,"$&̲");i+=(r>15?"…"+a.slice(r-15,r):a.slice(0,r))+l+(s+15<a.length?a.slice(s,s+15)+"…":a.slice(s))}var u=new Error(i);return u.name="ParseError",u.__proto__=e.prototype,u.position=r,u};o.prototype.__proto__=Error.prototype;var a=o,s=/([A-Z])/g,l={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},u=/[&><"']/g,c=function e(t){return"ordgroup"===t.type||"color"===t.type?1===t.body.length?e(t.body[0]):t:"font"===t.type?e(t.body):t},d=function(e,t){return-1!==e.indexOf(t)},h=function(e,t){return void 0===e?t:e},f=function(e){return String(e).replace(u,(function(e){return l[e]}))},p=function(e){return e.replace(s,"-$1").toLowerCase()},m=c,g=function(e){var t=c(e);return"mathord"===t.type||"textord"===t.type||"atom"===t.type},y=function(){function e(e){this.displayMode=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.allowedProtocols=void 0,e=e||{},this.displayMode=h(e.displayMode,!1),this.leqno=h(e.leqno,!1),this.fleqn=h(e.fleqn,!1),this.throwOnError=h(e.throwOnError,!0),this.errorColor=h(e.errorColor,"#cc0000"),this.macros=e.macros||{},this.colorIsTextColor=h(e.colorIsTextColor,!1),this.strict=h(e.strict,"warn"),this.maxSize=Math.max(0,h(e.maxSize,1/0)),this.maxExpand=Math.max(0,h(e.maxExpand,1e3)),this.allowedProtocols=h(e.allowedProtocols,["http","https","mailto","_relative"])}var t=e.prototype;return t.reportNonstrict=function(e,t,n){var r=this.strict;if("function"==typeof r&&(r=r(e,t,n)),r&&"ignore"!==r){if(!0===r||"error"===r)throw new a("LaTeX-incompatible input and strict mode is set to 'error': "+t+" ["+e+"]",n);"warn"===r?"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"):"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+r+"': "+t+" ["+e+"]")}},t.useStrictBehavior=function(e,t,n){var r=this.strict;if("function"==typeof r)try{r=r(e,t,n)}catch(e){r="error"}return!(!r||"ignore"===r||!0!==r&&"error"!==r&&("warn"===r?("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"),1):("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+r+"': "+t+" ["+e+"]"),1)))},e}(),v=function(){function e(e,t,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=n}var t=e.prototype;return t.sup=function(){return b[w[this.id]]},t.sub=function(){return b[_[this.id]]},t.fracNum=function(){return b[k[this.id]]},t.fracDen=function(){return b[S[this.id]]},t.cramp=function(){return b[M[this.id]]},t.text=function(){return b[x[this.id]]},t.isTight=function(){return this.size>=2},e}(),b=[new v(0,0,!1),new v(1,0,!0),new v(2,1,!1),new v(3,1,!0),new v(4,2,!1),new v(5,2,!0),new v(6,3,!1),new v(7,3,!0)],w=[4,5,4,5,6,7,6,7],_=[5,5,5,5,7,7,7,7],k=[2,3,4,5,6,7,6,7],S=[3,3,5,5,7,7,7,7],M=[1,1,3,3,5,5,7,7],x=[0,1,2,3,2,3,2,3],O={DISPLAY:b[0],TEXT:b[2],SCRIPT:b[4],SCRIPTSCRIPT:b[6]},C=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}],T=[];function R(e){for(var t=0;t<T.length;t+=2)if(e>=T[t]&&e<=T[t+1])return!0;return!1}C.forEach((function(e){return e.blocks.forEach((function(e){return T.push.apply(T,e)}))}));var D={path:{sqrtMain:"M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,\n-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,\n-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,\n35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,\n-221c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467\ns-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422\ns-65,47,-65,47z M834 80H400000v40H845z",sqrtSize1:"M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,\n158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067\nc4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,\n175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71\nc-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,\n-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26\ns76,-59,76,-59s76,-60,76,-60z M1001 80H40000v40H1012z",sqrtSize2:"M1001,80H400000v40H1013.1s-83.4,268,-264.1,840c-180.7,\n572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,\n-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744c-10,12,-21,25,-33,39s-32,39,-32,39\nc-6,-5.3,-15,-14,-27,-26s25,-30,25,-30c26.7,-32.7,52,-63,76,-91s52,-60,52,-60\ns208,722,208,722c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,\n-658.5c53.7,-170.3,84.5,-266.8,92.5,-289.5c4,-6.7,10,-10,18,-10z\nM1001 80H400000v40H1013z",sqrtSize3:"M424,2478c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,\n-342,-109.8,-513.3,-110.5,-514c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,\n25c-5.7,9.3,-9.8,16,-12.5,20s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,\n-13s76,-122,76,-122s77,-121,77,-121s209,968,209,968c0,-2,84.7,-361.7,254,-1079\nc169.3,-717.3,254.7,-1077.7,256,-1081c4,-6.7,10,-10,18,-10H400000v40H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M1001 80H400000v40H1014z",sqrtSize4:"M473,2793c339.3,-1799.3,509.3,-2700,510,-2702\nc3.3,-7.3,9.3,-11,18,-11H400000v40H1017.7s-90.5,478,-276.2,1466c-185.7,988,\n-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,\n-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200c0,-1.3,-5.3,8.7,-16,30c-10.7,\n21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26s76,-153,76,-153s77,-151,\n77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,606z\nM1001 80H400000v40H1017z",doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"}},E=function(){function e(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}var t=e.prototype;return t.hasClass=function(e){return d(this.classes,e)},t.toNode=function(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e},t.toMarkup=function(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e},t.toText=function(){return this.children.map((function(e){return e.toText()})).join("")},e}(),A=function(e){return e.filter((function(e){return e})).join(" ")},L=function(e,t,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},t){t.style.isTight()&&this.classes.push("mtight");var r=t.getColor();r&&(this.style.color=r)}},j=function(e){var t=document.createElement(e);for(var n in t.className=A(this.classes),this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);for(var r in this.attributes)this.attributes.hasOwnProperty(r)&&t.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)t.appendChild(this.children[i].toNode());return t},P=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+f(A(this.classes))+'"');var n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=p(r)+":"+this.style[r]+";");for(var i in n&&(t+=' style="'+f(n)+'"'),this.attributes)this.attributes.hasOwnProperty(i)&&(t+=" "+i+'="'+f(this.attributes[i])+'"');t+=">";for(var o=0;o<this.children.length;o++)t+=this.children[o].toMarkup();return t+"</"+e+">"},I=function(){function e(e,t,n,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,L.call(this,e,n,r),this.children=t||[]}var t=e.prototype;return t.setAttribute=function(e,t){this.attributes[e]=t},t.hasClass=function(e){return d(this.classes,e)},t.toNode=function(){return j.call(this,"span")},t.toMarkup=function(){return P.call(this,"span")},e}(),H=function(){function e(e,t,n,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,L.call(this,t,r),this.children=n||[],this.setAttribute("href",e)}var t=e.prototype;return t.setAttribute=function(e,t){this.attributes[e]=t},t.hasClass=function(e){return d(this.classes,e)},t.toNode=function(){return j.call(this,"a")},t.toMarkup=function(){return P.call(this,"a")},e}(),N={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"},F=function(){function e(e,t,n,r,i,o,a,s){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=n||0,this.italic=r||0,this.skew=i||0,this.width=o||0,this.classes=a||[],this.style=s||{},this.maxFontSize=0;var l=function(e){for(var t=0;t<C.length;t++)for(var n=C[t],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(e>=i[0]&&e<=i[1])return n.name}return null}(this.text.charCodeAt(0));l&&this.classes.push(l+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=N[this.text])}var t=e.prototype;return t.hasClass=function(e){return d(this.classes,e)},t.toNode=function(){var e=document.createTextNode(this.text),t=null;for(var n in this.italic>0&&((t=document.createElement("span")).style.marginRight=this.italic+"em"),this.classes.length>0&&((t=t||document.createElement("span")).className=A(this.classes)),this.style)this.style.hasOwnProperty(n)&&((t=t||document.createElement("span")).style[n]=this.style[n]);return t?(t.appendChild(e),t):e},t.toMarkup=function(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=f(A(this.classes)),t+='"');var n="";for(var r in this.italic>0&&(n+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(r)&&(n+=p(r)+":"+this.style[r]+";");n&&(e=!0,t+=' style="'+f(n)+'"');var i=f(this.text);return e?(t+=">",t+=i,t+="</span>"):i},e}(),Y=function(){function e(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}var t=e.prototype;return t.toNode=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e},t.toMarkup=function(){var e="<svg";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+"</svg>"},e}(),z=function(){function e(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}var t=e.prototype;return t.toNode=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?e.setAttribute("d",this.alternate):e.setAttribute("d",D.path[this.pathName]),e},t.toMarkup=function(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+D.path[this.pathName]+"'/>"},e}(),B=function(){function e(e){this.attributes=void 0,this.attributes=e||{}}var t=e.prototype;return t.toNode=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","line");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);return e},t.toMarkup=function(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");return e+"/>"},e}(),W={"AMS-Regular":{65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473]},"Fraktur-Regular":{33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],163:[0,.69444,0,0,.86853],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],163:[0,.69444,0,0,.76909],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],305:[0,.43056,0,.02778,.32246],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],567:[.19444,.43056,0,.08334,.38403],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.12,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,1],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.67,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.9,0,0,.278],8943:[-.19,.31,0,0,1.172],8945:[-.1,.82,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.744,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.744,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333]},"Math-Italic":{65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059]},"Math-Regular":{65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059]},"SansSerif-Bold":{33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212]},"Size1-Regular":{40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},$={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2]},U={Å:"A",Ç:"C",Ð:"D",Þ:"o",å:"a",ç:"c",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function V(e,t,n){if(!W[t])throw new Error("Font metrics not found for font: "+t+".");var r=e.charCodeAt(0),i=W[t][r];if(!i&&e[0]in U&&(r=U[e[0]].charCodeAt(0),i=W[t][r]),i||"text"!==n||R(r)&&(i=W[t][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var q={},G={bin:1,close:1,inner:1,open:1,punct:1,rel:1},K={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Z={math:{},text:{}},X=Z;function J(e,t,n,r,i,o){Z[e][i]={font:t,group:n,replace:r},o&&r&&(Z[e][r]=Z[e][i])}var Q="math",ee="text",te="main",ne="ams",re="accent-token",ie="bin",oe="close",ae="inner",se="mathord",le="op-token",ue="open",ce="punct",de="rel",he="spacing",fe="textord";J(Q,te,de,"≡","\\equiv",!0),J(Q,te,de,"≺","\\prec",!0),J(Q,te,de,"≻","\\succ",!0),J(Q,te,de,"∼","\\sim",!0),J(Q,te,de,"⊥","\\perp"),J(Q,te,de,"⪯","\\preceq",!0),J(Q,te,de,"⪰","\\succeq",!0),J(Q,te,de,"≃","\\simeq",!0),J(Q,te,de,"∣","\\mid",!0),J(Q,te,de,"≪","\\ll",!0),J(Q,te,de,"≫","\\gg",!0),J(Q,te,de,"≍","\\asymp",!0),J(Q,te,de,"∥","\\parallel"),J(Q,te,de,"⋈","\\bowtie",!0),J(Q,te,de,"⌣","\\smile",!0),J(Q,te,de,"⊑","\\sqsubseteq",!0),J(Q,te,de,"⊒","\\sqsupseteq",!0),J(Q,te,de,"≐","\\doteq",!0),J(Q,te,de,"⌢","\\frown",!0),J(Q,te,de,"∋","\\ni",!0),J(Q,te,de,"∝","\\propto",!0),J(Q,te,de,"⊢","\\vdash",!0),J(Q,te,de,"⊣","\\dashv",!0),J(Q,te,de,"∋","\\owns"),J(Q,te,ce,".","\\ldotp"),J(Q,te,ce,"⋅","\\cdotp"),J(Q,te,fe,"#","\\#"),J(ee,te,fe,"#","\\#"),J(Q,te,fe,"&","\\&"),J(ee,te,fe,"&","\\&"),J(Q,te,fe,"ℵ","\\aleph",!0),J(Q,te,fe,"∀","\\forall",!0),J(Q,te,fe,"ℏ","\\hbar",!0),J(Q,te,fe,"∃","\\exists",!0),J(Q,te,fe,"∇","\\nabla",!0),J(Q,te,fe,"♭","\\flat",!0),J(Q,te,fe,"ℓ","\\ell",!0),J(Q,te,fe,"♮","\\natural",!0),J(Q,te,fe,"♣","\\clubsuit",!0),J(Q,te,fe,"℘","\\wp",!0),J(Q,te,fe,"♯","\\sharp",!0),J(Q,te,fe,"♢","\\diamondsuit",!0),J(Q,te,fe,"ℜ","\\Re",!0),J(Q,te,fe,"♡","\\heartsuit",!0),J(Q,te,fe,"ℑ","\\Im",!0),J(Q,te,fe,"♠","\\spadesuit",!0),J(ee,te,fe,"§","\\S",!0),J(ee,te,fe,"¶","\\P",!0),J(Q,te,fe,"†","\\dag"),J(ee,te,fe,"†","\\dag"),J(ee,te,fe,"†","\\textdagger"),J(Q,te,fe,"‡","\\ddag"),J(ee,te,fe,"‡","\\ddag"),J(ee,te,fe,"‡","\\textdaggerdbl"),J(Q,te,oe,"⎱","\\rmoustache",!0),J(Q,te,ue,"⎰","\\lmoustache",!0),J(Q,te,oe,"⟯","\\rgroup",!0),J(Q,te,ue,"⟮","\\lgroup",!0),J(Q,te,ie,"∓","\\mp",!0),J(Q,te,ie,"⊖","\\ominus",!0),J(Q,te,ie,"⊎","\\uplus",!0),J(Q,te,ie,"⊓","\\sqcap",!0),J(Q,te,ie,"∗","\\ast"),J(Q,te,ie,"⊔","\\sqcup",!0),J(Q,te,ie,"◯","\\bigcirc"),J(Q,te,ie,"∙","\\bullet"),J(Q,te,ie,"‡","\\ddagger"),J(Q,te,ie,"≀","\\wr",!0),J(Q,te,ie,"⨿","\\amalg"),J(Q,te,ie,"&","\\And"),J(Q,te,de,"⟵","\\longleftarrow",!0),J(Q,te,de,"⇐","\\Leftarrow",!0),J(Q,te,de,"⟸","\\Longleftarrow",!0),J(Q,te,de,"⟶","\\longrightarrow",!0),J(Q,te,de,"⇒","\\Rightarrow",!0),J(Q,te,de,"⟹","\\Longrightarrow",!0),J(Q,te,de,"↔","\\leftrightarrow",!0),J(Q,te,de,"⟷","\\longleftrightarrow",!0),J(Q,te,de,"⇔","\\Leftrightarrow",!0),J(Q,te,de,"⟺","\\Longleftrightarrow",!0),J(Q,te,de,"↦","\\mapsto",!0),J(Q,te,de,"⟼","\\longmapsto",!0),J(Q,te,de,"↗","\\nearrow",!0),J(Q,te,de,"↩","\\hookleftarrow",!0),J(Q,te,de,"↪","\\hookrightarrow",!0),J(Q,te,de,"↘","\\searrow",!0),J(Q,te,de,"↼","\\leftharpoonup",!0),J(Q,te,de,"⇀","\\rightharpoonup",!0),J(Q,te,de,"↙","\\swarrow",!0),J(Q,te,de,"↽","\\leftharpoondown",!0),J(Q,te,de,"⇁","\\rightharpoondown",!0),J(Q,te,de,"↖","\\nwarrow",!0),J(Q,te,de,"⇌","\\rightleftharpoons",!0),J(Q,ne,de,"≮","\\nless",!0),J(Q,ne,de,"","\\@nleqslant"),J(Q,ne,de,"","\\@nleqq"),J(Q,ne,de,"⪇","\\lneq",!0),J(Q,ne,de,"≨","\\lneqq",!0),J(Q,ne,de,"","\\@lvertneqq"),J(Q,ne,de,"⋦","\\lnsim",!0),J(Q,ne,de,"⪉","\\lnapprox",!0),J(Q,ne,de,"⊀","\\nprec",!0),J(Q,ne,de,"⋠","\\npreceq",!0),J(Q,ne,de,"⋨","\\precnsim",!0),J(Q,ne,de,"⪹","\\precnapprox",!0),J(Q,ne,de,"≁","\\nsim",!0),J(Q,ne,de,"","\\@nshortmid"),J(Q,ne,de,"∤","\\nmid",!0),J(Q,ne,de,"⊬","\\nvdash",!0),J(Q,ne,de,"⊭","\\nvDash",!0),J(Q,ne,de,"⋪","\\ntriangleleft"),J(Q,ne,de,"⋬","\\ntrianglelefteq",!0),J(Q,ne,de,"⊊","\\subsetneq",!0),J(Q,ne,de,"","\\@varsubsetneq"),J(Q,ne,de,"⫋","\\subsetneqq",!0),J(Q,ne,de,"","\\@varsubsetneqq"),J(Q,ne,de,"≯","\\ngtr",!0),J(Q,ne,de,"","\\@ngeqslant"),J(Q,ne,de,"","\\@ngeqq"),J(Q,ne,de,"⪈","\\gneq",!0),J(Q,ne,de,"≩","\\gneqq",!0),J(Q,ne,de,"","\\@gvertneqq"),J(Q,ne,de,"⋧","\\gnsim",!0),J(Q,ne,de,"⪊","\\gnapprox",!0),J(Q,ne,de,"⊁","\\nsucc",!0),J(Q,ne,de,"⋡","\\nsucceq",!0),J(Q,ne,de,"⋩","\\succnsim",!0),J(Q,ne,de,"⪺","\\succnapprox",!0),J(Q,ne,de,"≆","\\ncong",!0),J(Q,ne,de,"","\\@nshortparallel"),J(Q,ne,de,"∦","\\nparallel",!0),J(Q,ne,de,"⊯","\\nVDash",!0),J(Q,ne,de,"⋫","\\ntriangleright"),J(Q,ne,de,"⋭","\\ntrianglerighteq",!0),J(Q,ne,de,"","\\@nsupseteqq"),J(Q,ne,de,"⊋","\\supsetneq",!0),J(Q,ne,de,"","\\@varsupsetneq"),J(Q,ne,de,"⫌","\\supsetneqq",!0),J(Q,ne,de,"","\\@varsupsetneqq"),J(Q,ne,de,"⊮","\\nVdash",!0),J(Q,ne,de,"⪵","\\precneqq",!0),J(Q,ne,de,"⪶","\\succneqq",!0),J(Q,ne,de,"","\\@nsubseteqq"),J(Q,ne,ie,"⊴","\\unlhd"),J(Q,ne,ie,"⊵","\\unrhd"),J(Q,ne,de,"↚","\\nleftarrow",!0),J(Q,ne,de,"↛","\\nrightarrow",!0),J(Q,ne,de,"⇍","\\nLeftarrow",!0),J(Q,ne,de,"⇏","\\nRightarrow",!0),J(Q,ne,de,"↮","\\nleftrightarrow",!0),J(Q,ne,de,"⇎","\\nLeftrightarrow",!0),J(Q,ne,de,"△","\\vartriangle"),J(Q,ne,fe,"ℏ","\\hslash"),J(Q,ne,fe,"▽","\\triangledown"),J(Q,ne,fe,"◊","\\lozenge"),J(Q,ne,fe,"Ⓢ","\\circledS"),J(Q,ne,fe,"®","\\circledR"),J(ee,ne,fe,"®","\\circledR"),J(Q,ne,fe,"∡","\\measuredangle",!0),J(Q,ne,fe,"∄","\\nexists"),J(Q,ne,fe,"℧","\\mho"),J(Q,ne,fe,"Ⅎ","\\Finv",!0),J(Q,ne,fe,"⅁","\\Game",!0),J(Q,ne,fe,"‵","\\backprime"),J(Q,ne,fe,"▲","\\blacktriangle"),J(Q,ne,fe,"▼","\\blacktriangledown"),J(Q,ne,fe,"■","\\blacksquare"),J(Q,ne,fe,"⧫","\\blacklozenge"),J(Q,ne,fe,"★","\\bigstar"),J(Q,ne,fe,"∢","\\sphericalangle",!0),J(Q,ne,fe,"∁","\\complement",!0),J(Q,ne,fe,"ð","\\eth",!0),J(Q,ne,fe,"╱","\\diagup"),J(Q,ne,fe,"╲","\\diagdown"),J(Q,ne,fe,"□","\\square"),J(Q,ne,fe,"□","\\Box"),J(Q,ne,fe,"◊","\\Diamond"),J(Q,ne,fe,"¥","\\yen",!0),J(ee,ne,fe,"¥","\\yen",!0),J(Q,ne,fe,"✓","\\checkmark",!0),J(ee,ne,fe,"✓","\\checkmark"),J(Q,ne,fe,"ℶ","\\beth",!0),J(Q,ne,fe,"ℸ","\\daleth",!0),J(Q,ne,fe,"ℷ","\\gimel",!0),J(Q,ne,fe,"ϝ","\\digamma"),J(Q,ne,fe,"ϰ","\\varkappa"),J(Q,ne,ue,"┌","\\ulcorner",!0),J(Q,ne,oe,"┐","\\urcorner",!0),J(Q,ne,ue,"└","\\llcorner",!0),J(Q,ne,oe,"┘","\\lrcorner",!0),J(Q,ne,de,"≦","\\leqq",!0),J(Q,ne,de,"⩽","\\leqslant",!0),J(Q,ne,de,"⪕","\\eqslantless",!0),J(Q,ne,de,"≲","\\lesssim",!0),J(Q,ne,de,"⪅","\\lessapprox",!0),J(Q,ne,de,"≊","\\approxeq",!0),J(Q,ne,ie,"⋖","\\lessdot"),J(Q,ne,de,"⋘","\\lll",!0),J(Q,ne,de,"≶","\\lessgtr",!0),J(Q,ne,de,"⋚","\\lesseqgtr",!0),J(Q,ne,de,"⪋","\\lesseqqgtr",!0),J(Q,ne,de,"≑","\\doteqdot"),J(Q,ne,de,"≓","\\risingdotseq",!0),J(Q,ne,de,"≒","\\fallingdotseq",!0),J(Q,ne,de,"∽","\\backsim",!0),J(Q,ne,de,"⋍","\\backsimeq",!0),J(Q,ne,de,"⫅","\\subseteqq",!0),J(Q,ne,de,"⋐","\\Subset",!0),J(Q,ne,de,"⊏","\\sqsubset",!0),J(Q,ne,de,"≼","\\preccurlyeq",!0),J(Q,ne,de,"⋞","\\curlyeqprec",!0),J(Q,ne,de,"≾","\\precsim",!0),J(Q,ne,de,"⪷","\\precapprox",!0),J(Q,ne,de,"⊲","\\vartriangleleft"),J(Q,ne,de,"⊴","\\trianglelefteq"),J(Q,ne,de,"⊨","\\vDash",!0),J(Q,ne,de,"⊪","\\Vvdash",!0),J(Q,ne,de,"⌣","\\smallsmile"),J(Q,ne,de,"⌢","\\smallfrown"),J(Q,ne,de,"≏","\\bumpeq",!0),J(Q,ne,de,"≎","\\Bumpeq",!0),J(Q,ne,de,"≧","\\geqq",!0),J(Q,ne,de,"⩾","\\geqslant",!0),J(Q,ne,de,"⪖","\\eqslantgtr",!0),J(Q,ne,de,"≳","\\gtrsim",!0),J(Q,ne,de,"⪆","\\gtrapprox",!0),J(Q,ne,ie,"⋗","\\gtrdot"),J(Q,ne,de,"⋙","\\ggg",!0),J(Q,ne,de,"≷","\\gtrless",!0),J(Q,ne,de,"⋛","\\gtreqless",!0),J(Q,ne,de,"⪌","\\gtreqqless",!0),J(Q,ne,de,"≖","\\eqcirc",!0),J(Q,ne,de,"≗","\\circeq",!0),J(Q,ne,de,"≜","\\triangleq",!0),J(Q,ne,de,"∼","\\thicksim"),J(Q,ne,de,"≈","\\thickapprox"),J(Q,ne,de,"⫆","\\supseteqq",!0),J(Q,ne,de,"⋑","\\Supset",!0),J(Q,ne,de,"⊐","\\sqsupset",!0),J(Q,ne,de,"≽","\\succcurlyeq",!0),J(Q,ne,de,"⋟","\\curlyeqsucc",!0),J(Q,ne,de,"≿","\\succsim",!0),J(Q,ne,de,"⪸","\\succapprox",!0),J(Q,ne,de,"⊳","\\vartriangleright"),J(Q,ne,de,"⊵","\\trianglerighteq"),J(Q,ne,de,"⊩","\\Vdash",!0),J(Q,ne,de,"∣","\\shortmid"),J(Q,ne,de,"∥","\\shortparallel"),J(Q,ne,de,"≬","\\between",!0),J(Q,ne,de,"⋔","\\pitchfork",!0),J(Q,ne,de,"∝","\\varpropto"),J(Q,ne,de,"◀","\\blacktriangleleft"),J(Q,ne,de,"∴","\\therefore",!0),J(Q,ne,de,"∍","\\backepsilon"),J(Q,ne,de,"▶","\\blacktriangleright"),J(Q,ne,de,"∵","\\because",!0),J(Q,ne,de,"⋘","\\llless"),J(Q,ne,de,"⋙","\\gggtr"),J(Q,ne,ie,"⊲","\\lhd"),J(Q,ne,ie,"⊳","\\rhd"),J(Q,ne,de,"≂","\\eqsim",!0),J(Q,te,de,"⋈","\\Join"),J(Q,ne,de,"≑","\\Doteq",!0),J(Q,ne,ie,"∔","\\dotplus",!0),J(Q,ne,ie,"∖","\\smallsetminus"),J(Q,ne,ie,"⋒","\\Cap",!0),J(Q,ne,ie,"⋓","\\Cup",!0),J(Q,ne,ie,"⩞","\\doublebarwedge",!0),J(Q,ne,ie,"⊟","\\boxminus",!0),J(Q,ne,ie,"⊞","\\boxplus",!0),J(Q,ne,ie,"⋇","\\divideontimes",!0),J(Q,ne,ie,"⋉","\\ltimes",!0),J(Q,ne,ie,"⋊","\\rtimes",!0),J(Q,ne,ie,"⋋","\\leftthreetimes",!0),J(Q,ne,ie,"⋌","\\rightthreetimes",!0),J(Q,ne,ie,"⋏","\\curlywedge",!0),J(Q,ne,ie,"⋎","\\curlyvee",!0),J(Q,ne,ie,"⊝","\\circleddash",!0),J(Q,ne,ie,"⊛","\\circledast",!0),J(Q,ne,ie,"⋅","\\centerdot"),J(Q,ne,ie,"⊺","\\intercal",!0),J(Q,ne,ie,"⋒","\\doublecap"),J(Q,ne,ie,"⋓","\\doublecup"),J(Q,ne,ie,"⊠","\\boxtimes",!0),J(Q,ne,de,"⇢","\\dashrightarrow",!0),J(Q,ne,de,"⇠","\\dashleftarrow",!0),J(Q,ne,de,"⇇","\\leftleftarrows",!0),J(Q,ne,de,"⇆","\\leftrightarrows",!0),J(Q,ne,de,"⇚","\\Lleftarrow",!0),J(Q,ne,de,"↞","\\twoheadleftarrow",!0),J(Q,ne,de,"↢","\\leftarrowtail",!0),J(Q,ne,de,"↫","\\looparrowleft",!0),J(Q,ne,de,"⇋","\\leftrightharpoons",!0),J(Q,ne,de,"↶","\\curvearrowleft",!0),J(Q,ne,de,"↺","\\circlearrowleft",!0),J(Q,ne,de,"↰","\\Lsh",!0),J(Q,ne,de,"⇈","\\upuparrows",!0),J(Q,ne,de,"↿","\\upharpoonleft",!0),J(Q,ne,de,"⇃","\\downharpoonleft",!0),J(Q,ne,de,"⊸","\\multimap",!0),J(Q,ne,de,"↭","\\leftrightsquigarrow",!0),J(Q,ne,de,"⇉","\\rightrightarrows",!0),J(Q,ne,de,"⇄","\\rightleftarrows",!0),J(Q,ne,de,"↠","\\twoheadrightarrow",!0),J(Q,ne,de,"↣","\\rightarrowtail",!0),J(Q,ne,de,"↬","\\looparrowright",!0),J(Q,ne,de,"↷","\\curvearrowright",!0),J(Q,ne,de,"↻","\\circlearrowright",!0),J(Q,ne,de,"↱","\\Rsh",!0),J(Q,ne,de,"⇊","\\downdownarrows",!0),J(Q,ne,de,"↾","\\upharpoonright",!0),J(Q,ne,de,"⇂","\\downharpoonright",!0),J(Q,ne,de,"⇝","\\rightsquigarrow",!0),J(Q,ne,de,"⇝","\\leadsto"),J(Q,ne,de,"⇛","\\Rrightarrow",!0),J(Q,ne,de,"↾","\\restriction"),J(Q,te,fe,"‘","`"),J(Q,te,fe,"$","\\$"),J(ee,te,fe,"$","\\$"),J(ee,te,fe,"$","\\textdollar"),J(Q,te,fe,"%","\\%"),J(ee,te,fe,"%","\\%"),J(Q,te,fe,"_","\\_"),J(ee,te,fe,"_","\\_"),J(ee,te,fe,"_","\\textunderscore"),J(Q,te,fe,"∠","\\angle",!0),J(Q,te,fe,"∞","\\infty",!0),J(Q,te,fe,"′","\\prime"),J(Q,te,fe,"△","\\triangle"),J(Q,te,fe,"Γ","\\Gamma",!0),J(Q,te,fe,"Δ","\\Delta",!0),J(Q,te,fe,"Θ","\\Theta",!0),J(Q,te,fe,"Λ","\\Lambda",!0),J(Q,te,fe,"Ξ","\\Xi",!0),J(Q,te,fe,"Π","\\Pi",!0),J(Q,te,fe,"Σ","\\Sigma",!0),J(Q,te,fe,"Υ","\\Upsilon",!0),J(Q,te,fe,"Φ","\\Phi",!0),J(Q,te,fe,"Ψ","\\Psi",!0),J(Q,te,fe,"Ω","\\Omega",!0),J(Q,te,fe,"A","Α"),J(Q,te,fe,"B","Β"),J(Q,te,fe,"E","Ε"),J(Q,te,fe,"Z","Ζ"),J(Q,te,fe,"H","Η"),J(Q,te,fe,"I","Ι"),J(Q,te,fe,"K","Κ"),J(Q,te,fe,"M","Μ"),J(Q,te,fe,"N","Ν"),J(Q,te,fe,"O","Ο"),J(Q,te,fe,"P","Ρ"),J(Q,te,fe,"T","Τ"),J(Q,te,fe,"X","Χ"),J(Q,te,fe,"¬","\\neg",!0),J(Q,te,fe,"¬","\\lnot"),J(Q,te,fe,"⊤","\\top"),J(Q,te,fe,"⊥","\\bot"),J(Q,te,fe,"∅","\\emptyset"),J(Q,ne,fe,"∅","\\varnothing"),J(Q,te,se,"α","\\alpha",!0),J(Q,te,se,"β","\\beta",!0),J(Q,te,se,"γ","\\gamma",!0),J(Q,te,se,"δ","\\delta",!0),J(Q,te,se,"ϵ","\\epsilon",!0),J(Q,te,se,"ζ","\\zeta",!0),J(Q,te,se,"η","\\eta",!0),J(Q,te,se,"θ","\\theta",!0),J(Q,te,se,"ι","\\iota",!0),J(Q,te,se,"κ","\\kappa",!0),J(Q,te,se,"λ","\\lambda",!0),J(Q,te,se,"μ","\\mu",!0),J(Q,te,se,"ν","\\nu",!0),J(Q,te,se,"ξ","\\xi",!0),J(Q,te,se,"ο","\\omicron",!0),J(Q,te,se,"π","\\pi",!0),J(Q,te,se,"ρ","\\rho",!0),J(Q,te,se,"σ","\\sigma",!0),J(Q,te,se,"τ","\\tau",!0),J(Q,te,se,"υ","\\upsilon",!0),J(Q,te,se,"ϕ","\\phi",!0),J(Q,te,se,"χ","\\chi",!0),J(Q,te,se,"ψ","\\psi",!0),J(Q,te,se,"ω","\\omega",!0),J(Q,te,se,"ε","\\varepsilon",!0),J(Q,te,se,"ϑ","\\vartheta",!0),J(Q,te,se,"ϖ","\\varpi",!0),J(Q,te,se,"ϱ","\\varrho",!0),J(Q,te,se,"ς","\\varsigma",!0),J(Q,te,se,"φ","\\varphi",!0),J(Q,te,ie,"∗","*"),J(Q,te,ie,"+","+"),J(Q,te,ie,"−","-"),J(Q,te,ie,"⋅","\\cdot",!0),J(Q,te,ie,"∘","\\circ"),J(Q,te,ie,"÷","\\div",!0),J(Q,te,ie,"±","\\pm",!0),J(Q,te,ie,"×","\\times",!0),J(Q,te,ie,"∩","\\cap",!0),J(Q,te,ie,"∪","\\cup",!0),J(Q,te,ie,"∖","\\setminus"),J(Q,te,ie,"∧","\\land"),J(Q,te,ie,"∨","\\lor"),J(Q,te,ie,"∧","\\wedge",!0),J(Q,te,ie,"∨","\\vee",!0),J(Q,te,fe,"√","\\surd"),J(Q,te,ue,"(","("),J(Q,te,ue,"[","["),J(Q,te,ue,"⟨","\\langle",!0),J(Q,te,ue,"∣","\\lvert"),J(Q,te,ue,"∥","\\lVert"),J(Q,te,oe,")",")"),J(Q,te,oe,"]","]"),J(Q,te,oe,"?","?"),J(Q,te,oe,"!","!"),J(Q,te,oe,"⟩","\\rangle",!0),J(Q,te,oe,"∣","\\rvert"),J(Q,te,oe,"∥","\\rVert"),J(Q,te,de,"=","="),J(Q,te,de,"<","<"),J(Q,te,de,">",">"),J(Q,te,de,":",":"),J(Q,te,de,"≈","\\approx",!0),J(Q,te,de,"≅","\\cong",!0),J(Q,te,de,"≥","\\ge"),J(Q,te,de,"≥","\\geq",!0),J(Q,te,de,"←","\\gets"),J(Q,te,de,">","\\gt"),J(Q,te,de,"∈","\\in",!0),J(Q,te,de,"","\\@not"),J(Q,te,de,"⊂","\\subset",!0),J(Q,te,de,"⊃","\\supset",!0),J(Q,te,de,"⊆","\\subseteq",!0),J(Q,te,de,"⊇","\\supseteq",!0),J(Q,ne,de,"⊈","\\nsubseteq",!0),J(Q,ne,de,"⊉","\\nsupseteq",!0),J(Q,te,de,"⊨","\\models"),J(Q,te,de,"←","\\leftarrow",!0),J(Q,te,de,"≤","\\le"),J(Q,te,de,"≤","\\leq",!0),J(Q,te,de,"<","\\lt"),J(Q,te,de,"→","\\rightarrow",!0),J(Q,te,de,"→","\\to"),J(Q,ne,de,"≱","\\ngeq",!0),J(Q,ne,de,"≰","\\nleq",!0),J(Q,te,he," ","\\ "),J(Q,te,he," ","~"),J(Q,te,he," ","\\space"),J(Q,te,he," ","\\nobreakspace"),J(ee,te,he," ","\\ "),J(ee,te,he," ","~"),J(ee,te,he," ","\\space"),J(ee,te,he," ","\\nobreakspace"),J(Q,te,he,null,"\\nobreak"),J(Q,te,he,null,"\\allowbreak"),J(Q,te,ce,",",","),J(Q,te,ce,";",";"),J(Q,ne,ie,"⊼","\\barwedge",!0),J(Q,ne,ie,"⊻","\\veebar",!0),J(Q,te,ie,"⊙","\\odot",!0),J(Q,te,ie,"⊕","\\oplus",!0),J(Q,te,ie,"⊗","\\otimes",!0),J(Q,te,fe,"∂","\\partial",!0),J(Q,te,ie,"⊘","\\oslash",!0),J(Q,ne,ie,"⊚","\\circledcirc",!0),J(Q,ne,ie,"⊡","\\boxdot",!0),J(Q,te,ie,"△","\\bigtriangleup"),J(Q,te,ie,"▽","\\bigtriangledown"),J(Q,te,ie,"†","\\dagger"),J(Q,te,ie,"⋄","\\diamond"),J(Q,te,ie,"⋆","\\star"),J(Q,te,ie,"◃","\\triangleleft"),J(Q,te,ie,"▹","\\triangleright"),J(Q,te,ue,"{","\\{"),J(ee,te,fe,"{","\\{"),J(ee,te,fe,"{","\\textbraceleft"),J(Q,te,oe,"}","\\}"),J(ee,te,fe,"}","\\}"),J(ee,te,fe,"}","\\textbraceright"),J(Q,te,ue,"{","\\lbrace"),J(Q,te,oe,"}","\\rbrace"),J(Q,te,ue,"[","\\lbrack"),J(ee,te,fe,"[","\\lbrack"),J(Q,te,oe,"]","\\rbrack"),J(ee,te,fe,"]","\\rbrack"),J(Q,te,ue,"(","\\lparen"),J(Q,te,oe,")","\\rparen"),J(ee,te,fe,"<","\\textless"),J(ee,te,fe,">","\\textgreater"),J(Q,te,ue,"⌊","\\lfloor",!0),J(Q,te,oe,"⌋","\\rfloor",!0),J(Q,te,ue,"⌈","\\lceil",!0),J(Q,te,oe,"⌉","\\rceil",!0),J(Q,te,fe,"\\","\\backslash"),J(Q,te,fe,"∣","|"),J(Q,te,fe,"∣","\\vert"),J(ee,te,fe,"|","\\textbar"),J(Q,te,fe,"∥","\\|"),J(Q,te,fe,"∥","\\Vert"),J(ee,te,fe,"∥","\\textbardbl"),J(ee,te,fe,"~","\\textasciitilde"),J(ee,te,fe,"\\","\\textbackslash"),J(ee,te,fe,"^","\\textasciicircum"),J(Q,te,de,"↑","\\uparrow",!0),J(Q,te,de,"⇑","\\Uparrow",!0),J(Q,te,de,"↓","\\downarrow",!0),J(Q,te,de,"⇓","\\Downarrow",!0),J(Q,te,de,"↕","\\updownarrow",!0),J(Q,te,de,"⇕","\\Updownarrow",!0),J(Q,te,le,"∐","\\coprod"),J(Q,te,le,"⋁","\\bigvee"),J(Q,te,le,"⋀","\\bigwedge"),J(Q,te,le,"⨄","\\biguplus"),J(Q,te,le,"⋂","\\bigcap"),J(Q,te,le,"⋃","\\bigcup"),J(Q,te,le,"∫","\\int"),J(Q,te,le,"∫","\\intop"),J(Q,te,le,"∬","\\iint"),J(Q,te,le,"∭","\\iiint"),J(Q,te,le,"∏","\\prod"),J(Q,te,le,"∑","\\sum"),J(Q,te,le,"⨂","\\bigotimes"),J(Q,te,le,"⨁","\\bigoplus"),J(Q,te,le,"⨀","\\bigodot"),J(Q,te,le,"∮","\\oint"),J(Q,te,le,"∯","\\oiint"),J(Q,te,le,"∰","\\oiiint"),J(Q,te,le,"⨆","\\bigsqcup"),J(Q,te,le,"∫","\\smallint"),J(ee,te,ae,"…","\\textellipsis"),J(Q,te,ae,"…","\\mathellipsis"),J(ee,te,ae,"…","\\ldots",!0),J(Q,te,ae,"…","\\ldots",!0),J(Q,te,ae,"⋯","\\@cdots",!0),J(Q,te,ae,"⋱","\\ddots",!0),J(Q,te,fe,"⋮","\\varvdots"),J(Q,te,re,"ˊ","\\acute"),J(Q,te,re,"ˋ","\\grave"),J(Q,te,re,"¨","\\ddot"),J(Q,te,re,"~","\\tilde"),J(Q,te,re,"ˉ","\\bar"),J(Q,te,re,"˘","\\breve"),J(Q,te,re,"ˇ","\\check"),J(Q,te,re,"^","\\hat"),J(Q,te,re,"⃗","\\vec"),J(Q,te,re,"˙","\\dot"),J(Q,te,re,"˚","\\mathring"),J(Q,te,se,"ı","\\imath",!0),J(Q,te,se,"ȷ","\\jmath",!0),J(ee,te,fe,"ı","\\i",!0),J(ee,te,fe,"ȷ","\\j",!0),J(ee,te,fe,"ß","\\ss",!0),J(ee,te,fe,"æ","\\ae",!0),J(ee,te,fe,"æ","\\ae",!0),J(ee,te,fe,"œ","\\oe",!0),J(ee,te,fe,"ø","\\o",!0),J(ee,te,fe,"Æ","\\AE",!0),J(ee,te,fe,"Œ","\\OE",!0),J(ee,te,fe,"Ø","\\O",!0),J(ee,te,re,"ˊ","\\'"),J(ee,te,re,"ˋ","\\`"),J(ee,te,re,"ˆ","\\^"),J(ee,te,re,"˜","\\~"),J(ee,te,re,"ˉ","\\="),J(ee,te,re,"˘","\\u"),J(ee,te,re,"˙","\\."),J(ee,te,re,"˚","\\r"),J(ee,te,re,"ˇ","\\v"),J(ee,te,re,"¨",'\\"'),J(ee,te,re,"˝","\\H"),J(ee,te,re,"◯","\\textcircled");var pe={"--":!0,"---":!0,"``":!0,"''":!0};J(ee,te,fe,"–","--"),J(ee,te,fe,"–","\\textendash"),J(ee,te,fe,"—","---"),J(ee,te,fe,"—","\\textemdash"),J(ee,te,fe,"‘","`"),J(ee,te,fe,"‘","\\textquoteleft"),J(ee,te,fe,"’","'"),J(ee,te,fe,"’","\\textquoteright"),J(ee,te,fe,"“","``"),J(ee,te,fe,"“","\\textquotedblleft"),J(ee,te,fe,"”","''"),J(ee,te,fe,"”","\\textquotedblright"),J(Q,te,fe,"°","\\degree",!0),J(ee,te,fe,"°","\\degree"),J(ee,te,fe,"°","\\textdegree",!0),J(Q,te,se,"£","\\pounds"),J(Q,te,se,"£","\\mathsterling",!0),J(ee,te,se,"£","\\pounds"),J(ee,te,se,"£","\\textsterling",!0),J(Q,ne,fe,"✠","\\maltese"),J(ee,ne,fe,"✠","\\maltese"),J(ee,te,he," ","\\ "),J(ee,te,he," "," "),J(ee,te,he," ","~");for(var me='0123456789/@."',ge=0;ge<me.length;ge++){var ye=me.charAt(ge);J(Q,te,fe,ye,ye)}for(var ve='0123456789!@*()-=+[]<>|";:?/.,',be=0;be<ve.length;be++){var we=ve.charAt(be);J(ee,te,fe,we,we)}for(var _e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",ke=0;ke<_e.length;ke++){var Se=_e.charAt(ke);J(Q,te,se,Se,Se),J(ee,te,fe,Se,Se)}J(Q,ne,fe,"C","ℂ"),J(ee,ne,fe,"C","ℂ"),J(Q,ne,fe,"H","ℍ"),J(ee,ne,fe,"H","ℍ"),J(Q,ne,fe,"N","ℕ"),J(ee,ne,fe,"N","ℕ"),J(Q,ne,fe,"P","ℙ"),J(ee,ne,fe,"P","ℙ"),J(Q,ne,fe,"Q","ℚ"),J(ee,ne,fe,"Q","ℚ"),J(Q,ne,fe,"R","ℝ"),J(ee,ne,fe,"R","ℝ"),J(Q,ne,fe,"Z","ℤ"),J(ee,ne,fe,"Z","ℤ"),J(Q,te,se,"h","ℎ"),J(ee,te,se,"h","ℎ");for(var Me="",xe=0;xe<_e.length;xe++){var Oe=_e.charAt(xe);J(Q,te,se,Oe,Me=String.fromCharCode(55349,56320+xe)),J(ee,te,fe,Oe,Me),J(Q,te,se,Oe,Me=String.fromCharCode(55349,56372+xe)),J(ee,te,fe,Oe,Me),J(Q,te,se,Oe,Me=String.fromCharCode(55349,56424+xe)),J(ee,te,fe,Oe,Me),J(Q,te,se,Oe,Me=String.fromCharCode(55349,56580+xe)),J(ee,te,fe,Oe,Me),J(Q,te,se,Oe,Me=String.fromCharCode(55349,56736+xe)),J(ee,te,fe,Oe,Me),J(Q,te,se,Oe,Me=String.fromCharCode(55349,56788+xe)),J(ee,te,fe,Oe,Me),J(Q,te,se,Oe,Me=String.fromCharCode(55349,56840+xe)),J(ee,te,fe,Oe,Me),J(Q,te,se,Oe,Me=String.fromCharCode(55349,56944+xe)),J(ee,te,fe,Oe,Me),xe<26&&(J(Q,te,se,Oe,Me=String.fromCharCode(55349,56632+xe)),J(ee,te,fe,Oe,Me),J(Q,te,se,Oe,Me=String.fromCharCode(55349,56476+xe)),J(ee,te,fe,Oe,Me))}J(Q,te,se,"k",Me=String.fromCharCode(55349,56668)),J(ee,te,fe,"k",Me);for(var Ce=0;Ce<10;Ce++){var Te=Ce.toString();J(Q,te,se,Te,Me=String.fromCharCode(55349,57294+Ce)),J(ee,te,fe,Te,Me),J(Q,te,se,Te,Me=String.fromCharCode(55349,57314+Ce)),J(ee,te,fe,Te,Me),J(Q,te,se,Te,Me=String.fromCharCode(55349,57324+Ce)),J(ee,te,fe,Te,Me),J(Q,te,se,Te,Me=String.fromCharCode(55349,57334+Ce)),J(ee,te,fe,Te,Me)}for(var Re="ÇÐÞçþ",De=0;De<Re.length;De++){var Ee=Re.charAt(De);J(Q,te,se,Ee,Ee),J(ee,te,fe,Ee,Ee)}J(ee,te,fe,"ð","ð"),J(ee,te,fe,"–","–"),J(ee,te,fe,"—","—"),J(ee,te,fe,"‘","‘"),J(ee,te,fe,"’","’"),J(ee,te,fe,"“","“"),J(ee,te,fe,"”","”");var Ae=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathdefault","textit","Math-Italic"],["mathdefault","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Le=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],je=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Pe=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Ie=function(e,t){return t.size<2?e:je[e-1][t.size-1]},He=function(){function e(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||e.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=Pe[this.size-1],this.maxSize=t.maxSize,this._fontMetrics=void 0}var t=e.prototype;return t.extend=function(t){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return new e(n)},t.havingStyle=function(e){return this.style===e?this:this.extend({style:e,size:Ie(this.textSize,e)})},t.havingCrampedStyle=function(){return this.havingStyle(this.style.cramp())},t.havingSize=function(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:Pe[e-1]})},t.havingBaseStyle=function(t){t=t||this.style.text();var n=Ie(e.BASESIZE,t);return this.size===n&&this.textSize===e.BASESIZE&&this.style===t?this:this.extend({style:t,size:n})},t.havingBaseSizing=function(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})},t.withColor=function(e){return this.extend({color:e})},t.withPhantom=function(){return this.extend({phantom:!0})},t.withFont=function(e){return this.extend({font:e})},t.withTextFontFamily=function(e){return this.extend({fontFamily:e,font:""})},t.withTextFontWeight=function(e){return this.extend({fontWeight:e,font:""})},t.withTextFontShape=function(e){return this.extend({fontShape:e,font:""})},t.sizingClasses=function(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]},t.baseSizingClasses=function(){return this.size!==e.BASESIZE?["sizing","reset-size"+this.size,"size"+e.BASESIZE]:[]},t.fontMetrics=function(){return this._fontMetrics||(this._fontMetrics=function(e){var t;if(!q[t=e>=5?0:e>=3?1:2]){var n=q[t]={cssEmPerMu:$.quad[t]/18};for(var r in $)$.hasOwnProperty(r)&&(n[r]=$[r][t])}return q[t]}(this.size)),this._fontMetrics},t.getColor=function(){return this.phantom?"transparent":this.color},e}();He.BASESIZE=6;var Ne=He,Fe={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},Ye={ex:!0,em:!0,mu:!0},ze=function(e,t){var n;if(e.unit in Fe)n=Fe[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if("mu"===e.unit)n=t.fontMetrics().cssEmPerMu;else{var r;if(r=t.style.isTight()?t.havingStyle(t.style.text()):t,"ex"===e.unit)n=r.fontMetrics().xHeight;else{if("em"!==e.unit)throw new a("Invalid unit: '"+e.unit+"'");n=r.fontMetrics().quad}r!==t&&(n*=r.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*n,t.maxSize)},Be=["\\imath","ı","\\jmath","ȷ","\\pounds","\\mathsterling","\\textsterling","£"],We=function(e,t,n){return X[n][e]&&X[n][e].replace&&(e=X[n][e].replace),{value:e,metrics:V(e,t,n)}},$e=function(e,t,n,r,i){var o,a=We(e,t,n),s=a.metrics;if(e=a.value,s){var l=s.italic;("text"===n||r&&"mathit"===r.font)&&(l=0),o=new F(e,s.height,s.depth,l,s.skew,s.width,i)}else"undefined"!=typeof console&&console.warn("No character metrics for '"+e+"' in style '"+t+"'"),o=new F(e,0,0,0,0,0,i);if(r){o.maxFontSize=r.sizeMultiplier,r.style.isTight()&&o.classes.push("mtight");var u=r.getColor();u&&(o.style.color=u)}return o},Ue=function(e,t){if(A(e.classes)!==A(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;for(var n in e.style)if(e.style.hasOwnProperty(n)&&e.style[n]!==t.style[n])return!1;for(var r in t.style)if(t.style.hasOwnProperty(r)&&e.style[r]!==t.style[r])return!1;return!0},Ve=function(e){for(var t=0,n=0,r=0,i=0;i<e.children.length;i++){var o=e.children[i];o.height>t&&(t=o.height),o.depth>n&&(n=o.depth),o.maxFontSize>r&&(r=o.maxFontSize)}e.height=t,e.depth=n,e.maxFontSize=r},qe=function(e,t,n,r){var i=new I(e,t,n,r);return Ve(i),i},Ge=function(e,t,n,r){return new I(e,t,n,r)},Ke=function(e){var t=new E(e);return Ve(t),t},Ze=function(e,t,n){var r="";switch(e){case"amsrm":r="AMS";break;case"textrm":r="Main";break;case"textsf":r="SansSerif";break;case"texttt":r="Typewriter";break;default:r=e}return r+"-"+("textbf"===t&&"textit"===n?"BoldItalic":"textbf"===t?"Bold":"textit"===t?"Italic":"Regular")},Xe={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Je={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Qe={fontMap:Xe,makeSymbol:$e,mathsym:function(e,t,n,r){return void 0===r&&(r=[]),n&&n.font&&"boldsymbol"===n.font&&We(e,"Main-Bold",t).metrics?$e(e,"Main-Bold",t,n,r.concat(["mathbf"])):"\\"===e||"main"===X[t][e].font?$e(e,"Main-Regular",t,n,r):$e(e,"AMS-Regular",t,n,r.concat(["amsrm"]))},makeSpan:qe,makeSvgSpan:Ge,makeLineSpan:function(e,t,n){var r=qe([e],[],t);return r.height=n||t.fontMetrics().defaultRuleThickness,r.style.borderBottomWidth=r.height+"em",r.maxFontSize=1,r},makeAnchor:function(e,t,n,r){var i=new H(e,t,n,r);return Ve(i),i},makeFragment:Ke,wrapFragment:function(e,t){return e instanceof E?qe([],[e],t):e},makeVList:function(e,t){for(var n=function(e){if("individualShift"===e.positionType){for(var t=e.children,n=[t[0]],r=-t[0].shift-t[0].elem.depth,i=r,o=1;o<t.length;o++){var a=-t[o].shift-i-t[o].elem.depth,s=a-(t[o-1].elem.height+t[o-1].elem.depth);i+=a,n.push({type:"kern",size:s}),n.push(t[o])}return{children:n,depth:r}}var l;if("top"===e.positionType){for(var u=e.positionData,c=0;c<e.children.length;c++){var d=e.children[c];u-="kern"===d.type?d.size:d.elem.height+d.elem.depth}l=u}else if("bottom"===e.positionType)l=-e.positionData;else{var h=e.children[0];if("elem"!==h.type)throw new Error('First child must have type "elem".');if("shift"===e.positionType)l=-h.elem.depth-e.positionData;else{if("firstBaseline"!==e.positionType)throw new Error("Invalid positionType "+e.positionType+".");l=-h.elem.depth}}return{children:e.children,depth:l}}(e),r=n.children,i=n.depth,o=0,a=0;a<r.length;a++){var s=r[a];if("elem"===s.type){var l=s.elem;o=Math.max(o,l.maxFontSize,l.height)}}o+=2;var u=qe(["pstrut"],[]);u.style.height=o+"em";for(var c=[],d=i,h=i,f=i,p=0;p<r.length;p++){var m=r[p];if("kern"===m.type)f+=m.size;else{var g=m.elem,y=m.wrapperClasses||[],v=m.wrapperStyle||{},b=qe(y,[u,g],void 0,v);b.style.top=-o-f-g.depth+"em",m.marginLeft&&(b.style.marginLeft=m.marginLeft),m.marginRight&&(b.style.marginRight=m.marginRight),c.push(b),f+=g.height+g.depth}d=Math.min(d,f),h=Math.max(h,f)}var w,_=qe(["vlist"],c);if(_.style.height=h+"em",d<0){var k=qe([],[]),S=qe(["vlist"],[k]);S.style.height=-d+"em";var M=qe(["vlist-s"],[new F("​")]);w=[qe(["vlist-r"],[_,M]),qe(["vlist-r"],[S])]}else w=[qe(["vlist-r"],[_])];var x=qe(["vlist-t"],w);return 2===w.length&&x.classes.push("vlist-t2"),x.height=h,x.depth=-d,x},makeOrd:function(e,t,n){var r,i=e.mode,o=e.text,s=["mord"],l="math"===i||"text"===i&&t.font,u=l?t.font:t.fontFamily;if(55349===o.charCodeAt(0)){var c=function(e,t){var n=1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536,r="math"===t?0:1;if(119808<=n&&n<120484){var i=Math.floor((n-119808)/26);return[Ae[i][2],Ae[i][r]]}if(120782<=n&&n<=120831){var o=Math.floor((n-120782)/10);return[Le[o][2],Le[o][r]]}if(120485===n||120486===n)return[Ae[0][2],Ae[0][r]];if(120486<n&&n<120782)return["",""];throw new a("Unsupported character: "+e)}(o,i),h=c[0],f=c[1];return $e(o,h,i,t,s.concat(f))}if(u){var p,m;if("boldsymbol"===u||"mathnormal"===u){var g="boldsymbol"===u?function(e,t,n,r){return We(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}}(o,i):d(Be,r=o)?{fontName:"Main-Italic",fontClass:"mathit"}:/[0-9]/.test(r.charAt(0))?{fontName:"Caligraphic-Regular",fontClass:"mathcal"}:{fontName:"Math-Italic",fontClass:"mathdefault"};p=g.fontName,m=[g.fontClass]}else d(Be,o)?(p="Main-Italic",m=["mathit"]):l?(p=Xe[u].fontName,m=[u]):(p=Ze(u,t.fontWeight,t.fontShape),m=[u,t.fontWeight,t.fontShape]);if(We(o,p,i).metrics)return $e(o,p,i,t,s.concat(m));if(pe.hasOwnProperty(o)&&"Typewriter"===p.substr(0,10)){for(var y=[],v=0;v<o.length;v++)y.push($e(o[v],p,i,t,s.concat(m)));return Ke(y)}}if("mathord"===n){var b=function(e,t,n,r){return/[0-9]/.test(e.charAt(0))||d(Be,e)?{fontName:"Main-Italic",fontClass:"mathit"}:{fontName:"Math-Italic",fontClass:"mathdefault"}}(o);return $e(o,b.fontName,i,t,s.concat([b.fontClass]))}if("textord"===n){var w=X[i][o]&&X[i][o].font;if("ams"===w){var _=Ze("amsrm",t.fontWeight,t.fontShape);return $e(o,_,i,t,s.concat("amsrm",t.fontWeight,t.fontShape))}if("main"!==w&&w){var k=Ze(w,t.fontWeight,t.fontShape);return $e(o,k,i,t,s.concat(k,t.fontWeight,t.fontShape))}var S=Ze("textrm",t.fontWeight,t.fontShape);return $e(o,S,i,t,s.concat(t.fontWeight,t.fontShape))}throw new Error("unexpected type: "+n+" in makeOrd")},makeGlue:function(e,t){var n=qe(["mspace"],[],t),r=ze(e,t);return n.style.marginRight=r+"em",n},staticSvg:function(e,t){var n=Je[e],r=n[0],i=n[1],o=n[2],a=new z(r),s=new Y([a],{width:i+"em",height:o+"em",style:"width:"+i+"em",viewBox:"0 0 "+1e3*i+" "+1e3*o,preserveAspectRatio:"xMinYMin"}),l=Ge(["overlay"],[s],t);return l.height=o,l.style.height=o+"em",l.style.width=i+"em",l},svgData:Je,tryCombineChars:function(e){for(var t=0;t<e.length-1;t++){var n=e[t],r=e[t+1];n instanceof F&&r instanceof F&&Ue(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,e.splice(t+1,1),t--)}return e}};function et(e,t){var n=tt(e,t);if(!n)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return n}function tt(e,t){return e&&e.type===t?e:null}function nt(e,t){var n=function(e,t){return e&&"atom"===e.type&&e.family===t?e:null}(e,t);if(!n)throw new Error('Expected node of type "atom" and family "'+t+'", but got '+(e?"atom"===e.type?"atom of family "+e.family:"node of type "+e.type:String(e)));return n}function rt(e){return e&&("atom"===e.type||K.hasOwnProperty(e.type))?e:null}var it={number:3,unit:"mu"},ot={number:4,unit:"mu"},at={number:5,unit:"mu"},st={mord:{mop:it,mbin:ot,mrel:at,minner:it},mop:{mord:it,mop:it,mrel:at,minner:it},mbin:{mord:ot,mop:ot,mopen:ot,minner:ot},mrel:{mord:at,mop:at,mopen:at,minner:at},mopen:{},mclose:{mop:it,mbin:ot,mrel:at,minner:it},mpunct:{mord:it,mop:it,mrel:at,mopen:it,mclose:it,mpunct:it,minner:it},minner:{mord:it,mop:it,mbin:ot,mrel:at,mopen:it,mpunct:it,minner:it}},lt={mord:{mop:it},mop:{mord:it,mop:it},mbin:{},mrel:{},mopen:{},mclose:{mop:it},mpunct:{},minner:{mop:it}},ut={},ct={},dt={};function ht(e){for(var t=e.type,n=(e.nodeType,e.names),r=e.props,i=e.handler,o=e.htmlBuilder,a=e.mathmlBuilder,s={type:t,numArgs:r.numArgs,argTypes:r.argTypes,greediness:void 0===r.greediness?1:r.greediness,allowedInText:!!r.allowedInText,allowedInMath:void 0===r.allowedInMath||r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,consumeMode:r.consumeMode,handler:i},l=0;l<n.length;++l)ut[n[l]]=s;t&&(o&&(ct[t]=o),a&&(dt[t]=a))}function ft(e){ht({type:e.type,names:[],props:{numArgs:0},handler:function(){throw new Error("Should never be called.")},htmlBuilder:e.htmlBuilder,mathmlBuilder:e.mathmlBuilder})}var pt=function(e){var t=tt(e,"ordgroup");return t?t.body:[e]},mt=Qe.makeSpan,gt=["leftmost","mbin","mopen","mrel","mop","mpunct"],yt=["rightmost","mrel","mclose","mpunct"],vt={display:O.DISPLAY,text:O.TEXT,script:O.SCRIPT,scriptscript:O.SCRIPTSCRIPT},bt={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},wt=function(e,t,n,r){void 0===r&&(r=[null,null]);for(var i=[],o=0;o<e.length;o++){var a=Ot(e[o],t);if(a instanceof E){var s=a.children;i.push.apply(i,s)}else i.push(a)}if(!n)return i;var l=t;if(1===e.length){var u=tt(e[0],"sizing")||tt(e[0],"styling");u&&("sizing"===u.type?l=t.havingSize(u.size):"styling"===u.type&&(l=t.havingStyle(vt[u.style])))}var c=mt([r[0]||"leftmost"],[],t),h=mt([r[1]||"rightmost"],[],t);return _t(i,(function(e,t){var n=t.classes[0],r=e.classes[0];"mbin"===n&&d(yt,r)?t.classes[0]="mord":"mbin"===r&&d(gt,n)&&(e.classes[0]="mord")}),{node:c},h),_t(i,(function(e,t){var n=Mt(t),r=Mt(e),i=n&&r?e.hasClass("mtight")?lt[n][r]:st[n][r]:null;if(i)return Qe.makeGlue(i,l)}),{node:c},h),i},_t=function e(t,n,r,i){i&&t.push(i);for(var o=0;o<t.length;o++){var a=t[o],s=kt(a);if(s)e(s.children,n,r);else if("mspace"!==a.classes[0]){var l=n(a,r.node);l&&(r.insertAfter?r.insertAfter(l):(t.unshift(l),o++)),r.node=a,r.insertAfter=function(e){return function(n){t.splice(e+1,0,n),o++}}(o)}}i&&t.pop()},kt=function(e){return e instanceof E||e instanceof H?e:null},St=function e(t,n){var r=kt(t);if(r){var i=r.children;if(i.length){if("right"===n)return e(i[i.length-1],"right");if("left"===n)return e(i[0],"left")}}return t},Mt=function(e,t){return e?(t&&(e=St(e,t)),bt[e.classes[0]]||null):null},xt=function(e,t){var n=["nulldelimiter"].concat(e.baseSizingClasses());return mt(t.concat(n))},Ot=function(e,t,n){if(!e)return mt();if(ct[e.type]){var r=ct[e.type](e,t);if(n&&t.size!==n.size){r=mt(t.sizingClasses(n),[r],t);var i=t.sizeMultiplier/n.sizeMultiplier;r.height*=i,r.depth*=i}return r}throw new a("Got group of unknown type: '"+e.type+"'")};function Ct(e,t){var n=mt(["base"],e,t),r=mt(["strut"]);return r.style.height=n.height+n.depth+"em",r.style.verticalAlign=-n.depth+"em",n.children.unshift(r),n}function Tt(e,t){var n=null;1===e.length&&"tag"===e[0].type&&(n=e[0].tag,e=e[0].body);for(var r,i=wt(e,t,!0),o=[],a=[],s=0;s<i.length;s++)if(a.push(i[s]),i[s].hasClass("mbin")||i[s].hasClass("mrel")||i[s].hasClass("allowbreak")){for(var l=!1;s<i.length-1&&i[s+1].hasClass("mspace")&&!i[s+1].hasClass("newline");)s++,a.push(i[s]),i[s].hasClass("nobreak")&&(l=!0);l||(o.push(Ct(a,t)),a=[])}else i[s].hasClass("newline")&&(a.pop(),a.length>0&&(o.push(Ct(a,t)),a=[]),o.push(i[s]));a.length>0&&o.push(Ct(a,t)),n&&((r=Ct(wt(n,t,!0))).classes=["tag"],o.push(r));var u=mt(["katex-html"],o);if(u.setAttribute("aria-hidden","true"),r){var c=r.children[0];c.style.height=u.height+u.depth+"em",c.style.verticalAlign=-u.depth+"em"}return u}function Rt(e){return new E(e)}var Dt=function(){function e(e,t){this.type=void 0,this.attributes=void 0,this.children=void 0,this.type=e,this.attributes={},this.children=t||[]}var t=e.prototype;return t.setAttribute=function(e,t){this.attributes[e]=t},t.getAttribute=function(e){return this.attributes[e]},t.toNode=function(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e},t.toMarkup=function(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=f(this.attributes[t]),e+='"');e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+"</"+this.type+">"},t.toText=function(){return this.children.map((function(e){return e.toText()})).join("")},e}(),Et=function(){function e(e){this.text=void 0,this.text=e}var t=e.prototype;return t.toNode=function(){return document.createTextNode(this.text)},t.toMarkup=function(){return f(this.toText())},t.toText=function(){return this.text},e}(),At={MathNode:Dt,TextNode:Et,SpaceNode:function(){function e(e){this.width=void 0,this.character=void 0,this.width=e,this.character=e>=.05555&&e<=.05556?" ":e>=.1666&&e<=.1667?" ":e>=.2222&&e<=.2223?" ":e>=.2777&&e<=.2778?"  ":e>=-.05556&&e<=-.05555?" ⁣":e>=-.1667&&e<=-.1666?" ⁣":e>=-.2223&&e<=-.2222?" ⁣":e>=-.2778&&e<=-.2777?" ⁣":null}var t=e.prototype;return t.toNode=function(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",this.width+"em"),e},t.toMarkup=function(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+this.width+'em"/>'},t.toText=function(){return this.character?this.character:" "},e}(),newDocumentFragment:Rt},Lt=function(e,t,n){return!X[t][e]||!X[t][e].replace||55349===e.charCodeAt(0)||pe.hasOwnProperty(e)&&n&&(n.fontFamily&&"tt"===n.fontFamily.substr(4,2)||n.font&&"tt"===n.font.substr(4,2))||(e=X[t][e].replace),new At.TextNode(e)},jt=function(e){return 1===e.length?e[0]:new At.MathNode("mrow",e)},Pt=function(e,t){if("texttt"===t.fontFamily)return"monospace";if("textsf"===t.fontFamily)return"textit"===t.fontShape&&"textbf"===t.fontWeight?"sans-serif-bold-italic":"textit"===t.fontShape?"sans-serif-italic":"textbf"===t.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===t.fontShape&&"textbf"===t.fontWeight)return"bold-italic";if("textit"===t.fontShape)return"italic";if("textbf"===t.fontWeight)return"bold";var n=t.font;if(!n||"mathnormal"===n)return null;var r=e.mode;if("mathit"===n)return"italic";if("boldsymbol"===n)return"bold-italic";var i=e.text;return d(["\\imath","\\jmath"],i)?null:(X[r][i]&&X[r][i].replace&&(i=X[r][i].replace),V(i,Qe.fontMap[n].fontName,r)?Qe.fontMap[n].variant:null)},It=function(e,t){for(var n,r=[],i=0;i<e.length;i++){var o=Nt(e[i],t);if(o instanceof Dt&&n instanceof Dt){if("mtext"===o.type&&"mtext"===n.type&&o.getAttribute("mathvariant")===n.getAttribute("mathvariant")){var a;(a=n.children).push.apply(a,o.children);continue}if("mn"===o.type&&"mn"===n.type){var s;(s=n.children).push.apply(s,o.children);continue}if("mi"===o.type&&1===o.children.length&&"mn"===n.type){var l=o.children[0];if(l instanceof Et&&"."===l.text){var u;(u=n.children).push.apply(u,o.children);continue}}else if("mi"===n.type&&1===n.children.length){var c=n.children[0];if(c instanceof Et&&"̸"===c.text&&("mo"===o.type||"mi"===o.type||"mn"===o.type)){var d=o.children[0];d instanceof Et&&d.text.length>0&&(d.text=d.text.slice(0,1)+"̸"+d.text.slice(1),r.pop())}}}r.push(o),n=o}return r},Ht=function(e,t){return jt(It(e,t))},Nt=function(e,t){if(!e)return new At.MathNode("mrow");if(dt[e.type])return dt[e.type](e,t);throw new a("Got group of unknown type: '"+e.type+"'")},Ft=function(e){return new Ne({style:e.displayMode?O.DISPLAY:O.TEXT,maxSize:e.maxSize})},Yt=function(e,t){if(t.displayMode){var n=["katex-display"];t.leqno&&n.push("leqno"),t.fleqn&&n.push("fleqn"),e=Qe.makeSpan(n,[e])}return e},zt={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋"},Bt={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Wt=function(e){var t=new At.MathNode("mo",[new At.TextNode(zt[e.substr(1)])]);return t.setAttribute("stretchy","true"),t},$t=function(e,t){var n=function(){var n=4e5,r=e.label.substr(1);if(d(["widehat","widecheck","widetilde","utilde"],r)){var i,o,a,s="ordgroup"===(p=e.base).type?p.body.length:1;if(s>5)"widehat"===r||"widecheck"===r?(i=420,n=2364,a=.42,o=r+"4"):(i=312,n=2340,a=.34,o="tilde4");else{var l=[1,1,2,2,3,3][s];"widehat"===r||"widecheck"===r?(n=[0,1062,2364,2364,2364][l],i=[0,239,300,360,420][l],a=[0,.24,.3,.3,.36,.42][l],o=r+l):(n=[0,600,1033,2339,2340][l],i=[0,260,286,306,312][l],a=[0,.26,.286,.3,.306,.34][l],o="tilde"+l)}var u=new z(o),c=new Y([u],{width:"100%",height:a+"em",viewBox:"0 0 "+n+" "+i,preserveAspectRatio:"none"});return{span:Qe.makeSvgSpan([],[c],t),minWidth:0,height:a}}var h,f,p,m=[],g=Bt[r],y=g[0],v=g[1],b=g[2],w=b/1e3,_=y.length;if(1===_)h=["hide-tail"],f=[g[3]];else if(2===_)h=["halfarrow-left","halfarrow-right"],f=["xMinYMin","xMaxYMin"];else{if(3!==_)throw new Error("Correct katexImagesData or update code here to support\n                    "+_+" children.");h=["brace-left","brace-center","brace-right"],f=["xMinYMin","xMidYMin","xMaxYMin"]}for(var k=0;k<_;k++){var S=new z(y[k]),M=new Y([S],{width:"400em",height:w+"em",viewBox:"0 0 "+n+" "+b,preserveAspectRatio:f[k]+" slice"}),x=Qe.makeSvgSpan([h[k]],[M],t);if(1===_)return{span:x,minWidth:v,height:w};x.style.height=w+"em",m.push(x)}return{span:Qe.makeSpan(["stretchy"],m,t),minWidth:v,height:w}}(),r=n.span,i=n.minWidth,o=n.height;return r.height=o,r.style.height=o+"em",i>0&&(r.style.minWidth=i+"em"),r},Ut=function(e,t){var n,r,i,o=tt(e,"supsub");o?(n=(r=et(o.base,"accent")).base,o.base=n,i=function(e){if(e instanceof I)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}(Ot(o,t)),o.base=r):n=(r=et(e,"accent")).base;var a=Ot(n,t.havingCrampedStyle()),s=0;if(r.isShifty&&g(n)){var l=m(n);s=function(e){if(e instanceof F)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}(Ot(l,t.havingCrampedStyle())).skew}var u,c=Math.min(a.height,t.fontMetrics().xHeight);if(r.isStretchy)u=$t(r,t),u=Qe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:u,wrapperClasses:["svg-align"],wrapperStyle:s>0?{width:"calc(100% - "+2*s+"em)",marginLeft:2*s+"em"}:void 0}]},t);else{var d,h;"\\vec"===r.label?(d=Qe.staticSvg("vec",t),h=Qe.svgData.vec[1]):((d=Qe.makeSymbol(r.label,"Main-Regular",r.mode,t)).italic=0,h=d.width),u=Qe.makeSpan(["accent-body"],[d]);var f="\\textcircled"===r.label;f&&(u.classes.push("accent-full"),c=a.height);var p=s;f||(p-=h/2),u.style.left=p+"em","\\textcircled"===r.label&&(u.style.top=".2em"),u=Qe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-c},{type:"elem",elem:u}]},t)}var y=Qe.makeSpan(["mord","accent"],[u],t);return i?(i.children[0]=y,i.height=Math.max(y.height,i.height),i.classes[0]="mord",i):y},Vt=function(e,t){var n=e.isStretchy?Wt(e.label):new At.MathNode("mo",[Lt(e.label,e.mode)]),r=new At.MathNode("mover",[Nt(e.base,t),n]);return r.setAttribute("accent","true"),r},qt=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map((function(e){return"\\"+e})).join("|"));ht({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:function(e,t){var n=t[0],r=!qt.test(e.funcName),i=!r||"\\widehat"===e.funcName||"\\widetilde"===e.funcName||"\\widecheck"===e.funcName;return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:Ut,mathmlBuilder:Vt}),ht({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!1},handler:function(e,t){var n=t[0];return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:Ut,mathmlBuilder:Vt}),ht({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:function(e,t){var n=e.parser,r=e.funcName,i=t[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:function(e,t){var n=Ot(e.base,t),r=$t(e,t),i="\\utilde"===e.label?.12:0,o=Qe.makeVList({positionType:"bottom",positionData:r.height+i,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},t);return Qe.makeSpan(["mord","accentunder"],[o],t)},mathmlBuilder:function(e,t){var n=Wt(e.label),r=new At.MathNode("munder",[Nt(e.base,t),n]);return r.setAttribute("accentunder","true"),r}});var Gt=function(e){var t=new At.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};ht({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium"],props:{numArgs:1,numOptionalArgs:1},handler:function(e,t,n){var r=e.parser,i=e.funcName;return{type:"xArrow",mode:r.mode,label:i,body:t[0],below:n[0]}},htmlBuilder:function(e,t){var n,r=t.style,i=t.havingStyle(r.sup()),o=Qe.wrapFragment(Ot(e.body,i,t),t);o.classes.push("x-arrow-pad"),e.below&&(i=t.havingStyle(r.sub()),(n=Qe.wrapFragment(Ot(e.below,i,t),t)).classes.push("x-arrow-pad"));var a,s=$t(e,t),l=-t.fontMetrics().axisHeight+.5*s.height,u=-t.fontMetrics().axisHeight-.5*s.height-.111;if((o.depth>.25||"\\xleftequilibrium"===e.label)&&(u-=o.depth),n){var c=-t.fontMetrics().axisHeight+n.height+.5*s.height+.111;a=Qe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:u},{type:"elem",elem:s,shift:l},{type:"elem",elem:n,shift:c}]},t)}else a=Qe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:u},{type:"elem",elem:s,shift:l}]},t);return a.children[0].children[0].children[1].classes.push("svg-align"),Qe.makeSpan(["mrel","x-arrow"],[a],t)},mathmlBuilder:function(e,t){var n,r=Wt(e.label);if(e.body){var i=Gt(Nt(e.body,t));if(e.below){var o=Gt(Nt(e.below,t));n=new At.MathNode("munderover",[r,o,i])}else n=new At.MathNode("mover",[r,i])}else if(e.below){var a=Gt(Nt(e.below,t));n=new At.MathNode("munder",[r,a])}else n=Gt(),n=new At.MathNode("mover",[r,n]);return n}}),ht({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){for(var n=e.parser,r=et(t[0],"ordgroup").body,i="",o=0;o<r.length;o++)i+=et(r[o],"textord").text;var s=parseInt(i);if(isNaN(s))throw new a("\\@char has non-numeric argument "+i);return{type:"textord",mode:n.mode,text:String.fromCharCode(s)}}});var Kt=function(e,t){var n=wt(e.body,t.withColor(e.color),!1);return Qe.makeFragment(n)},Zt=function(e,t){var n=It(e.body,t.withColor(e.color)),r=new At.MathNode("mstyle",n);return r.setAttribute("mathcolor",e.color),r};ht({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,greediness:3,argTypes:["color","original"]},handler:function(e,t){var n=e.parser,r=et(t[0],"color-token").color,i=t[1];return{type:"color",mode:n.mode,color:r,body:pt(i)}},htmlBuilder:Kt,mathmlBuilder:Zt}),ht({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,greediness:3,argTypes:["color"]},handler:function(e,t){var n=e.parser,r=e.breakOnTokenText,i=et(t[0],"color-token").color,o=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:o}},htmlBuilder:Kt,mathmlBuilder:Zt}),ht({type:"cr",names:["\\cr","\\newline"],props:{numArgs:0,numOptionalArgs:1,argTypes:["size"],allowedInText:!0},handler:function(e,t,n){var r=e.parser,i=e.funcName,o=n[0],a="\\cr"===i,s=!1;return a||(s=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode")),{type:"cr",mode:r.mode,newLine:s,newRow:a,size:o&&et(o,"size").value}},htmlBuilder:function(e,t){if(e.newRow)throw new a("\\cr valid only within a tabular/array environment");var n=Qe.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=ze(e.size,t)+"em")),n},mathmlBuilder:function(e,t){var n=new At.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",ze(e.size,t)+"em")),n}});var Xt=function(e,t,n){var r=V(X.math[e]&&X.math[e].replace||e,t,n);if(!r)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return r},Jt=function(e,t,n,r){var i=n.havingBaseStyle(t),o=Qe.makeSpan(r.concat(i.sizingClasses(n)),[e],n),a=i.sizeMultiplier/n.sizeMultiplier;return o.height*=a,o.depth*=a,o.maxFontSize=i.sizeMultiplier,o},Qt=function(e,t,n){var r=t.havingBaseStyle(n),i=(1-t.sizeMultiplier/r.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=i+"em",e.height-=i,e.depth+=i},en=function(e,t,n,r,i,o){var a=function(e,t,n,r){return Qe.makeSymbol(e,"Size"+t+"-Regular",n,r)}(e,t,i,r),s=Jt(Qe.makeSpan(["delimsizing","size"+t],[a],r),O.TEXT,r,o);return n&&Qt(s,r,O.TEXT),s},tn=function(e,t,n){return{type:"elem",elem:Qe.makeSpan(["delimsizinginner","Size1-Regular"===t?"delim-size1":"delim-size4"],[Qe.makeSpan([],[Qe.makeSymbol(e,t,n)])])}},nn=function(e,t,n,r,i,o){var a,s,l,u;a=l=u=e,s=null;var c="Size1-Regular";"\\uparrow"===e?l=u="⏐":"\\Uparrow"===e?l=u="‖":"\\downarrow"===e?a=l="⏐":"\\Downarrow"===e?a=l="‖":"\\updownarrow"===e?(a="\\uparrow",l="⏐",u="\\downarrow"):"\\Updownarrow"===e?(a="\\Uparrow",l="‖",u="\\Downarrow"):"["===e||"\\lbrack"===e?(a="⎡",l="⎢",u="⎣",c="Size4-Regular"):"]"===e||"\\rbrack"===e?(a="⎤",l="⎥",u="⎦",c="Size4-Regular"):"\\lfloor"===e||"⌊"===e?(l=a="⎢",u="⎣",c="Size4-Regular"):"\\lceil"===e||"⌈"===e?(a="⎡",l=u="⎢",c="Size4-Regular"):"\\rfloor"===e||"⌋"===e?(l=a="⎥",u="⎦",c="Size4-Regular"):"\\rceil"===e||"⌉"===e?(a="⎤",l=u="⎥",c="Size4-Regular"):"("===e||"\\lparen"===e?(a="⎛",l="⎜",u="⎝",c="Size4-Regular"):")"===e||"\\rparen"===e?(a="⎞",l="⎟",u="⎠",c="Size4-Regular"):"\\{"===e||"\\lbrace"===e?(a="⎧",s="⎨",u="⎩",l="⎪",c="Size4-Regular"):"\\}"===e||"\\rbrace"===e?(a="⎫",s="⎬",u="⎭",l="⎪",c="Size4-Regular"):"\\lgroup"===e||"⟮"===e?(a="⎧",u="⎩",l="⎪",c="Size4-Regular"):"\\rgroup"===e||"⟯"===e?(a="⎫",u="⎭",l="⎪",c="Size4-Regular"):"\\lmoustache"===e||"⎰"===e?(a="⎧",u="⎭",l="⎪",c="Size4-Regular"):"\\rmoustache"!==e&&"⎱"!==e||(a="⎫",u="⎩",l="⎪",c="Size4-Regular");var d=Xt(a,c,i),h=d.height+d.depth,f=Xt(l,c,i),p=f.height+f.depth,m=Xt(u,c,i),g=m.height+m.depth,y=0,v=1;if(null!==s){var b=Xt(s,c,i);y=b.height+b.depth,v=2}var w=h+g+y,_=Math.ceil((t-w)/(v*p)),k=w+_*v*p,S=r.fontMetrics().axisHeight;n&&(S*=r.sizeMultiplier);var M=k/2-S,x=[];if(x.push(tn(u,c,i)),null===s)for(var C=0;C<_;C++)x.push(tn(l,c,i));else{for(var T=0;T<_;T++)x.push(tn(l,c,i));x.push(tn(s,c,i));for(var R=0;R<_;R++)x.push(tn(l,c,i))}x.push(tn(a,c,i));var D=r.havingBaseStyle(O.TEXT),E=Qe.makeVList({positionType:"bottom",positionData:M,children:x},D);return Jt(Qe.makeSpan(["delimsizing","mult"],[E],D),O.TEXT,r,o)},rn=function(e,t,n,r){var i;"sqrtTall"===e&&(i="M702 80H400000v40H742v"+(n-54-80)+"l-4 4-4 4c-.667.7\n-2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1h-12l-28-84c-16.667-52-96.667\n-294.333-240-727l-212 -643 -85 170c-4-3.333-8.333-7.667-13 -13l-13-13l77-155\n 77-156c66 199.333 139 419.667 219 661 l218 661zM702 80H400000v40H742z");var o=new z(e,i),a=new Y([o],{width:"400em",height:t+"em",viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return Qe.makeSvgSpan(["hide-tail"],[a],r)},on=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],an=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],sn=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],ln=[0,1.2,1.8,2.4,3],un=[{type:"small",style:O.SCRIPTSCRIPT},{type:"small",style:O.SCRIPT},{type:"small",style:O.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],cn=[{type:"small",style:O.SCRIPTSCRIPT},{type:"small",style:O.SCRIPT},{type:"small",style:O.TEXT},{type:"stack"}],dn=[{type:"small",style:O.SCRIPTSCRIPT},{type:"small",style:O.SCRIPT},{type:"small",style:O.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],hn=function(e){if("small"===e.type)return"Main-Regular";if("large"===e.type)return"Size"+e.size+"-Regular";if("stack"===e.type)return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},fn=function(e,t,n,r){for(var i=Math.min(2,3-r.style.size);i<n.length&&"stack"!==n[i].type;i++){var o=Xt(e,hn(n[i]),"math"),a=o.height+o.depth;if("small"===n[i].type&&(a*=r.havingBaseStyle(n[i].style).sizeMultiplier),a>t)return n[i]}return n[n.length-1]},pn=function(e,t,n,r,i,o){var a;"<"===e||"\\lt"===e||"⟨"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"⟩"!==e||(e="\\rangle"),a=d(sn,e)?un:d(on,e)?dn:cn;var s=fn(e,t,a,r);return"small"===s.type?function(e,t,n,r,i,o){var a=Qe.makeSymbol(e,"Main-Regular",i,r),s=Jt(a,t,r,o);return n&&Qt(s,r,t),s}(e,s.style,n,r,i,o):"large"===s.type?en(e,s.size,n,r,i,o):nn(e,t,n,r,i,o)},mn=function(e,t,n,r,i){if("<"===e||"\\lt"===e||"⟨"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"⟩"!==e||(e="\\rangle"),d(on,e)||d(sn,e))return en(e,t,!1,n,r,i);if(d(an,e))return nn(e,ln[t],!1,n,r,i);throw new a("Illegal delimiter: '"+e+"'")},gn=pn,yn=function(e,t,n,r,i,o){var a=r.fontMetrics().axisHeight*r.sizeMultiplier,s=5/r.fontMetrics().ptPerEm,l=Math.max(t-a,n+a),u=Math.max(l/500*901,2*l-s);return pn(e,u,!0,r,i,o)},vn={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},bn=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function wn(e,t){var n=rt(e);if(n&&d(bn,n.text))return n;throw new a("Invalid delimiter: '"+(n?n.text:JSON.stringify(e))+"' after '"+t.funcName+"'",e)}function _n(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}ht({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1},handler:function(e,t){var n=wn(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:vn[e.funcName].size,mclass:vn[e.funcName].mclass,delim:n.text}},htmlBuilder:function(e,t){return"."===e.delim?Qe.makeSpan([e.mclass]):mn(e.delim,e.size,t,e.mode,[e.mclass])},mathmlBuilder:function(e){var t=[];"."!==e.delim&&t.push(Lt(e.delim,e.mode));var n=new At.MathNode("mo",t);return"mopen"===e.mclass||"mclose"===e.mclass?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n}}),ht({type:"leftright-right",names:["\\right"],props:{numArgs:1},handler:function(e,t){return{type:"leftright-right",mode:e.parser.mode,delim:wn(t[0],e).text}}}),ht({type:"leftright",names:["\\left"],props:{numArgs:1},handler:function(e,t){var n=wn(t[0],e),r=e.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var o=et(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:o.delim}},htmlBuilder:function(e,t){_n(e);for(var n,r,i=wt(e.body,t,!0,["mopen","mclose"]),o=0,a=0,s=!1,l=0;l<i.length;l++)i[l].isMiddle?s=!0:(o=Math.max(i[l].height,o),a=Math.max(i[l].depth,a));if(o*=t.sizeMultiplier,a*=t.sizeMultiplier,n="."===e.left?xt(t,["mopen"]):yn(e.left,o,a,t,e.mode,["mopen"]),i.unshift(n),s)for(var u=1;u<i.length;u++){var c=i[u].isMiddle;c&&(i[u]=yn(c.delim,o,a,c.options,e.mode,[]))}return r="."===e.right?xt(t,["mclose"]):yn(e.right,o,a,t,e.mode,["mclose"]),i.push(r),Qe.makeSpan(["minner"],i,t)},mathmlBuilder:function(e,t){_n(e);var n=It(e.body,t);if("."!==e.left){var r=new At.MathNode("mo",[Lt(e.left,e.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if("."!==e.right){var i=new At.MathNode("mo",[Lt(e.right,e.mode)]);i.setAttribute("fence","true"),n.push(i)}return jt(n)}}),ht({type:"middle",names:["\\middle"],props:{numArgs:1},handler:function(e,t){var n=wn(t[0],e);if(!e.parser.leftrightDepth)throw new a("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},htmlBuilder:function(e,t){var n;if("."===e.delim)n=xt(t,[]);else{n=mn(e.delim,1,t,e.mode,[]);var r={delim:e.delim,options:t};n.isMiddle=r}return n},mathmlBuilder:function(e,t){var n="\\vert"===e.delim||"|"===e.delim?Lt("|","text"):Lt(e.delim,e.mode),r=new At.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var kn=function(e,t){var n,r,i=Qe.wrapFragment(Ot(e.body,t),t),o=e.label.substr(1),a=t.sizeMultiplier,s=0,l=g(e.body);if("sout"===o)(n=Qe.makeSpan(["stretchy","sout"])).height=t.fontMetrics().defaultRuleThickness/a,s=-.5*t.fontMetrics().xHeight;else{/cancel/.test(o)?l||i.classes.push("cancel-pad"):i.classes.push("boxpad");var u;n=function(e,t,n,r){var i,o=e.height+e.depth+2*n;if(/fbox|color/.test(t)){if(i=Qe.makeSpan(["stretchy",t],[],r),"fbox"===t){var a=r.color&&r.getColor();a&&(i.style.borderColor=a)}}else{var s=[];/^[bx]cancel$/.test(t)&&s.push(new B({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&s.push(new B({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var l=new Y(s,{width:"100%",height:o+"em"});i=Qe.makeSvgSpan([],[l],r)}return i.height=o,i.style.height=o+"em",i}(i,o,u=/box/.test(o)?"colorbox"===o?.3:.34:l?.2:0,t),s=i.depth+u,e.backgroundColor&&(n.style.backgroundColor=e.backgroundColor,e.borderColor&&(n.style.borderColor=e.borderColor))}return r=e.backgroundColor?Qe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:s},{type:"elem",elem:i,shift:0}]},t):Qe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:0},{type:"elem",elem:n,shift:s,wrapperClasses:/cancel/.test(o)?["svg-align"]:[]}]},t),/cancel/.test(o)&&(r.height=i.height,r.depth=i.depth),/cancel/.test(o)&&!l?Qe.makeSpan(["mord","cancel-lap"],[r],t):Qe.makeSpan(["mord"],[r],t)},Sn=function(e,t){var n=new At.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Nt(e.body,t)]);switch(e.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\fcolorbox":case"\\colorbox":if(n.setAttribute("width","+6pt"),n.setAttribute("height","+6pt"),n.setAttribute("lspace","3pt"),n.setAttribute("voffset","3pt"),"\\fcolorbox"===e.label){var r=t.fontMetrics().defaultRuleThickness;n.setAttribute("style","border: "+r+"em solid "+String(e.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return e.backgroundColor&&n.setAttribute("mathbackground",e.backgroundColor),n};ht({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,greediness:3,argTypes:["color","text"]},handler:function(e,t,n){var r=e.parser,i=e.funcName,o=et(t[0],"color-token").color,a=t[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:o,body:a}},htmlBuilder:kn,mathmlBuilder:Sn}),ht({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,greediness:3,argTypes:["color","color","text"]},handler:function(e,t,n){var r=e.parser,i=e.funcName,o=et(t[0],"color-token").color,a=et(t[1],"color-token").color,s=t[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:a,borderColor:o,body:s}},htmlBuilder:kn,mathmlBuilder:Sn}),ht({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0},handler:function(e,t){return{type:"enclose",mode:e.parser.mode,label:"\\fbox",body:t[0]}}}),ht({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout"],props:{numArgs:1},handler:function(e,t,n){var r=e.parser,i=e.funcName,o=t[0];return{type:"enclose",mode:r.mode,label:i,body:o}},htmlBuilder:kn,mathmlBuilder:Sn});var Mn={};function xn(e){for(var t=e.type,n=e.names,r=e.props,i=e.handler,o=e.htmlBuilder,a=e.mathmlBuilder,s={type:t,numArgs:r.numArgs||0,greediness:1,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<n.length;++l)Mn[n[l]]=s;o&&(ct[t]=o),a&&(dt[t]=a)}function On(e){var t=[];e.consumeSpaces();for(var n=e.nextToken.text;"\\hline"===n||"\\hdashline"===n;)e.consume(),t.push("\\hdashline"===n),e.consumeSpaces(),n=e.nextToken.text;return t}function Cn(e,t,n){var r=t.hskipBeforeAndAfter,i=t.addJot,o=t.cols,s=t.arraystretch,l=t.colSeparationType;if(e.gullet.beginGroup(),e.gullet.macros.set("\\\\","\\cr"),!s){var u=e.gullet.expandMacroAsText("\\arraystretch");if(null==u)s=1;else if(!(s=parseFloat(u))||s<0)throw new a("Invalid \\arraystretch: "+u)}var c=[],d=[c],h=[],f=[];for(f.push(On(e));;){var p=e.parseExpression(!1,"\\cr");p={type:"ordgroup",mode:e.mode,body:p},n&&(p={type:"styling",mode:e.mode,style:n,body:[p]}),c.push(p);var m=e.nextToken.text;if("&"===m)e.consume();else{if("\\end"===m){1===c.length&&"styling"===p.type&&0===p.body[0].body.length&&d.pop(),f.length<d.length+1&&f.push([]);break}if("\\cr"!==m)throw new a("Expected & or \\\\ or \\cr or \\end",e.nextToken);var g=et(e.parseFunction(),"cr");h.push(g.size),f.push(On(e)),c=[],d.push(c)}}return e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:i,arraystretch:s,body:d,cols:o,rowGaps:h,hskipBeforeAndAfter:r,hLinesBeforeRow:f,colSeparationType:l}}function Tn(e){return"d"===e.substr(0,1)?"display":"text"}var Rn=function(e,t){var n,r,i=e.body.length,o=e.hLinesBeforeRow,s=0,l=new Array(i),u=[],c=1/t.fontMetrics().ptPerEm,d=5*c,f=12*c,p=3*c,m=e.arraystretch*f,g=.7*m,y=.3*m,v=0;function b(e){for(var t=0;t<e.length;++t)t>0&&(v+=.25),u.push({pos:v,isDashed:e[t]})}for(b(o[0]),n=0;n<e.body.length;++n){var w=e.body[n],_=g,k=y;s<w.length&&(s=w.length);var S=new Array(w.length);for(r=0;r<w.length;++r){var M=Ot(w[r],t);k<M.depth&&(k=M.depth),_<M.height&&(_=M.height),S[r]=M}var x=e.rowGaps[n],O=0;x&&(O=ze(x,t))>0&&(k<(O+=y)&&(k=O),O=0),e.addJot&&(k+=p),S.height=_,S.depth=k,v+=_,S.pos=v,v+=k+O,l[n]=S,b(o[n+1])}var C,T,R=v/2+t.fontMetrics().axisHeight,D=e.cols||[],E=[];for(r=0,T=0;r<s||T<D.length;++r,++T){for(var A=D[T]||{},L=!0;"separator"===A.type;){if(L||((C=Qe.makeSpan(["arraycolsep"],[])).style.width=t.fontMetrics().doubleRuleSep+"em",E.push(C)),"|"===A.separator){var j=Qe.makeSpan(["vertical-separator"],[],t);j.style.height=v+"em",j.style.verticalAlign=-(v-R)+"em",E.push(j)}else{if(":"!==A.separator)throw new a("Invalid separator type: "+A.separator);var P=Qe.makeSpan(["vertical-separator","vs-dashed"],[],t);P.style.height=v+"em",P.style.verticalAlign=-(v-R)+"em",E.push(P)}A=D[++T]||{},L=!1}if(!(r>=s)){var I=void 0;(r>0||e.hskipBeforeAndAfter)&&0!==(I=h(A.pregap,d))&&((C=Qe.makeSpan(["arraycolsep"],[])).style.width=I+"em",E.push(C));var H=[];for(n=0;n<i;++n){var N=l[n],F=N[r];if(F){var Y=N.pos-R;F.depth=N.depth,F.height=N.height,H.push({type:"elem",elem:F,shift:Y})}}H=Qe.makeVList({positionType:"individualShift",children:H},t),H=Qe.makeSpan(["col-align-"+(A.align||"c")],[H]),E.push(H),(r<s-1||e.hskipBeforeAndAfter)&&0!==(I=h(A.postgap,d))&&((C=Qe.makeSpan(["arraycolsep"],[])).style.width=I+"em",E.push(C))}}if(l=Qe.makeSpan(["mtable"],E),u.length>0){for(var z=Qe.makeLineSpan("hline",t,.05),B=Qe.makeLineSpan("hdashline",t,.05),W=[{type:"elem",elem:l,shift:0}];u.length>0;){var $=u.pop(),U=$.pos-R;$.isDashed?W.push({type:"elem",elem:B,shift:U}):W.push({type:"elem",elem:z,shift:U})}l=Qe.makeVList({positionType:"individualShift",children:W},t)}return Qe.makeSpan(["mord"],[l],t)},Dn={c:"center ",l:"left ",r:"right "},En=function(e,t){var n=new At.MathNode("mtable",e.body.map((function(e){return new At.MathNode("mtr",e.map((function(e){return new At.MathNode("mtd",[Nt(e,t)])})))}))),r=.16+e.arraystretch-1+(e.addJot?.09:0);n.setAttribute("rowspacing",r+"em");var i="",o="";if(e.cols){var a=e.cols,s="",l=!1,u=0,c=a.length;"separator"===a[0].type&&(i+="top ",u=1),"separator"===a[a.length-1].type&&(i+="bottom ",c-=1);for(var d=u;d<c;d++)"align"===a[d].type?(o+=Dn[a[d].align],l&&(s+="none "),l=!0):"separator"===a[d].type&&l&&(s+="|"===a[d].separator?"solid ":"dashed ",l=!1);n.setAttribute("columnalign",o.trim()),/[sd]/.test(s)&&n.setAttribute("columnlines",s.trim())}if("align"===e.colSeparationType){for(var h=e.cols||[],f="",p=1;p<h.length;p++)f+=p%2?"0em ":"1em ";n.setAttribute("columnspacing",f.trim())}else"alignat"===e.colSeparationType?n.setAttribute("columnspacing","0em"):n.setAttribute("columnspacing","1em");var m="",g=e.hLinesBeforeRow;i+=g[0].length>0?"left ":"",i+=g[g.length-1].length>0?"right ":"";for(var y=1;y<g.length-1;y++)m+=0===g[y].length?"none ":g[y][0]?"dashed ":"solid ";if(/[sd]/.test(m)&&n.setAttribute("rowlines",m.trim()),""===i)return n;var v=new At.MathNode("menclose",[n]);return v.setAttribute("notation",i.trim()),v},An=function(e,t){var n,r=[],i=Cn(e.parser,{cols:r,addJot:!0},"display"),o=0,s={type:"ordgroup",mode:e.mode,body:[]},l=tt(t[0],"ordgroup");if(l){for(var u="",c=0;c<l.body.length;c++)u+=et(l.body[c],"textord").text;n=Number(u),o=2*n}var d=!o;i.body.forEach((function(e){for(var t=1;t<e.length;t+=2){var r=et(e[t],"styling");et(r.body[0],"ordgroup").body.unshift(s)}if(d)o<e.length&&(o=e.length);else{var i=e.length/2;if(n<i)throw new a("Too many math in a row: expected "+n+", but got "+i,e[0])}}));for(var h=0;h<o;++h){var f="r",p=0;h%2==1?f="l":h>0&&d&&(p=1),r[h]={type:"align",align:f,pregap:p,postgap:0}}return i.colSeparationType=d?"align":"alignat",i};xn({type:"array",names:["array","darray"],props:{numArgs:1},handler:function(e,t){var n={cols:(rt(t[0])?[t[0]]:et(t[0],"ordgroup").body).map((function(e){var t=function(e){var t=rt(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}(e).text;if(-1!=="lcr".indexOf(t))return{type:"align",align:t};if("|"===t)return{type:"separator",separator:"|"};if(":"===t)return{type:"separator",separator:":"};throw new a("Unknown column alignment: "+t,e)})),hskipBeforeAndAfter:!0};return Cn(e.parser,n,Tn(e.envName))},htmlBuilder:Rn,mathmlBuilder:En}),xn({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix"],props:{numArgs:0},handler:function(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName],n=Cn(e.parser,{hskipBeforeAndAfter:!1},Tn(e.envName));return t?{type:"leftright",mode:e.mode,body:[n],left:t[0],right:t[1]}:n},htmlBuilder:Rn,mathmlBuilder:En}),xn({type:"array",names:["cases","dcases"],props:{numArgs:0},handler:function(e){var t=Cn(e.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},Tn(e.envName));return{type:"leftright",mode:e.mode,body:[t],left:"\\{",right:"."}},htmlBuilder:Rn,mathmlBuilder:En}),xn({type:"array",names:["aligned"],props:{numArgs:0},handler:An,htmlBuilder:Rn,mathmlBuilder:En}),xn({type:"array",names:["gathered"],props:{numArgs:0},handler:function(e){return Cn(e.parser,{cols:[{type:"align",align:"c"}],addJot:!0},"display")},htmlBuilder:Rn,mathmlBuilder:En}),xn({type:"array",names:["alignedat"],props:{numArgs:1},handler:An,htmlBuilder:Rn,mathmlBuilder:En}),ht({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler:function(e,t){throw new a(e.funcName+" valid only within array environment")}});var Ln=Mn;ht({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler:function(e,t){var n=e.parser,r=e.funcName,i=t[0];if("ordgroup"!==i.type)throw new a("Invalid environment name",i);for(var o="",s=0;s<i.body.length;++s)o+=et(i.body[s],"textord").text;if("\\begin"===r){if(!Ln.hasOwnProperty(o))throw new a("No such environment: "+o,i);var l=Ln[o],u=n.parseArguments("\\begin{"+o+"}",l),c=u.args,d=u.optArgs,h={mode:n.mode,envName:o,parser:n},f=l.handler(h,c,d);n.expect("\\end",!1);var p=n.nextToken,m=et(n.parseFunction(),"environment");if(m.name!==o)throw new a("Mismatch: \\begin{"+o+"} matched by \\end{"+m.name+"}",p);return f}return{type:"environment",mode:n.mode,name:o,nameGroup:i}}});var jn=Qe.makeSpan;function Pn(e,t){var n=wt(e.body,t,!0);return jn([e.mclass],n,t)}function In(e,t){var n=It(e.body,t);return At.newDocumentFragment(n)}ht({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1},handler:function(e,t){var n=e.parser,r=e.funcName,i=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.substr(5),body:pt(i)}},htmlBuilder:Pn,mathmlBuilder:In});var Hn=function(e){var t="ordgroup"===e.type&&e.body.length?e.body[0]:e;return"atom"!==t.type||"bin"!==t.family&&"rel"!==t.family?"mord":"m"+t.family};ht({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler:function(e,t){return{type:"mclass",mode:e.parser.mode,mclass:Hn(t[0]),body:[t[1]]}}}),ht({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler:function(e,t){var n,r=e.parser,i=e.funcName,o=t[1],a=t[0];n="\\stackrel"!==i?Hn(o):"mrel";var s={type:"op",mode:o.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:"\\stackrel"!==i,body:pt(o)},l={type:"supsub",mode:a.mode,base:s,sup:"\\underset"===i?null:a,sub:"\\underset"===i?a:null};return{type:"mclass",mode:r.mode,mclass:n,body:[l]}},htmlBuilder:Pn,mathmlBuilder:In});var Nn=function(e,t){var n=e.font,r=t.withFont(n);return Ot(e.body,r)},Fn=function(e,t){var n=e.font,r=t.withFont(n);return Nt(e.body,r)},Yn={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};ht({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,greediness:2},handler:function(e,t){var n=e.parser,r=e.funcName,i=t[0],o=r;return o in Yn&&(o=Yn[o]),{type:"font",mode:n.mode,font:o.slice(1),body:i}},htmlBuilder:Nn,mathmlBuilder:Fn}),ht({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1,greediness:2},handler:function(e,t){var n=e.parser,r=t[0];return{type:"mclass",mode:n.mode,mclass:Hn(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}]}}}),ht({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it"],props:{numArgs:0,allowedInText:!0},handler:function(e,t){var n=e.parser,r=e.funcName,i=e.breakOnTokenText,o=n.mode,a=n.parseExpression(!0,i);return{type:"font",mode:o,font:"math"+r.slice(1),body:{type:"ordgroup",mode:n.mode,body:a}}},htmlBuilder:Nn,mathmlBuilder:Fn});var zn=function(e,t){var n=t;return"display"===e?n=n.id>=O.SCRIPT.id?n.text():O.DISPLAY:"text"===e&&n.size===O.DISPLAY.size?n=O.TEXT:"script"===e?n=O.SCRIPT:"scriptscript"===e&&(n=O.SCRIPTSCRIPT),n},Bn=function(e,t){var n,r=zn(e.size,t.style),i=r.fracNum(),o=r.fracDen();n=t.havingStyle(i);var a=Ot(e.numer,n,t);if(e.continued){var s=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;a.height=a.height<s?s:a.height,a.depth=a.depth<l?l:a.depth}n=t.havingStyle(o);var u,c,d,h,f,p,m,g,y,v,b=Ot(e.denom,n,t);if(e.hasBarLine?(e.barSize?(c=ze(e.barSize,t),u=Qe.makeLineSpan("frac-line",t,c)):u=Qe.makeLineSpan("frac-line",t),c=u.height,d=u.height):(u=null,c=0,d=t.fontMetrics().defaultRuleThickness),r.size===O.DISPLAY.size||"display"===e.size?(h=t.fontMetrics().num1,f=c>0?3*d:7*d,p=t.fontMetrics().denom1):(c>0?(h=t.fontMetrics().num2,f=d):(h=t.fontMetrics().num3,f=3*d),p=t.fontMetrics().denom2),u){var w=t.fontMetrics().axisHeight;h-a.depth-(w+.5*c)<f&&(h+=f-(h-a.depth-(w+.5*c))),w-.5*c-(b.height-p)<f&&(p+=f-(w-.5*c-(b.height-p))),m=Qe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:b,shift:p},{type:"elem",elem:u,shift:-(w-.5*c)},{type:"elem",elem:a,shift:-h}]},t)}else{var _=h-a.depth-(b.height-p);_<f&&(h+=.5*(f-_),p+=.5*(f-_)),m=Qe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:b,shift:p},{type:"elem",elem:a,shift:-h}]},t)}return n=t.havingStyle(r),m.height*=n.sizeMultiplier/t.sizeMultiplier,m.depth*=n.sizeMultiplier/t.sizeMultiplier,g=r.size===O.DISPLAY.size?t.fontMetrics().delim1:t.fontMetrics().delim2,y=null==e.leftDelim?xt(t,["mopen"]):gn(e.leftDelim,g,!0,t.havingStyle(r),e.mode,["mopen"]),v=e.continued?Qe.makeSpan([]):null==e.rightDelim?xt(t,["mclose"]):gn(e.rightDelim,g,!0,t.havingStyle(r),e.mode,["mclose"]),Qe.makeSpan(["mord"].concat(n.sizingClasses(t)),[y,Qe.makeSpan(["mfrac"],[m]),v],t)},Wn=function(e,t){var n=new At.MathNode("mfrac",[Nt(e.numer,t),Nt(e.denom,t)]);if(e.hasBarLine){if(e.barSize){var r=ze(e.barSize,t);n.setAttribute("linethickness",r+"em")}}else n.setAttribute("linethickness","0px");var i=zn(e.size,t.style);if(i.size!==t.style.size){n=new At.MathNode("mstyle",[n]);var o=i.size===O.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",o),n.setAttribute("scriptlevel","0")}if(null!=e.leftDelim||null!=e.rightDelim){var a=[];if(null!=e.leftDelim){var s=new At.MathNode("mo",[new At.TextNode(e.leftDelim.replace("\\",""))]);s.setAttribute("fence","true"),a.push(s)}if(a.push(n),null!=e.rightDelim){var l=new At.MathNode("mo",[new At.TextNode(e.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}return jt(a)}return n};ht({type:"genfrac",names:["\\cfrac","\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,greediness:2},handler:function(e,t){var n,r=e.parser,i=e.funcName,o=t[0],a=t[1],s=null,l=null,u="auto";switch(i){case"\\cfrac":case"\\dfrac":case"\\frac":case"\\tfrac":n=!0;break;case"\\\\atopfrac":n=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":n=!1,s="(",l=")";break;case"\\\\bracefrac":n=!1,s="\\{",l="\\}";break;case"\\\\brackfrac":n=!1,s="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\cfrac":case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text"}return{type:"genfrac",mode:r.mode,continued:"\\cfrac"===i,numer:o,denom:a,hasBarLine:n,leftDelim:s,rightDelim:l,size:u,barSize:null}},htmlBuilder:Bn,mathmlBuilder:Wn}),ht({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler:function(e){var t,n=e.parser,r=e.funcName,i=e.token;switch(r){case"\\over":t="\\frac";break;case"\\choose":t="\\binom";break;case"\\atop":t="\\\\atopfrac";break;case"\\brace":t="\\\\bracefrac";break;case"\\brack":t="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:n.mode,replaceWith:t,token:i}}});var $n=["display","text","script","scriptscript"],Un=function(e){var t=null;return e.length>0&&(t="."===(t=e)?null:t),t};ht({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,greediness:6,argTypes:["math","math","size","text","math","math"]},handler:function(e,t){var n=e.parser,r=t[4],i=t[5],o=tt(t[0],"atom");o&&(o=nt(t[0],"open"));var a=o?Un(o.text):null,s=tt(t[1],"atom");s&&(s=nt(t[1],"close"));var l,u=s?Un(s.text):null,c=et(t[2],"size"),d=null;l=!!c.isBlank||(d=c.value).number>0;var h="auto",f=tt(t[3],"ordgroup");if(f){if(f.body.length>0){var p=et(f.body[0],"textord");h=$n[Number(p.text)]}}else f=et(t[3],"textord"),h=$n[Number(f.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:l,barSize:d,leftDelim:a,rightDelim:u,size:h}},htmlBuilder:Bn,mathmlBuilder:Wn}),ht({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler:function(e,t){var n=e.parser,r=(e.funcName,e.token);return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:et(t[0],"size").value,token:r}}}),ht({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:function(e,t){var n=e.parser,r=(e.funcName,t[0]),i=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e}(et(t[1],"infix").size),o=t[2],a=i.number>0;return{type:"genfrac",mode:n.mode,numer:r,denom:o,continued:!1,hasBarLine:a,barSize:i,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Bn,mathmlBuilder:Wn});var Vn=function(e,t){var n,r,i=t.style,o=tt(e,"supsub");o?(n=o.sup?Ot(o.sup,t.havingStyle(i.sup()),t):Ot(o.sub,t.havingStyle(i.sub()),t),r=et(o.base,"horizBrace")):r=et(e,"horizBrace");var a,s=Ot(r.base,t.havingBaseStyle(O.DISPLAY)),l=$t(r,t);if(r.isOver?(a=Qe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:l}]},t)).children[0].children[0].children[1].classes.push("svg-align"):(a=Qe.makeVList({positionType:"bottom",positionData:s.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:s}]},t)).children[0].children[0].children[0].classes.push("svg-align"),n){var u=Qe.makeSpan(["mord",r.isOver?"mover":"munder"],[a],t);a=r.isOver?Qe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:u},{type:"kern",size:.2},{type:"elem",elem:n}]},t):Qe.makeVList({positionType:"bottom",positionData:u.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:u}]},t)}return Qe.makeSpan(["mord",r.isOver?"mover":"munder"],[a],t)};ht({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler:function(e,t){var n=e.parser,r=e.funcName;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:t[0]}},htmlBuilder:Vn,mathmlBuilder:function(e,t){var n=Wt(e.label);return new At.MathNode(e.isOver?"mover":"munder",[Nt(e.base,t),n])}}),ht({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:function(e,t){var n=e.parser,r=t[1],i=et(t[0],"url").url;return{type:"href",mode:n.mode,href:i,body:pt(r)}},htmlBuilder:function(e,t){var n=wt(e.body,t,!1);return Qe.makeAnchor(e.href,[],n,t)},mathmlBuilder:function(e,t){var n=Ht(e.body,t);return n instanceof Dt||(n=new Dt("mrow",[n])),n.setAttribute("href",e.href),n}}),ht({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:function(e,t){for(var n=e.parser,r=et(t[0],"url").url,i=[],o=0;o<r.length;o++){var a=r[o];"~"===a&&(a="\\textasciitilde"),i.push({type:"textord",mode:"text",text:a})}var s={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:pt(s)}}}),ht({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:function(e,t){return{type:"htmlmathml",mode:e.parser.mode,html:pt(t[0]),mathml:pt(t[1])}},htmlBuilder:function(e,t){var n=wt(e.html,t,!1);return Qe.makeFragment(n)},mathmlBuilder:function(e,t){return Ht(e.mathml,t)}}),ht({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],allowedInText:!0},handler:function(e,t){var n=e.parser,r=e.funcName,i=et(t[0],"size");if(n.settings.strict){var o="m"===r[1],a="mu"===i.value.unit;o?(a||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, not "+i.value.unit+" units"),"math"!==n.mode&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):a&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder:function(e,t){return Qe.makeGlue(e.dimension,t)},mathmlBuilder:function(e,t){var n=ze(e.dimension,t);return new At.SpaceNode(n)}}),ht({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var n=e.parser,r=e.funcName,i=t[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:function(e,t){var n;"clap"===e.alignment?(n=Qe.makeSpan([],[Ot(e.body,t)]),n=Qe.makeSpan(["inner"],[n],t)):n=Qe.makeSpan(["inner"],[Ot(e.body,t)]);var r=Qe.makeSpan(["fix"],[]),i=Qe.makeSpan([e.alignment],[n,r],t),o=Qe.makeSpan(["strut"]);return o.style.height=i.height+i.depth+"em",o.style.verticalAlign=-i.depth+"em",i.children.unshift(o),i=Qe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i}]},t),Qe.makeSpan(["mord"],[i],t)},mathmlBuilder:function(e,t){var n=new At.MathNode("mpadded",[Nt(e.body,t)]);if("rlap"!==e.alignment){var r="llap"===e.alignment?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}}),ht({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1,consumeMode:"math"},handler:function(e,t){var n=e.funcName,r=e.parser,i=r.mode;r.switchMode("math");var o="\\("===n?"\\)":"$",a=r.parseExpression(!1,o);return r.expect(o,!1),r.switchMode(i),r.consume(),{type:"styling",mode:r.mode,style:"text",body:a}}}),ht({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(e,t){throw new a("Mismatched "+e.funcName)}});var qn=function(e,t){switch(t.style.size){case O.DISPLAY.size:return e.display;case O.TEXT.size:return e.text;case O.SCRIPT.size:return e.script;case O.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};ht({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4},handler:function(e,t){return{type:"mathchoice",mode:e.parser.mode,display:pt(t[0]),text:pt(t[1]),script:pt(t[2]),scriptscript:pt(t[3])}},htmlBuilder:function(e,t){var n=qn(e,t),r=wt(n,t,!1);return Qe.makeFragment(r)},mathmlBuilder:function(e,t){var n=qn(e,t);return Ht(n,t)}});var Gn=["\\smallint"],Kn=function(e,t){var n,r,i,o=!1,a=tt(e,"supsub");a?(n=a.sup,r=a.sub,i=et(a.base,"op"),o=!0):i=et(e,"op");var s,l=t.style,u=!1;if(l.size===O.DISPLAY.size&&i.symbol&&!d(Gn,i.name)&&(u=!0),i.symbol){var c=u?"Size2-Regular":"Size1-Regular",h="";if("\\oiint"!==i.name&&"\\oiiint"!==i.name||(h=i.name.substr(1),i.name="oiint"===h?"\\iint":"\\iiint"),s=Qe.makeSymbol(i.name,c,"math",t,["mop","op-symbol",u?"large-op":"small-op"]),h.length>0){var f=s.italic,p=Qe.staticSvg(h+"Size"+(u?"2":"1"),t);s=Qe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:0},{type:"elem",elem:p,shift:u?.08:0}]},t),i.name="\\"+h,s.classes.unshift("mop"),s.italic=f}}else if(i.body){var m=wt(i.body,t,!0);1===m.length&&m[0]instanceof F?(s=m[0]).classes[0]="mop":s=Qe.makeSpan(["mop"],Qe.tryCombineChars(m),t)}else{for(var g=[],y=1;y<i.name.length;y++)g.push(Qe.mathsym(i.name[y],i.mode));s=Qe.makeSpan(["mop"],g,t)}var v=0,b=0;if((s instanceof F||"\\oiint"===i.name||"\\oiiint"===i.name)&&!i.suppressBaseShift&&(v=(s.height-s.depth)/2-t.fontMetrics().axisHeight,b=s.italic),o){var w,_,k;if(s=Qe.makeSpan([],[s]),n){var S=Ot(n,t.havingStyle(l.sup()),t);_={elem:S,kern:Math.max(t.fontMetrics().bigOpSpacing1,t.fontMetrics().bigOpSpacing3-S.depth)}}if(r){var M=Ot(r,t.havingStyle(l.sub()),t);w={elem:M,kern:Math.max(t.fontMetrics().bigOpSpacing2,t.fontMetrics().bigOpSpacing4-M.height)}}if(_&&w){var x=t.fontMetrics().bigOpSpacing5+w.elem.height+w.elem.depth+w.kern+s.depth+v;k=Qe.makeVList({positionType:"bottom",positionData:x,children:[{type:"kern",size:t.fontMetrics().bigOpSpacing5},{type:"elem",elem:w.elem,marginLeft:-b+"em"},{type:"kern",size:w.kern},{type:"elem",elem:s},{type:"kern",size:_.kern},{type:"elem",elem:_.elem,marginLeft:b+"em"},{type:"kern",size:t.fontMetrics().bigOpSpacing5}]},t)}else if(w){var C=s.height-v;k=Qe.makeVList({positionType:"top",positionData:C,children:[{type:"kern",size:t.fontMetrics().bigOpSpacing5},{type:"elem",elem:w.elem,marginLeft:-b+"em"},{type:"kern",size:w.kern},{type:"elem",elem:s}]},t)}else{if(!_)return s;var T=s.depth+v;k=Qe.makeVList({positionType:"bottom",positionData:T,children:[{type:"elem",elem:s},{type:"kern",size:_.kern},{type:"elem",elem:_.elem,marginLeft:b+"em"},{type:"kern",size:t.fontMetrics().bigOpSpacing5}]},t)}return Qe.makeSpan(["mop","op-limits"],[k],t)}return v&&(s.style.position="relative",s.style.top=v+"em"),s},Zn=function(e,t){var n;if(e.symbol)n=new Dt("mo",[Lt(e.name,e.mode)]),d(Gn,e.name)&&n.setAttribute("largeop","false");else if(e.body)n=new Dt("mo",It(e.body,t));else{n=new Dt("mi",[new Et(e.name.slice(1))]);var r=new Dt("mo",[Lt("⁡","text")]);n=e.parentIsSupSub?new Dt("mo",[n,r]):Rt([n,r])}return n},Xn={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};ht({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:function(e,t){var n=e.parser,r=e.funcName;return 1===r.length&&(r=Xn[r]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:Kn,mathmlBuilder:Zn}),ht({type:"op",names:["\\mathop"],props:{numArgs:1},handler:function(e,t){var n=e.parser,r=t[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:pt(r)}},htmlBuilder:Kn,mathmlBuilder:Zn});var Jn={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};function Qn(e,t,n){for(var r=wt(e,t,!1),i=t.sizeMultiplier/n.sizeMultiplier,o=0;o<r.length;o++){var a=r[o].classes.indexOf("sizing");a<0?Array.prototype.push.apply(r[o].classes,t.sizingClasses(n)):r[o].classes[a+1]==="reset-size"+t.size&&(r[o].classes[a+1]="reset-size"+n.size),r[o].height*=i,r[o].depth*=i}return Qe.makeFragment(r)}ht({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler:function(e){var t=e.parser,n=e.funcName;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Kn,mathmlBuilder:Zn}),ht({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler:function(e){var t=e.parser,n=e.funcName;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Kn,mathmlBuilder:Zn}),ht({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler:function(e){var t=e.parser,n=e.funcName;return 1===n.length&&(n=Jn[n]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:Kn,mathmlBuilder:Zn}),ht({type:"operatorname",names:["\\operatorname"],props:{numArgs:1},handler:function(e,t){var n=e.parser,r=t[0];return{type:"operatorname",mode:n.mode,body:pt(r)}},htmlBuilder:function(e,t){if(e.body.length>0){for(var n=e.body.map((function(e){var t=e.text;return"string"==typeof t?{type:"textord",mode:e.mode,text:t}:e})),r=wt(n,t.withFont("mathrm"),!0),i=0;i<r.length;i++){var o=r[i];o instanceof F&&(o.text=o.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}return Qe.makeSpan(["mop"],r,t)}return Qe.makeSpan(["mop"],[],t)},mathmlBuilder:function(e,t){for(var n=It(e.body,t.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var o=n[i];if(o instanceof At.SpaceNode);else if(o instanceof At.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var a=o.children[0];1===o.children.length&&a instanceof At.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break;default:r=!1}else r=!1}if(r){var s=n.map((function(e){return e.toText()})).join("");n=[new At.TextNode(s)]}var l=new At.MathNode("mi",n);l.setAttribute("mathvariant","normal");var u=new At.MathNode("mo",[Lt("⁡","text")]);return At.newDocumentFragment([l,u])}}),ft({type:"ordgroup",htmlBuilder:function(e,t){return e.semisimple?Qe.makeFragment(wt(e.body,t,!1)):Qe.makeSpan(["mord"],wt(e.body,t,!0),t)},mathmlBuilder:function(e,t){return Ht(e.body,t)}}),ht({type:"overline",names:["\\overline"],props:{numArgs:1},handler:function(e,t){var n=e.parser,r=t[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder:function(e,t){var n=Ot(e.body,t.havingCrampedStyle()),r=Qe.makeLineSpan("overline-line",t),i=Qe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*r.height},{type:"elem",elem:r},{type:"kern",size:r.height}]},t);return Qe.makeSpan(["mord","overline"],[i],t)},mathmlBuilder:function(e,t){var n=new At.MathNode("mo",[new At.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new At.MathNode("mover",[Nt(e.body,t),n]);return r.setAttribute("accent","true"),r}}),ht({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var n=e.parser,r=t[0];return{type:"phantom",mode:n.mode,body:pt(r)}},htmlBuilder:function(e,t){var n=wt(e.body,t.withPhantom(),!1);return Qe.makeFragment(n)},mathmlBuilder:function(e,t){var n=It(e.body,t);return new At.MathNode("mphantom",n)}}),ht({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var n=e.parser,r=t[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:function(e,t){var n=Qe.makeSpan([],[Ot(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=Qe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),Qe.makeSpan(["mord"],[n],t)},mathmlBuilder:function(e,t){var n=It(pt(e.body),t),r=new At.MathNode("mphantom",n),i=new At.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}}),ht({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var n=e.parser,r=t[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:function(e,t){var n=Qe.makeSpan(["inner"],[Ot(e.body,t.withPhantom())]),r=Qe.makeSpan(["fix"],[]);return Qe.makeSpan(["mord","rlap"],[n,r],t)},mathmlBuilder:function(e,t){var n=It(pt(e.body),t),r=new At.MathNode("mphantom",n),i=new At.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});var er=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],tr=function(e,t){var n=t.havingSize(e.size);return Qn(e.body,n,t)};ht({type:"sizing",names:er,props:{numArgs:0,allowedInText:!0},handler:function(e,t){var n=e.breakOnTokenText,r=e.funcName,i=e.parser,o=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:er.indexOf(r)+1,body:o}},htmlBuilder:tr,mathmlBuilder:function(e,t){var n=t.havingSize(e.size),r=It(e.body,n),i=new At.MathNode("mstyle",r);return i.setAttribute("mathsize",n.sizeMultiplier+"em"),i}}),ht({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","text"],allowedInText:!0},handler:function(e,t){var n=e.parser,r=et(t[0],"size").value,i=t[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder:function(e,t){var n={type:"text",mode:e.mode,body:pt(e.body),font:"mathrm"},r={type:"sizing",mode:e.mode,body:[n],size:6},i=tr(r,t),o=ze(e.dy,t);return Qe.makeVList({positionType:"shift",positionData:-o,children:[{type:"elem",elem:i}]},t)},mathmlBuilder:function(e,t){var n=new At.MathNode("mpadded",[Nt(e.body,t)]),r=e.dy.number+e.dy.unit;return n.setAttribute("voffset",r),n}}),ht({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler:function(e,t,n){var r=e.parser,i=n[0],o=et(t[0],"size"),a=et(t[1],"size");return{type:"rule",mode:r.mode,shift:i&&et(i,"size").value,width:o.value,height:a.value}},htmlBuilder:function(e,t){var n=Qe.makeSpan(["mord","rule"],[],t),r=ze(e.width,t),i=ze(e.height,t),o=e.shift?ze(e.shift,t):0;return n.style.borderRightWidth=r+"em",n.style.borderTopWidth=i+"em",n.style.bottom=o+"em",n.width=r,n.height=i+o,n.depth=-o,n.maxFontSize=1.125*i*t.sizeMultiplier,n},mathmlBuilder:function(e,t){var n=ze(e.width,t),r=ze(e.height,t),i=e.shift?ze(e.shift,t):0,o=t.color&&t.getColor()||"black",a=new At.MathNode("mspace");a.setAttribute("mathbackground",o),a.setAttribute("width",n+"em"),a.setAttribute("height",r+"em");var s=new At.MathNode("mpadded",[a]);return i>=0?s.setAttribute("height","+"+i+"em"):(s.setAttribute("height",i+"em"),s.setAttribute("depth","+"+-i+"em")),s.setAttribute("voffset",i+"em"),s}}),ht({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:function(e,t,n){var r=e.parser,i=!1,o=!1,a=n[0]&&et(n[0],"ordgroup");if(a)for(var s="",l=0;l<a.body.length;++l)if("t"===(s=a.body[l].text))i=!0;else{if("b"!==s){i=!1,o=!1;break}o=!0}else i=!0,o=!0;var u=t[0];return{type:"smash",mode:r.mode,body:u,smashHeight:i,smashDepth:o}},htmlBuilder:function(e,t){var n=Qe.makeSpan([],[Ot(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var o=Qe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return Qe.makeSpan(["mord"],[o],t)},mathmlBuilder:function(e,t){var n=new At.MathNode("mpadded",[Nt(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}}),ht({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler:function(e,t,n){var r=e.parser,i=n[0],o=t[0];return{type:"sqrt",mode:r.mode,body:o,index:i}},htmlBuilder:function(e,t){var n=Ot(e.body,t.havingCrampedStyle());0===n.height&&(n.height=t.fontMetrics().xHeight),n=Qe.wrapFragment(n,t);var r=t.fontMetrics().defaultRuleThickness,i=r;t.style.id<O.TEXT.id&&(i=t.fontMetrics().xHeight);var o=r+i/4,a=function(e,t){var n,r,i=t.havingBaseSizing(),o=fn("\\surd",e*i.sizeMultiplier,dn,i),a=i.sizeMultiplier,s=0,l=0,u=0;return"small"===o.type?(e<1?a=1:e<1.4&&(a=.7),l=1/a,(n=rn("sqrtMain",s=1.08/a,u=1080,t)).style.minWidth="0.853em",r=.833/a):"large"===o.type?(u=1080*ln[o.size],l=ln[o.size]/a,s=(ln[o.size]+.08)/a,(n=rn("sqrtSize"+o.size,s,u,t)).style.minWidth="1.02em",r=1/a):(s=e+.08,l=e,u=Math.floor(1e3*e)+80,(n=rn("sqrtTall",s,u,t)).style.minWidth="0.742em",r=1.056),n.height=l,n.style.height=s+"em",{span:n,advanceWidth:r,ruleWidth:t.fontMetrics().sqrtRuleThickness*a}}(n.height+n.depth+o+r,t),s=a.span,l=a.ruleWidth,u=a.advanceWidth,c=s.height-l;c>n.height+n.depth+o&&(o=(o+c-n.height-n.depth)/2);var d=s.height-n.height-o-l;n.style.paddingLeft=u+"em";var h=Qe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+d)},{type:"elem",elem:s},{type:"kern",size:l}]},t);if(e.index){var f=t.havingStyle(O.SCRIPTSCRIPT),p=Ot(e.index,f,t),m=.6*(h.height-h.depth),g=Qe.makeVList({positionType:"shift",positionData:-m,children:[{type:"elem",elem:p}]},t),y=Qe.makeSpan(["root"],[g]);return Qe.makeSpan(["mord","sqrt"],[y,h],t)}return Qe.makeSpan(["mord","sqrt"],[h],t)},mathmlBuilder:function(e,t){var n=e.body,r=e.index;return r?new At.MathNode("mroot",[Nt(n,t),Nt(r,t)]):new At.MathNode("msqrt",[Nt(n,t)])}});var nr={display:O.DISPLAY,text:O.TEXT,script:O.SCRIPT,scriptscript:O.SCRIPTSCRIPT};ht({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0},handler:function(e,t){var n=e.breakOnTokenText,r=e.funcName,i=e.parser,o=i.parseExpression(!0,n),a=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:a,body:o}},htmlBuilder:function(e,t){var n=nr[e.style],r=t.havingStyle(n).withFont("");return Qn(e.body,r,t)},mathmlBuilder:function(e,t){var n={display:O.DISPLAY,text:O.TEXT,script:O.SCRIPT,scriptscript:O.SCRIPTSCRIPT}[e.style],r=t.havingStyle(n),i=It(e.body,r),o=new At.MathNode("mstyle",i),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[e.style];return o.setAttribute("scriptlevel",a[0]),o.setAttribute("displaystyle",a[1]),o}}),ft({type:"supsub",htmlBuilder:function(e,t){var n=function(e,t){var n=e.base;return n?"op"===n.type?n.limits&&(t.style.size===O.DISPLAY.size||n.alwaysHandleSupSub)?Kn:null:"accent"===n.type?g(n.base)?Ut:null:"horizBrace"===n.type&&!e.sub===n.isOver?Vn:null:null}(e,t);if(n)return n(e,t);var r,i,o,a=e.base,s=e.sup,l=e.sub,u=Ot(a,t),c=t.fontMetrics(),d=0,h=0,f=a&&g(a);if(s){var p=t.havingStyle(t.style.sup());r=Ot(s,p,t),f||(d=u.height-p.fontMetrics().supDrop*p.sizeMultiplier/t.sizeMultiplier)}if(l){var m=t.havingStyle(t.style.sub());i=Ot(l,m,t),f||(h=u.depth+m.fontMetrics().subDrop*m.sizeMultiplier/t.sizeMultiplier)}o=t.style===O.DISPLAY?c.sup1:t.style.cramped?c.sup3:c.sup2;var y,v=t.sizeMultiplier,b=.5/c.ptPerEm/v+"em",w=null;if(i){var _=e.base&&"op"===e.base.type&&e.base.name&&("\\oiint"===e.base.name||"\\oiiint"===e.base.name);(u instanceof F||_)&&(w=-u.italic+"em")}if(r&&i){d=Math.max(d,o,r.depth+.25*c.xHeight),h=Math.max(h,c.sub2);var k=4*c.defaultRuleThickness;if(d-r.depth-(i.height-h)<k){h=k-(d-r.depth)+i.height;var S=.8*c.xHeight-(d-r.depth);S>0&&(d+=S,h-=S)}y=Qe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:h,marginRight:b,marginLeft:w},{type:"elem",elem:r,shift:-d,marginRight:b}]},t)}else if(i){h=Math.max(h,c.sub1,i.height-.8*c.xHeight),y=Qe.makeVList({positionType:"shift",positionData:h,children:[{type:"elem",elem:i,marginLeft:w,marginRight:b}]},t)}else{if(!r)throw new Error("supsub must have either sup or sub.");d=Math.max(d,o,r.depth+.25*c.xHeight),y=Qe.makeVList({positionType:"shift",positionData:-d,children:[{type:"elem",elem:r,marginRight:b}]},t)}var M=Mt(u,"right")||"mord";return Qe.makeSpan([M],[u,Qe.makeSpan(["msupsub"],[y])],t)},mathmlBuilder:function(e,t){var n,r=!1,i=tt(e.base,"horizBrace");i&&!!e.sup===i.isOver&&(r=!0,n=i.isOver),e.base&&"op"===e.base.type&&(e.base.parentIsSupSub=!0);var o,a=[Nt(e.base,t)];if(e.sub&&a.push(Nt(e.sub,t)),e.sup&&a.push(Nt(e.sup,t)),r)o=n?"mover":"munder";else if(e.sub)if(e.sup){var s=e.base;o=s&&"op"===s.type&&s.limits&&t.style===O.DISPLAY?"munderover":"msubsup"}else{var l=e.base;o=l&&"op"===l.type&&l.limits&&(t.style===O.DISPLAY||l.alwaysHandleSupSub)?"munder":"msub"}else{var u=e.base;o=u&&"op"===u.type&&u.limits&&(t.style===O.DISPLAY||u.alwaysHandleSupSub)?"mover":"msup"}return new At.MathNode(o,a)}}),ft({type:"atom",htmlBuilder:function(e,t){return Qe.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder:function(e,t){var n=new At.MathNode("mo",[Lt(e.text,e.mode)]);if("bin"===e.family){var r=Pt(e,t);"bold-italic"===r&&n.setAttribute("mathvariant",r)}else"punct"===e.family?n.setAttribute("separator","true"):"open"!==e.family&&"close"!==e.family||n.setAttribute("stretchy","false");return n}});var rr={mi:"italic",mn:"normal",mtext:"normal"};ft({type:"mathord",htmlBuilder:function(e,t){return Qe.makeOrd(e,t,"mathord")},mathmlBuilder:function(e,t){var n=new At.MathNode("mi",[Lt(e.text,e.mode,t)]),r=Pt(e,t)||"italic";return r!==rr[n.type]&&n.setAttribute("mathvariant",r),n}}),ft({type:"textord",htmlBuilder:function(e,t){return Qe.makeOrd(e,t,"textord")},mathmlBuilder:function(e,t){var n,r=Lt(e.text,e.mode,t),i=Pt(e,t)||"normal";return n="text"===e.mode?new At.MathNode("mtext",[r]):/[0-9]/.test(e.text)?new At.MathNode("mn",[r]):"\\prime"===e.text?new At.MathNode("mo",[r]):new At.MathNode("mi",[r]),i!==rr[n.type]&&n.setAttribute("mathvariant",i),n}});var ir={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},or={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};ft({type:"spacing",htmlBuilder:function(e,t){if(or.hasOwnProperty(e.text)){var n=or[e.text].className||"";if("text"===e.mode){var r=Qe.makeOrd(e,t,"textord");return r.classes.push(n),r}return Qe.makeSpan(["mspace",n],[Qe.mathsym(e.text,e.mode,t)],t)}if(ir.hasOwnProperty(e.text))return Qe.makeSpan(["mspace",ir[e.text]],[],t);throw new a('Unknown type of space "'+e.text+'"')},mathmlBuilder:function(e,t){if(!or.hasOwnProperty(e.text)){if(ir.hasOwnProperty(e.text))return new At.MathNode("mspace");throw new a('Unknown type of space "'+e.text+'"')}return new At.MathNode("mtext",[new At.TextNode(" ")])}});var ar=function(){var e=new At.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};ft({type:"tag",mathmlBuilder:function(e,t){var n=new At.MathNode("mtable",[new At.MathNode("mtr",[ar(),new At.MathNode("mtd",[Ht(e.body,t)]),ar(),new At.MathNode("mtd",[Ht(e.tag,t)])])]);return n.setAttribute("width","100%"),n}});var sr={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},lr={"\\textbf":"textbf","\\textmd":"textmd"},ur={"\\textit":"textit","\\textup":"textup"},cr=function(e,t){var n=e.font;return n?sr[n]?t.withTextFontFamily(sr[n]):lr[n]?t.withTextFontWeight(lr[n]):t.withTextFontShape(ur[n]):t};ht({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],greediness:2,allowedInText:!0,consumeMode:"text"},handler:function(e,t){var n=e.parser,r=e.funcName,i=t[0];return{type:"text",mode:n.mode,body:pt(i),font:r}},htmlBuilder:function(e,t){var n=cr(e,t),r=wt(e.body,n,!0);return Qe.makeSpan(["mord","text"],Qe.tryCombineChars(r),n)},mathmlBuilder:function(e,t){var n=cr(e,t);return Ht(e.body,n)}}),ht({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){return{type:"underline",mode:e.parser.mode,body:t[0]}},htmlBuilder:function(e,t){var n=Ot(e.body,t),r=Qe.makeLineSpan("underline-line",t),i=Qe.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:r.height},{type:"elem",elem:r},{type:"kern",size:3*r.height},{type:"elem",elem:n}]},t);return Qe.makeSpan(["mord","underline"],[i],t)},mathmlBuilder:function(e,t){var n=new At.MathNode("mo",[new At.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new At.MathNode("munder",[Nt(e.body,t),n]);return r.setAttribute("accentunder","true"),r}}),ht({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler:function(e,t,n){throw new a("\\verb ended by end of line instead of matching delimiter")},htmlBuilder:function(e,t){for(var n=dr(e),r=[],i=t.havingStyle(t.style.text()),o=0;o<n.length;o++){var a=n[o];"~"===a&&(a="\\textasciitilde"),r.push(Qe.makeSymbol(a,"Typewriter-Regular",e.mode,i,["mord","texttt"]))}return Qe.makeSpan(["mord","text"].concat(i.sizingClasses(t)),Qe.tryCombineChars(r),i)},mathmlBuilder:function(e,t){var n=new At.TextNode(dr(e)),r=new At.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var dr=function(e){return e.body.replace(/ /g,e.star?"␣":" ")},hr=ut,fr=new RegExp("^(\\\\[a-zA-Z@]+)[ \r\n\t]*$"),pr=new RegExp("[̀-ͯ]+$"),mr=function(){function e(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp("([ \r\n\t]+)|([!-\\[\\]-‧‪-퟿豈-￿][̀-ͯ]*|[\ud800-\udbff][\udc00-\udfff][̀-ͯ]*|\\\\verb\\*([^]).*?\\3|\\\\verb([^*a-zA-Z]).*?\\4|\\\\[a-zA-Z@]+[ \r\n\t]*|\\\\[^\ud800-\udfff])","g"),this.catcodes={"%":14}}var t=e.prototype;return t.setCatcode=function(e,t){this.catcodes[e]=t},t.lex=function(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new i("EOF",new r(this,t,t));var n=this.tokenRegex.exec(e);if(null===n||n.index!==t)throw new a("Unexpected character: '"+e[t]+"'",new i(e[t],new r(this,t,t+1)));var o=n[2]||" ";if(14===this.catcodes[o]){var s=e.indexOf("\n",this.tokenRegex.lastIndex);return-1===s?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}var l=o.match(fr);return l&&(o=l[1]),new i(o,new r(this,t,this.tokenRegex.lastIndex))},e}(),gr=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}var t=e.prototype;return t.beginGroup=function(){this.undefStack.push({})},t.endGroup=function(){if(0===this.undefStack.length)throw new a("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(void 0===e[t]?delete this.current[t]:this.current[t]=e[t])},t.has=function(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)},t.get=function(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]},t.set=function(e,t,n){if(void 0===n&&(n=!1),n){for(var r=0;r<this.undefStack.length;r++)delete this.undefStack[r][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var i=this.undefStack[this.undefStack.length-1];i&&!i.hasOwnProperty(e)&&(i[e]=this.current[e])}this.current[e]=t},e}(),yr={},vr=yr;function br(e,t){yr[e]=t}br("\\@firstoftwo",(function(e){return{tokens:e.consumeArgs(2)[0],numArgs:0}})),br("\\@secondoftwo",(function(e){return{tokens:e.consumeArgs(2)[1],numArgs:0}})),br("\\@ifnextchar",(function(e){var t=e.consumeArgs(3),n=e.future();return 1===t[0].length&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}})),br("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),br("\\TextOrMath",(function(e){var t=e.consumeArgs(2);return"text"===e.mode?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}}));var wr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};br("\\char",(function(e){var t,n=e.popToken(),r="";if("'"===n.text)t=8,n=e.popToken();else if('"'===n.text)t=16,n=e.popToken();else if("`"===n.text)if("\\"===(n=e.popToken()).text[0])r=n.text.charCodeAt(1);else{if("EOF"===n.text)throw new a("\\char` missing argument");r=n.text.charCodeAt(0)}else t=10;if(t){if(null==(r=wr[n.text])||r>=t)throw new a("Invalid base-"+t+" digit "+n.text);for(var i;null!=(i=wr[e.future().text])&&i<t;)r*=t,r+=i,e.popToken()}return"\\@char{"+r+"}"}));var _r=function(e,t){var n=e.consumeArgs(1)[0];if(1!==n.length)throw new a("\\gdef's first argument must be a macro name");var r=n[0].text,i=0;for(n=e.consumeArgs(1)[0];1===n.length&&"#"===n[0].text;){if(1!==(n=e.consumeArgs(1)[0]).length)throw new a('Invalid argument number length "'+n.length+'"');if(!/^[1-9]$/.test(n[0].text))throw new a('Invalid argument number "'+n[0].text+'"');if(i++,parseInt(n[0].text)!==i)throw new a('Argument number "'+n[0].text+'" out of order');n=e.consumeArgs(1)[0]}return e.macros.set(r,{tokens:n,numArgs:i},t),""};br("\\gdef",(function(e){return _r(e,!0)})),br("\\def",(function(e){return _r(e,!1)})),br("\\global",(function(e){var t=e.consumeArgs(1)[0];if(1!==t.length)throw new a("Invalid command after \\global");var n=t[0].text;if("\\def"===n)return _r(e,!0);throw new a("Invalid command '"+n+"' after \\global")}));var kr=function(e,t,n){var r=e.consumeArgs(1)[0];if(1!==r.length)throw new a("\\newcommand's first argument must be a macro name");var i=r[0].text,o=e.isDefined(i);if(o&&!t)throw new a("\\newcommand{"+i+"} attempting to redefine "+i+"; use \\renewcommand");if(!o&&!n)throw new a("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var s=0;if(1===(r=e.consumeArgs(1)[0]).length&&"["===r[0].text){for(var l="",u=e.expandNextToken();"]"!==u.text&&"EOF"!==u.text;)l+=u.text,u=e.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new a("Invalid number of arguments: "+l);s=parseInt(l),r=e.consumeArgs(1)[0]}return e.macros.set(i,{tokens:r,numArgs:s}),""};br("\\newcommand",(function(e){return kr(e,!1,!0)})),br("\\renewcommand",(function(e){return kr(e,!0,!1)})),br("\\providecommand",(function(e){return kr(e,!0,!0)})),br("\\bgroup","{"),br("\\egroup","}"),br("\\lq","`"),br("\\rq","'"),br("\\aa","\\r a"),br("\\AA","\\r A"),br("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),br("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),br("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),br("ℬ","\\mathscr{B}"),br("ℰ","\\mathscr{E}"),br("ℱ","\\mathscr{F}"),br("ℋ","\\mathscr{H}"),br("ℐ","\\mathscr{I}"),br("ℒ","\\mathscr{L}"),br("ℳ","\\mathscr{M}"),br("ℛ","\\mathscr{R}"),br("ℭ","\\mathfrak{C}"),br("ℌ","\\mathfrak{H}"),br("ℨ","\\mathfrak{Z}"),br("\\Bbbk","\\Bbb{k}"),br("·","\\cdotp"),br("\\llap","\\mathllap{\\textrm{#1}}"),br("\\rlap","\\mathrlap{\\textrm{#1}}"),br("\\clap","\\mathclap{\\textrm{#1}}"),br("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),br("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),br("\\ne","\\neq"),br("≠","\\neq"),br("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),br("∉","\\notin"),br("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),br("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),br("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),br("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),br("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),br("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),br("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),br("⟂","\\perp"),br("‼","\\mathclose{!\\mkern-0.8mu!}"),br("∌","\\notni"),br("⌜","\\ulcorner"),br("⌝","\\urcorner"),br("⌞","\\llcorner"),br("⌟","\\lrcorner"),br("©","\\copyright"),br("®","\\textregistered"),br("️","\\textregistered"),br("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),br("⋮","\\vdots"),br("\\varGamma","\\mathit{\\Gamma}"),br("\\varDelta","\\mathit{\\Delta}"),br("\\varTheta","\\mathit{\\Theta}"),br("\\varLambda","\\mathit{\\Lambda}"),br("\\varXi","\\mathit{\\Xi}"),br("\\varPi","\\mathit{\\Pi}"),br("\\varSigma","\\mathit{\\Sigma}"),br("\\varUpsilon","\\mathit{\\Upsilon}"),br("\\varPhi","\\mathit{\\Phi}"),br("\\varPsi","\\mathit{\\Psi}"),br("\\varOmega","\\mathit{\\Omega}"),br("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu"),br("\\boxed","\\fbox{$\\displaystyle{#1}$}"),br("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),br("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),br("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var Sr={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};br("\\dots",(function(e){var t="\\dotso",n=e.expandAfterFuture().text;return n in Sr?t=Sr[n]:("\\not"===n.substr(0,4)||n in X.math&&d(["bin","rel"],X.math[n].group))&&(t="\\dotsb"),t}));var Mr={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};br("\\dotso",(function(e){return e.future().text in Mr?"\\ldots\\,":"\\ldots"})),br("\\dotsc",(function(e){var t=e.future().text;return t in Mr&&","!==t?"\\ldots\\,":"\\ldots"})),br("\\cdots",(function(e){return e.future().text in Mr?"\\@cdots\\,":"\\@cdots"})),br("\\dotsb","\\cdots"),br("\\dotsm","\\cdots"),br("\\dotsi","\\!\\cdots"),br("\\dotsx","\\ldots\\,"),br("\\DOTSI","\\relax"),br("\\DOTSB","\\relax"),br("\\DOTSX","\\relax"),br("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),br("\\,","\\tmspace+{3mu}{.1667em}"),br("\\thinspace","\\,"),br("\\>","\\mskip{4mu}"),br("\\:","\\tmspace+{4mu}{.2222em}"),br("\\medspace","\\:"),br("\\;","\\tmspace+{5mu}{.2777em}"),br("\\thickspace","\\;"),br("\\!","\\tmspace-{3mu}{.1667em}"),br("\\negthinspace","\\!"),br("\\negmedspace","\\tmspace-{4mu}{.2222em}"),br("\\negthickspace","\\tmspace-{5mu}{.277em}"),br("\\enspace","\\kern.5em "),br("\\enskip","\\hskip.5em\\relax"),br("\\quad","\\hskip1em\\relax"),br("\\qquad","\\hskip2em\\relax"),br("\\tag","\\@ifstar\\tag@literal\\tag@paren"),br("\\tag@paren","\\tag@literal{({#1})}"),br("\\tag@literal",(function(e){if(e.macros.get("\\df@tag"))throw new a("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"})),br("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),br("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),br("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),br("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),br("\\pmb","\\html@mathml{\\@binrel{#1}{\\mathrlap{#1}\\mathrlap{\\mkern0.4mu\\raisebox{0.4mu}{$#1$}}{\\mkern0.8mu#1}}}{\\mathbf{#1}}"),br("\\\\","\\newline"),br("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var xr=W["Main-Regular"]["T".charCodeAt(0)][1]-.7*W["Main-Regular"]["A".charCodeAt(0)][1]+"em";br("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+xr+"}{\\scriptsize A}\\kern-.15em\\TeX}{LaTeX}}"),br("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+xr+"}{\\scriptsize A}\\kern-.15em\\TeX}{KaTeX}}"),br("\\hspace","\\@ifstar\\@hspacer\\@hspace"),br("\\@hspace","\\hskip #1\\relax"),br("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),br("\\ordinarycolon",":"),br("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),br("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),br("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),br("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),br("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),br("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),br("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),br("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),br("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),br("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),br("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),br("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),br("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),br("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),br("∷","\\dblcolon"),br("∹","\\eqcolon"),br("≔","\\coloneqq"),br("≕","\\eqqcolon"),br("⩴","\\Coloneqq"),br("\\ratio","\\vcentcolon"),br("\\coloncolon","\\dblcolon"),br("\\colonequals","\\coloneqq"),br("\\coloncolonequals","\\Coloneqq"),br("\\equalscolon","\\eqqcolon"),br("\\equalscoloncolon","\\Eqqcolon"),br("\\colonminus","\\coloneq"),br("\\coloncolonminus","\\Coloneq"),br("\\minuscolon","\\eqcolon"),br("\\minuscoloncolon","\\Eqcolon"),br("\\coloncolonapprox","\\Colonapprox"),br("\\coloncolonsim","\\Colonsim"),br("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),br("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),br("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),br("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),br("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),br("\\limsup","\\DOTSB\\mathop{\\operatorname{lim\\,sup}}\\limits"),br("\\liminf","\\DOTSB\\mathop{\\operatorname{lim\\,inf}}\\limits"),br("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),br("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),br("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}"),br("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}"),br("\\nleqq","\\html@mathml{\\@nleqq}{≰}"),br("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}"),br("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}"),br("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}"),br("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}"),br("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}"),br("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),br("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),br("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),br("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),br("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),br("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),br("⟦","\\llbracket"),br("⟧","\\rrbracket"),br("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),br("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),br("⦃","\\lBrace"),br("⦄","\\rBrace"),br("\\darr","\\downarrow"),br("\\dArr","\\Downarrow"),br("\\Darr","\\Downarrow"),br("\\lang","\\langle"),br("\\rang","\\rangle"),br("\\uarr","\\uparrow"),br("\\uArr","\\Uparrow"),br("\\Uarr","\\Uparrow"),br("\\N","\\mathbb{N}"),br("\\R","\\mathbb{R}"),br("\\Z","\\mathbb{Z}"),br("\\alef","\\aleph"),br("\\alefsym","\\aleph"),br("\\Alpha","\\mathrm{A}"),br("\\Beta","\\mathrm{B}"),br("\\bull","\\bullet"),br("\\Chi","\\mathrm{X}"),br("\\clubs","\\clubsuit"),br("\\cnums","\\mathbb{C}"),br("\\Complex","\\mathbb{C}"),br("\\Dagger","\\ddagger"),br("\\diamonds","\\diamondsuit"),br("\\empty","\\emptyset"),br("\\Epsilon","\\mathrm{E}"),br("\\Eta","\\mathrm{H}"),br("\\exist","\\exists"),br("\\harr","\\leftrightarrow"),br("\\hArr","\\Leftrightarrow"),br("\\Harr","\\Leftrightarrow"),br("\\hearts","\\heartsuit"),br("\\image","\\Im"),br("\\infin","\\infty"),br("\\Iota","\\mathrm{I}"),br("\\isin","\\in"),br("\\Kappa","\\mathrm{K}"),br("\\larr","\\leftarrow"),br("\\lArr","\\Leftarrow"),br("\\Larr","\\Leftarrow"),br("\\lrarr","\\leftrightarrow"),br("\\lrArr","\\Leftrightarrow"),br("\\Lrarr","\\Leftrightarrow"),br("\\Mu","\\mathrm{M}"),br("\\natnums","\\mathbb{N}"),br("\\Nu","\\mathrm{N}"),br("\\Omicron","\\mathrm{O}"),br("\\plusmn","\\pm"),br("\\rarr","\\rightarrow"),br("\\rArr","\\Rightarrow"),br("\\Rarr","\\Rightarrow"),br("\\real","\\Re"),br("\\reals","\\mathbb{R}"),br("\\Reals","\\mathbb{R}"),br("\\Rho","\\mathrm{P}"),br("\\sdot","\\cdot"),br("\\sect","\\S"),br("\\spades","\\spadesuit"),br("\\sub","\\subset"),br("\\sube","\\subseteq"),br("\\supe","\\supseteq"),br("\\Tau","\\mathrm{T}"),br("\\thetasym","\\vartheta"),br("\\weierp","\\wp"),br("\\Zeta","\\mathrm{Z}"),br("\\argmin","\\DOTSB\\mathop{\\operatorname{arg\\,min}}\\limits"),br("\\argmax","\\DOTSB\\mathop{\\operatorname{arg\\,max}}\\limits"),br("\\blue","\\textcolor{##6495ed}{#1}"),br("\\orange","\\textcolor{##ffa500}{#1}"),br("\\pink","\\textcolor{##ff00af}{#1}"),br("\\red","\\textcolor{##df0030}{#1}"),br("\\green","\\textcolor{##28ae7b}{#1}"),br("\\gray","\\textcolor{gray}{##1}"),br("\\purple","\\textcolor{##9d38bd}{#1}"),br("\\blueA","\\textcolor{##ccfaff}{#1}"),br("\\blueB","\\textcolor{##80f6ff}{#1}"),br("\\blueC","\\textcolor{##63d9ea}{#1}"),br("\\blueD","\\textcolor{##11accd}{#1}"),br("\\blueE","\\textcolor{##0c7f99}{#1}"),br("\\tealA","\\textcolor{##94fff5}{#1}"),br("\\tealB","\\textcolor{##26edd5}{#1}"),br("\\tealC","\\textcolor{##01d1c1}{#1}"),br("\\tealD","\\textcolor{##01a995}{#1}"),br("\\tealE","\\textcolor{##208170}{#1}"),br("\\greenA","\\textcolor{##b6ffb0}{#1}"),br("\\greenB","\\textcolor{##8af281}{#1}"),br("\\greenC","\\textcolor{##74cf70}{#1}"),br("\\greenD","\\textcolor{##1fab54}{#1}"),br("\\greenE","\\textcolor{##0d923f}{#1}"),br("\\goldA","\\textcolor{##ffd0a9}{#1}"),br("\\goldB","\\textcolor{##ffbb71}{#1}"),br("\\goldC","\\textcolor{##ff9c39}{#1}"),br("\\goldD","\\textcolor{##e07d10}{#1}"),br("\\goldE","\\textcolor{##a75a05}{#1}"),br("\\redA","\\textcolor{##fca9a9}{#1}"),br("\\redB","\\textcolor{##ff8482}{#1}"),br("\\redC","\\textcolor{##f9685d}{#1}"),br("\\redD","\\textcolor{##e84d39}{#1}"),br("\\redE","\\textcolor{##bc2612}{#1}"),br("\\maroonA","\\textcolor{##ffbde0}{#1}"),br("\\maroonB","\\textcolor{##ff92c6}{#1}"),br("\\maroonC","\\textcolor{##ed5fa6}{#1}"),br("\\maroonD","\\textcolor{##ca337c}{#1}"),br("\\maroonE","\\textcolor{##9e034e}{#1}"),br("\\purpleA","\\textcolor{##ddd7ff}{#1}"),br("\\purpleB","\\textcolor{##c6b9fc}{#1}"),br("\\purpleC","\\textcolor{##aa87ff}{#1}"),br("\\purpleD","\\textcolor{##7854ab}{#1}"),br("\\purpleE","\\textcolor{##543b78}{#1}"),br("\\mintA","\\textcolor{##f5f9e8}{#1}"),br("\\mintB","\\textcolor{##edf2df}{#1}"),br("\\mintC","\\textcolor{##e0e5cc}{#1}"),br("\\grayA","\\textcolor{##f6f7f7}{#1}"),br("\\grayB","\\textcolor{##f0f1f2}{#1}"),br("\\grayC","\\textcolor{##e3e5e6}{#1}"),br("\\grayD","\\textcolor{##d6d8da}{#1}"),br("\\grayE","\\textcolor{##babec2}{#1}"),br("\\grayF","\\textcolor{##888d93}{#1}"),br("\\grayG","\\textcolor{##626569}{#1}"),br("\\grayH","\\textcolor{##3b3e40}{#1}"),br("\\grayI","\\textcolor{##21242c}{#1}"),br("\\kaBlue","\\textcolor{##314453}{#1}"),br("\\kaGreen","\\textcolor{##71B307}{#1}");var Or={"\\relax":!0,"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},Cr=function(){function e(e,t,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new gr(vr,t.macros),this.mode=n,this.stack=[]}var t=e.prototype;return t.feed=function(e){this.lexer=new mr(e,this.settings)},t.switchMode=function(e){this.mode=e},t.beginGroup=function(){this.macros.beginGroup()},t.endGroup=function(){this.macros.endGroup()},t.future=function(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]},t.popToken=function(){return this.future(),this.stack.pop()},t.pushToken=function(e){this.stack.push(e)},t.pushTokens=function(e){var t;(t=this.stack).push.apply(t,e)},t.consumeSpaces=function(){for(;" "===this.future().text;)this.stack.pop()},t.consumeArgs=function(e){for(var t=[],n=0;n<e;++n){this.consumeSpaces();var r=this.popToken();if("{"===r.text){for(var i=[],o=1;0!==o;){var s=this.popToken();if(i.push(s),"{"===s.text)++o;else if("}"===s.text)--o;else if("EOF"===s.text)throw new a("End of input in macro argument",r)}i.pop(),i.reverse(),t[n]=i}else{if("EOF"===r.text)throw new a("End of input expecting macro argument");t[n]=[r]}}return t},t.expandOnce=function(){var e=this.popToken(),t=e.text,n=this._getExpansion(t);if(null==n)return this.pushToken(e),e;if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new a("Too many expansions: infinite loop or need to increase maxExpand setting");var r=n.tokens;if(n.numArgs)for(var i=this.consumeArgs(n.numArgs),o=(r=r.slice()).length-1;o>=0;--o){var s=r[o];if("#"===s.text){if(0===o)throw new a("Incomplete placeholder at end of macro body",s);if("#"===(s=r[--o]).text)r.splice(o+1,1);else{if(!/^[1-9]$/.test(s.text))throw new a("Not a valid argument number",s);var l;(l=r).splice.apply(l,[o,2].concat(i[+s.text-1]))}}}return this.pushTokens(r),r},t.expandAfterFuture=function(){return this.expandOnce(),this.future()},t.expandNextToken=function(){for(;;){var e=this.expandOnce();if(e instanceof i){if("\\relax"!==e.text)return this.stack.pop();this.stack.pop()}}throw new Error},t.expandMacro=function(e){if(this.macros.get(e)){var t=[],n=this.stack.length;for(this.pushToken(new i(e));this.stack.length>n;)this.expandOnce()instanceof i&&t.push(this.stack.pop());return t}},t.expandMacroAsText=function(e){var t=this.expandMacro(e);return t?t.map((function(e){return e.text})).join(""):t},t._getExpansion=function(e){var t=this.macros.get(e);if(null==t)return t;var n="function"==typeof t?t(this):t;if("string"==typeof n){var r=0;if(-1!==n.indexOf("#"))for(var i=n.replace(/##/g,"");-1!==i.indexOf("#"+(r+1));)++r;for(var o=new mr(n,this.settings),a=[],s=o.lex();"EOF"!==s.text;)a.push(s),s=o.lex();return a.reverse(),{tokens:a,numArgs:r}}return n},t.isDefined=function(e){return this.macros.has(e)||hr.hasOwnProperty(e)||X.math.hasOwnProperty(e)||X.text.hasOwnProperty(e)||Or.hasOwnProperty(e)},e}(),Tr={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"}},Rr={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",č:"č",ĉ:"ĉ",ċ:"ċ",ď:"ď",ḋ:"ḋ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ĺ:"ĺ",ľ:"ľ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ď:"Ď",Ḋ:"Ḋ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ĺ:"Ĺ",Ľ:"Ľ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ť:"Ť",Ṫ:"Ṫ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"},Dr=function(){function e(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Cr(e,t,this.mode),this.settings=t,this.leftrightDepth=0}var t=e.prototype;return t.expect=function(e,t){if(void 0===t&&(t=!0),this.nextToken.text!==e)throw new a("Expected '"+e+"', got '"+this.nextToken.text+"'",this.nextToken);t&&this.consume()},t.consume=function(){this.nextToken=this.gullet.expandNextToken()},t.switchMode=function(e){this.mode=e,this.gullet.switchMode(e)},t.parse=function(){this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor"),this.consume();var e=this.parseExpression(!1);return this.expect("EOF",!1),this.gullet.endGroup(),e},t.parseExpression=function(t,n){for(var r=[];;){"math"===this.mode&&this.consumeSpaces();var i=this.nextToken;if(-1!==e.endOfExpression.indexOf(i.text))break;if(n&&i.text===n)break;if(t&&hr[i.text]&&hr[i.text].infix)break;var o=this.parseAtom(n);if(!o)break;r.push(o)}return"text"===this.mode&&this.formLigatures(r),this.handleInfixNodes(r)},t.handleInfixNodes=function(e){for(var t,n=-1,r=0;r<e.length;r++){var i=tt(e[r],"infix");if(i){if(-1!==n)throw new a("only one infix operator per group",i.token);n=r,t=i.replaceWith}}if(-1!==n&&t){var o,s,l=e.slice(0,n),u=e.slice(n+1);return o=1===l.length&&"ordgroup"===l[0].type?l[0]:{type:"ordgroup",mode:this.mode,body:l},s=1===u.length&&"ordgroup"===u[0].type?u[0]:{type:"ordgroup",mode:this.mode,body:u},["\\\\abovefrac"===t?this.callFunction(t,[o,e[n],s],[]):this.callFunction(t,[o,s],[])]}return e},t.handleSupSubscript=function(t){var n=this.nextToken,r=n.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(t,!1,e.SUPSUB_GREEDINESS);if(!i)throw new a("Expected group after '"+r+"'",n);return i},t.handleUnsupportedCmd=function(){for(var e=this.nextToken.text,t=[],n=0;n<e.length;n++)t.push({type:"textord",mode:"text",text:e[n]});var r={type:"text",mode:this.mode,body:t},i={type:"color",mode:this.mode,color:this.settings.errorColor,body:[r]};return this.consume(),i},t.parseAtom=function(e){var t,n,r=this.parseGroup("atom",!1,null,e);if("text"===this.mode)return r;for(;;){this.consumeSpaces();var i=this.nextToken;if("\\limits"===i.text||"\\nolimits"===i.text){var o=tt(r,"op");if(!o)throw new a("Limit controls must follow a math operator",i);var s="\\limits"===i.text;o.limits=s,o.alwaysHandleSupSub=!0,this.consume()}else if("^"===i.text){if(t)throw new a("Double superscript",i);t=this.handleSupSubscript("superscript")}else if("_"===i.text){if(n)throw new a("Double subscript",i);n=this.handleSupSubscript("subscript")}else{if("'"!==i.text)break;if(t)throw new a("Double superscript",i);var l={type:"textord",mode:this.mode,text:"\\prime"},u=[l];for(this.consume();"'"===this.nextToken.text;)u.push(l),this.consume();"^"===this.nextToken.text&&u.push(this.handleSupSubscript("superscript")),t={type:"ordgroup",mode:this.mode,body:u}}}return t||n?{type:"supsub",mode:this.mode,base:r,sup:t,sub:n}:r},t.parseFunction=function(e,t,n){var r=this.nextToken,i=r.text,o=hr[i];if(!o)return null;if(null!=n&&o.greediness<=n)throw new a("Got function '"+i+"' with no arguments"+(t?" as "+t:""),r);if("text"===this.mode&&!o.allowedInText)throw new a("Can't use function '"+i+"' in text mode",r);if("math"===this.mode&&!1===o.allowedInMath)throw new a("Can't use function '"+i+"' in math mode",r);if(o.argTypes&&"url"===o.argTypes[0]&&this.gullet.lexer.setCatcode("%",13),o.consumeMode){var s=this.mode;this.switchMode(o.consumeMode),this.consume(),this.switchMode(s)}else this.consume();var l=this.parseArguments(i,o),u=l.args,c=l.optArgs;return this.callFunction(i,u,c,r,e)},t.callFunction=function(e,t,n,r,i){var o={funcName:e,parser:this,token:r,breakOnTokenText:i},s=hr[e];if(s&&s.handler)return s.handler(o,t,n);throw new a("No function handler for "+e)},t.parseArguments=function(e,t){var n=t.numArgs+t.numOptionalArgs;if(0===n)return{args:[],optArgs:[]};for(var r=t.greediness,i=[],o=[],s=0;s<n;s++){var l=t.argTypes&&t.argTypes[s],u=s<t.numOptionalArgs;s>0&&!u&&this.consumeSpaces(),0!==s||u||"math"!==this.mode||this.consumeSpaces();var c=this.nextToken,d=this.parseGroupOfType("argument to '"+e+"'",l,u,r);if(!d){if(u){o.push(null);continue}throw new a("Expected group after '"+e+"'",c)}(u?o:i).push(d)}return{args:i,optArgs:o}},t.parseGroupOfType=function(e,t,n,r){switch(t){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseGroup(e,n,r,void 0,t);case"raw":if(n&&"{"===this.nextToken.text)return null;var i=this.parseStringGroup("raw",n,!0);if(i)return{type:"raw",mode:"text",string:i.text};throw new a("Expected raw group",this.nextToken);case"original":case null:case void 0:return this.parseGroup(e,n,r);default:throw new a("Unknown group type as "+e,this.nextToken)}},t.consumeSpaces=function(){for(;" "===this.nextToken.text;)this.consume()},t.parseStringGroup=function(e,t,n){var r=t?"[":"{",i=t?"]":"}",o=this.nextToken;if(o.text!==r){if(t)return null;if(n&&"EOF"!==o.text&&/[^{}[\]]/.test(o.text))return this.gullet.lexer.setCatcode("%",14),this.consume(),o}var s=this.mode;this.mode="text",this.expect(r);for(var l="",u=this.nextToken,c=0,d=u;n&&c>0||this.nextToken.text!==i;){switch(this.nextToken.text){case"EOF":throw new a("Unexpected end of input in "+e,u.range(d,l));case r:c++;break;case i:c--}l+=(d=this.nextToken).text,this.consume()}return this.mode=s,this.gullet.lexer.setCatcode("%",14),this.expect(i),u.range(d,l)},t.parseRegexGroup=function(e,t){var n=this.mode;this.mode="text";for(var r=this.nextToken,i=r,o="";"EOF"!==this.nextToken.text&&e.test(o+this.nextToken.text);)o+=(i=this.nextToken).text,this.consume();if(""===o)throw new a("Invalid "+t+": '"+r.text+"'",r);return this.mode=n,r.range(i,o)},t.parseColorGroup=function(e){var t=this.parseStringGroup("color",e);if(!t)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!n)throw new a("Invalid color: '"+t.text+"'",t);var r=n[0];return/^[0-9a-f]{6}$/i.test(r)&&(r="#"+r),{type:"color-token",mode:this.mode,color:r}},t.parseSizeGroup=function(e){var t,n=!1;if(!(t=e||"{"===this.nextToken.text?this.parseStringGroup("size",e):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;e||0!==t.text.length||(t.text="0pt",n=!0);var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!r)throw new a("Invalid size: '"+t.text+"'",t);var i,o={number:+(r[1]+r[2]),unit:r[3]};if("string"!=typeof(i=o)&&(i=i.unit),!(i in Fe)&&!(i in Ye)&&"ex"!==i)throw new a("Invalid unit: '"+o.unit+"'",t);return{type:"size",mode:this.mode,value:o,isBlank:n}},t.parseUrlGroup=function(e){var t=this.parseStringGroup("url",e,!0);if(!t)return null;var n=t.text.replace(/\\([#$%&~_^{}])/g,"$1"),r=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(n);r=null!=r?r[1]:"_relative";var i=this.settings.allowedProtocols;if(!d(i,"*")&&!d(i,r))throw new a("Forbidden protocol '"+r+"'",t);return{type:"url",mode:this.mode,url:n}},t.parseGroup=function(t,n,i,o,s){var l,u,c=this.mode,d=this.nextToken,h=d.text;if(s&&this.switchMode(s),n?"["===h:"{"===h||"\\begingroup"===h){l=e.endOfGroup[h],this.gullet.beginGroup(),this.consume();var f=this.parseExpression(!1,l),p=this.nextToken;this.gullet.endGroup(),u={type:"ordgroup",mode:this.mode,loc:r.range(d,p),body:f,semisimple:"\\begingroup"===h||void 0}}else if(n)u=null;else if(null==(u=this.parseFunction(o,t,i)||this.parseSymbol())&&"\\"===h[0]&&!Or.hasOwnProperty(h)){if(this.settings.throwOnError)throw new a("Undefined control sequence: "+h,d);u=this.handleUnsupportedCmd()}return s&&this.switchMode(c),l&&this.expect(l),u},t.formLigatures=function(e){for(var t=e.length-1,n=0;n<t;++n){var i=e[n],o=i.text;"-"===o&&"-"===e[n+1].text&&(n+1<t&&"-"===e[n+2].text?(e.splice(n,3,{type:"textord",mode:"text",loc:r.range(i,e[n+2]),text:"---"}),t-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:r.range(i,e[n+1]),text:"--"}),t-=1)),"'"!==o&&"`"!==o||e[n+1].text!==o||(e.splice(n,2,{type:"textord",mode:"text",loc:r.range(i,e[n+1]),text:o+o}),t-=1)}},t.parseSymbol=function(){var e=this.nextToken,t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var n=t.slice(5),i="*"===n.charAt(0);if(i&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new a("\\verb assertion failed --\n                    please report what input caused this bug");return{type:"verb",mode:"text",body:n=n.slice(1,-1),star:i}}Rr.hasOwnProperty(t[0])&&!X[this.mode][t[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=Rr[t[0]]+t.substr(1));var o,s=pr.exec(t);if(s&&("i"===(t=t.substring(0,s.index))?t="ı":"j"===t&&(t="ȷ")),X[this.mode][t]){this.settings.strict&&"math"===this.mode&&Re.indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var l,u=X[this.mode][t].group,c=r.range(e);if(G.hasOwnProperty(u)){var d=u;l={type:"atom",mode:this.mode,family:d,loc:c,text:t}}else l={type:u,mode:this.mode,loc:c,text:t};o=l}else{if(!(t.charCodeAt(0)>=128))return null;this.settings.strict&&(R(t.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'" ('+t.charCodeAt(0)+")",e)),o={type:"textord",mode:this.mode,loc:r.range(e),text:t}}if(this.consume(),s)for(var h=0;h<s[0].length;h++){var f=s[0][h];if(!Tr[f])throw new a("Unknown accent ' "+f+"'",e);var p=Tr[f][this.mode];if(!p)throw new a("Accent "+f+" unsupported in "+this.mode+" mode",e);o={type:"accent",mode:this.mode,loc:r.range(e),label:p,isStretchy:!1,isShifty:!0,base:o}}return o},e}();Dr.endOfExpression=["}","\\endgroup","\\end","\\right","&"],Dr.endOfGroup={"[":"]","{":"}","\\begingroup":"\\endgroup"},Dr.SUPSUB_GREEDINESS=1;var Er=function(e,t){if(!("string"==typeof e||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new Dr(e,t);delete n.gullet.macros.current["\\df@tag"];var r=n.parse();if(n.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new a("\\tag works only in display equations");n.gullet.feed("\\df@tag"),r=[{type:"tag",mode:"text",body:r,tag:n.parse()}]}return r},Ar=function(e,t,n){t.textContent="";var r=jr(e,n).toNode();t.appendChild(r)};"undefined"!=typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!=typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Ar=function(){throw new a("KaTeX doesn't work in quirks mode.")});var Lr=function(e,t,n){if(n.throwOnError||!(e instanceof a))throw e;var r=Qe.makeSpan(["katex-error"],[new F(t)]);return r.setAttribute("title",e.toString()),r.setAttribute("style","color:"+n.errorColor),r},jr=function(e,t){var n=new y(t);try{return function(e,t,n){var r=Ft(n),i=function(e,t,n){var r,i=It(e,n);r=1===i.length&&i[0]instanceof Dt&&d(["mrow","mtable"],i[0].type)?i[0]:new At.MathNode("mrow",i);var o=new At.MathNode("annotation",[new At.TextNode(t)]);o.setAttribute("encoding","application/x-tex");var a=new At.MathNode("semantics",[r,o]),s=new At.MathNode("math",[a]);return Qe.makeSpan(["katex-mathml"],[s])}(e,t,r),o=Tt(e,r),a=Qe.makeSpan(["katex"],[i,o]);return Yt(a,n)}(Er(e,n),e,n)}catch(t){return Lr(t,e,n)}},Pr={version:"0.10.2",render:Ar,renderToString:function(e,t){return jr(e,t).toMarkup()},ParseError:a,__parse:function(e,t){var n=new y(t);return Er(e,n)},__renderToDomTree:jr,__renderToHTMLTree:function(e,t){var n=new y(t);try{return function(e,t,n){var r=Tt(e,Ft(n)),i=Qe.makeSpan(["katex"],[r]);return Yt(i,n)}(Er(e,n),0,n)}catch(t){return Lr(t,e,n)}},__setFontMetrics:function(e,t){W[e]=t},__defineSymbol:J,__defineMacro:br,__domTree:{Span:I,Anchor:H,SymbolNode:F,SvgNode:Y,PathNode:z,LineNode:B}};t.default=Pr}]).default},e.exports=t()},60478:function(e,t,n){!function(e){"use strict";e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Môre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(74389))},55046:function(e,t,n){!function(e){"use strict";var t=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},n={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},r=function(e){return function(r,i,o,a){var s=t(r),l=n[e][t(r)];return 2===s&&(l=l[i?0:1]),l.replace(/%d/i,r)}},i=["جانفي","فيفري","مارس","أفريل","ماي","جوان","جويلية","أوت","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];e.defineLocale("ar-dz",{months:i,monthsShort:i,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:r("s"),ss:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:0,doy:4}})}(n(74389))},91254:function(e,t,n){!function(e){"use strict";e.defineLocale("ar-kw",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:0,doy:12}})}(n(74389))},19772:function(e,t,n){!function(e){"use strict";var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},r={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},i=function(e){return function(t,i,o,a){var s=n(t),l=r[e][n(t)];return 2===s&&(l=l[i?0:1]),l.replace(/%d/i,t)}},o=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];e.defineLocale("ar-ly",{months:o,monthsShort:o,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:i("s"),ss:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},week:{dow:6,doy:12}})}(n(74389))},40456:function(e,t,n){!function(e){"use strict";e.defineLocale("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اثنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}})}(n(74389))},72627:function(e,t,n){!function(e){"use strict";var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};e.defineLocale("ar-sa",{months:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,(function(e){return n[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},week:{dow:0,doy:6}})}(n(74389))},83221:function(e,t,n){!function(e){"use strict";e.defineLocale("ar-tn",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}})}(n(74389))},55512:function(e,t,n){!function(e){"use strict";var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},r=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},i={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},o=function(e){return function(t,n,o,a){var s=r(t),l=i[e][r(t)];return 2===s&&(l=l[n?0:1]),l.replace(/%d/i,t)}},a=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];e.defineLocale("ar",{months:a,monthsShort:a,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:o("s"),ss:o("s"),m:o("m"),mm:o("m"),h:o("h"),hh:o("h"),d:o("d"),dd:o("d"),M:o("M"),MM:o("M"),y:o("y"),yy:o("y")},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,(function(e){return n[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},week:{dow:6,doy:12}})}(n(74389))},29115:function(e,t,n){!function(e){"use strict";var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-üncü",4:"-üncü",100:"-üncü",6:"-ncı",9:"-uncu",10:"-uncu",30:"-uncu",60:"-ıncı",90:"-ıncı"};e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertəsi_Çərşənbə axşamı_Çərşənbə_Cümə axşamı_Cümə_Şənbə".split("_"),weekdaysShort:"Baz_BzE_ÇAx_Çər_CAx_Cüm_Şən".split("_"),weekdaysMin:"Bz_BE_ÇA_Çə_CA_Cü_Şə".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gələn həftə] dddd [saat] LT",lastDay:"[dünən] LT",lastWeek:"[keçən həftə] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s əvvəl",s:"bir neçə saniyə",ss:"%d saniyə",m:"bir dəqiqə",mm:"%d dəqiqə",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gecə|səhər|gündüz|axşam/,isPM:function(e){return/^(gündüz|axşam)$/.test(e)},meridiem:function(e,t,n){return e<4?"gecə":e<12?"səhər":e<17?"gündüz":"axşam"},dayOfMonthOrdinalParse:/\d{1,2}-(ıncı|inci|nci|üncü|ncı|uncu)/,ordinal:function(e){if(0===e)return e+"-ıncı";var n=e%10;return e+(t[n]||t[e%100-n]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(74389))},44214:function(e,t,n){!function(e){"use strict";function t(e,t,n){return"m"===n?t?"хвіліна":"хвіліну":"h"===n?t?"гадзіна":"гадзіну":e+" "+(r=+e,i={ss:t?"секунда_секунды_секунд":"секунду_секунды_секунд",mm:t?"хвіліна_хвіліны_хвілін":"хвіліну_хвіліны_хвілін",hh:t?"гадзіна_гадзіны_гадзін":"гадзіну_гадзіны_гадзін",dd:"дзень_дні_дзён",MM:"месяц_месяцы_месяцаў",yy:"год_гады_гадоў"}[n].split("_"),r%10==1&&r%100!=11?i[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?i[1]:i[2]);var r,i}e.defineLocale("be",{months:{format:"студзеня_лютага_сакавіка_красавіка_траўня_чэрвеня_ліпеня_жніўня_верасня_кастрычніка_лістапада_снежня".split("_"),standalone:"студзень_люты_сакавік_красавік_травень_чэрвень_ліпень_жнівень_верасень_кастрычнік_лістапад_снежань".split("_")},monthsShort:"студ_лют_сак_крас_трав_чэрв_ліп_жнів_вер_каст_ліст_снеж".split("_"),weekdays:{format:"нядзелю_панядзелак_аўторак_сераду_чацвер_пятніцу_суботу".split("_"),standalone:"нядзеля_панядзелак_аўторак_серада_чацвер_пятніца_субота".split("_"),isFormat:/\[ ?[Ууў] ?(?:мінулую|наступную)? ?\] ?dddd/},weekdaysShort:"нд_пн_ат_ср_чц_пт_сб".split("_"),weekdaysMin:"нд_пн_ат_ср_чц_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сёння ў] LT",nextDay:"[Заўтра ў] LT",lastDay:"[Учора ў] LT",nextWeek:function(){return"[У] dddd [ў] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[У мінулую] dddd [ў] LT";case 1:case 2:case 4:return"[У мінулы] dddd [ў] LT"}},sameElse:"L"},relativeTime:{future:"праз %s",past:"%s таму",s:"некалькі секунд",m:t,mm:t,h:t,hh:t,d:"дзень",dd:t,M:"месяц",MM:t,y:"год",yy:t},meridiemParse:/ночы|раніцы|дня|вечара/,isPM:function(e){return/^(дня|вечара)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночы":e<12?"раніцы":e<17?"дня":"вечара"},dayOfMonthOrdinalParse:/\d{1,2}-(і|ы|га)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-ы":e+"-і";case"D":return e+"-га";default:return e}},week:{dow:1,doy:7}})}(n(74389))},22617:function(e,t,n){!function(e){"use strict";e.defineLocale("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"яну_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Миналата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[Миналия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",ss:"%d секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дена",w:"седмица",ww:"%d седмици",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ев":0===n?e+"-ен":n>10&&n<20?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}})}(n(74389))},97633:function(e,t,n){!function(e){"use strict";e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mɛkalo_Zuwɛnkalo_Zuluyekalo_Utikalo_Sɛtanburukalo_ɔkutɔburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_Mɛ_Zuw_Zul_Uti_Sɛt_ɔku_Now_Des".split("_"),weekdays:"Kari_Ntɛnɛn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Ntɛ_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lɛrɛ] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lɛrɛ] HH:mm"},calendar:{sameDay:"[Bi lɛrɛ] LT",nextDay:"[Sini lɛrɛ] LT",nextWeek:"dddd [don lɛrɛ] LT",lastDay:"[Kunu lɛrɛ] LT",lastWeek:"dddd [tɛmɛnen lɛrɛ] LT",sameElse:"L"},relativeTime:{future:"%s kɔnɔ",past:"a bɛ %s bɔ",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lɛrɛ kelen",hh:"lɛrɛ %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(n(74389))},42838:function(e,t,n){!function(e){"use strict";var t={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},n={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};e.defineLocale("bn-bd",{months:"জানুয়ারি_ফেব্রুয়ারি_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব্রু_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্ট_অক্টো_নভে_ডিসে".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পতিবার_শুক্রবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পতি_শুক্র_শনি".split("_"),weekdaysMin:"রবি_সোম_মঙ্গল_বুধ_বৃহ_শুক্র_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",LTS:"A h:mm:ss সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm সময়",LLLL:"dddd, D MMMM YYYY, A h:mm সময়"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কয়েক সেকেন্ড",ss:"%d সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(e){return e.replace(/[১২৩৪৫৬৭৮৯০]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/রাত|ভোর|সকাল|দুপুর|বিকাল|সন্ধ্যা|রাত/,meridiemHour:function(e,t){return 12===e&&(e=0),"রাত"===t?e<4?e:e+12:"ভোর"===t||"সকাল"===t?e:"দুপুর"===t?e>=3?e:e+12:"বিকাল"===t||"সন্ধ্যা"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"রাত":e<6?"ভোর":e<12?"সকাল":e<15?"দুপুর":e<18?"বিকাল":e<20?"সন্ধ্যা":"রাত"},week:{dow:0,doy:6}})}(n(74389))},48114:function(e,t,n){!function(e){"use strict";var t={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},n={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};e.defineLocale("bn",{months:"জানুয়ারি_ফেব্রুয়ারি_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব্রু_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্ট_অক্টো_নভে_ডিসে".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পতিবার_শুক্রবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পতি_শুক্র_শনি".split("_"),weekdaysMin:"রবি_সোম_মঙ্গল_বুধ_বৃহ_শুক্র_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",LTS:"A h:mm:ss সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm সময়",LLLL:"dddd, D MMMM YYYY, A h:mm সময়"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কয়েক সেকেন্ড",ss:"%d সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(e){return e.replace(/[১২৩৪৫৬৭৮৯০]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/রাত|সকাল|দুপুর|বিকাল|রাত/,meridiemHour:function(e,t){return 12===e&&(e=0),"রাত"===t&&e>=4||"দুপুর"===t&&e<5||"বিকাল"===t?e+12:e},meridiem:function(e,t,n){return e<4?"রাত":e<10?"সকাল":e<17?"দুপুর":e<20?"বিকাল":"রাত"},week:{dow:0,doy:6}})}(n(74389))},55204:function(e,t,n){!function(e){"use strict";var t={1:"༡",2:"༢",3:"༣",4:"༤",5:"༥",6:"༦",7:"༧",8:"༨",9:"༩",0:"༠"},n={"༡":"1","༢":"2","༣":"3","༤":"4","༥":"5","༦":"6","༧":"7","༨":"8","༩":"9","༠":"0"};e.defineLocale("bo",{months:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),monthsShort:"ཟླ་1_ཟླ་2_ཟླ་3_ཟླ་4_ཟླ་5_ཟླ་6_ཟླ་7_ཟླ་8_ཟླ་9_ཟླ་10_ཟླ་11_ཟླ་12".split("_"),monthsShortRegex:/^(ཟླ་\d{1,2})/,monthsParseExact:!0,weekdays:"གཟའ་ཉི་མ་_གཟའ་ཟླ་བ་_གཟའ་མིག་དམར་_གཟའ་ལྷག་པ་_གཟའ་ཕུར་བུ_གཟའ་པ་སངས་_གཟའ་སྤེན་པ་".split("_"),weekdaysShort:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),weekdaysMin:"ཉི_ཟླ_མིག_ལྷག_ཕུར_སངས_སྤེན".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[དི་རིང] LT",nextDay:"[སང་ཉིན] LT",nextWeek:"[བདུན་ཕྲག་རྗེས་མ], LT",lastDay:"[ཁ་སང] LT",lastWeek:"[བདུན་ཕྲག་མཐའ་མ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ལ་",past:"%s སྔན་ལ",s:"ལམ་སང",ss:"%d སྐར་ཆ།",m:"སྐར་མ་གཅིག",mm:"%d སྐར་མ",h:"ཆུ་ཚོད་གཅིག",hh:"%d ཆུ་ཚོད",d:"ཉིན་གཅིག",dd:"%d ཉིན་",M:"ཟླ་བ་གཅིག",MM:"%d ཟླ་བ",y:"ལོ་གཅིག",yy:"%d ལོ"},preparse:function(e){return e.replace(/[༡༢༣༤༥༦༧༨༩༠]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/མཚན་མོ|ཞོགས་ཀས|ཉིན་གུང|དགོང་དག|མཚན་མོ/,meridiemHour:function(e,t){return 12===e&&(e=0),"མཚན་མོ"===t&&e>=4||"ཉིན་གུང"===t&&e<5||"དགོང་དག"===t?e+12:e},meridiem:function(e,t,n){return e<4?"མཚན་མོ":e<10?"ཞོགས་ཀས":e<17?"ཉིན་གུང":e<20?"དགོང་དག":"མཚན་མོ"},week:{dow:0,doy:6}})}(n(74389))},95338:function(e,t,n){!function(e){"use strict";function t(e,t,n){return e+" "+function(e,t){return 2===t?function(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}(e):e}({mm:"munutenn",MM:"miz",dd:"devezh"}[n],e)}function n(e){return e>9?n(e%10):e}var r=[/^gen/i,/^c[ʼ\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],i=/^(genver|c[ʼ\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[ʼ\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,o=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];e.defineLocale("br",{months:"Genver_Cʼhwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_Cʼhwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Mercʼher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:o,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[ʼ\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:o,monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(genver|c[ʼ\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[ʼ\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warcʼhoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Decʼh da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s ʼzo",s:"un nebeud segondennoù",ss:"%d eilenn",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:function(e){switch(n(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(añ|vet)/,ordinal:function(e){return e+(1===e?"añ":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(e){return"g.m."===e},meridiem:function(e,t,n){return e<12?"a.m.":"g.m."}})}(n(74389))},90773:function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=e+" ";switch(n){case"ss":return r+(1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi");case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+(1===e?"minuta":2===e||3===e||4===e?"minute":"minuta");case"h":return t?"jedan sat":"jednog sata";case"hh":return r+(1===e?"sat":2===e||3===e||4===e?"sata":"sati");case"dd":return r+(1===e?"dan":"dana");case"MM":return r+(1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci");case"yy":return r+(1===e?"godina":2===e||3===e||4===e?"godine":"godina")}}e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(74389))},76181:function(e,t,n){!function(e){"use strict";e.defineLocale("ca",{months:{standalone:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de març_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._març_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aquí %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|è|a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"è";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}})}(n(74389))},37396:function(e,t,n){!function(e){"use strict";var t={format:"leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),standalone:"ledna_února_března_dubna_května_června_července_srpna_září_října_listopadu_prosince".split("_")},n="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_"),r=[/^led/i,/^úno/i,/^bře/i,/^dub/i,/^kvě/i,/^(čvn|červen$|června)/i,/^(čvc|červenec|července)/i,/^srp/i,/^zář/i,/^říj/i,/^lis/i,/^pro/i],i=/^(leden|únor|březen|duben|květen|červenec|července|červen|června|srpen|září|říjen|listopad|prosinec|led|úno|bře|dub|kvě|čvn|čvc|srp|zář|říj|lis|pro)/i;function o(e){return e>1&&e<5&&1!=~~(e/10)}function a(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"pár sekund":"pár sekundami";case"ss":return t||r?i+(o(e)?"sekundy":"sekund"):i+"sekundami";case"m":return t?"minuta":r?"minutu":"minutou";case"mm":return t||r?i+(o(e)?"minuty":"minut"):i+"minutami";case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":return t||r?i+(o(e)?"hodiny":"hodin"):i+"hodinami";case"d":return t||r?"den":"dnem";case"dd":return t||r?i+(o(e)?"dny":"dní"):i+"dny";case"M":return t||r?"měsíc":"měsícem";case"MM":return t||r?i+(o(e)?"měsíce":"měsíců"):i+"měsíci";case"y":return t||r?"rok":"rokem";case"yy":return t||r?i+(o(e)?"roky":"let"):i+"lety"}}e.defineLocale("cs",{months:t,monthsShort:n,monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(leden|ledna|února|únor|březen|března|duben|dubna|květen|května|červenec|července|červen|června|srpen|srpna|září|říjen|října|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|úno|bře|dub|kvě|čvn|čvc|srp|zář|říj|lis|pro)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:a,ss:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(74389))},94643:function(e,t,n){!function(e){"use strict";e.defineLocale("cv",{months:"кӑрлач_нарӑс_пуш_ака_май_ҫӗртме_утӑ_ҫурла_авӑн_юпа_чӳк_раштав".split("_"),monthsShort:"кӑр_нар_пуш_ака_май_ҫӗр_утӑ_ҫур_авн_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кӗҫнерникун_эрнекун_шӑматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кӗҫ_эрн_шӑм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кҫ_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ]",LLL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm",LLLL:"dddd, YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ӗнер] LT [сехетре]",nextWeek:"[Ҫитес] dddd LT [сехетре]",lastWeek:"[Иртнӗ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(e){return e+(/сехет$/i.exec(e)?"рен":/ҫул$/i.exec(e)?"тан":"ран")},past:"%s каялла",s:"пӗр-ик ҫеккунт",ss:"%d ҫеккунт",m:"пӗр минут",mm:"%d минут",h:"пӗр сехет",hh:"%d сехет",d:"пӗр кун",dd:"%d кун",M:"пӗр уйӑх",MM:"%d уйӑх",y:"пӗр ҫул",yy:"%d ҫул"},dayOfMonthOrdinalParse:/\d{1,2}-мӗш/,ordinal:"%d-мӗш",week:{dow:1,doy:7}})}(n(74389))},61682:function(e,t,n){!function(e){"use strict";e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn ôl",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t="";return e>20?t=40===e||50===e||60===e||80===e||100===e?"fed":"ain":e>0&&(t=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][e]),e+t},week:{dow:1,doy:4}})}(n(74389))},56480:function(e,t,n){!function(e){"use strict";e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"på dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(74389))},17654:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}e.defineLocale("de-at",{months:"Jänner_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jän._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(74389))},36591:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}e.defineLocale("de-ch",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(74389))},88517:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}e.defineLocale("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(74389))},71081:function(e,t,n){!function(e){"use strict";var t=["ޖެނުއަރީ","ފެބްރުއަރީ","މާރިޗު","އޭޕްރީލު","މޭ","ޖޫން","ޖުލައި","އޯގަސްޓު","ސެޕްޓެމްބަރު","އޮކްޓޯބަރު","ނޮވެމްބަރު","ޑިސެމްބަރު"],n=["އާދިއްތަ","ހޯމަ","އަންގާރަ","ބުދަ","ބުރާސްފަތި","ހުކުރު","ހޮނިހިރު"];e.defineLocale("dv",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:"އާދި_ހޯމަ_އަން_ބުދަ_ބުރާ_ހުކު_ހޮނި".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/މކ|މފ/,isPM:function(e){return"މފ"===e},meridiem:function(e,t,n){return e<12?"މކ":"މފ"},calendar:{sameDay:"[މިއަދު] LT",nextDay:"[މާދަމާ] LT",nextWeek:"dddd LT",lastDay:"[އިއްޔެ] LT",lastWeek:"[ފާއިތުވި] dddd LT",sameElse:"L"},relativeTime:{future:"ތެރޭގައި %s",past:"ކުރިން %s",s:"ސިކުންތުކޮޅެއް",ss:"d% ސިކުންތު",m:"މިނިޓެއް",mm:"މިނިޓު %d",h:"ގަޑިއިރެއް",hh:"ގަޑިއިރު %d",d:"ދުވަހެއް",dd:"ދުވަސް %d",M:"މަހެއް",MM:"މަސް %d",y:"އަހަރެއް",yy:"އަހަރު %d"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:7,doy:12}})}(n(74389))},61791:function(e,t,n){!function(e){"use strict";e.defineLocale("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(e,t){return e?"string"==typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(e,t,n){return e>11?n?"μμ":"ΜΜ":n?"πμ":"ΠΜ"},isPM:function(e){return"μ"===(e+"").toLowerCase()[0]},meridiemParse:/[ΠΜ]\.?Μ?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:function(){return 6===this.day()?"[το προηγούμενο] dddd [{}] LT":"[την προηγούμενη] dddd [{}] LT"},sameElse:"L"},calendar:function(e,t){var n,r=this._calendarEl[e],i=t&&t.hours();return n=r,("undefined"!=typeof Function&&n instanceof Function||"[object Function]"===Object.prototype.toString.call(n))&&(r=r.apply(t)),r.replace("{}",i%12==1?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"λίγα δευτερόλεπτα",ss:"%d δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},dayOfMonthOrdinalParse:/\d{1,2}η/,ordinal:"%dη",week:{dow:1,doy:4}})}(n(74389))},87560:function(e,t,n){!function(e){"use strict";e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:0,doy:4}})}(n(74389))},36614:function(e,t,n){!function(e){"use strict";e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(n(74389))},54763:function(e,t,n){!function(e){"use strict";e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(74389))},88985:function(e,t,n){!function(e){"use strict";e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(74389))},96716:function(e,t,n){!function(e){"use strict";e.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(n(74389))},45551:function(e,t,n){!function(e){"use strict";e.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:0,doy:6}})}(n(74389))},65567:function(e,t,n){!function(e){"use strict";e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(74389))},87001:function(e,t,n){!function(e){"use strict";e.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(74389))},10522:function(e,t,n){!function(e){"use strict";e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_aŭg_sept_okt_nov_dec".split("_"),weekdays:"dimanĉo_lundo_mardo_merkredo_ĵaŭdo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_ĵaŭ_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_ĵa_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"antaŭ %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(n(74389))},46039:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(74389))},76797:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:0,doy:4},invalidDate:"Fecha inválida"})}(n(74389))},64697:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:0,doy:6}})}(n(74389))},53513:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4},invalidDate:"Fecha inválida"})}(n(74389))},13265:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["mõne sekundi","mõni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["ühe minuti","üks minut"],mm:[e+" minuti",e+" minutit"],h:["ühe tunni","tund aega","üks tund"],hh:[e+" tunni",e+" tundi"],d:["ühe päeva","üks päev"],M:["kuu aja","kuu aega","üks kuu"],MM:[e+" kuu",e+" kuud"],y:["ühe aasta","aasta","üks aasta"],yy:[e+" aasta",e+" aastat"]};return t?i[n][2]?i[n][2]:i[n][1]:r?i[n][0]:i[n][1]}e.defineLocale("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d päeva",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(74389))},50690:function(e,t,n){!function(e){"use strict";e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(74389))},92940:function(e,t,n){!function(e){"use strict";var t={1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"},n={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"};e.defineLocale("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/قبل از ظهر|بعد از ظهر/,isPM:function(e){return/بعد از ظهر/.test(e)},meridiem:function(e,t,n){return e<12?"قبل از ظهر":"بعد از ظهر"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چند ثانیه",ss:"%d ثانیه",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(e){return e.replace(/[۰-۹]/g,(function(e){return n[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},dayOfMonthOrdinalParse:/\d{1,2}م/,ordinal:"%dم",week:{dow:6,doy:12}})}(n(74389))},40515:function(e,t,n){!function(e){"use strict";var t="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),n=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",t[7],t[8],t[9]];function r(e,r,i,o){var a="";switch(i){case"s":return o?"muutaman sekunnin":"muutama sekunti";case"ss":a=o?"sekunnin":"sekuntia";break;case"m":return o?"minuutin":"minuutti";case"mm":a=o?"minuutin":"minuuttia";break;case"h":return o?"tunnin":"tunti";case"hh":a=o?"tunnin":"tuntia";break;case"d":return o?"päivän":"päivä";case"dd":a=o?"päivän":"päivää";break;case"M":return o?"kuukauden":"kuukausi";case"MM":a=o?"kuukauden":"kuukautta";break;case"y":return o?"vuoden":"vuosi";case"yy":a=o?"vuoden":"vuotta"}return function(e,r){return e<10?r?n[e]:t[e]:e}(e,o)+" "+a}e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(74389))},33074:function(e,t,n){!function(e){"use strict";e.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(74389))},75646:function(e,t,n){!function(e){"use strict";e.defineLocale("fo",{months:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mán_týs_mik_hós_frí_ley".split("_"),weekdaysMin:"su_má_tý_mi_hó_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[Í dag kl.] LT",nextDay:"[Í morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Í gjár kl.] LT",lastWeek:"[síðstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s síðani",s:"fá sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tími",hh:"%d tímar",d:"ein dagur",dd:"%d dagar",M:"ein mánaður",MM:"%d mánaðir",y:"eitt ár",yy:"%d ár"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(74389))},24503:function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}})}(n(74389))},52146:function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ch",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(74389))},48868:function(e,t,n){!function(e){"use strict";var t=/(janv\.?|févr\.?|mars|avr\.?|mai|juin|juil\.?|août|sept\.?|oct\.?|nov\.?|déc\.?|janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i,n=[/^janv/i,/^févr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^août/i,/^sept/i,/^oct/i,/^nov/i,/^déc/i];e.defineLocale("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsRegex:t,monthsShortRegex:t,monthsStrictRegex:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i,monthsShortStrictRegex:/(janv\.?|févr\.?|mars|avr\.?|mai|juin|juil\.?|août|sept\.?|oct\.?|nov\.?|déc\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(74389))},89010:function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[ôfrûne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien minút",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(74389))},26446:function(e,t,n){!function(e){"use strict";e.defineLocale("ga",{months:["Eanáir","Feabhra","Márta","Aibreán","Bealtaine","Meitheamh","Iúil","Lúnasa","Meán Fómhair","Deireadh Fómhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","Márt","Aib","Beal","Meith","Iúil","Lún","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["Dé Domhnaigh","Dé Luain","Dé Máirt","Dé Céadaoin","Déardaoin","Dé hAoine","Dé Sathairn"],weekdaysShort:["Domh","Luan","Máirt","Céad","Déar","Aoine","Sath"],weekdaysMin:["Do","Lu","Má","Cé","Dé","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amárach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inné ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s ó shin",s:"cúpla soicind",ss:"%d soicind",m:"nóiméad",mm:"%d nóiméad",h:"uair an chloig",hh:"%d uair an chloig",d:"lá",dd:"%d lá",M:"mí",MM:"%d míonna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(74389))},61265:function(e,t,n){!function(e){"use strict";e.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am Màrt","An Giblean","An Cèitean","An t-Ògmhios","An t-Iuchar","An Lùnastal","An t-Sultain","An Dàmhair","An t-Samhain","An Dùbhlachd"],monthsShort:["Faoi","Gear","Màrt","Gibl","Cèit","Ògmh","Iuch","Lùn","Sult","Dàmh","Samh","Dùbh"],monthsParseExact:!0,weekdays:["Didòmhnaich","Diluain","Dimàirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["Dò","Lu","Mà","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-màireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-dè aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mìos",MM:"%d mìosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(74389))},75027:function(e,t,n){!function(e){"use strict";e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuño_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xuñ._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mércores_xoves_venres_sábado".split("_"),weekdaysShort:"dom._lun._mar._mér._xov._ven._sáb.".split("_"),weekdaysMin:"do_lu_ma_mé_xo_ve_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(1!==this.hours()?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(74389))},79363:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["थोडया सॅकंडांनी","थोडे सॅकंड"],ss:[e+" सॅकंडांनी",e+" सॅकंड"],m:["एका मिणटान","एक मिनूट"],mm:[e+" मिणटांनी",e+" मिणटां"],h:["एका वरान","एक वर"],hh:[e+" वरांनी",e+" वरां"],d:["एका दिसान","एक दीस"],dd:[e+" दिसांनी",e+" दीस"],M:["एका म्हयन्यान","एक म्हयनो"],MM:[e+" म्हयन्यानी",e+" म्हयने"],y:["एका वर्सान","एक वर्स"],yy:[e+" वर्सांनी",e+" वर्सां"]};return r?i[n][0]:i[n][1]}e.defineLocale("gom-deva",{months:{standalone:"जानेवारी_फेब्रुवारी_मार्च_एप्रील_मे_जून_जुलय_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),format:"जानेवारीच्या_फेब्रुवारीच्या_मार्चाच्या_एप्रीलाच्या_मेयाच्या_जूनाच्या_जुलयाच्या_ऑगस्टाच्या_सप्टेंबराच्या_ऑक्टोबराच्या_नोव्हेंबराच्या_डिसेंबराच्या".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"जाने._फेब्रु._मार्च_एप्री._मे_जून_जुल._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),monthsParseExact:!0,weekdays:"आयतार_सोमार_मंगळार_बुधवार_बिरेस्तार_सुक्रार_शेनवार".split("_"),weekdaysShort:"आयत._सोम._मंगळ._बुध._ब्रेस्त._सुक्र._शेन.".split("_"),weekdaysMin:"आ_सो_मं_बु_ब्रे_सु_शे".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [वाजतां]",LTS:"A h:mm:ss [वाजतां]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [वाजतां]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [वाजतां]",llll:"ddd, D MMM YYYY, A h:mm [वाजतां]"},calendar:{sameDay:"[आयज] LT",nextDay:"[फाल्यां] LT",nextWeek:"[फुडलो] dddd[,] LT",lastDay:"[काल] LT",lastWeek:"[फाटलो] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s आदीं",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(वेर)/,ordinal:function(e,t){return"D"===t?e+"वेर":e},week:{dow:0,doy:3},meridiemParse:/राती|सकाळीं|दनपारां|सांजे/,meridiemHour:function(e,t){return 12===e&&(e=0),"राती"===t?e<4?e:e+12:"सकाळीं"===t?e:"दनपारां"===t?e>12?e:e+12:"सांजे"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"राती":e<12?"सकाळीं":e<16?"दनपारां":e<20?"सांजे":"राती"}})}(n(74389))},54947:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["thoddea sekondamni","thodde sekond"],ss:[e+" sekondamni",e+" sekond"],m:["eka mintan","ek minut"],mm:[e+" mintamni",e+" mintam"],h:["eka voran","ek vor"],hh:[e+" voramni",e+" voram"],d:["eka disan","ek dis"],dd:[e+" disamni",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineamni",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsamni",e+" vorsam"]};return r?i[n][0]:i[n][1]}e.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){return"D"===t?e+"er":e},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokallim"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"rati":e<12?"sokallim":e<16?"donparam":e<20?"sanje":"rati"}})}(n(74389))},76003:function(e,t,n){!function(e){"use strict";var t={1:"૧",2:"૨",3:"૩",4:"૪",5:"૫",6:"૬",7:"૭",8:"૮",9:"૯",0:"૦"},n={"૧":"1","૨":"2","૩":"3","૪":"4","૫":"5","૬":"6","૭":"7","૮":"8","૯":"9","૦":"0"};e.defineLocale("gu",{months:"જાન્યુઆરી_ફેબ્રુઆરી_માર્ચ_એપ્રિલ_મે_જૂન_જુલાઈ_ઑગસ્ટ_સપ્ટેમ્બર_ઑક્ટ્બર_નવેમ્બર_ડિસેમ્બર".split("_"),monthsShort:"જાન્યુ._ફેબ્રુ._માર્ચ_એપ્રિ._મે_જૂન_જુલા._ઑગ._સપ્ટે._ઑક્ટ્._નવે._ડિસે.".split("_"),monthsParseExact:!0,weekdays:"રવિવાર_સોમવાર_મંગળવાર_બુધ્વાર_ગુરુવાર_શુક્રવાર_શનિવાર".split("_"),weekdaysShort:"રવિ_સોમ_મંગળ_બુધ્_ગુરુ_શુક્ર_શનિ".split("_"),weekdaysMin:"ર_સો_મં_બુ_ગુ_શુ_શ".split("_"),longDateFormat:{LT:"A h:mm વાગ્યે",LTS:"A h:mm:ss વાગ્યે",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm વાગ્યે",LLLL:"dddd, D MMMM YYYY, A h:mm વાગ્યે"},calendar:{sameDay:"[આજ] LT",nextDay:"[કાલે] LT",nextWeek:"dddd, LT",lastDay:"[ગઇકાલે] LT",lastWeek:"[પાછલા] dddd, LT",sameElse:"L"},relativeTime:{future:"%s મા",past:"%s પહેલા",s:"અમુક પળો",ss:"%d સેકંડ",m:"એક મિનિટ",mm:"%d મિનિટ",h:"એક કલાક",hh:"%d કલાક",d:"એક દિવસ",dd:"%d દિવસ",M:"એક મહિનો",MM:"%d મહિનો",y:"એક વર્ષ",yy:"%d વર્ષ"},preparse:function(e){return e.replace(/[૧૨૩૪૫૬૭૮૯૦]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/રાત|બપોર|સવાર|સાંજ/,meridiemHour:function(e,t){return 12===e&&(e=0),"રાત"===t?e<4?e:e+12:"સવાર"===t?e:"બપોર"===t?e>=10?e:e+12:"સાંજ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"રાત":e<10?"સવાર":e<17?"બપોર":e<20?"સાંજ":"રાત"},week:{dow:0,doy:6}})}(n(74389))},38142:function(e,t,n){!function(e){"use strict";e.defineLocale("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY HH:mm",LLLL:"dddd, D [ב]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",ss:"%d שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(e){return 2===e?"שעתיים":e+" שעות"},d:"יום",dd:function(e){return 2===e?"יומיים":e+" ימים"},M:"חודש",MM:function(e){return 2===e?"חודשיים":e+" חודשים"},y:"שנה",yy:function(e){return 2===e?"שנתיים":e%10==0&&10!==e?e+" שנה":e+" שנים"}},meridiemParse:/אחה"צ|לפנה"צ|אחרי הצהריים|לפני הצהריים|לפנות בוקר|בבוקר|בערב/i,isPM:function(e){return/^(אחה"צ|אחרי הצהריים|בערב)$/.test(e)},meridiem:function(e,t,n){return e<5?"לפנות בוקר":e<10?"בבוקר":e<12?n?'לפנה"צ':"לפני הצהריים":e<18?n?'אחה"צ':"אחרי הצהריים":"בערב"}})}(n(74389))},97932:function(e,t,n){!function(e){"use strict";var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"},r=[/^जन/i,/^फ़र|फर/i,/^मार्च/i,/^अप्रै/i,/^मई/i,/^जून/i,/^जुल/i,/^अग/i,/^सितं|सित/i,/^अक्टू/i,/^नव|नवं/i,/^दिसं|दिस/i];e.defineLocale("hi",{months:{format:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),standalone:"जनवरी_फरवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितंबर_अक्टूबर_नवंबर_दिसंबर".split("_")},monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm बजे",LLLL:"dddd, D MMMM YYYY, A h:mm बजे"},monthsParse:r,longMonthsParse:r,shortMonthsParse:[/^जन/i,/^फ़र/i,/^मार्च/i,/^अप्रै/i,/^मई/i,/^जून/i,/^जुल/i,/^अग/i,/^सित/i,/^अक्टू/i,/^नव/i,/^दिस/i],monthsRegex:/^(जनवरी|जन\.?|फ़रवरी|फरवरी|फ़र\.?|मार्च?|अप्रैल|अप्रै\.?|मई?|जून?|जुलाई|जुल\.?|अगस्त|अग\.?|सितम्बर|सितंबर|सित\.?|अक्टूबर|अक्टू\.?|नवम्बर|नवंबर|नव\.?|दिसम्बर|दिसंबर|दिस\.?)/i,monthsShortRegex:/^(जनवरी|जन\.?|फ़रवरी|फरवरी|फ़र\.?|मार्च?|अप्रैल|अप्रै\.?|मई?|जून?|जुलाई|जुल\.?|अगस्त|अग\.?|सितम्बर|सितंबर|सित\.?|अक्टूबर|अक्टू\.?|नवम्बर|नवंबर|नव\.?|दिसम्बर|दिसंबर|दिस\.?)/i,monthsStrictRegex:/^(जनवरी?|फ़रवरी|फरवरी?|मार्च?|अप्रैल?|मई?|जून?|जुलाई?|अगस्त?|सितम्बर|सितंबर|सित?\.?|अक्टूबर|अक्टू\.?|नवम्बर|नवंबर?|दिसम्बर|दिसंबर?)/i,monthsShortStrictRegex:/^(जन\.?|फ़र\.?|मार्च?|अप्रै\.?|मई?|जून?|जुल\.?|अग\.?|सित\.?|अक्टू\.?|नव\.?|दिस\.?)/i,calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",ss:"%d सेकंड",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/रात|सुबह|दोपहर|शाम/,meridiemHour:function(e,t){return 12===e&&(e=0),"रात"===t?e<4?e:e+12:"सुबह"===t?e:"दोपहर"===t?e>=10?e:e+12:"शाम"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"रात":e<10?"सुबह":e<17?"दोपहर":e<20?"शाम":"रात"},week:{dow:0,doy:6}})}(n(74389))},62688:function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=e+" ";switch(n){case"ss":return r+(1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi");case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+(1===e?"minuta":2===e||3===e||4===e?"minute":"minuta");case"h":return t?"jedan sat":"jednog sata";case"hh":return r+(1===e?"sat":2===e||3===e||4===e?"sata":"sati");case"dd":return r+(1===e?"dan":"dana");case"MM":return r+(1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci");case"yy":return r+(1===e?"godina":2===e||3===e||4===e?"godine":"godina")}}e.defineLocale("hr",{months:{format:"siječnja_veljače_ožujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"siječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:return"[prošlu] [nedjelju] [u] LT";case 3:return"[prošlu] [srijedu] [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(74389))},55332:function(e,t,n){!function(e){"use strict";var t="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");function n(e,t,n,r){var i=e;switch(n){case"s":return r||t?"néhány másodperc":"néhány másodperce";case"ss":return i+(r||t)?" másodperc":" másodperce";case"m":return"egy"+(r||t?" perc":" perce");case"mm":return i+(r||t?" perc":" perce");case"h":return"egy"+(r||t?" óra":" órája");case"hh":return i+(r||t?" óra":" órája");case"d":return"egy"+(r||t?" nap":" napja");case"dd":return i+(r||t?" nap":" napja");case"M":return"egy"+(r||t?" hónap":" hónapja");case"MM":return i+(r||t?" hónap":" hónapja");case"y":return"egy"+(r||t?" év":" éve");case"yy":return i+(r||t?" év":" éve")}return""}function r(e){return(e?"":"[múlt] ")+"["+t[this.day()]+"] LT[-kor]"}e.defineLocale("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan._feb._márc._ápr._máj._jún._júl._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return r.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return r.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(74389))},2115:function(e,t,n){!function(e){"use strict";e.defineLocale("hy-am",{months:{format:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_"),standalone:"հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր".split("_")},monthsShort:"հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_"),weekdays:"կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_"),weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., HH:mm",LLLL:"dddd, D MMMM YYYY թ., HH:mm"},calendar:{sameDay:"[այսօր] LT",nextDay:"[վաղը] LT",lastDay:"[երեկ] LT",nextWeek:function(){return"dddd [օրը ժամը] LT"},lastWeek:function(){return"[անցած] dddd [օրը ժամը] LT"},sameElse:"L"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",ss:"%d վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",MM:"%d ամիս",y:"տարի",yy:"%d տարի"},meridiemParse:/գիշերվա|առավոտվա|ցերեկվա|երեկոյան/,isPM:function(e){return/^(ցերեկվա|երեկոյան)$/.test(e)},meridiem:function(e){return e<4?"գիշերվա":e<12?"առավոտվա":e<17?"ցերեկվա":"երեկոյան"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(ին|րդ)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-ին":e+"-րդ";default:return e}},week:{dow:1,doy:7}})}(n(74389))},5829:function(e,t,n){!function(e){"use strict";e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(n(74389))},20910:function(e,t,n){!function(e){"use strict";function t(e){return e%100==11||e%10!=1}function n(e,n,r,i){var o=e+" ";switch(r){case"s":return n||i?"nokkrar sekúndur":"nokkrum sekúndum";case"ss":return t(e)?o+(n||i?"sekúndur":"sekúndum"):o+"sekúnda";case"m":return n?"mínúta":"mínútu";case"mm":return t(e)?o+(n||i?"mínútur":"mínútum"):n?o+"mínúta":o+"mínútu";case"hh":return t(e)?o+(n||i?"klukkustundir":"klukkustundum"):o+"klukkustund";case"d":return n?"dagur":i?"dag":"degi";case"dd":return t(e)?n?o+"dagar":o+(i?"daga":"dögum"):n?o+"dagur":o+(i?"dag":"degi");case"M":return n?"mánuður":i?"mánuð":"mánuði";case"MM":return t(e)?n?o+"mánuðir":o+(i?"mánuði":"mánuðum"):n?o+"mánuður":o+(i?"mánuð":"mánuði");case"y":return n||i?"ár":"ári";case"yy":return t(e)?o+(n||i?"ár":"árum"):o+(n||i?"ár":"ári")}}e.defineLocale("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:n,ss:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(74389))},47740:function(e,t,n){!function(e){"use strict";e.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){return 0===this.day()?"[la scorsa] dddd [alle] LT":"[lo scorso] dddd [alle] LT"},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(74389))},53085:function(e,t,n){!function(e){"use strict";e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){return 0===this.day()?"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT":"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(74389))},25025:function(e,t,n){!function(e){"use strict";e.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"令和",narrow:"㋿",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"平成",narrow:"㍻",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"昭和",narrow:"㍼",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"大正",narrow:"㍽",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"明治",narrow:"㍾",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"西暦",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"紀元前",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(元|\d+)年/,eraYearOrdinalParse:function(e,t){return"元"===t[1]?1:parseInt(t[1]||e,10)},months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日(ddd) HH:mm"},meridiemParse:/午前|午後/i,isPM:function(e){return"午後"===e},meridiem:function(e,t,n){return e<12?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:function(e){return e.week()!==this.week()?"[来週]dddd LT":"dddd LT"},lastDay:"[昨日] LT",lastWeek:function(e){return this.week()!==e.week()?"[先週]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}日/,ordinal:function(e,t){switch(t){case"y":return 1===e?"元年":e+"年";case"d":case"D":case"DDD":return e+"日";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"数秒",ss:"%d秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})}(n(74389))},7145:function(e,t,n){!function(e){"use strict";e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(n(74389))},48584:function(e,t,n){!function(e){"use strict";e.defineLocale("ka",{months:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:{standalone:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),format:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_"),isFormat:/(წინა|შემდეგ)/},weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(e){return e.replace(/(წამ|წუთ|საათ|წელ|დღ|თვ)(ი|ე)/,(function(e,t,n){return"ი"===n?t+"ში":t+n+"ში"}))},past:function(e){return/(წამი|წუთი|საათი|დღე|თვე)/.test(e)?e.replace(/(ი|ე)$/,"ის წინ"):/წელი/.test(e)?e.replace(/წელი$/,"წლის წინ"):e},s:"რამდენიმე წამი",ss:"%d წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},dayOfMonthOrdinalParse:/0|1-ლი|მე-\d{1,2}|\d{1,2}-ე/,ordinal:function(e){return 0===e?e:1===e?e+"-ლი":e<20||e<=100&&e%20==0||e%100==0?"მე-"+e:e+"-ე"},week:{dow:1,doy:7}})}(n(74389))},74465:function(e,t,n){!function(e){"use strict";var t={0:"-ші",1:"-ші",2:"-ші",3:"-ші",4:"-ші",5:"-ші",6:"-шы",7:"-ші",8:"-ші",9:"-шы",10:"-шы",20:"-шы",30:"-шы",40:"-шы",50:"-ші",60:"-шы",70:"-ші",80:"-ші",90:"-шы",100:"-ші"};e.defineLocale("kk",{months:"қаңтар_ақпан_наурыз_сәуір_мамыр_маусым_шілде_тамыз_қыркүйек_қазан_қараша_желтоқсан".split("_"),monthsShort:"қаң_ақп_нау_сәу_мам_мау_шіл_там_қыр_қаз_қар_жел".split("_"),weekdays:"жексенбі_дүйсенбі_сейсенбі_сәрсенбі_бейсенбі_жұма_сенбі".split("_"),weekdaysShort:"жек_дүй_сей_сәр_бей_жұм_сен".split("_"),weekdaysMin:"жк_дй_сй_ср_бй_жм_сн".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгін сағат] LT",nextDay:"[Ертең сағат] LT",nextWeek:"dddd [сағат] LT",lastDay:"[Кеше сағат] LT",lastWeek:"[Өткен аптаның] dddd [сағат] LT",sameElse:"L"},relativeTime:{future:"%s ішінде",past:"%s бұрын",s:"бірнеше секунд",ss:"%d секунд",m:"бір минут",mm:"%d минут",h:"бір сағат",hh:"%d сағат",d:"бір күн",dd:"%d күн",M:"бір ай",MM:"%d ай",y:"бір жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(ші|шы)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(74389))},38614:function(e,t,n){!function(e){"use strict";var t={1:"១",2:"២",3:"៣",4:"៤",5:"៥",6:"៦",7:"៧",8:"៨",9:"៩",0:"០"},n={"១":"1","២":"2","៣":"3","៤":"4","៥":"5","៦":"6","៧":"7","៨":"8","៩":"9","០":"0"};e.defineLocale("km",{months:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),monthsShort:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekdays:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysShort:"អា_ច_អ_ព_ព្រ_សុ_ស".split("_"),weekdaysMin:"អា_ច_អ_ព_ព្រ_សុ_ស".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/ព្រឹក|ល្ងាច/,isPM:function(e){return"ល្ងាច"===e},meridiem:function(e,t,n){return e<12?"ព្រឹក":"ល្ងាច"},calendar:{sameDay:"[ថ្ងៃនេះ ម៉ោង] LT",nextDay:"[ស្អែក ម៉ោង] LT",nextWeek:"dddd [ម៉ោង] LT",lastDay:"[ម្សិលមិញ ម៉ោង] LT",lastWeek:"dddd [សប្តាហ៍មុន] [ម៉ោង] LT",sameElse:"L"},relativeTime:{future:"%sទៀត",past:"%sមុន",s:"ប៉ុន្មានវិនាទី",ss:"%d វិនាទី",m:"មួយនាទី",mm:"%d នាទី",h:"មួយម៉ោង",hh:"%d ម៉ោង",d:"មួយថ្ងៃ",dd:"%d ថ្ងៃ",M:"មួយខែ",MM:"%d ខែ",y:"មួយឆ្នាំ",yy:"%d ឆ្នាំ"},dayOfMonthOrdinalParse:/ទី\d{1,2}/,ordinal:"ទី%d",preparse:function(e){return e.replace(/[១២៣៤៥៦៧៨៩០]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}})}(n(74389))},35293:function(e,t,n){!function(e){"use strict";var t={1:"೧",2:"೨",3:"೩",4:"೪",5:"೫",6:"೬",7:"೭",8:"೮",9:"೯",0:"೦"},n={"೧":"1","೨":"2","೩":"3","೪":"4","೫":"5","೬":"6","೭":"7","೮":"8","೯":"9","೦":"0"};e.defineLocale("kn",{months:"ಜನವರಿ_ಫೆಬ್ರವರಿ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂಬರ್_ಅಕ್ಟೋಬರ್_ನವೆಂಬರ್_ಡಿಸೆಂಬರ್".split("_"),monthsShort:"ಜನ_ಫೆಬ್ರ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂ_ಅಕ್ಟೋ_ನವೆಂ_ಡಿಸೆಂ".split("_"),monthsParseExact:!0,weekdays:"ಭಾನುವಾರ_ಸೋಮವಾರ_ಮಂಗಳವಾರ_ಬುಧವಾರ_ಗುರುವಾರ_ಶುಕ್ರವಾರ_ಶನಿವಾರ".split("_"),weekdaysShort:"ಭಾನು_ಸೋಮ_ಮಂಗಳ_ಬುಧ_ಗುರು_ಶುಕ್ರ_ಶನಿ".split("_"),weekdaysMin:"ಭಾ_ಸೋ_ಮಂ_ಬು_ಗು_ಶು_ಶ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[ಇಂದು] LT",nextDay:"[ನಾಳೆ] LT",nextWeek:"dddd, LT",lastDay:"[ನಿನ್ನೆ] LT",lastWeek:"[ಕೊನೆಯ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ನಂತರ",past:"%s ಹಿಂದೆ",s:"ಕೆಲವು ಕ್ಷಣಗಳು",ss:"%d ಸೆಕೆಂಡುಗಳು",m:"ಒಂದು ನಿಮಿಷ",mm:"%d ನಿಮಿಷ",h:"ಒಂದು ಗಂಟೆ",hh:"%d ಗಂಟೆ",d:"ಒಂದು ದಿನ",dd:"%d ದಿನ",M:"ಒಂದು ತಿಂಗಳು",MM:"%d ತಿಂಗಳು",y:"ಒಂದು ವರ್ಷ",yy:"%d ವರ್ಷ"},preparse:function(e){return e.replace(/[೧೨೩೪೫೬೭೮೯೦]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/ರಾತ್ರಿ|ಬೆಳಿಗ್ಗೆ|ಮಧ್ಯಾಹ್ನ|ಸಂಜೆ/,meridiemHour:function(e,t){return 12===e&&(e=0),"ರಾತ್ರಿ"===t?e<4?e:e+12:"ಬೆಳಿಗ್ಗೆ"===t?e:"ಮಧ್ಯಾಹ್ನ"===t?e>=10?e:e+12:"ಸಂಜೆ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"ರಾತ್ರಿ":e<10?"ಬೆಳಿಗ್ಗೆ":e<17?"ಮಧ್ಯಾಹ್ನ":e<20?"ಸಂಜೆ":"ರಾತ್ರಿ"},dayOfMonthOrdinalParse:/\d{1,2}(ನೇ)/,ordinal:function(e){return e+"ನೇ"},week:{dow:0,doy:6}})}(n(74389))},82371:function(e,t,n){!function(e){"use strict";e.defineLocale("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h:mm",LLLL:"YYYY년 MMMM D일 dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY년 MMMM D일",lll:"YYYY년 MMMM D일 A h:mm",llll:"YYYY년 MMMM D일 dddd A h:mm"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇 초",ss:"%d초",m:"1분",mm:"%d분",h:"한 시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한 달",MM:"%d달",y:"일 년",yy:"%d년"},dayOfMonthOrdinalParse:/\d{1,2}(일|월|주)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"일";case"M":return e+"월";case"w":case"W":return e+"주";default:return e}},meridiemParse:/오전|오후/,isPM:function(e){return"오후"===e},meridiem:function(e,t,n){return e<12?"오전":"오후"}})}(n(74389))},83106:function(e,t,n){!function(e){"use strict";var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},r=["کانونی دووەم","شوبات","ئازار","نیسان","ئایار","حوزەیران","تەمموز","ئاب","ئەیلوول","تشرینی یەكەم","تشرینی دووەم","كانونی یەکەم"];e.defineLocale("ku",{months:r,monthsShort:r,weekdays:"یه‌كشه‌ممه‌_دووشه‌ممه‌_سێشه‌ممه‌_چوارشه‌ممه‌_پێنجشه‌ممه‌_هه‌ینی_شه‌ممه‌".split("_"),weekdaysShort:"یه‌كشه‌م_دووشه‌م_سێشه‌م_چوارشه‌م_پێنجشه‌م_هه‌ینی_شه‌ممه‌".split("_"),weekdaysMin:"ی_د_س_چ_پ_ه_ش".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/ئێواره‌|به‌یانی/,isPM:function(e){return/ئێواره‌/.test(e)},meridiem:function(e,t,n){return e<12?"به‌یانی":"ئێواره‌"},calendar:{sameDay:"[ئه‌مرۆ كاتژمێر] LT",nextDay:"[به‌یانی كاتژمێر] LT",nextWeek:"dddd [كاتژمێر] LT",lastDay:"[دوێنێ كاتژمێر] LT",lastWeek:"dddd [كاتژمێر] LT",sameElse:"L"},relativeTime:{future:"له‌ %s",past:"%s",s:"چه‌ند چركه‌یه‌ك",ss:"چركه‌ %d",m:"یه‌ك خوله‌ك",mm:"%d خوله‌ك",h:"یه‌ك كاتژمێر",hh:"%d كاتژمێر",d:"یه‌ك ڕۆژ",dd:"%d ڕۆژ",M:"یه‌ك مانگ",MM:"%d مانگ",y:"یه‌ك ساڵ",yy:"%d ساڵ"},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,(function(e){return n[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},week:{dow:6,doy:12}})}(n(74389))},52891:function(e,t,n){!function(e){"use strict";var t={0:"-чү",1:"-чи",2:"-чи",3:"-чү",4:"-чү",5:"-чи",6:"-чы",7:"-чи",8:"-чи",9:"-чу",10:"-чу",20:"-чы",30:"-чу",40:"-чы",50:"-чү",60:"-чы",70:"-чи",80:"-чи",90:"-чу",100:"-чү"};e.defineLocale("ky",{months:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),monthsShort:"янв_фев_март_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),weekdays:"Жекшемби_Дүйшөмбү_Шейшемби_Шаршемби_Бейшемби_Жума_Ишемби".split("_"),weekdaysShort:"Жек_Дүй_Шей_Шар_Бей_Жум_Ише".split("_"),weekdaysMin:"Жк_Дй_Шй_Шр_Бй_Жм_Иш".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгүн саат] LT",nextDay:"[Эртең саат] LT",nextWeek:"dddd [саат] LT",lastDay:"[Кечээ саат] LT",lastWeek:"[Өткөн аптанын] dddd [күнү] [саат] LT",sameElse:"L"},relativeTime:{future:"%s ичинде",past:"%s мурун",s:"бирнече секунд",ss:"%d секунд",m:"бир мүнөт",mm:"%d мүнөт",h:"бир саат",hh:"%d саат",d:"бир күн",dd:"%d күн",M:"бир ай",MM:"%d ай",y:"бир жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(чи|чы|чү|чу)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(74389))},82088:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?i[n][0]:i[n][1]}function n(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10;return n(0===t?e/10:t)}if(e<1e4){for(;e>=10;)e/=10;return n(e)}return n(e/=1e3)}e.defineLocale("lb",{months:"Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._Mé._Dë._Më._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mé_Dë_Më_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gëschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(e){return n(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e},past:function(e){return n(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e},s:"e puer Sekonnen",ss:"%d Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Méint",y:t,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(74389))},68029:function(e,t,n){!function(e){"use strict";e.defineLocale("lo",{months:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),monthsShort:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),weekdays:"ອາທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysShort:"ທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysMin:"ທ_ຈ_ອຄ_ພ_ພຫ_ສກ_ສ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"ວັນdddd D MMMM YYYY HH:mm"},meridiemParse:/ຕອນເຊົ້າ|ຕອນແລງ/,isPM:function(e){return"ຕອນແລງ"===e},meridiem:function(e,t,n){return e<12?"ຕອນເຊົ້າ":"ຕອນແລງ"},calendar:{sameDay:"[ມື້ນີ້ເວລາ] LT",nextDay:"[ມື້ອື່ນເວລາ] LT",nextWeek:"[ວັນ]dddd[ໜ້າເວລາ] LT",lastDay:"[ມື້ວານນີ້ເວລາ] LT",lastWeek:"[ວັນ]dddd[ແລ້ວນີ້ເວລາ] LT",sameElse:"L"},relativeTime:{future:"ອີກ %s",past:"%sຜ່ານມາ",s:"ບໍ່ເທົ່າໃດວິນາທີ",ss:"%d ວິນາທີ",m:"1 ນາທີ",mm:"%d ນາທີ",h:"1 ຊົ່ວໂມງ",hh:"%d ຊົ່ວໂມງ",d:"1 ມື້",dd:"%d ມື້",M:"1 ເດືອນ",MM:"%d ເດືອນ",y:"1 ປີ",yy:"%d ປີ"},dayOfMonthOrdinalParse:/(ທີ່)\d{1,2}/,ordinal:function(e){return"ທີ່"+e}})}(n(74389))},97351:function(e,t,n){!function(e){"use strict";var t={ss:"sekundė_sekundžių_sekundes",m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"};function n(e,t,n,r){return t?i(n)[0]:r?i(n)[1]:i(n)[2]}function r(e){return e%10==0||e>10&&e<20}function i(e){return t[e].split("_")}function o(e,t,o,a){var s=e+" ";return 1===e?s+n(0,t,o[0],a):t?s+(r(e)?i(o)[1]:i(o)[0]):a?s+i(o)[1]:s+(r(e)?i(o)[1]:i(o)[2])}e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandžio_gegužės_birželio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegužė_birželis_liepa_rugpjūtis_rugsėjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadienį_pirmadienį_antradienį_trečiadienį_ketvirtadienį_penktadienį_šeštadienį".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:function(e,t,n,r){return t?"kelios sekundės":r?"kelių sekundžių":"kelias sekundes"},ss:o,m:n,mm:o,h:n,hh:o,d:n,dd:o,M:n,MM:o,y:n,yy:o},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})}(n(74389))},74945:function(e,t,n){!function(e){"use strict";var t={ss:"sekundes_sekundēm_sekunde_sekundes".split("_"),m:"minūtes_minūtēm_minūte_minūtes".split("_"),mm:"minūtes_minūtēm_minūte_minūtes".split("_"),h:"stundas_stundām_stunda_stundas".split("_"),hh:"stundas_stundām_stunda_stundas".split("_"),d:"dienas_dienām_diena_dienas".split("_"),dd:"dienas_dienām_diena_dienas".split("_"),M:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),MM:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(e,t,n){return n?t%10==1&&t%100!=11?e[2]:e[3]:t%10==1&&t%100!=11?e[0]:e[1]}function r(e,r,i){return e+" "+n(t[i],e,r)}function i(e,r,i){return n(t[i],e,r)}e.defineLocale("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pēc %s",past:"pirms %s",s:function(e,t){return t?"dažas sekundes":"dažām sekundēm"},ss:r,m:i,mm:r,h:i,hh:r,d:i,dd:r,M:i,MM:r,y:i,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(74389))},78063:function(e,t,n){!function(e){"use strict";var t={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}};e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedjelje] [u] LT","[prošlog] [ponedjeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srijede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(74389))},45285:function(e,t,n){!function(e){"use strict";e.defineLocale("mi",{months:"Kohi-tāte_Hui-tanguru_Poutū-te-rangi_Paenga-whāwhā_Haratua_Pipiri_Hōngoingoi_Here-turi-kōkā_Mahuru_Whiringa-ā-nuku_Whiringa-ā-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hōngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rātapu_Mane_Tūrei_Wenerei_Tāite_Paraire_Hātarei".split("_"),weekdaysShort:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),weekdaysMin:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hēkona ruarua",ss:"%d hēkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(74389))},31183:function(e,t,n){!function(e){"use strict";e.defineLocale("mk",{months:"јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември".split("_"),monthsShort:"јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек".split("_"),weekdays:"недела_понеделник_вторник_среда_четврток_петок_сабота".split("_"),weekdaysShort:"нед_пон_вто_сре_чет_пет_саб".split("_"),weekdaysMin:"нe_пo_вт_ср_че_пе_сa".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Денес во] LT",nextDay:"[Утре во] LT",nextWeek:"[Во] dddd [во] LT",lastDay:"[Вчера во] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Изминатата] dddd [во] LT";case 1:case 2:case 4:case 5:return"[Изминатиот] dddd [во] LT"}},sameElse:"L"},relativeTime:{future:"за %s",past:"пред %s",s:"неколку секунди",ss:"%d секунди",m:"една минута",mm:"%d минути",h:"еден час",hh:"%d часа",d:"еден ден",dd:"%d дена",M:"еден месец",MM:"%d месеци",y:"една година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ев":0===n?e+"-ен":n>10&&n<20?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}})}(n(74389))},24701:function(e,t,n){!function(e){"use strict";e.defineLocale("ml",{months:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),monthsShort:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),monthsParseExact:!0,weekdays:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),weekdaysShort:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),weekdaysMin:"ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ".split("_"),longDateFormat:{LT:"A h:mm -നു",LTS:"A h:mm:ss -നു",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -നു",LLLL:"dddd, D MMMM YYYY, A h:mm -നു"},calendar:{sameDay:"[ഇന്ന്] LT",nextDay:"[നാളെ] LT",nextWeek:"dddd, LT",lastDay:"[ഇന്നലെ] LT",lastWeek:"[കഴിഞ്ഞ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s കഴിഞ്ഞ്",past:"%s മുൻപ്",s:"അൽപ നിമിഷങ്ങൾ",ss:"%d സെക്കൻഡ്",m:"ഒരു മിനിറ്റ്",mm:"%d മിനിറ്റ്",h:"ഒരു മണിക്കൂർ",hh:"%d മണിക്കൂർ",d:"ഒരു ദിവസം",dd:"%d ദിവസം",M:"ഒരു മാസം",MM:"%d മാസം",y:"ഒരു വർഷം",yy:"%d വർഷം"},meridiemParse:/രാത്രി|രാവിലെ|ഉച്ച കഴിഞ്ഞ്|വൈകുന്നേരം|രാത്രി/i,meridiemHour:function(e,t){return 12===e&&(e=0),"രാത്രി"===t&&e>=4||"ഉച്ച കഴിഞ്ഞ്"===t||"വൈകുന്നേരം"===t?e+12:e},meridiem:function(e,t,n){return e<4?"രാത്രി":e<12?"രാവിലെ":e<17?"ഉച്ച കഴിഞ്ഞ്":e<20?"വൈകുന്നേരം":"രാത്രി"}})}(n(74389))},18275:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){switch(n){case"s":return t?"хэдхэн секунд":"хэдхэн секундын";case"ss":return e+(t?" секунд":" секундын");case"m":case"mm":return e+(t?" минут":" минутын");case"h":case"hh":return e+(t?" цаг":" цагийн");case"d":case"dd":return e+(t?" өдөр":" өдрийн");case"M":case"MM":return e+(t?" сар":" сарын");case"y":case"yy":return e+(t?" жил":" жилийн");default:return e}}e.defineLocale("mn",{months:"Нэгдүгээр сар_Хоёрдугаар сар_Гуравдугаар сар_Дөрөвдүгээр сар_Тавдугаар сар_Зургадугаар сар_Долдугаар сар_Наймдугаар сар_Есдүгээр сар_Аравдугаар сар_Арван нэгдүгээр сар_Арван хоёрдугаар сар".split("_"),monthsShort:"1 сар_2 сар_3 сар_4 сар_5 сар_6 сар_7 сар_8 сар_9 сар_10 сар_11 сар_12 сар".split("_"),monthsParseExact:!0,weekdays:"Ням_Даваа_Мягмар_Лхагва_Пүрэв_Баасан_Бямба".split("_"),weekdaysShort:"Ням_Дав_Мяг_Лха_Пүр_Баа_Бям".split("_"),weekdaysMin:"Ня_Да_Мя_Лх_Пү_Ба_Бя".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY оны MMMMын D",LLL:"YYYY оны MMMMын D HH:mm",LLLL:"dddd, YYYY оны MMMMын D HH:mm"},meridiemParse:/ҮӨ|ҮХ/i,isPM:function(e){return"ҮХ"===e},meridiem:function(e,t,n){return e<12?"ҮӨ":"ҮХ"},calendar:{sameDay:"[Өнөөдөр] LT",nextDay:"[Маргааш] LT",nextWeek:"[Ирэх] dddd LT",lastDay:"[Өчигдөр] LT",lastWeek:"[Өнгөрсөн] dddd LT",sameElse:"L"},relativeTime:{future:"%s дараа",past:"%s өмнө",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2} өдөр/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+" өдөр";default:return e}}})}(n(74389))},72178:function(e,t,n){!function(e){"use strict";var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};function r(e,t,n,r){var i="";if(t)switch(n){case"s":i="काही सेकंद";break;case"ss":i="%d सेकंद";break;case"m":i="एक मिनिट";break;case"mm":i="%d मिनिटे";break;case"h":i="एक तास";break;case"hh":i="%d तास";break;case"d":i="एक दिवस";break;case"dd":i="%d दिवस";break;case"M":i="एक महिना";break;case"MM":i="%d महिने";break;case"y":i="एक वर्ष";break;case"yy":i="%d वर्षे"}else switch(n){case"s":i="काही सेकंदां";break;case"ss":i="%d सेकंदां";break;case"m":i="एका मिनिटा";break;case"mm":i="%d मिनिटां";break;case"h":i="एका तासा";break;case"hh":i="%d तासां";break;case"d":i="एका दिवसा";break;case"dd":i="%d दिवसां";break;case"M":i="एका महिन्या";break;case"MM":i="%d महिन्यां";break;case"y":i="एका वर्षा";break;case"yy":i="%d वर्षां"}return i.replace(/%d/i,e)}e.defineLocale("mr",{months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),monthsParseExact:!0,weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm वाजता",LTS:"A h:mm:ss वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm वाजता",LLLL:"dddd, D MMMM YYYY, A h:mm वाजता"},calendar:{sameDay:"[आज] LT",nextDay:"[उद्या] LT",nextWeek:"dddd, LT",lastDay:"[काल] LT",lastWeek:"[मागील] dddd, LT",sameElse:"L"},relativeTime:{future:"%sमध्ये",past:"%sपूर्वी",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/पहाटे|सकाळी|दुपारी|सायंकाळी|रात्री/,meridiemHour:function(e,t){return 12===e&&(e=0),"पहाटे"===t||"सकाळी"===t?e:"दुपारी"===t||"सायंकाळी"===t||"रात्री"===t?e>=12?e:e+12:void 0},meridiem:function(e,t,n){return e>=0&&e<6?"पहाटे":e<12?"सकाळी":e<17?"दुपारी":e<20?"सायंकाळी":"रात्री"},week:{dow:0,doy:6}})}(n(74389))},51402:function(e,t,n){!function(e){"use strict";e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(74389))},79851:function(e,t,n){!function(e){"use strict";e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(74389))},55185:function(e,t,n){!function(e){"use strict";e.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_Ġunju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diċembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_Ġun_Lul_Aww_Set_Ott_Nov_Diċ".split("_"),weekdays:"Il-Ħadd_It-Tnejn_It-Tlieta_L-Erbgħa_Il-Ħamis_Il-Ġimgħa_Is-Sibt".split("_"),weekdaysShort:"Ħad_Tne_Tli_Erb_Ħam_Ġim_Sib".split("_"),weekdaysMin:"Ħa_Tn_Tl_Er_Ħa_Ġi_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Għada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-bieraħ fil-]LT",lastWeek:"dddd [li għadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f’ %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siegħa",hh:"%d siegħat",d:"ġurnata",dd:"%d ġranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(74389))},50863:function(e,t,n){!function(e){"use strict";var t={1:"၁",2:"၂",3:"၃",4:"၄",5:"၅",6:"၆",7:"၇",8:"၈",9:"၉",0:"၀"},n={"၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","၀":"0"};e.defineLocale("my",{months:"ဇန်နဝါရီ_ဖေဖော်ဝါရီ_မတ်_ဧပြီ_မေ_ဇွန်_ဇူလိုင်_သြဂုတ်_စက်တင်ဘာ_အောက်တိုဘာ_နိုဝင်ဘာ_ဒီဇင်ဘာ".split("_"),monthsShort:"ဇန်_ဖေ_မတ်_ပြီ_မေ_ဇွန်_လိုင်_သြ_စက်_အောက်_နို_ဒီ".split("_"),weekdays:"တနင်္ဂနွေ_တနင်္လာ_အင်္ဂါ_ဗုဒ္ဓဟူး_ကြာသပတေး_သောကြာ_စနေ".split("_"),weekdaysShort:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),weekdaysMin:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ယနေ.] LT [မှာ]",nextDay:"[မနက်ဖြန်] LT [မှာ]",nextWeek:"dddd LT [မှာ]",lastDay:"[မနေ.က] LT [မှာ]",lastWeek:"[ပြီးခဲ့သော] dddd LT [မှာ]",sameElse:"L"},relativeTime:{future:"လာမည့် %s မှာ",past:"လွန်ခဲ့သော %s က",s:"စက္ကန်.အနည်းငယ်",ss:"%d စက္ကန့်",m:"တစ်မိနစ်",mm:"%d မိနစ်",h:"တစ်နာရီ",hh:"%d နာရီ",d:"တစ်ရက်",dd:"%d ရက်",M:"တစ်လ",MM:"%d လ",y:"တစ်နှစ်",yy:"%d နှစ်"},preparse:function(e){return e.replace(/[၁၂၃၄၅၆၇၈၉၀]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}})}(n(74389))},59976:function(e,t,n){!function(e){"use strict";e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(74389))},52825:function(e,t,n){!function(e){"use strict";var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};e.defineLocale("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),monthsParseExact:!0,weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आ._सो._मं._बु._बि._शु._श.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"Aको h:mm बजे",LTS:"Aको h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, Aको h:mm बजे",LLLL:"dddd, D MMMM YYYY, Aको h:mm बजे"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/राति|बिहान|दिउँसो|साँझ/,meridiemHour:function(e,t){return 12===e&&(e=0),"राति"===t?e<4?e:e+12:"बिहान"===t?e:"दिउँसो"===t?e>=10?e:e+12:"साँझ"===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"राति":e<12?"बिहान":e<16?"दिउँसो":e<20?"साँझ":"राति"},calendar:{sameDay:"[आज] LT",nextDay:"[भोलि] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडि",s:"केही क्षण",ss:"%d सेकेण्ड",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:0,doy:6}})}(n(74389))},78849:function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(74389))},14379:function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",w:"één week",ww:"%d weken",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(74389))},16859:function(e,t,n){!function(e){"use strict";e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._må._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_må_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregåande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein månad",MM:"%d månader",y:"eit år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(74389))},8079:function(e,t,n){!function(e){"use strict";e.defineLocale("oc-lnc",{months:{standalone:"genièr_febrièr_març_abril_mai_junh_julhet_agost_setembre_octòbre_novembre_decembre".split("_"),format:"de genièr_de febrièr_de març_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'octòbre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._març_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dimècres_dijòus_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[uèi a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[ièr a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aquí %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|è|a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"è";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}})}(n(74389))},14294:function(e,t,n){!function(e){"use strict";var t={1:"੧",2:"੨",3:"੩",4:"੪",5:"੫",6:"੬",7:"੭",8:"੮",9:"੯",0:"੦"},n={"੧":"1","੨":"2","੩":"3","੪":"4","੫":"5","੬":"6","੭":"7","੮":"8","੯":"9","੦":"0"};e.defineLocale("pa-in",{months:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),monthsShort:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),weekdays:"ਐਤਵਾਰ_ਸੋਮਵਾਰ_ਮੰਗਲਵਾਰ_ਬੁਧਵਾਰ_ਵੀਰਵਾਰ_ਸ਼ੁੱਕਰਵਾਰ_ਸ਼ਨੀਚਰਵਾਰ".split("_"),weekdaysShort:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),weekdaysMin:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),longDateFormat:{LT:"A h:mm ਵਜੇ",LTS:"A h:mm:ss ਵਜੇ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ਵਜੇ",LLLL:"dddd, D MMMM YYYY, A h:mm ਵਜੇ"},calendar:{sameDay:"[ਅਜ] LT",nextDay:"[ਕਲ] LT",nextWeek:"[ਅਗਲਾ] dddd, LT",lastDay:"[ਕਲ] LT",lastWeek:"[ਪਿਛਲੇ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ਵਿੱਚ",past:"%s ਪਿਛਲੇ",s:"ਕੁਝ ਸਕਿੰਟ",ss:"%d ਸਕਿੰਟ",m:"ਇਕ ਮਿੰਟ",mm:"%d ਮਿੰਟ",h:"ਇੱਕ ਘੰਟਾ",hh:"%d ਘੰਟੇ",d:"ਇੱਕ ਦਿਨ",dd:"%d ਦਿਨ",M:"ਇੱਕ ਮਹੀਨਾ",MM:"%d ਮਹੀਨੇ",y:"ਇੱਕ ਸਾਲ",yy:"%d ਸਾਲ"},preparse:function(e){return e.replace(/[੧੨੩੪੫੬੭੮੯੦]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/ਰਾਤ|ਸਵੇਰ|ਦੁਪਹਿਰ|ਸ਼ਾਮ/,meridiemHour:function(e,t){return 12===e&&(e=0),"ਰਾਤ"===t?e<4?e:e+12:"ਸਵੇਰ"===t?e:"ਦੁਪਹਿਰ"===t?e>=10?e:e+12:"ਸ਼ਾਮ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"ਰਾਤ":e<10?"ਸਵੇਰ":e<17?"ਦੁਪਹਿਰ":e<20?"ਸ਼ਾਮ":"ਰਾਤ"},week:{dow:0,doy:6}})}(n(74389))},94251:function(e,t,n){!function(e){"use strict";var t="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_"),r=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^paź/i,/^lis/i,/^gru/i];function i(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function o(e,t,n){var r=e+" ";switch(n){case"ss":return r+(i(e)?"sekundy":"sekund");case"m":return t?"minuta":"minutę";case"mm":return r+(i(e)?"minuty":"minut");case"h":return t?"godzina":"godzinę";case"hh":return r+(i(e)?"godziny":"godzin");case"ww":return r+(i(e)?"tygodnie":"tygodni");case"MM":return r+(i(e)?"miesiące":"miesięcy");case"yy":return r+(i(e)?"lata":"lat")}}e.defineLocale("pl",{months:function(e,r){return e?/D MMMM/.test(r)?n[e.month()]:t[e.month()]:t},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_śr_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedzielę o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W środę o] LT";case 6:return"[W sobotę o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:o,m:o,mm:o,h:o,hh:o,d:"1 dzień",dd:"%d dni",w:"tydzień",ww:o,M:"miesiąc",MM:o,y:"rok",yy:o},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(74389))},9741:function(e,t,n){!function(e){"use strict";e.defineLocale("pt-br",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"do_2ª_3ª_4ª_5ª_6ª_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",invalidDate:"Data inválida"})}(n(74389))},28239:function(e,t,n){!function(e){"use strict";e.defineLocale("pt",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(74389))},1142:function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=" ";return(e%100>=20||e>=100&&e%100==0)&&(r=" de "),e+r+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"săptămâni",MM:"luni",yy:"ani"}[n]}e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",ss:t,m:"un minut",mm:t,h:"o oră",hh:t,d:"o zi",dd:t,w:"o săptămână",ww:t,M:"o lună",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})}(n(74389))},6728:function(e,t,n){!function(e){"use strict";function t(e,t,n){return"m"===n?t?"минута":"минуту":e+" "+(r=+e,i={ss:t?"секунда_секунды_секунд":"секунду_секунды_секунд",mm:t?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",ww:"неделя_недели_недель",MM:"месяц_месяца_месяцев",yy:"год_года_лет"}[n].split("_"),r%10==1&&r%100!=11?i[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?i[1]:i[2]);var r,i}var n=[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i];e.defineLocale("ru",{months:{format:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),standalone:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_")},monthsShort:{format:"янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),standalone:"янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_")},weekdays:{standalone:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),format:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_"),isFormat:/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?] ?dddd/},weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,monthsRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsShortRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsStrictRegex:/^(январ[яь]|феврал[яь]|марта?|апрел[яь]|ма[яй]|июн[яь]|июл[яь]|августа?|сентябр[яь]|октябр[яь]|ноябр[яь]|декабр[яь])/i,monthsShortStrictRegex:/^(янв\.|февр?\.|мар[т.]|апр\.|ма[яй]|июн[ья.]|июл[ья.]|авг\.|сент?\.|окт\.|нояб?\.|дек\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., H:mm",LLLL:"dddd, D MMMM YYYY г., H:mm"},calendar:{sameDay:"[Сегодня, в] LT",nextDay:"[Завтра, в] LT",lastDay:"[Вчера, в] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd, [в] LT":"[В] dddd, [в] LT";switch(this.day()){case 0:return"[В следующее] dddd, [в] LT";case 1:case 2:case 4:return"[В следующий] dddd, [в] LT";case 3:case 5:case 6:return"[В следующую] dddd, [в] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd, [в] LT":"[В] dddd, [в] LT";switch(this.day()){case 0:return"[В прошлое] dddd, [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd, [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd, [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",ss:t,m:t,mm:t,h:"час",hh:t,d:"день",dd:t,w:"неделя",ww:t,M:"месяц",MM:t,y:"год",yy:t},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(e){return/^(дня|вечера)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночи":e<12?"утра":e<17?"дня":"вечера"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-й";case"D":return e+"-го";case"w":case"W":return e+"-я";default:return e}},week:{dow:1,doy:4}})}(n(74389))},58488:function(e,t,n){!function(e){"use strict";var t=["جنوري","فيبروري","مارچ","اپريل","مئي","جون","جولاءِ","آگسٽ","سيپٽمبر","آڪٽوبر","نومبر","ڊسمبر"],n=["آچر","سومر","اڱارو","اربع","خميس","جمع","ڇنڇر"];e.defineLocale("sd",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/صبح|شام/,isPM:function(e){return"شام"===e},meridiem:function(e,t,n){return e<12?"صبح":"شام"},calendar:{sameDay:"[اڄ] LT",nextDay:"[سڀاڻي] LT",nextWeek:"dddd [اڳين هفتي تي] LT",lastDay:"[ڪالهه] LT",lastWeek:"[گزريل هفتي] dddd [تي] LT",sameElse:"L"},relativeTime:{future:"%s پوء",past:"%s اڳ",s:"چند سيڪنڊ",ss:"%d سيڪنڊ",m:"هڪ منٽ",mm:"%d منٽ",h:"هڪ ڪلاڪ",hh:"%d ڪلاڪ",d:"هڪ ڏينهن",dd:"%d ڏينهن",M:"هڪ مهينو",MM:"%d مهينا",y:"هڪ سال",yy:"%d سال"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:4}})}(n(74389))},89832:function(e,t,n){!function(e){"use strict";e.defineLocale("se",{months:"ođđajagemánnu_guovvamánnu_njukčamánnu_cuoŋománnu_miessemánnu_geassemánnu_suoidnemánnu_borgemánnu_čakčamánnu_golggotmánnu_skábmamánnu_juovlamánnu".split("_"),monthsShort:"ođđj_guov_njuk_cuo_mies_geas_suoi_borg_čakč_golg_skáb_juov".split("_"),weekdays:"sotnabeaivi_vuossárga_maŋŋebárga_gaskavahkku_duorastat_bearjadat_lávvardat".split("_"),weekdaysShort:"sotn_vuos_maŋ_gask_duor_bear_láv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geažes",past:"maŋit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mánnu",MM:"%d mánut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(74389))},31646:function(e,t,n){!function(e){"use strict";e.defineLocale("si",{months:"ජනවාරි_පෙබරවාරි_මාර්තු_අප්‍රේල්_මැයි_ජූනි_ජූලි_අගෝස්තු_සැප්තැම්බර්_ඔක්තෝබර්_නොවැම්බර්_දෙසැම්බර්".split("_"),monthsShort:"ජන_පෙබ_මාර්_අප්_මැයි_ජූනි_ජූලි_අගෝ_සැප්_ඔක්_නොවැ_දෙසැ".split("_"),weekdays:"ඉරිදා_සඳුදා_අඟහරුවාදා_බදාදා_බ්‍රහස්පතින්දා_සිකුරාදා_සෙනසුරාදා".split("_"),weekdaysShort:"ඉරි_සඳු_අඟ_බදා_බ්‍රහ_සිකු_සෙන".split("_"),weekdaysMin:"ඉ_ස_අ_බ_බ්‍ර_සි_සෙ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [වැනි] dddd, a h:mm:ss"},calendar:{sameDay:"[අද] LT[ට]",nextDay:"[හෙට] LT[ට]",nextWeek:"dddd LT[ට]",lastDay:"[ඊයේ] LT[ට]",lastWeek:"[පසුගිය] dddd LT[ට]",sameElse:"L"},relativeTime:{future:"%sකින්",past:"%sකට පෙර",s:"තත්පර කිහිපය",ss:"තත්පර %d",m:"මිනිත්තුව",mm:"මිනිත්තු %d",h:"පැය",hh:"පැය %d",d:"දිනය",dd:"දින %d",M:"මාසය",MM:"මාස %d",y:"වසර",yy:"වසර %d"},dayOfMonthOrdinalParse:/\d{1,2} වැනි/,ordinal:function(e){return e+" වැනි"},meridiemParse:/පෙර වරු|පස් වරු|පෙ.ව|ප.ව./,isPM:function(e){return"ප.ව."===e||"පස් වරු"===e},meridiem:function(e,t,n){return e>11?n?"ප.ව.":"පස් වරු":n?"පෙ.ව.":"පෙර වරු"}})}(n(74389))},90347:function(e,t,n){!function(e){"use strict";var t="január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_"),n="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_");function r(e){return e>1&&e<5}function i(e,t,n,i){var o=e+" ";switch(n){case"s":return t||i?"pár sekúnd":"pár sekundami";case"ss":return t||i?o+(r(e)?"sekundy":"sekúnd"):o+"sekundami";case"m":return t?"minúta":i?"minútu":"minútou";case"mm":return t||i?o+(r(e)?"minúty":"minút"):o+"minútami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?o+(r(e)?"hodiny":"hodín"):o+"hodinami";case"d":return t||i?"deň":"dňom";case"dd":return t||i?o+(r(e)?"dni":"dní"):o+"dňami";case"M":return t||i?"mesiac":"mesiacom";case"MM":return t||i?o+(r(e)?"mesiace":"mesiacov"):o+"mesiacmi";case"y":return t||i?"rok":"rokom";case"yy":return t||i?o+(r(e)?"roky":"rokov"):o+"rokmi"}}e.defineLocale("sk",{months:t,monthsShort:n,weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:case 4:case 5:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(74389))},50201:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"nekaj sekund":"nekaj sekundami";case"ss":return i+(1===e?t?"sekundo":"sekundi":2===e?t||r?"sekundi":"sekundah":e<5?t||r?"sekunde":"sekundah":"sekund");case"m":return t?"ena minuta":"eno minuto";case"mm":return i+(1===e?t?"minuta":"minuto":2===e?t||r?"minuti":"minutama":e<5?t||r?"minute":"minutami":t||r?"minut":"minutami");case"h":return t?"ena ura":"eno uro";case"hh":return i+(1===e?t?"ura":"uro":2===e?t||r?"uri":"urama":e<5?t||r?"ure":"urami":t||r?"ur":"urami");case"d":return t||r?"en dan":"enim dnem";case"dd":return i+(1===e?t||r?"dan":"dnem":2===e?t||r?"dni":"dnevoma":t||r?"dni":"dnevi");case"M":return t||r?"en mesec":"enim mesecem";case"MM":return i+(1===e?t||r?"mesec":"mesecem":2===e?t||r?"meseca":"mesecema":e<5?t||r?"mesece":"meseci":t||r?"mesecev":"meseci");case"y":return t||r?"eno leto":"enim letom";case"yy":return i+(1===e?t||r?"leto":"letom":2===e?t||r?"leti":"letoma":e<5?t||r?"leta":"leti":t||r?"let":"leti")}}e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejšnjo] [nedeljo] [ob] LT";case 3:return"[prejšnjo] [sredo] [ob] LT";case 6:return"[prejšnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"pred %s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(74389))},32470:function(e,t,n){!function(e){"use strict";e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),weekdays:"E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë".split("_"),weekdaysShort:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_Më_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot në] LT",nextDay:"[Nesër në] LT",nextWeek:"dddd [në] LT",lastDay:"[Dje në] LT",lastWeek:"dddd [e kaluar në] LT",sameElse:"L"},relativeTime:{future:"në %s",past:"%s më parë",s:"disa sekonda",ss:"%d sekonda",m:"një minutë",mm:"%d minuta",h:"një orë",hh:"%d orë",d:"një ditë",dd:"%d ditë",M:"një muaj",MM:"%d muaj",y:"një vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(74389))},1051:function(e,t,n){!function(e){"use strict";var t={words:{ss:["секунда","секунде","секунди"],m:["један минут","једног минута"],mm:["минут","минута","минута"],h:["један сат","једног сата"],hh:["сат","сата","сати"],d:["један дан","једног дана"],dd:["дан","дана","дана"],M:["један месец","једног месеца"],MM:["месец","месеца","месеци"],y:["једну годину","једне године"],yy:["годину","године","година"]},correctGrammaticalCase:function(e,t){return e%10>=1&&e%10<=4&&(e%100<10||e%100>=20)?e%10==1?t[0]:t[1]:t[2]},translate:function(e,n,r,i){var o,a=t.words[r];return 1===r.length?"y"===r&&n?"једна година":i||n?a[0]:a[1]:(o=t.correctGrammaticalCase(e,a),"yy"===r&&n&&"годину"===o?e+" година":e+" "+o)}};e.defineLocale("sr-cyrl",{months:"јануар_фебруар_март_април_мај_јун_јул_август_септембар_октобар_новембар_децембар".split("_"),monthsShort:"јан._феб._мар._апр._мај_јун_јул_авг._сеп._окт._нов._дец.".split("_"),monthsParseExact:!0,weekdays:"недеља_понедељак_уторак_среда_четвртак_петак_субота".split("_"),weekdaysShort:"нед._пон._уто._сре._чет._пет._суб.".split("_"),weekdaysMin:"не_по_ут_ср_че_пе_су".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[данас у] LT",nextDay:"[сутра у] LT",nextWeek:function(){switch(this.day()){case 0:return"[у] [недељу] [у] LT";case 3:return"[у] [среду] [у] LT";case 6:return"[у] [суботу] [у] LT";case 1:case 2:case 4:case 5:return"[у] dddd [у] LT"}},lastDay:"[јуче у] LT",lastWeek:function(){return["[прошле] [недеље] [у] LT","[прошлог] [понедељка] [у] LT","[прошлог] [уторка] [у] LT","[прошле] [среде] [у] LT","[прошлог] [четвртка] [у] LT","[прошлог] [петка] [у] LT","[прошле] [суботе] [у] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"за %s",past:"пре %s",s:"неколико секунди",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:t.translate,dd:t.translate,M:t.translate,MM:t.translate,y:t.translate,yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(74389))},46638:function(e,t,n){!function(e){"use strict";var t={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],d:["jedan dan","jednog dana"],dd:["dan","dana","dana"],M:["jedan mesec","jednog meseca"],MM:["mesec","meseca","meseci"],y:["jednu godinu","jedne godine"],yy:["godinu","godine","godina"]},correctGrammaticalCase:function(e,t){return e%10>=1&&e%10<=4&&(e%100<10||e%100>=20)?e%10==1?t[0]:t[1]:t[2]},translate:function(e,n,r,i){var o,a=t.words[r];return 1===r.length?"y"===r&&n?"jedna godina":i||n?a[0]:a[1]:(o=t.correctGrammaticalCase(e,a),"yy"===r&&n&&"godinu"===o?e+" godina":e+" "+o)}};e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedelje] [u] LT","[prošlog] [ponedeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:t.translate,dd:t.translate,M:t.translate,MM:t.translate,y:t.translate,yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(74389))},79306:function(e,t,n){!function(e){"use strict";e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(74389))},5009:function(e,t,n){!function(e){"use strict";e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"[På] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?":e":1===t||2===t?":a":":e")},week:{dow:1,doy:4}})}(n(74389))},89012:function(e,t,n){!function(e){"use strict";e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(n(74389))},94574:function(e,t,n){!function(e){"use strict";var t={1:"௧",2:"௨",3:"௩",4:"௪",5:"௫",6:"௬",7:"௭",8:"௮",9:"௯",0:"௦"},n={"௧":"1","௨":"2","௩":"3","௪":"4","௫":"5","௬":"6","௭":"7","௮":"8","௯":"9","௦":"0"};e.defineLocale("ta",{months:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),monthsShort:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),weekdays:"ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை".split("_"),weekdaysShort:"ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி".split("_"),weekdaysMin:"ஞா_தி_செ_பு_வி_வெ_ச".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[இன்று] LT",nextDay:"[நாளை] LT",nextWeek:"dddd, LT",lastDay:"[நேற்று] LT",lastWeek:"[கடந்த வாரம்] dddd, LT",sameElse:"L"},relativeTime:{future:"%s இல்",past:"%s முன்",s:"ஒரு சில விநாடிகள்",ss:"%d விநாடிகள்",m:"ஒரு நிமிடம்",mm:"%d நிமிடங்கள்",h:"ஒரு மணி நேரம்",hh:"%d மணி நேரம்",d:"ஒரு நாள்",dd:"%d நாட்கள்",M:"ஒரு மாதம்",MM:"%d மாதங்கள்",y:"ஒரு வருடம்",yy:"%d ஆண்டுகள்"},dayOfMonthOrdinalParse:/\d{1,2}வது/,ordinal:function(e){return e+"வது"},preparse:function(e){return e.replace(/[௧௨௩௪௫௬௭௮௯௦]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/யாமம்|வைகறை|காலை|நண்பகல்|எற்பாடு|மாலை/,meridiem:function(e,t,n){return e<2?" யாமம்":e<6?" வைகறை":e<10?" காலை":e<14?" நண்பகல்":e<18?" எற்பாடு":e<22?" மாலை":" யாமம்"},meridiemHour:function(e,t){return 12===e&&(e=0),"யாமம்"===t?e<2?e:e+12:"வைகறை"===t||"காலை"===t||"நண்பகல்"===t&&e>=10?e:e+12},week:{dow:0,doy:6}})}(n(74389))},64278:function(e,t,n){!function(e){"use strict";e.defineLocale("te",{months:"జనవరి_ఫిబ్రవరి_మార్చి_ఏప్రిల్_మే_జూన్_జులై_ఆగస్టు_సెప్టెంబర్_అక్టోబర్_నవంబర్_డిసెంబర్".split("_"),monthsShort:"జన._ఫిబ్ర._మార్చి_ఏప్రి._మే_జూన్_జులై_ఆగ._సెప్._అక్టో._నవ._డిసె.".split("_"),monthsParseExact:!0,weekdays:"ఆదివారం_సోమవారం_మంగళవారం_బుధవారం_గురువారం_శుక్రవారం_శనివారం".split("_"),weekdaysShort:"ఆది_సోమ_మంగళ_బుధ_గురు_శుక్ర_శని".split("_"),weekdaysMin:"ఆ_సో_మం_బు_గు_శు_శ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[నేడు] LT",nextDay:"[రేపు] LT",nextWeek:"dddd, LT",lastDay:"[నిన్న] LT",lastWeek:"[గత] dddd, LT",sameElse:"L"},relativeTime:{future:"%s లో",past:"%s క్రితం",s:"కొన్ని క్షణాలు",ss:"%d సెకన్లు",m:"ఒక నిమిషం",mm:"%d నిమిషాలు",h:"ఒక గంట",hh:"%d గంటలు",d:"ఒక రోజు",dd:"%d రోజులు",M:"ఒక నెల",MM:"%d నెలలు",y:"ఒక సంవత్సరం",yy:"%d సంవత్సరాలు"},dayOfMonthOrdinalParse:/\d{1,2}వ/,ordinal:"%dవ",meridiemParse:/రాత్రి|ఉదయం|మధ్యాహ్నం|సాయంత్రం/,meridiemHour:function(e,t){return 12===e&&(e=0),"రాత్రి"===t?e<4?e:e+12:"ఉదయం"===t?e:"మధ్యాహ్నం"===t?e>=10?e:e+12:"సాయంత్రం"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"రాత్రి":e<10?"ఉదయం":e<17?"మధ్యాహ్నం":e<20?"సాయంత్రం":"రాత్రి"},week:{dow:0,doy:6}})}(n(74389))},78858:function(e,t,n){!function(e){"use strict";e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juñu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(74389))},4443:function(e,t,n){!function(e){"use strict";var t={0:"-ум",1:"-ум",2:"-юм",3:"-юм",4:"-ум",5:"-ум",6:"-ум",7:"-ум",8:"-ум",9:"-ум",10:"-ум",12:"-ум",13:"-ум",20:"-ум",30:"-юм",40:"-ум",50:"-ум",60:"-ум",70:"-ум",80:"-ум",90:"-ум",100:"-ум"};e.defineLocale("tg",{months:{format:"январи_феврали_марти_апрели_майи_июни_июли_августи_сентябри_октябри_ноябри_декабри".split("_"),standalone:"январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр".split("_")},monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"якшанбе_душанбе_сешанбе_чоршанбе_панҷшанбе_ҷумъа_шанбе".split("_"),weekdaysShort:"яшб_дшб_сшб_чшб_пшб_ҷум_шнб".split("_"),weekdaysMin:"яш_дш_сш_чш_пш_ҷм_шб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Имрӯз соати] LT",nextDay:"[Фардо соати] LT",lastDay:"[Дирӯз соати] LT",nextWeek:"dddd[и] [ҳафтаи оянда соати] LT",lastWeek:"dddd[и] [ҳафтаи гузашта соати] LT",sameElse:"L"},relativeTime:{future:"баъди %s",past:"%s пеш",s:"якчанд сония",m:"як дақиқа",mm:"%d дақиқа",h:"як соат",hh:"%d соат",d:"як рӯз",dd:"%d рӯз",M:"як моҳ",MM:"%d моҳ",y:"як сол",yy:"%d сол"},meridiemParse:/шаб|субҳ|рӯз|бегоҳ/,meridiemHour:function(e,t){return 12===e&&(e=0),"шаб"===t?e<4?e:e+12:"субҳ"===t?e:"рӯз"===t?e>=11?e:e+12:"бегоҳ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"шаб":e<11?"субҳ":e<16?"рӯз":e<19?"бегоҳ":"шаб"},dayOfMonthOrdinalParse:/\d{1,2}-(ум|юм)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(74389))},99427:function(e,t,n){!function(e){"use strict";e.defineLocale("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"ม.ค._ก.พ._มี.ค._เม.ย._พ.ค._มิ.ย._ก.ค._ส.ค._ก.ย._ต.ค._พ.ย._ธ.ค.".split("_"),monthsParseExact:!0,weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา H:mm",LLLL:"วันddddที่ D MMMM YYYY เวลา H:mm"},meridiemParse:/ก่อนเที่ยง|หลังเที่ยง/,isPM:function(e){return"หลังเที่ยง"===e},meridiem:function(e,t,n){return e<12?"ก่อนเที่ยง":"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",ss:"%d วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",w:"1 สัปดาห์",ww:"%d สัปดาห์",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}})}(n(74389))},56991:function(e,t,n){!function(e){"use strict";var t={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'ünji",4:"'ünji",100:"'ünji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};e.defineLocale("tk",{months:"Ýanwar_Fewral_Mart_Aprel_Maý_Iýun_Iýul_Awgust_Sentýabr_Oktýabr_Noýabr_Dekabr".split("_"),monthsShort:"Ýan_Few_Mar_Apr_Maý_Iýn_Iýl_Awg_Sen_Okt_Noý_Dek".split("_"),weekdays:"Ýekşenbe_Duşenbe_Sişenbe_Çarşenbe_Penşenbe_Anna_Şenbe".split("_"),weekdaysShort:"Ýek_Duş_Siş_Çar_Pen_Ann_Şen".split("_"),weekdaysMin:"Ýk_Dş_Sş_Çr_Pn_An_Şn".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[düýn] LT",lastWeek:"[geçen] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s soň",past:"%s öň",s:"birnäçe sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir gün",dd:"%d gün",M:"bir aý",MM:"%d aý",y:"bir ýyl",yy:"%d ýyl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'unjy";var r=e%10;return e+(t[r]||t[e%100-r]||t[e>=100?100:null])}},week:{dow:1,doy:7}})}(n(74389))},65506:function(e,t,n){!function(e){"use strict";e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(74389))},37626:function(e,t,n){!function(e){"use strict";var t="pagh_wa’_cha’_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(e,n,r,i){var o=function(e){var n=Math.floor(e%1e3/100),r=Math.floor(e%100/10),i=e%10,o="";return n>0&&(o+=t[n]+"vatlh"),r>0&&(o+=(""!==o?" ":"")+t[r]+"maH"),i>0&&(o+=(""!==o?" ":"")+t[i]),""===o?"pagh":o}(e);switch(r){case"ss":return o+" lup";case"mm":return o+" tup";case"hh":return o+" rep";case"dd":return o+" jaj";case"MM":return o+" jar";case"yy":return o+" DIS"}}e.defineLocale("tlh",{months:"tera’ jar wa’_tera’ jar cha’_tera’ jar wej_tera’ jar loS_tera’ jar vagh_tera’ jar jav_tera’ jar Soch_tera’ jar chorgh_tera’ jar Hut_tera’ jar wa’maH_tera’ jar wa’maH wa’_tera’ jar wa’maH cha’".split("_"),monthsShort:"jar wa’_jar cha’_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa’maH_jar wa’maH wa’_jar wa’maH cha’".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa’leS] LT",nextWeek:"LLL",lastDay:"[wa’Hu’] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(e){var t=e;return-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"},past:function(e){var t=e;return-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu’":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"},s:"puS lup",ss:n,m:"wa’ tup",mm:n,h:"wa’ rep",hh:n,d:"wa’ jaj",dd:n,M:"wa’ jar",MM:n,y:"wa’ DIS",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(74389))},39511:function(e,t,n){!function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};e.defineLocale("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_Çar_Per_Cum_Cmt".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),meridiem:function(e,t,n){return e<12?n?"öö":"ÖÖ":n?"ös":"ÖS"},meridiemParse:/öö|ÖÖ|ös|ÖS/,isPM:function(e){return"ös"===e||"ÖS"===e},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'ıncı";var r=e%10;return e+(t[r]||t[e%100-r]||t[e>=100?100:null])}},week:{dow:1,doy:7}})}(n(74389))},41076:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n míut","'iens míut"],mm:[e+" míuts",e+" míuts"],h:["'n þora","'iensa þora"],hh:[e+" þoras",e+" þoras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return r||t?i[n][0]:i[n][1]}e.defineLocale("tzl",{months:"Januar_Fevraglh_Març_Avrïu_Mai_Gün_Julia_Guscht_Setemvar_Listopäts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gün_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Súladi_Lúneçi_Maitzi_Márcuri_Xhúadi_Viénerçi_Sáturi".split("_"),weekdaysShort:"Súl_Lún_Mai_Már_Xhú_Vié_Sát".split("_"),weekdaysMin:"Sú_Lú_Ma_Má_Xh_Vi_Sá".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){return e>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi à] LT",nextDay:"[demà à] LT",nextWeek:"dddd [à] LT",lastDay:"[ieiri à] LT",lastWeek:"[sür el] dddd [lasteu à] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(74389))},27268:function(e,t,n){!function(e){"use strict";e.defineLocale("tzm-latn",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(n(74389))},91654:function(e,t,n){!function(e){"use strict";e.defineLocale("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",ss:"%d ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}})}(n(74389))},26486:function(e,t,n){!function(e){"use strict";e.defineLocale("ug-cn",{months:"يانۋار_فېۋرال_مارت_ئاپرېل_ماي_ئىيۇن_ئىيۇل_ئاۋغۇست_سېنتەبىر_ئۆكتەبىر_نويابىر_دېكابىر".split("_"),monthsShort:"يانۋار_فېۋرال_مارت_ئاپرېل_ماي_ئىيۇن_ئىيۇل_ئاۋغۇست_سېنتەبىر_ئۆكتەبىر_نويابىر_دېكابىر".split("_"),weekdays:"يەكشەنبە_دۈشەنبە_سەيشەنبە_چارشەنبە_پەيشەنبە_جۈمە_شەنبە".split("_"),weekdaysShort:"يە_دۈ_سە_چا_پە_جۈ_شە".split("_"),weekdaysMin:"يە_دۈ_سە_چا_پە_جۈ_شە".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-يىلىM-ئاينىڭD-كۈنى",LLL:"YYYY-يىلىM-ئاينىڭD-كۈنى، HH:mm",LLLL:"dddd، YYYY-يىلىM-ئاينىڭD-كۈنى، HH:mm"},meridiemParse:/يېرىم كېچە|سەھەر|چۈشتىن بۇرۇن|چۈش|چۈشتىن كېيىن|كەچ/,meridiemHour:function(e,t){return 12===e&&(e=0),"يېرىم كېچە"===t||"سەھەر"===t||"چۈشتىن بۇرۇن"===t?e:"چۈشتىن كېيىن"===t||"كەچ"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"يېرىم كېچە":r<900?"سەھەر":r<1130?"چۈشتىن بۇرۇن":r<1230?"چۈش":r<1800?"چۈشتىن كېيىن":"كەچ"},calendar:{sameDay:"[بۈگۈن سائەت] LT",nextDay:"[ئەتە سائەت] LT",nextWeek:"[كېلەركى] dddd [سائەت] LT",lastDay:"[تۆنۈگۈن] LT",lastWeek:"[ئالدىنقى] dddd [سائەت] LT",sameElse:"L"},relativeTime:{future:"%s كېيىن",past:"%s بۇرۇن",s:"نەچچە سېكونت",ss:"%d سېكونت",m:"بىر مىنۇت",mm:"%d مىنۇت",h:"بىر سائەت",hh:"%d سائەت",d:"بىر كۈن",dd:"%d كۈن",M:"بىر ئاي",MM:"%d ئاي",y:"بىر يىل",yy:"%d يىل"},dayOfMonthOrdinalParse:/\d{1,2}(-كۈنى|-ئاي|-ھەپتە)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"-كۈنى";case"w":case"W":return e+"-ھەپتە";default:return e}},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:7}})}(n(74389))},81478:function(e,t,n){!function(e){"use strict";function t(e,t,n){return"m"===n?t?"хвилина":"хвилину":"h"===n?t?"година":"годину":e+" "+(r=+e,i={ss:t?"секунда_секунди_секунд":"секунду_секунди_секунд",mm:t?"хвилина_хвилини_хвилин":"хвилину_хвилини_хвилин",hh:t?"година_години_годин":"годину_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"}[n].split("_"),r%10==1&&r%100!=11?i[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?i[1]:i[2]);var r,i}function n(e){return function(){return e+"о"+(11===this.hours()?"б":"")+"] LT"}}e.defineLocale("uk",{months:{format:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_"),standalone:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_")},monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:function(e,t){var n={nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")};return!0===e?n.nominative.slice(1,7).concat(n.nominative.slice(0,1)):e?n[/(\[[ВвУу]\]) ?dddd/.test(t)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]:n.nominative},weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., HH:mm",LLLL:"dddd, D MMMM YYYY р., HH:mm"},calendar:{sameDay:n("[Сьогодні "),nextDay:n("[Завтра "),lastDay:n("[Вчора "),nextWeek:n("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return n("[Минулої] dddd [").call(this);case 1:case 2:case 4:return n("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",ss:t,m:t,mm:t,h:"годину",hh:t,d:"день",dd:t,M:"місяць",MM:t,y:"рік",yy:t},meridiemParse:/ночі|ранку|дня|вечора/,isPM:function(e){return/^(дня|вечора)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночі":e<12?"ранку":e<17?"дня":"вечора"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-й";case"D":return e+"-го";default:return e}},week:{dow:1,doy:7}})}(n(74389))},80537:function(e,t,n){!function(e){"use strict";var t=["جنوری","فروری","مارچ","اپریل","مئی","جون","جولائی","اگست","ستمبر","اکتوبر","نومبر","دسمبر"],n=["اتوار","پیر","منگل","بدھ","جمعرات","جمعہ","ہفتہ"];e.defineLocale("ur",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/صبح|شام/,isPM:function(e){return"شام"===e},meridiem:function(e,t,n){return e<12?"صبح":"شام"},calendar:{sameDay:"[آج بوقت] LT",nextDay:"[کل بوقت] LT",nextWeek:"dddd [بوقت] LT",lastDay:"[گذشتہ روز بوقت] LT",lastWeek:"[گذشتہ] dddd [بوقت] LT",sameElse:"L"},relativeTime:{future:"%s بعد",past:"%s قبل",s:"چند سیکنڈ",ss:"%d سیکنڈ",m:"ایک منٹ",mm:"%d منٹ",h:"ایک گھنٹہ",hh:"%d گھنٹے",d:"ایک دن",dd:"%d دن",M:"ایک ماہ",MM:"%d ماہ",y:"ایک سال",yy:"%d سال"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:4}})}(n(74389))},99811:function(e,t,n){!function(e){"use strict";e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(n(74389))},5343:function(e,t,n){!function(e){"use strict";e.defineLocale("uz",{months:"январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),weekdaysShort:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),weekdaysMin:"Як_Ду_Се_Чо_Па_Жу_Ша".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Бугун соат] LT [да]",nextDay:"[Эртага] LT [да]",nextWeek:"dddd [куни соат] LT [да]",lastDay:"[Кеча соат] LT [да]",lastWeek:"[Утган] dddd [куни соат] LT [да]",sameElse:"L"},relativeTime:{future:"Якин %s ичида",past:"Бир неча %s олдин",s:"фурсат",ss:"%d фурсат",m:"бир дакика",mm:"%d дакика",h:"бир соат",hh:"%d соат",d:"бир кун",dd:"%d кун",M:"бир ой",MM:"%d ой",y:"бир йил",yy:"%d йил"},week:{dow:1,doy:7}})}(n(74389))},69763:function(e,t,n){!function(e){"use strict";e.defineLocale("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần trước lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",ss:"%d giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",w:"một tuần",ww:"%d tuần",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(74389))},65621:function(e,t,n){!function(e){"use strict";e.defineLocale("x-pseudo",{months:"J~áñúá~rý_F~ébrú~árý_~Márc~h_Áp~ríl_~Máý_~Júñé~_Júl~ý_Áú~gúst~_Sép~témb~ér_Ó~ctób~ér_Ñ~óvém~bér_~Décé~mbér".split("_"),monthsShort:"J~áñ_~Féb_~Már_~Ápr_~Máý_~Júñ_~Júl_~Áúg_~Sép_~Óct_~Ñóv_~Déc".split("_"),monthsParseExact:!0,weekdays:"S~úñdá~ý_Mó~ñdáý~_Túé~sdáý~_Wéd~ñésd~áý_T~húrs~dáý_~Fríd~áý_S~átúr~dáý".split("_"),weekdaysShort:"S~úñ_~Móñ_~Túé_~Wéd_~Thú_~Frí_~Sát".split("_"),weekdaysMin:"S~ú_Mó~_Tú_~Wé_T~h_Fr~_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~ódá~ý át] LT",nextDay:"[T~ómó~rró~w át] LT",nextWeek:"dddd [át] LT",lastDay:"[Ý~ést~érdá~ý át] LT",lastWeek:"[L~ást] dddd [át] LT",sameElse:"L"},relativeTime:{future:"í~ñ %s",past:"%s á~gó",s:"á ~féw ~sécó~ñds",ss:"%d s~écóñ~ds",m:"á ~míñ~úté",mm:"%d m~íñú~tés",h:"á~ñ hó~úr",hh:"%d h~óúrs",d:"á ~dáý",dd:"%d d~áýs",M:"á ~móñ~th",MM:"%d m~óñt~hs",y:"á ~ýéár",yy:"%d ý~éárs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(74389))},9112:function(e,t,n){!function(e){"use strict";e.defineLocale("yo",{months:"Sẹ́rẹ́_Èrèlè_Ẹrẹ̀nà_Ìgbé_Èbibi_Òkùdu_Agẹmo_Ògún_Owewe_Ọ̀wàrà_Bélú_Ọ̀pẹ̀̀".split("_"),monthsShort:"Sẹ́r_Èrl_Ẹrn_Ìgb_Èbi_Òkù_Agẹ_Ògú_Owe_Ọ̀wà_Bél_Ọ̀pẹ̀̀".split("_"),weekdays:"Àìkú_Ajé_Ìsẹ́gun_Ọjọ́rú_Ọjọ́bọ_Ẹtì_Àbámẹ́ta".split("_"),weekdaysShort:"Àìk_Ajé_Ìsẹ́_Ọjr_Ọjb_Ẹtì_Àbá".split("_"),weekdaysMin:"Àì_Aj_Ìs_Ọr_Ọb_Ẹt_Àb".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Ònì ni] LT",nextDay:"[Ọ̀la ni] LT",nextWeek:"dddd [Ọsẹ̀ tón'bọ] [ni] LT",lastDay:"[Àna ni] LT",lastWeek:"dddd [Ọsẹ̀ tólọ́] [ni] LT",sameElse:"L"},relativeTime:{future:"ní %s",past:"%s kọjá",s:"ìsẹjú aayá die",ss:"aayá %d",m:"ìsẹjú kan",mm:"ìsẹjú %d",h:"wákati kan",hh:"wákati %d",d:"ọjọ́ kan",dd:"ọjọ́ %d",M:"osù kan",MM:"osù %d",y:"ọdún kan",yy:"ọdún %d"},dayOfMonthOrdinalParse:/ọjọ́\s\d{1,2}/,ordinal:"ọjọ́ %d",week:{dow:1,doy:4}})}(n(74389))},38122:function(e,t,n){!function(e){"use strict";e.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"下午"===t||"晚上"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:function(e){return e.week()!==this.week()?"[下]dddLT":"[本]dddLT"},lastDay:"[昨天]LT",lastWeek:function(e){return this.week()!==e.week()?"[上]dddLT":"[本]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|周)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s后",past:"%s前",s:"几秒",ss:"%d 秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",w:"1 周",ww:"%d 周",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},week:{dow:1,doy:4}})}(n(74389))},17366:function(e,t,n){!function(e){"use strict";e.defineLocale("zh-hk",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1200?"上午":1200===r?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}})}(n(74389))},62645:function(e,t,n){!function(e){"use strict";e.defineLocale("zh-mo",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"D/M/YYYY",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天] LT",nextDay:"[明天] LT",nextWeek:"[下]dddd LT",lastDay:"[昨天] LT",lastWeek:"[上]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}})}(n(74389))},11687:function(e,t,n){!function(e){"use strict";e.defineLocale("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天] LT",nextDay:"[明天] LT",nextWeek:"[下]dddd LT",lastDay:"[昨天] LT",lastWeek:"[上]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}})}(n(74389))},74389:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,r;function i(){return t.apply(null,arguments)}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function u(e){return void 0===e}function c(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function f(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return xt(e,t,n,r,!0).utc()}function m(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function g(e){if(null==e._isValid){var t=m(e),n=r.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function y(e){var t=p(NaN);return null!=e?f(m(t),e):m(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var v=i.momentProperties=[],b=!1;function w(e,t){var n,r,i,o=v.length;if(u(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),u(t._i)||(e._i=t._i),u(t._f)||(e._f=t._f),u(t._l)||(e._l=t._l),u(t._strict)||(e._strict=t._strict),u(t._tzm)||(e._tzm=t._tzm),u(t._isUTC)||(e._isUTC=t._isUTC),u(t._offset)||(e._offset=t._offset),u(t._pf)||(e._pf=m(t)),u(t._locale)||(e._locale=t._locale),o>0)for(n=0;n<o;n++)u(i=t[r=v[n]])||(e[r]=i);return e}function _(e){w(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,i.updateOffset(this),b=!1)}function k(e){return e instanceof _||null!=e&&null!=e._isAMomentObject}function S(e){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function M(e,t){var n=!0;return f((function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,e),n){var r,o,a,l=[],u=arguments.length;for(o=0;o<u;o++){if(r="","object"==typeof arguments[o]){for(a in r+="\n["+o+"] ",arguments[0])s(arguments[0],a)&&(r+=a+": "+arguments[0][a]+", ");r=r.slice(0,-2)}else r=arguments[o];l.push(r)}S(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var x,O={};function C(e,t){null!=i.deprecationHandler&&i.deprecationHandler(e,t),O[e]||(S(t),O[e]=!0)}function T(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function R(e,t){var n,r=f({},e);for(n in t)s(t,n)&&(a(e[n])&&a(t[n])?(r[n]={},f(r[n],e[n]),f(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)s(e,n)&&!s(t,n)&&a(e[n])&&(r[n]=f({},r[n]));return r}function D(e){null!=e&&this.set(e)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,x=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};function E(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var A=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,L=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,j={},P={};function I(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(P[e]=i),t&&(P[t[0]]=function(){return E(i.apply(this,arguments),t[1],t[2])}),n&&(P[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function H(e,t){return e.isValid()?(t=N(t,e.localeData()),j[t]=j[t]||function(e){var t,n,r,i=e.match(A);for(t=0,n=i.length;t<n;t++)P[i[t]]?i[t]=P[i[t]]:i[t]=(r=i[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,o="";for(r=0;r<n;r++)o+=T(i[r])?i[r].call(t,e):i[r];return o}}(t),j[t](e)):e.localeData().invalidDate()}function N(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(L.lastIndex=0;n>=0&&L.test(e);)e=e.replace(L,r),L.lastIndex=0,n-=1;return e}var F={};function Y(e,t){var n=e.toLowerCase();F[n]=F[n+"s"]=F[t]=e}function z(e){return"string"==typeof e?F[e]||F[e.toLowerCase()]:void 0}function B(e){var t,n,r={};for(n in e)s(e,n)&&(t=z(n))&&(r[t]=e[n]);return r}var W={};function $(e,t){W[e]=t}function U(e){return e%4==0&&e%100!=0||e%400==0}function V(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function q(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=V(t)),n}function G(e,t){return function(n){return null!=n?(Z(this,e,n),i.updateOffset(this,t),this):K(this,e)}}function K(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Z(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&U(e.year())&&1===e.month()&&29===e.date()?(n=q(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),ke(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var X,J=/\d/,Q=/\d\d/,ee=/\d{3}/,te=/\d{4}/,ne=/[+-]?\d{6}/,re=/\d\d?/,ie=/\d\d\d\d?/,oe=/\d\d\d\d\d\d?/,ae=/\d{1,3}/,se=/\d{1,4}/,le=/[+-]?\d{1,6}/,ue=/\d+/,ce=/[+-]?\d+/,de=/Z|[+-]\d\d:?\d\d/gi,he=/Z|[+-]\d\d(?::?\d\d)?/gi,fe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function pe(e,t,n){X[e]=T(t)?t:function(e,r){return e&&n?n:t}}function me(e,t){return s(X,e)?X[e](t._strict,t._locale):new RegExp(ge(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i}))))}function ge(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}X={};var ye={};function ve(e,t){var n,r,i=t;for("string"==typeof e&&(e=[e]),c(t)&&(i=function(e,n){n[t]=q(e)}),r=e.length,n=0;n<r;n++)ye[e[n]]=i}function be(e,t){ve(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function we(e,t,n){null!=t&&s(ye,e)&&ye[e](t,n._a,n,e)}var _e;function ke(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,r=(t%(n=12)+n)%n;return e+=(t-r)/12,1===r?U(e)?29:28:31-r%7%2}_e=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},I("M",["MM",2],"Mo",(function(){return this.month()+1})),I("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),I("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),Y("month","M"),$("month",8),pe("M",re),pe("MM",re,Q),pe("MMM",(function(e,t){return t.monthsShortRegex(e)})),pe("MMMM",(function(e,t){return t.monthsRegex(e)})),ve(["M","MM"],(function(e,t){t[1]=q(e)-1})),ve(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[1]=i:m(n).invalidMonth=e}));var Se="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Me="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),xe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Oe=fe,Ce=fe;function Te(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=_e.call(this._shortMonthsParse,a))?i:null:-1!==(i=_e.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=_e.call(this._shortMonthsParse,a))||-1!==(i=_e.call(this._longMonthsParse,a))?i:null:-1!==(i=_e.call(this._longMonthsParse,a))||-1!==(i=_e.call(this._shortMonthsParse,a))?i:null}function Re(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=q(t);else if(!c(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),ke(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function De(e){return null!=e?(Re(this,e),i.updateOffset(this,!0),this):K(this,"Month")}function Ee(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=ge(r[t]),i[t]=ge(i[t]);for(t=0;t<24;t++)o[t]=ge(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Ae(e){return U(e)?366:365}I("Y",0,0,(function(){var e=this.year();return e<=9999?E(e,4):"+"+e})),I(0,["YY",2],0,(function(){return this.year()%100})),I(0,["YYYY",4],0,"year"),I(0,["YYYYY",5],0,"year"),I(0,["YYYYYY",6,!0],0,"year"),Y("year","y"),$("year",1),pe("Y",ce),pe("YY",re,Q),pe("YYYY",se,te),pe("YYYYY",le,ne),pe("YYYYYY",le,ne),ve(["YYYYY","YYYYYY"],0),ve("YYYY",(function(e,t){t[0]=2===e.length?i.parseTwoDigitYear(e):q(e)})),ve("YY",(function(e,t){t[0]=i.parseTwoDigitYear(e)})),ve("Y",(function(e,t){t[0]=parseInt(e,10)})),i.parseTwoDigitYear=function(e){return q(e)+(q(e)>68?1900:2e3)};var Le=G("FullYear",!0);function je(e,t,n,r,i,o,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,o,a),s}function Pe(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Ie(e,t,n){var r=7+t-n;return-(7+Pe(e,0,r).getUTCDay()-t)%7+r-1}function He(e,t,n,r,i){var o,a,s=1+7*(t-1)+(7+n-r)%7+Ie(e,r,i);return s<=0?a=Ae(o=e-1)+s:s>Ae(e)?(o=e+1,a=s-Ae(e)):(o=e,a=s),{year:o,dayOfYear:a}}function Ne(e,t,n){var r,i,o=Ie(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?r=a+Fe(i=e.year()-1,t,n):a>Fe(e.year(),t,n)?(r=a-Fe(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function Fe(e,t,n){var r=Ie(e,t,n),i=Ie(e+1,t,n);return(Ae(e)-r+i)/7}I("w",["ww",2],"wo","week"),I("W",["WW",2],"Wo","isoWeek"),Y("week","w"),Y("isoWeek","W"),$("week",5),$("isoWeek",5),pe("w",re),pe("ww",re,Q),pe("W",re),pe("WW",re,Q),be(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=q(e)}));function Ye(e,t){return e.slice(t,7).concat(e.slice(0,t))}I("d",0,"do","day"),I("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),I("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),I("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),I("e",0,0,"weekday"),I("E",0,0,"isoWeekday"),Y("day","d"),Y("weekday","e"),Y("isoWeekday","E"),$("day",11),$("weekday",11),$("isoWeekday",11),pe("d",re),pe("e",re),pe("E",re),pe("dd",(function(e,t){return t.weekdaysMinRegex(e)})),pe("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),pe("dddd",(function(e,t){return t.weekdaysRegex(e)})),be(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:m(n).invalidWeekday=e})),be(["d","e","E"],(function(e,t,n,r){t[r]=q(e)}));var ze="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Be="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),We="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),$e=fe,Ue=fe,Ve=fe;function qe(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=_e.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=_e.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=_e.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=_e.call(this._weekdaysParse,a))||-1!==(i=_e.call(this._shortWeekdaysParse,a))||-1!==(i=_e.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=_e.call(this._shortWeekdaysParse,a))||-1!==(i=_e.call(this._weekdaysParse,a))||-1!==(i=_e.call(this._minWeekdaysParse,a))?i:null:-1!==(i=_e.call(this._minWeekdaysParse,a))||-1!==(i=_e.call(this._weekdaysParse,a))||-1!==(i=_e.call(this._shortWeekdaysParse,a))?i:null}function Ge(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],l=[],u=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=ge(this.weekdaysMin(n,"")),i=ge(this.weekdaysShort(n,"")),o=ge(this.weekdays(n,"")),a.push(r),s.push(i),l.push(o),u.push(r),u.push(i),u.push(o);a.sort(e),s.sort(e),l.sort(e),u.sort(e),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ke(){return this.hours()%12||12}function Ze(e,t){I(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Xe(e,t){return t._meridiemParse}I("H",["HH",2],0,"hour"),I("h",["hh",2],0,Ke),I("k",["kk",2],0,(function(){return this.hours()||24})),I("hmm",0,0,(function(){return""+Ke.apply(this)+E(this.minutes(),2)})),I("hmmss",0,0,(function(){return""+Ke.apply(this)+E(this.minutes(),2)+E(this.seconds(),2)})),I("Hmm",0,0,(function(){return""+this.hours()+E(this.minutes(),2)})),I("Hmmss",0,0,(function(){return""+this.hours()+E(this.minutes(),2)+E(this.seconds(),2)})),Ze("a",!0),Ze("A",!1),Y("hour","h"),$("hour",13),pe("a",Xe),pe("A",Xe),pe("H",re),pe("h",re),pe("k",re),pe("HH",re,Q),pe("hh",re,Q),pe("kk",re,Q),pe("hmm",ie),pe("hmmss",oe),pe("Hmm",ie),pe("Hmmss",oe),ve(["H","HH"],3),ve(["k","kk"],(function(e,t,n){var r=q(e);t[3]=24===r?0:r})),ve(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),ve(["h","hh"],(function(e,t,n){t[3]=q(e),m(n).bigHour=!0})),ve("hmm",(function(e,t,n){var r=e.length-2;t[3]=q(e.substr(0,r)),t[4]=q(e.substr(r)),m(n).bigHour=!0})),ve("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[3]=q(e.substr(0,r)),t[4]=q(e.substr(r,2)),t[5]=q(e.substr(i)),m(n).bigHour=!0})),ve("Hmm",(function(e,t,n){var r=e.length-2;t[3]=q(e.substr(0,r)),t[4]=q(e.substr(r))})),ve("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[3]=q(e.substr(0,r)),t[4]=q(e.substr(r,2)),t[5]=q(e.substr(i))}));var Je=G("Hours",!0);var Qe,et={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Se,monthsShort:Me,week:{dow:0,doy:6},weekdays:ze,weekdaysMin:We,weekdaysShort:Be,meridiemParse:/[ap]\.?m?\.?/i},tt={},nt={};function rt(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function it(e){return e?e.toLowerCase().replace("_","-"):e}function ot(t){var r=null;if(void 0===tt[t]&&e&&e.exports&&function(e){return null!=e.match("^[^/\\\\]*$")}(t))try{r=Qe._abbr,n(15205)("./"+t),at(r)}catch(e){tt[t]=null}return tt[t]}function at(e,t){var n;return e&&((n=u(t)?lt(e):st(e,t))?Qe=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Qe._abbr}function st(e,t){if(null!==t){var n,r=et;if(t.abbr=e,null!=tt[e])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=tt[e]._config;else if(null!=t.parentLocale)if(null!=tt[t.parentLocale])r=tt[t.parentLocale]._config;else{if(null==(n=ot(t.parentLocale)))return nt[t.parentLocale]||(nt[t.parentLocale]=[]),nt[t.parentLocale].push({name:e,config:t}),null;r=n._config}return tt[e]=new D(R(r,t)),nt[e]&&nt[e].forEach((function(e){st(e.name,e.config)})),at(e),tt[e]}return delete tt[e],null}function lt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Qe;if(!o(e)){if(t=ot(e))return t;e=[e]}return function(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=it(e[o]).split("-")).length,n=(n=it(e[o+1]))?n.split("-"):null;t>0;){if(r=ot(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&rt(i,n)>=t-1)break;t--}o++}return Qe}(e)}function ut(e){var t,n=e._a;return n&&-2===m(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>ke(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,m(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),m(e)._overflowWeeks&&-1===t&&(t=7),m(e)._overflowWeekday&&-1===t&&(t=8),m(e).overflow=t),e}var ct=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ht=/Z|[+-]\d\d(?::?\d\d)?/,ft=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],pt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],mt=/^\/?Date\((-?\d+)/i,gt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,yt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function vt(e){var t,n,r,i,o,a,s=e._i,l=ct.exec(s)||dt.exec(s),u=ft.length,c=pt.length;if(l){for(m(e).iso=!0,t=0,n=u;t<n;t++)if(ft[t][1].exec(l[1])){i=ft[t][0],r=!1!==ft[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=c;t<n;t++)if(pt[t][1].exec(l[3])){o=(l[2]||" ")+pt[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!ht.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),St(e)}else e._isValid=!1}function bt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function wt(e){var t,n,r,i,o,a,s,l,u=gt.exec(e._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(u){if(n=u[4],r=u[3],i=u[2],o=u[5],a=u[6],s=u[7],l=[bt(n),Me.indexOf(r),parseInt(i,10),parseInt(o,10),parseInt(a,10)],s&&l.push(parseInt(s,10)),t=l,!function(e,t,n){return!e||Be.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(m(n).weekdayMismatch=!0,n._isValid=!1,!1)}(u[1],t,e))return;e._a=t,e._tzm=function(e,t,n){if(e)return yt[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(u[8],u[9],u[10]),e._d=Pe.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0}else e._isValid=!1}function _t(e,t,n){return null!=e?e:null!=t?t:n}function kt(e){var t,n,r,o,a,s=[];if(!e._d){for(r=function(e){var t=new Date(i.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,r,i,o,a,s,l,u;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,a=4,n=_t(t.GG,e._a[0],Ne(Ot(),1,4).year),r=_t(t.W,1),((i=_t(t.E,1))<1||i>7)&&(l=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,u=Ne(Ot(),o,a),n=_t(t.gg,e._a[0],u.year),r=_t(t.w,u.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(l=!0)):i=o),r<1||r>Fe(n,o,a)?m(e)._overflowWeeks=!0:null!=l?m(e)._overflowWeekday=!0:(s=He(n,r,i,o,a),e._a[0]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(a=_t(e._a[0],r[0]),(e._dayOfYear>Ae(a)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),n=Pe(a,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Pe:je).apply(null,s),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(m(e).weekdayMismatch=!0)}}function St(e){if(e._f!==i.ISO_8601)if(e._f!==i.RFC_2822){e._a=[],m(e).empty=!0;var t,n,r,o,a,s,l,u=""+e._i,c=u.length,d=0;for(l=(r=N(e._f,e._locale).match(A)||[]).length,t=0;t<l;t++)o=r[t],(n=(u.match(me(o,e))||[])[0])&&((a=u.substr(0,u.indexOf(n))).length>0&&m(e).unusedInput.push(a),u=u.slice(u.indexOf(n)+n.length),d+=n.length),P[o]?(n?m(e).empty=!1:m(e).unusedTokens.push(o),we(o,n,e)):e._strict&&!n&&m(e).unusedTokens.push(o);m(e).charsLeftOver=c-d,u.length>0&&m(e).unusedInput.push(u),e._a[3]<=12&&!0===m(e).bigHour&&e._a[3]>0&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),null!==(s=m(e).era)&&(e._a[0]=e._locale.erasConvertYear(s,e._a[0])),kt(e),ut(e)}else wt(e);else vt(e)}function Mt(e){var t=e._i,n=e._f;return e._locale=e._locale||lt(e._l),null===t||void 0===n&&""===t?y({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),k(t)?new _(ut(t)):(d(t)?e._d=t:o(n)?function(e){var t,n,r,i,o,a,s=!1,l=e._f.length;if(0===l)return m(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<l;i++)o=0,a=!1,t=w({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],St(t),g(t)&&(a=!0),o+=m(t).charsLeftOver,o+=10*m(t).unusedTokens.length,m(t).score=o,s?o<r&&(r=o,n=t):(null==r||o<r||a)&&(r=o,n=t,a&&(s=!0));f(e,n||t)}(e):n?St(e):function(e){var t=e._i;u(t)?e._d=new Date(i.now()):d(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=mt.exec(e._i);null===t?(vt(e),!1===e._isValid&&(delete e._isValid,wt(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:i.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):o(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),kt(e)):a(t)?function(e){if(!e._d){var t=B(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),kt(e)}}(e):c(t)?e._d=new Date(t):i.createFromInputFallback(e)}(e),g(e)||(e._d=null),e))}function xt(e,t,n,r,i){var s,u={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(a(e)&&l(e)||o(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=i,u._l=n,u._i=e,u._f=t,u._strict=r,(s=new _(ut(Mt(u))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function Ot(e,t,n,r){return xt(e,t,n,r,!1)}i.createFromInputFallback=M("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),i.ISO_8601=function(){},i.RFC_2822=function(){};var Ct=M("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Ot.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()})),Tt=M("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Ot.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:y()}));function Rt(e,t){var n,r;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Ot();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var Dt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Et(e){var t=B(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,l=t.hour||0,u=t.minute||0,c=t.second||0,d=t.millisecond||0;this._isValid=function(e){var t,n,r=!1,i=Dt.length;for(t in e)if(s(e,t)&&(-1===_e.call(Dt,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[Dt[n]]){if(r)return!1;parseFloat(e[Dt[n]])!==q(e[Dt[n]])&&(r=!0)}return!0}(t),this._milliseconds=+d+1e3*c+6e4*u+1e3*l*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=lt(),this._bubble()}function At(e){return e instanceof Et}function Lt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function jt(e,t){I(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+E(~~(e/60),2)+t+E(~~e%60,2)}))}jt("Z",":"),jt("ZZ",""),pe("Z",he),pe("ZZ",he),ve(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=It(he,e)}));var Pt=/([\+\-]|\d\d)/gi;function It(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(Pt)||["-",0,0])[1]+q(n[2]))?0:"+"===n[0]?r:-r}function Ht(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(k(e)||d(e)?e.valueOf():Ot(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):Ot(e).local()}function Nt(e){return-Math.round(e._d.getTimezoneOffset())}function Ft(){return!!this.isValid()&&this._isUTC&&0===this._offset}i.updateOffset=function(){};var Yt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,zt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Bt(e,t){var n,r,i,o,a,l,u=e,d=null;return At(e)?u={ms:e._milliseconds,d:e._days,M:e._months}:c(e)||!isNaN(+e)?(u={},t?u[t]=+e:u.milliseconds=+e):(d=Yt.exec(e))?(n="-"===d[1]?-1:1,u={y:0,d:q(d[2])*n,h:q(d[3])*n,m:q(d[4])*n,s:q(d[5])*n,ms:q(Lt(1e3*d[6]))*n}):(d=zt.exec(e))?(n="-"===d[1]?-1:1,u={y:Wt(d[2],n),M:Wt(d[3],n),w:Wt(d[4],n),d:Wt(d[5],n),h:Wt(d[6],n),m:Wt(d[7],n),s:Wt(d[8],n)}):null==u?u={}:"object"==typeof u&&("from"in u||"to"in u)&&(o=Ot(u.from),a=Ot(u.to),i=o.isValid()&&a.isValid()?(a=Ht(a,o),o.isBefore(a)?l=$t(o,a):((l=$t(a,o)).milliseconds=-l.milliseconds,l.months=-l.months),l):{milliseconds:0,months:0},(u={}).ms=i.milliseconds,u.M=i.months),r=new Et(u),At(e)&&s(e,"_locale")&&(r._locale=e._locale),At(e)&&s(e,"_isValid")&&(r._isValid=e._isValid),r}function Wt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function $t(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ut(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Vt(this,Bt(n,r),e),this}}function Vt(e,t,n,r){var o=t._milliseconds,a=Lt(t._days),s=Lt(t._months);e.isValid()&&(r=null==r||r,s&&Re(e,K(e,"Month")+s*n),a&&Z(e,"Date",K(e,"Date")+a*n),o&&e._d.setTime(e._d.valueOf()+o*n),r&&i.updateOffset(e,a||s))}Bt.fn=Et.prototype,Bt.invalid=function(){return Bt(NaN)};var qt=Ut(1,"add"),Gt=Ut(-1,"subtract");function Kt(e){return"string"==typeof e||e instanceof String}function Zt(e){return k(e)||d(e)||Kt(e)||c(e)||function(e){var t=o(e),n=!1;return t&&(n=0===e.filter((function(t){return!c(t)&&Kt(e)})).length),t&&n}(e)||function(e){var t,n,r=a(e)&&!l(e),i=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],u=o.length;for(t=0;t<u;t+=1)n=o[t],i=i||s(e,n);return r&&i}(e)||null==e}function Xt(e){var t,n=a(e)&&!l(e),r=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<i.length;t+=1)r=r||s(e,i[t]);return n&&r}function Jt(e,t){if(e.date()<t.date())return-Jt(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Qt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=lt(e))&&(this._locale=t),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var en=M("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function tn(){return this._locale}var nn=1e3,rn=6e4,on=36e5,an=126227808e5;function sn(e,t){return(e%t+t)%t}function ln(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-an:new Date(e,t,n).valueOf()}function un(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-an:Date.UTC(e,t,n)}function cn(e,t){return t.erasAbbrRegex(e)}function dn(){var e,t,n=[],r=[],i=[],o=[],a=this.eras();for(e=0,t=a.length;e<t;++e)r.push(ge(a[e].name)),n.push(ge(a[e].abbr)),i.push(ge(a[e].narrow)),o.push(ge(a[e].name)),o.push(ge(a[e].abbr)),o.push(ge(a[e].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function hn(e,t){I(0,[e,e.length],0,t)}function fn(e,t,n,r,i){var o;return null==e?Ne(this,r,i).year:(t>(o=Fe(e,r,i))&&(t=o),pn.call(this,e,t,n,r,i))}function pn(e,t,n,r,i){var o=He(e,t,n,r,i),a=Pe(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}I("N",0,0,"eraAbbr"),I("NN",0,0,"eraAbbr"),I("NNN",0,0,"eraAbbr"),I("NNNN",0,0,"eraName"),I("NNNNN",0,0,"eraNarrow"),I("y",["y",1],"yo","eraYear"),I("y",["yy",2],0,"eraYear"),I("y",["yyy",3],0,"eraYear"),I("y",["yyyy",4],0,"eraYear"),pe("N",cn),pe("NN",cn),pe("NNN",cn),pe("NNNN",(function(e,t){return t.erasNameRegex(e)})),pe("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),ve(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?m(n).era=i:m(n).invalidEra=e})),pe("y",ue),pe("yy",ue),pe("yyy",ue),pe("yyyy",ue),pe("yo",(function(e,t){return t._eraYearOrdinalRegex||ue})),ve(["y","yy","yyy","yyyy"],0),ve(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[0]=n._locale.eraYearOrdinalParse(e,i):t[0]=parseInt(e,10)})),I(0,["gg",2],0,(function(){return this.weekYear()%100})),I(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),hn("gggg","weekYear"),hn("ggggg","weekYear"),hn("GGGG","isoWeekYear"),hn("GGGGG","isoWeekYear"),Y("weekYear","gg"),Y("isoWeekYear","GG"),$("weekYear",1),$("isoWeekYear",1),pe("G",ce),pe("g",ce),pe("GG",re,Q),pe("gg",re,Q),pe("GGGG",se,te),pe("gggg",se,te),pe("GGGGG",le,ne),pe("ggggg",le,ne),be(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=q(e)})),be(["gg","GG"],(function(e,t,n,r){t[r]=i.parseTwoDigitYear(e)})),I("Q",0,"Qo","quarter"),Y("quarter","Q"),$("quarter",7),pe("Q",J),ve("Q",(function(e,t){t[1]=3*(q(e)-1)})),I("D",["DD",2],"Do","date"),Y("date","D"),$("date",9),pe("D",re),pe("DD",re,Q),pe("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),ve(["D","DD"],2),ve("Do",(function(e,t){t[2]=q(e.match(re)[0])}));var mn=G("Date",!0);I("DDD",["DDDD",3],"DDDo","dayOfYear"),Y("dayOfYear","DDD"),$("dayOfYear",4),pe("DDD",ae),pe("DDDD",ee),ve(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=q(e)})),I("m",["mm",2],0,"minute"),Y("minute","m"),$("minute",14),pe("m",re),pe("mm",re,Q),ve(["m","mm"],4);var gn=G("Minutes",!1);I("s",["ss",2],0,"second"),Y("second","s"),$("second",15),pe("s",re),pe("ss",re,Q),ve(["s","ss"],5);var yn,vn,bn=G("Seconds",!1);for(I("S",0,0,(function(){return~~(this.millisecond()/100)})),I(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),I(0,["SSS",3],0,"millisecond"),I(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),I(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),I(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),I(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),I(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),I(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),Y("millisecond","ms"),$("millisecond",16),pe("S",ae,J),pe("SS",ae,Q),pe("SSS",ae,ee),yn="SSSS";yn.length<=9;yn+="S")pe(yn,ue);function wn(e,t){t[6]=q(1e3*("0."+e))}for(yn="S";yn.length<=9;yn+="S")ve(yn,wn);vn=G("Milliseconds",!1),I("z",0,0,"zoneAbbr"),I("zz",0,0,"zoneName");var _n=_.prototype;function kn(e){return e}_n.add=qt,_n.calendar=function(e,t){1===arguments.length&&(arguments[0]?Zt(arguments[0])?(e=arguments[0],t=void 0):Xt(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Ot(),r=Ht(n,this).startOf("day"),o=i.calendarFormat(this,r)||"sameElse",a=t&&(T(t[o])?t[o].call(this,n):t[o]);return this.format(a||this.localeData().calendar(o,this,Ot(n)))},_n.clone=function(){return new _(this)},_n.diff=function(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=Ht(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=z(t)){case"year":o=Jt(this,r)/12;break;case"month":o=Jt(this,r);break;case"quarter":o=Jt(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:V(o)},_n.endOf=function(e){var t,n;if(void 0===(e=z(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?un:ln,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=on-sn(t+(this._isUTC?0:this.utcOffset()*rn),on)-1;break;case"minute":t=this._d.valueOf(),t+=rn-sn(t,rn)-1;break;case"second":t=this._d.valueOf(),t+=nn-sn(t,nn)-1}return this._d.setTime(t),i.updateOffset(this,!0),this},_n.format=function(e){e||(e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var t=H(this,e);return this.localeData().postformat(t)},_n.from=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||Ot(e).isValid())?Bt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},_n.fromNow=function(e){return this.from(Ot(),e)},_n.to=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||Ot(e).isValid())?Bt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},_n.toNow=function(e){return this.to(Ot(),e)},_n.get=function(e){return T(this[e=z(e)])?this[e]():this},_n.invalidAt=function(){return m(this).overflow},_n.isAfter=function(e,t){var n=k(e)?e:Ot(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=z(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},_n.isBefore=function(e,t){var n=k(e)?e:Ot(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=z(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},_n.isBetween=function(e,t,n,r){var i=k(e)?e:Ot(e),o=k(t)?t:Ot(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n))},_n.isSame=function(e,t){var n,r=k(e)?e:Ot(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=z(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},_n.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},_n.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},_n.isValid=function(){return g(this)},_n.lang=en,_n.locale=Qt,_n.localeData=tn,_n.max=Tt,_n.min=Ct,_n.parsingFlags=function(){return f({},m(this))},_n.set=function(e,t){if("object"==typeof e){var n,r=function(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:W[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}(e=B(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(T(this[e=z(e)]))return this[e](t);return this},_n.startOf=function(e){var t,n;if(void 0===(e=z(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?un:ln,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=sn(t+(this._isUTC?0:this.utcOffset()*rn),on);break;case"minute":t=this._d.valueOf(),t-=sn(t,rn);break;case"second":t=this._d.valueOf(),t-=sn(t,nn)}return this._d.setTime(t),i.updateOffset(this,!0),this},_n.subtract=Gt,_n.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},_n.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},_n.toDate=function(){return new Date(this.valueOf())},_n.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?H(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):T(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",H(n,"Z")):H(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},_n.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r="moment",i="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",i="Z"),e="["+r+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY","-MM-DD[T]HH:mm:ss.SSS",n=i+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(_n[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),_n.toJSON=function(){return this.isValid()?this.toISOString():null},_n.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},_n.unix=function(){return Math.floor(this.valueOf()/1e3)},_n.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},_n.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},_n.eraName=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""},_n.eraNarrow=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""},_n.eraAbbr=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""},_n.eraYear=function(){var e,t,n,r,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,r=this.clone().startOf("day").valueOf(),o[e].since<=r&&r<=o[e].until||o[e].until<=r&&r<=o[e].since)return(this.year()-i(o[e].since).year())*n+o[e].offset;return this.year()},_n.year=Le,_n.isLeapYear=function(){return U(this.year())},_n.weekYear=function(e){return fn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},_n.isoWeekYear=function(e){return fn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},_n.quarter=_n.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},_n.month=De,_n.daysInMonth=function(){return ke(this.year(),this.month())},_n.week=_n.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},_n.isoWeek=_n.isoWeeks=function(e){var t=Ne(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},_n.weeksInYear=function(){var e=this.localeData()._week;return Fe(this.year(),e.dow,e.doy)},_n.weeksInWeekYear=function(){var e=this.localeData()._week;return Fe(this.weekYear(),e.dow,e.doy)},_n.isoWeeksInYear=function(){return Fe(this.year(),1,4)},_n.isoWeeksInISOWeekYear=function(){return Fe(this.isoWeekYear(),1,4)},_n.date=mn,_n.day=_n.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},_n.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},_n.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},_n.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},_n.hour=_n.hours=Je,_n.minute=_n.minutes=gn,_n.second=_n.seconds=bn,_n.millisecond=_n.milliseconds=vn,_n.utcOffset=function(e,t,n){var r,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=It(he,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=Nt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!t||this._changeInProgress?Vt(this,Bt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Nt(this)},_n.utc=function(e){return this.utcOffset(0,e)},_n.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Nt(this),"m")),this},_n.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=It(de,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},_n.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Ot(e).utcOffset():0,(this.utcOffset()-e)%60==0)},_n.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},_n.isLocal=function(){return!!this.isValid()&&!this._isUTC},_n.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},_n.isUtc=Ft,_n.isUTC=Ft,_n.zoneAbbr=function(){return this._isUTC?"UTC":""},_n.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},_n.dates=M("dates accessor is deprecated. Use date instead.",mn),_n.months=M("months accessor is deprecated. Use month instead",De),_n.years=M("years accessor is deprecated. Use year instead",Le),_n.zone=M("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),_n.isDSTShifted=M("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!u(this._isDSTShifted))return this._isDSTShifted;var e,t={};return w(t,this),(t=Mt(t))._a?(e=t._isUTC?p(t._a):Ot(t._a),this._isDSTShifted=this.isValid()&&function(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&q(e[r])!==q(t[r]))&&a++;return a+o}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var Sn=D.prototype;function Mn(e,t,n,r){var i=lt(),o=p().set(r,t);return i[n](o,e)}function xn(e,t,n){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return Mn(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Mn(e,r,n,"month");return i}function On(e,t,n,r){"boolean"==typeof e?(c(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,c(t)&&(n=t,t=void 0),t=t||"");var i,o=lt(),a=e?o._week.dow:0,s=[];if(null!=n)return Mn(t,(n+a)%7,r,"day");for(i=0;i<7;i++)s[i]=Mn(t,(i+a)%7,r,"day");return s}Sn.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return T(r)?r.call(t,n):r},Sn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(A).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},Sn.invalidDate=function(){return this._invalidDate},Sn.ordinal=function(e){return this._ordinal.replace("%d",e)},Sn.preparse=kn,Sn.postformat=kn,Sn.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return T(i)?i(e,t,n,r):i.replace(/%d/i,e)},Sn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return T(n)?n(t):n.replace(/%s/i,t)},Sn.set=function(e){var t,n;for(n in e)s(e,n)&&(T(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Sn.eras=function(e,t){var n,r,o,a=this._eras||lt("en")._eras;for(n=0,r=a.length;n<r;++n)switch("string"==typeof a[n].since&&(o=i(a[n].since).startOf("day"),a[n].since=o.valueOf()),typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":o=i(a[n].until).startOf("day").valueOf(),a[n].until=o.valueOf()}return a},Sn.erasParse=function(e,t,n){var r,i,o,a,s,l=this.eras();for(e=e.toUpperCase(),r=0,i=l.length;r<i;++r)if(o=l[r].name.toUpperCase(),a=l[r].abbr.toUpperCase(),s=l[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return l[r];break;case"NNNN":if(o===e)return l[r];break;case"NNNNN":if(s===e)return l[r]}else if([o,a,s].indexOf(e)>=0)return l[r]},Sn.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?i(e.since).year():i(e.since).year()+(t-e.offset)*n},Sn.erasAbbrRegex=function(e){return s(this,"_erasAbbrRegex")||dn.call(this),e?this._erasAbbrRegex:this._erasRegex},Sn.erasNameRegex=function(e){return s(this,"_erasNameRegex")||dn.call(this),e?this._erasNameRegex:this._erasRegex},Sn.erasNarrowRegex=function(e){return s(this,"_erasNarrowRegex")||dn.call(this),e?this._erasNarrowRegex:this._erasRegex},Sn.months=function(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||xe).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone},Sn.monthsShort=function(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[xe.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Sn.monthsParse=function(e,t,n){var r,i,o;if(this._monthsParseExact)return Te.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},Sn.monthsRegex=function(e){return this._monthsParseExact?(s(this,"_monthsRegex")||Ee.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=Ce),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Sn.monthsShortRegex=function(e){return this._monthsParseExact?(s(this,"_monthsRegex")||Ee.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=Oe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Sn.week=function(e){return Ne(e,this._week.dow,this._week.doy).week},Sn.firstDayOfYear=function(){return this._week.doy},Sn.firstDayOfWeek=function(){return this._week.dow},Sn.weekdays=function(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ye(n,this._week.dow):e?n[e.day()]:n},Sn.weekdaysMin=function(e){return!0===e?Ye(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},Sn.weekdaysShort=function(e){return!0===e?Ye(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},Sn.weekdaysParse=function(e,t,n){var r,i,o;if(this._weekdaysParseExact)return qe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},Sn.weekdaysRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=$e),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Sn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ue),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Sn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ve),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Sn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Sn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},at("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===q(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),i.lang=M("moment.lang is deprecated. Use moment.locale instead.",at),i.langData=M("moment.langData is deprecated. Use moment.localeData instead.",lt);var Cn=Math.abs;function Tn(e,t,n,r){var i=Bt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Rn(e){return e<0?Math.floor(e):Math.ceil(e)}function Dn(e){return 4800*e/146097}function En(e){return 146097*e/4800}function An(e){return function(){return this.as(e)}}var Ln=An("ms"),jn=An("s"),Pn=An("m"),In=An("h"),Hn=An("d"),Nn=An("w"),Fn=An("M"),Yn=An("Q"),zn=An("y");function Bn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Wn=Bn("milliseconds"),$n=Bn("seconds"),Un=Bn("minutes"),Vn=Bn("hours"),qn=Bn("days"),Gn=Bn("months"),Kn=Bn("years");var Zn=Math.round,Xn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Jn(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}var Qn=Math.abs;function er(e){return(e>0)-(e<0)||+e}function tr(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,o,a,s,l=Qn(this._milliseconds)/1e3,u=Qn(this._days),c=Qn(this._months),d=this.asSeconds();return d?(e=V(l/60),t=V(e/60),l%=60,e%=60,n=V(c/12),c%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",i=d<0?"-":"",o=er(this._months)!==er(d)?"-":"",a=er(this._days)!==er(d)?"-":"",s=er(this._milliseconds)!==er(d)?"-":"",i+"P"+(n?o+n+"Y":"")+(c?o+c+"M":"")+(u?a+u+"D":"")+(t||e||l?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(l?s+r+"S":"")):"P0D"}var nr=Et.prototype;return nr.isValid=function(){return this._isValid},nr.abs=function(){var e=this._data;return this._milliseconds=Cn(this._milliseconds),this._days=Cn(this._days),this._months=Cn(this._months),e.milliseconds=Cn(e.milliseconds),e.seconds=Cn(e.seconds),e.minutes=Cn(e.minutes),e.hours=Cn(e.hours),e.months=Cn(e.months),e.years=Cn(e.years),this},nr.add=function(e,t){return Tn(this,e,t,1)},nr.subtract=function(e,t){return Tn(this,e,t,-1)},nr.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=z(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Dn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(En(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},nr.asMilliseconds=Ln,nr.asSeconds=jn,nr.asMinutes=Pn,nr.asHours=In,nr.asDays=Hn,nr.asWeeks=Nn,nr.asMonths=Fn,nr.asQuarters=Yn,nr.asYears=zn,nr.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*q(this._months/12):NaN},nr._bubble=function(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*Rn(En(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=V(o/1e3),l.seconds=e%60,t=V(e/60),l.minutes=t%60,n=V(t/60),l.hours=n%24,a+=V(n/24),s+=i=V(Dn(a)),a-=Rn(En(i)),r=V(s/12),s%=12,l.days=a,l.months=s,l.years=r,this},nr.clone=function(){return Bt(this)},nr.get=function(e){return e=z(e),this.isValid()?this[e+"s"]():NaN},nr.milliseconds=Wn,nr.seconds=$n,nr.minutes=Un,nr.hours=Vn,nr.days=qn,nr.weeks=function(){return V(this.days()/7)},nr.months=Gn,nr.years=Kn,nr.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,o=Xn;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(i=e),"object"==typeof t&&(o=Object.assign({},Xn,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),r=function(e,t,n,r){var i=Bt(e).abs(),o=Zn(i.as("s")),a=Zn(i.as("m")),s=Zn(i.as("h")),l=Zn(i.as("d")),u=Zn(i.as("M")),c=Zn(i.as("w")),d=Zn(i.as("y")),h=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(h=h||c<=1&&["w"]||c<n.w&&["ww",c]),(h=h||u<=1&&["M"]||u<n.M&&["MM",u]||d<=1&&["y"]||["yy",d])[2]=t,h[3]=+e>0,h[4]=r,Jn.apply(null,h)}(this,!i,o,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)},nr.toISOString=tr,nr.toString=tr,nr.toJSON=tr,nr.locale=Qt,nr.localeData=tn,nr.toIsoString=M("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",tr),nr.lang=en,I("X",0,0,"unix"),I("x",0,0,"valueOf"),pe("x",ce),pe("X",/[+-]?\d+(\.\d{1,3})?/),ve("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),ve("x",(function(e,t,n){n._d=new Date(q(e))})),i.version="2.29.4",t=Ot,i.fn=_n,i.min=function(){return Rt("isBefore",[].slice.call(arguments,0))},i.max=function(){return Rt("isAfter",[].slice.call(arguments,0))},i.now=function(){return Date.now?Date.now():+new Date},i.utc=p,i.unix=function(e){return Ot(1e3*e)},i.months=function(e,t){return xn(e,t,"months")},i.isDate=d,i.locale=at,i.invalid=y,i.duration=Bt,i.isMoment=k,i.weekdays=function(e,t,n){return On(e,t,n,"weekdays")},i.parseZone=function(){return Ot.apply(null,arguments).parseZone()},i.localeData=lt,i.isDuration=At,i.monthsShort=function(e,t){return xn(e,t,"monthsShort")},i.weekdaysMin=function(e,t,n){return On(e,t,n,"weekdaysMin")},i.defineLocale=st,i.updateLocale=function(e,t){if(null!=t){var n,r,i=et;null!=tt[e]&&null!=tt[e].parentLocale?tt[e].set(R(tt[e]._config,t)):(null!=(r=ot(e))&&(i=r._config),t=R(i,t),null==r&&(t.abbr=e),(n=new D(t)).parentLocale=tt[e],tt[e]=n),at(e)}else null!=tt[e]&&(null!=tt[e].parentLocale?(tt[e]=tt[e].parentLocale,e===at()&&at(e)):null!=tt[e]&&delete tt[e]);return tt[e]},i.locales=function(){return x(tt)},i.weekdaysShort=function(e,t,n){return On(e,t,n,"weekdaysShort")},i.normalizeUnits=z,i.relativeTimeRounding=function(e){return void 0===e?Zn:"function"==typeof e&&(Zn=e,!0)},i.relativeTimeThreshold=function(e,t){return void 0!==Xn[e]&&(void 0===t?Xn[e]:(Xn[e]=t,"s"===e&&(Xn.ss=t-1),!0))},i.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},i.prototype=_n,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i}()},41680:e=>{e.exports=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,(function(e){return i(t[a][1][e]||e)}),u,u.exports,e,t,n,r)}return n[a].exports}for(var o=void 0,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){!function(e){"use strict";var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,o=Math.floor,a="[BigNumber Error] ",s=a+"Number primitive has more than 15 significant digits: ",l=1e14,u=14,c=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,f=1e9;function p(e){var t=0|e;return 0<e||e===t?t:t-1}function m(e){for(var t,n,r=1,i=e.length,o=e[0]+"";r<i;){for(t=e[r++]+"",n=u-t.length;n--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function g(e,t){var n,r,i=e.c,o=t.c,a=e.s,s=t.s,l=e.e,u=t.e;if(!a||!s)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-s:a;if(a!=s)return a;if(n=a<0,r=l==u,!i||!o)return r?0:!i^n?1:-1;if(!r)return u<l^n?1:-1;for(s=(l=i.length)<(u=o.length)?l:u,a=0;a<s;a++)if(i[a]!=o[a])return i[a]>o[a]^n?1:-1;return l==u?0:u<l^n?1:-1}function y(e,t,n,r){if(e<t||n<e||e!==(e<0?i(e):o(e)))throw Error(a+(r||"Argument")+("number"==typeof e?e<t||n<e?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function v(e){var t=e.c.length-1;return p(e.e/u)==t&&e.c[t]%2!=0}function b(e,t){return(1<e.length?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function w(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}(n=function e(t){var n,_,k,S,M,x,O,C,T,R,D=W.prototype={constructor:W,toString:null,valueOf:null},E=new W(1),A=20,L=4,j=-7,P=21,I=-1e7,H=1e7,N=!1,F=1,Y=0,z={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},B="0123456789abcdefghijklmnopqrstuvwxyz";function W(e,t){var n,i,a,l,d,h,f,p,m=this;if(!(m instanceof W))return new W(e,t);if(null==t){if(e instanceof W)return m.s=e.s,m.e=e.e,void(m.c=(e=e.c)?e.slice():e);if((h="number"==typeof e)&&0*e==0){if(m.s=1/e<0?(e=-e,-1):1,e===~~e){for(l=0,d=e;10<=d;d/=10,l++);return m.e=l,void(m.c=[e])}p=String(e)}else{if(p=String(e),!r.test(p))return k(m,p,h);m.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}-1<(l=p.indexOf("."))&&(p=p.replace(".","")),0<(d=p.search(/e/i))?(l<0&&(l=d),l+=+p.slice(d+1),p=p.substring(0,d)):l<0&&(l=p.length)}else{if(y(t,2,B.length,"Base"),p=String(e),10==t)return q(m=new W(e instanceof W?e:p),A+m.e+1,L);if(h="number"==typeof e){if(0*e!=0)return k(m,p,h,t);if(m.s=1/e<0?(p=p.slice(1),-1):1,W.DEBUG&&15<p.replace(/^0\.0*|\./,"").length)throw Error(s+e);h=!1}else m.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(n=B.slice(0,t),l=d=0,f=p.length;d<f;d++)if(n.indexOf(i=p.charAt(d))<0){if("."==i){if(l<d){l=f;continue}}else if(!a&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){a=!0,d=-1,l=0;continue}return k(m,String(e),h,t)}-1<(l=(p=_(p,t,10,m.s)).indexOf("."))?p=p.replace(".",""):l=p.length}for(d=0;48===p.charCodeAt(d);d++);for(f=p.length;48===p.charCodeAt(--f););if(p=p.slice(d,++f)){if(f-=d,h&&W.DEBUG&&15<f&&(c<e||e!==o(e)))throw Error(s+m.s*e);if(H<(l=l-d-1))m.c=m.e=null;else if(l<I)m.c=[m.e=0];else{if(m.e=l,m.c=[],d=(l+1)%u,l<0&&(d+=u),d<f){for(d&&m.c.push(+p.slice(0,d)),f-=u;d<f;)m.c.push(+p.slice(d,d+=u));p=p.slice(d),d=u-p.length}else d-=f;for(;d--;p+="0");m.c.push(+p)}}else m.c=[m.e=0]}function $(e,t,n,r){var i,o,a,s,l;if(null==n?n=L:y(n,0,8),!e.c)return e.toString();if(i=e.c[0],a=e.e,null==t)l=m(e.c),l=1==r||2==r&&(a<=j||P<=a)?b(l,a):w(l,a,"0");else if(o=(e=q(new W(e),t,n)).e,s=(l=m(e.c)).length,1==r||2==r&&(t<=o||o<=j)){for(;s<t;l+="0",s++);l=b(l,o)}else if(t-=a,l=w(l,o,"0"),s<o+1){if(0<--t)for(l+=".";t--;l+="0");}else if(0<(t+=o-s))for(o+1==s&&(l+=".");t--;l+="0");return e.s<0&&i?"-"+l:l}function U(e,t){for(var n,r=1,i=new W(e[0]);r<e.length;r++){if(!(n=new W(e[r])).s){i=n;break}t.call(i,n)&&(i=n)}return i}function V(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];10<=i;i/=10,r++);return(n=r+n*u-1)>H?e.c=e.e=null:e.c=n<I?[e.e=0]:(e.e=n,t),e}function q(e,t,n,r){var a,s,c,h,f,p,m,g=e.c,y=d;if(g){e:{for(a=1,h=g[0];10<=h;h/=10,a++);if((s=t-a)<0)s+=u,c=t,m=(f=g[p=0])/y[a-c-1]%10|0;else if((p=i((s+1)/u))>=g.length){if(!r)break e;for(;g.length<=p;g.push(0));f=m=0,c=(s%=u)-u+(a=1)}else{for(f=h=g[p],a=1;10<=h;h/=10,a++);m=(c=(s%=u)-u+a)<0?0:f/y[a-c-1]%10|0}if(r=r||t<0||null!=g[p+1]||(c<0?f:f%y[a-c-1]),r=n<4?(m||r)&&(0==n||n==(e.s<0?3:2)):5<m||5==m&&(4==n||r||6==n&&(0<s?0<c?f/y[a-c]:0:g[p-1])%10&1||n==(e.s<0?8:7)),t<1||!g[0])return g.length=0,r?(t-=e.e+1,g[0]=y[(u-t%u)%u],e.e=-t||0):g[0]=e.e=0,e;if(0==s?(g.length=p,h=1,p--):(g.length=p+1,h=y[u-s],g[p]=0<c?o(f/y[a-c]%y[c])*h:0),r)for(;;){if(0==p){for(s=1,c=g[0];10<=c;c/=10,s++);for(c=g[0]+=h,h=1;10<=c;c/=10,h++);s!=h&&(e.e++,g[0]==l&&(g[0]=1));break}if(g[p]+=h,g[p]!=l)break;g[p--]=0,h=1}for(s=g.length;0===g[--s];g.pop());}e.e>H?e.c=e.e=null:e.e<I&&(e.c=[e.e=0])}return e}function G(e){var t,n=e.e;return null===n?e.toString():(t=m(e.c),t=n<=j||P<=n?b(t,n):w(t,n,"0"),e.s<0?"-"+t:t)}return W.clone=e,W.ROUND_UP=0,W.ROUND_DOWN=1,W.ROUND_CEIL=2,W.ROUND_FLOOR=3,W.ROUND_HALF_UP=4,W.ROUND_HALF_DOWN=5,W.ROUND_HALF_EVEN=6,W.ROUND_HALF_CEIL=7,W.ROUND_HALF_FLOOR=8,W.EUCLID=9,W.config=W.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(a+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(y(n=e[t],0,f,t),A=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(y(n=e[t],0,8,t),L=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(y(n[0],-f,0,t),y(n[1],0,f,t),j=n[0],P=n[1]):(y(n,-f,f,t),j=-(P=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)y(n[0],-f,-1,t),y(n[1],1,f,t),I=n[0],H=n[1];else{if(y(n,-f,f,t),!n)throw Error(a+t+" cannot be zero: "+n);I=-(H=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(a+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw N=!n,Error(a+"crypto unavailable");N=n}else N=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(y(n=e[t],0,9,t),F=n),e.hasOwnProperty(t="POW_PRECISION")&&(y(n=e[t],0,f,t),Y=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(a+t+" not an object: "+n);z=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.$|[+-.\s]|(.).*\1/.test(n))throw Error(a+t+" invalid: "+n);B=n}}return{DECIMAL_PLACES:A,ROUNDING_MODE:L,EXPONENTIAL_AT:[j,P],RANGE:[I,H],CRYPTO:N,MODULO_MODE:F,POW_PRECISION:Y,FORMAT:z,ALPHABET:B}},W.isBigNumber=function(e){return e instanceof W||e&&!0===e._isBigNumber||!1},W.maximum=W.max=function(){return U(arguments,D.lt)},W.minimum=W.min=function(){return U(arguments,D.gt)},W.random=(S=9007199254740992,M=Math.random()*S&2097151?function(){return o(Math.random()*S)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,s,l,c=0,h=[],p=new W(E);if(null==e?e=A:y(e,0,f),s=i(e/u),N)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(s*=2));c<s;)9e15<=(l=131072*t[c]+(t[c+1]>>>11))?(n=crypto.getRandomValues(new Uint32Array(2)),t[c]=n[0],t[c+1]=n[1]):(h.push(l%1e14),c+=2);c=s/2}else{if(!crypto.randomBytes)throw N=!1,Error(a+"crypto unavailable");for(t=crypto.randomBytes(s*=7);c<s;)9e15<=(l=281474976710656*(31&t[c])+1099511627776*t[c+1]+4294967296*t[c+2]+16777216*t[c+3]+(t[c+4]<<16)+(t[c+5]<<8)+t[c+6])?crypto.randomBytes(7).copy(t,c):(h.push(l%1e14),c+=7);c=s/7}if(!N)for(;c<s;)(l=M())<9e15&&(h[c++]=l%1e14);for(s=h[--c],e%=u,s&&e&&(l=d[u-e],h[c]=o(s/l)*l);0===h[c];h.pop(),c--);if(c<0)h=[r=0];else{for(r=-1;0===h[0];h.splice(0,1),r-=u);for(c=1,l=h[0];10<=l;l/=10,c++);c<u&&(r-=u-c)}return p.e=r,p.c=h,p}),W.sum=function(){for(var e=1,t=arguments,n=new W(t[0]);e<t.length;)n=n.plus(t[e++]);return n},_=function(){var e="0123456789";function t(e,t,n,r){for(var i,o,a=[0],s=0,l=e.length;s<l;){for(o=a.length;o--;a[o]*=t);for(a[0]+=r.indexOf(e.charAt(s++)),i=0;i<a.length;i++)a[i]>n-1&&(null==a[i+1]&&(a[i+1]=0),a[i+1]+=a[i]/n|0,a[i]%=n)}return a.reverse()}return function(r,i,o,a,s){var l,u,c,d,h,f,p,g,y=r.indexOf("."),v=A,b=L;for(0<=y&&(d=Y,Y=0,r=r.replace(".",""),f=(g=new W(i)).pow(r.length-y),Y=d,g.c=t(w(m(f.c),f.e,"0"),10,o,e),g.e=g.c.length),c=d=(p=t(r,i,o,s?(l=B,e):(l=e,B))).length;0==p[--d];p.pop());if(!p[0])return l.charAt(0);if(y<0?--c:(f.c=p,f.e=c,f.s=a,p=(f=n(f,g,v,b,o)).c,h=f.r,c=f.e),y=p[u=c+v+1],d=o/2,h=h||u<0||null!=p[u+1],h=b<4?(null!=y||h)&&(0==b||b==(f.s<0?3:2)):d<y||y==d&&(4==b||h||6==b&&1&p[u-1]||b==(f.s<0?8:7)),u<1||!p[0])r=h?w(l.charAt(1),-v,l.charAt(0)):l.charAt(0);else{if(p.length=u,h)for(--o;++p[--u]>o;)p[u]=0,u||(++c,p=[1].concat(p));for(d=p.length;!p[--d];);for(y=0,r="";y<=d;r+=l.charAt(p[y++]));r=w(r,c,l.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,i,o,a,s=0,l=e.length,u=t%h,c=t/h|0;for(e=e.slice();l--;)s=((i=u*(o=e[l]%h)+(r=c*o+(a=e[l]/h|0)*u)%h*h+s)/n|0)+(r/h|0)+c*a,e[l]=i%n;return s&&(e=[s].concat(e)),e}function t(e,t,n,r){var i,o;if(n!=r)o=r<n?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&1<e.length;e.splice(0,1));}return function(r,i,a,s,c){var d,h,f,m,g,y,v,b,w,_,k,S,M,x,O,C,T,R=r.s==i.s?1:-1,D=r.c,E=i.c;if(!(D&&D[0]&&E&&E[0]))return new W(r.s&&i.s&&(D?!E||D[0]!=E[0]:E)?D&&0==D[0]||!E?0*R:R/0:NaN);for(w=(b=new W(R)).c=[],R=a+(h=r.e-i.e)+1,c||(c=l,h=p(r.e/u)-p(i.e/u),R=R/u|0),f=0;E[f]==(D[f]||0);f++);if(E[f]>(D[f]||0)&&h--,R<0)w.push(1),m=!0;else{for(x=D.length,C=E.length,R+=2,1<(g=o(c/(E[f=0]+1)))&&(E=e(E,g,c),D=e(D,g,c),C=E.length,x=D.length),M=C,k=(_=D.slice(0,C)).length;k<C;_[k++]=0);T=E.slice(),T=[0].concat(T),O=E[0],E[1]>=c/2&&O++;do{if(g=0,(d=t(E,_,C,k))<0){if(S=_[0],C!=k&&(S=S*c+(_[1]||0)),1<(g=o(S/O)))for(c<=g&&(g=c-1),v=(y=e(E,g,c)).length,k=_.length;1==t(y,_,v,k);)g--,n(y,C<v?T:E,v,c),v=y.length,d=1;else 0==g&&(d=g=1),v=(y=E.slice()).length;if(v<k&&(y=[0].concat(y)),n(_,y,k,c),k=_.length,-1==d)for(;t(E,_,C,k)<1;)g++,n(_,C<k?T:E,k,c),k=_.length}else 0===d&&(g++,_=[0]);w[f++]=g,_[0]?_[k++]=D[M]||0:(_=[D[M]],k=1)}while((M++<x||null!=_[0])&&R--);m=null!=_[0],w[0]||w.splice(0,1)}if(c==l){for(f=1,R=w[0];10<=R;R/=10,f++);q(b,a+(b.e=f+h*u-1)+1,s,m)}else b.e=h,b.r=+m;return b}}(),x=/^(-?)0([xbo])(?=\w[\w.]*$)/i,O=/^([^.]+)\.$/,C=/^\.([^.]+)$/,T=/^-?(Infinity|NaN)$/,R=/^\s*\+(?=[\w.])|^\s+|\s+$/g,k=function(e,t,n,r){var i,o=n?t:t.replace(R,"");if(T.test(o))e.s=isNaN(o)?null:o<0?-1:1,e.c=e.e=null;else{if(!n&&(o=o.replace(x,(function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t})),r&&(i=r,o=o.replace(O,"$1").replace(C,"0.$1")),t!=o))return new W(o,i);if(W.DEBUG)throw Error(a+"Not a"+(r?" base "+r:"")+" number: "+t);e.c=e.e=e.s=null}},D.absoluteValue=D.abs=function(){var e=new W(this);return e.s<0&&(e.s=1),e},D.comparedTo=function(e,t){return g(this,new W(e,t))},D.decimalPlaces=D.dp=function(e,t){var n,r,i;if(null!=e)return y(e,0,f),null==t?t=L:y(t,0,8),q(new W(this),e+this.e+1,t);if(!(n=this.c))return null;if(r=((i=n.length-1)-p(this.e/u))*u,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},D.dividedBy=D.div=function(e,t){return n(this,new W(e,t),A,L)},D.dividedToIntegerBy=D.idiv=function(e,t){return n(this,new W(e,t),0,1)},D.exponentiatedBy=D.pow=function(e,t){var n,r,s,l,c,d,h,f,p=this;if((e=new W(e)).c&&!e.isInteger())throw Error(a+"Exponent not an integer: "+G(e));if(null!=t&&(t=new W(t)),c=14<e.e,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return f=new W(Math.pow(+G(p),c?2-v(e):+G(e))),t?f.mod(t):f;if(d=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new W(NaN);(r=!d&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(9<e.e&&(0<p.e||p.e<-1||(0==p.e?1<p.c[0]||c&&24e7<=p.c[1]:p.c[0]<8e13||c&&p.c[0]<=9999975e7)))return l=p.s<0&&v(e)?-0:0,-1<p.e&&(l=1/l),new W(d?1/l:l);Y&&(l=i(Y/u+2))}for(h=c?(n=new W(.5),d&&(e.s=1),v(e)):(s=Math.abs(+G(e)))%2,f=new W(E);;){if(h){if(!(f=f.times(p)).c)break;l?f.c.length>l&&(f.c.length=l):r&&(f=f.mod(t))}if(s){if(0===(s=o(s/2)))break;h=s%2}else if(q(e=e.times(n),e.e+1,1),14<e.e)h=v(e);else{if(0==(s=+G(e)))break;h=s%2}p=p.times(p),l?p.c&&p.c.length>l&&(p.c.length=l):r&&(p=p.mod(t))}return r?f:(d&&(f=E.div(f)),t?f.mod(t):l?q(f,Y,L,void 0):f)},D.integerValue=function(e){var t=new W(this);return null==e?e=L:y(e,0,8),q(t,t.e+1,e)},D.isEqualTo=D.eq=function(e,t){return 0===g(this,new W(e,t))},D.isFinite=function(){return!!this.c},D.isGreaterThan=D.gt=function(e,t){return 0<g(this,new W(e,t))},D.isGreaterThanOrEqualTo=D.gte=function(e,t){return 1===(t=g(this,new W(e,t)))||0===t},D.isInteger=function(){return!!this.c&&p(this.e/u)>this.c.length-2},D.isLessThan=D.lt=function(e,t){return g(this,new W(e,t))<0},D.isLessThanOrEqualTo=D.lte=function(e,t){return-1===(t=g(this,new W(e,t)))||0===t},D.isNaN=function(){return!this.s},D.isNegative=function(){return this.s<0},D.isPositive=function(){return 0<this.s},D.isZero=function(){return!!this.c&&0==this.c[0]},D.minus=function(e,t){var n,r,i,o,a=this,s=a.s;if(t=(e=new W(e,t)).s,!s||!t)return new W(NaN);if(s!=t)return e.s=-t,a.plus(e);var c=a.e/u,d=e.e/u,h=a.c,f=e.c;if(!c||!d){if(!h||!f)return h?(e.s=-t,e):new W(f?a:NaN);if(!h[0]||!f[0])return f[0]?(e.s=-t,e):new W(h[0]?a:3==L?-0:0)}if(c=p(c),d=p(d),h=h.slice(),s=c-d){for((i=(o=s<0)?(s=-s,h):(d=c,f)).reverse(),t=s;t--;i.push(0));i.reverse()}else for(r=(o=(s=h.length)<(t=f.length))?s:t,s=t=0;t<r;t++)if(h[t]!=f[t]){o=h[t]<f[t];break}if(o&&(i=h,h=f,f=i,e.s=-e.s),0<(t=(r=f.length)-(n=h.length)))for(;t--;h[n++]=0);for(t=l-1;s<r;){if(h[--r]<f[r]){for(n=r;n&&!h[--n];h[n]=t);--h[n],h[r]+=l}h[r]-=f[r]}for(;0==h[0];h.splice(0,1),--d);return h[0]?V(e,h,d):(e.s=3==L?-1:1,e.c=[e.e=0],e)},D.modulo=D.mod=function(e,t){var r,i,o=this;return e=new W(e,t),!o.c||!e.s||e.c&&!e.c[0]?new W(NaN):!e.c||o.c&&!o.c[0]?new W(o):(9==F?(i=e.s,e.s=1,r=n(o,e,0,3),e.s=i,r.s*=i):r=n(o,e,0,F),(e=o.minus(r.times(e))).c[0]||1!=F||(e.s=o.s),e)},D.multipliedBy=D.times=function(e,t){var n,r,i,o,a,s,c,d,f,m,g,y,v,b,w,_=this,k=_.c,S=(e=new W(e,t)).c;if(!(k&&S&&k[0]&&S[0]))return!_.s||!e.s||k&&!k[0]&&!S||S&&!S[0]&&!k?e.c=e.e=e.s=null:(e.s*=_.s,k&&S?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=p(_.e/u)+p(e.e/u),e.s*=_.s,(c=k.length)<(m=S.length)&&(v=k,k=S,S=v,i=c,c=m,m=i),i=c+m,v=[];i--;v.push(0));for(b=l,w=h,i=m;0<=--i;){for(n=0,g=S[i]%w,y=S[i]/w|0,o=i+(a=c);i<o;)n=((d=g*(d=k[--a]%w)+(s=y*d+(f=k[a]/w|0)*g)%w*w+v[o]+n)/b|0)+(s/w|0)+y*f,v[o--]=d%b;v[o]=n}return n?++r:v.splice(0,1),V(e,v,r)},D.negated=function(){var e=new W(this);return e.s=-e.s||null,e},D.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new W(e,t)).s,!i||!t)return new W(NaN);if(i!=t)return e.s=-t,r.minus(e);var o=r.e/u,a=e.e/u,s=r.c,c=e.c;if(!o||!a){if(!s||!c)return new W(i/0);if(!s[0]||!c[0])return c[0]?e:new W(s[0]?r:0*i)}if(o=p(o),a=p(a),s=s.slice(),i=o-a){for((n=0<i?(a=o,c):(i=-i,s)).reverse();i--;n.push(0));n.reverse()}for((i=s.length)-(t=c.length)<0&&(n=c,c=s,s=n,t=i),i=0;t;)i=(s[--t]=s[t]+c[t]+i)/l|0,s[t]=l===s[t]?0:s[t]%l;return i&&(s=[i].concat(s),++a),V(e,s,a)},D.precision=D.sd=function(e,t){var n,r,i;if(null!=e&&e!==!!e)return y(e,1,f),null==t?t=L:y(t,0,8),q(new W(this),e,t);if(!(n=this.c))return null;if(r=(i=n.length-1)*u+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];10<=i;i/=10,r++);}return e&&this.e+1>r&&(r=this.e+1),r},D.shiftedBy=function(e){return y(e,-c,c),this.times("1e"+e)},D.squareRoot=D.sqrt=function(){var e,t,r,i,o,a=this,s=a.c,l=a.s,u=a.e,c=A+4,d=new W("0.5");if(1!==l||!s||!s[0])return new W(!l||l<0&&(!s||s[0])?NaN:s?a:1/0);if((r=0==(l=Math.sqrt(+G(a)))||l==1/0?(((t=m(s)).length+u)%2==0&&(t+="0"),l=Math.sqrt(+t),u=p((u+1)/2)-(u<0||u%2),new W(t=l==1/0?"1e"+u:(t=l.toExponential()).slice(0,t.indexOf("e")+1)+u)):new W(l+"")).c[0])for((l=(u=r.e)+c)<3&&(l=0);;)if(o=r,r=d.times(o.plus(n(a,o,c,1))),m(o.c).slice(0,l)===(t=m(r.c)).slice(0,l)){if(r.e<u&&--l,"9999"!=(t=t.slice(l-3,l+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(q(r,r.e+A+2,1),e=!r.times(r).eq(a));break}if(!i&&(q(o,o.e+A+2,0),o.times(o).eq(a))){r=o;break}c+=4,l+=4,i=1}return q(r,r.e+A+1,L,e)},D.toExponential=function(e,t){return null!=e&&(y(e,0,f),e++),$(this,e,t,1)},D.toFixed=function(e,t){return null!=e&&(y(e,0,f),e=e+this.e+1),$(this,e,t)},D.toFormat=function(e,t,n){var r;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=z;else if("object"!=typeof n)throw Error(a+"Argument not an object: "+n);if(r=this.toFixed(e,t),this.c){var i,o=r.split("."),s=+n.groupSize,l=+n.secondaryGroupSize,u=n.groupSeparator||"",c=o[0],d=o[1],h=this.s<0,f=h?c.slice(1):c,p=f.length;if(l&&(i=s,s=l,p-=l=i),0<s&&0<p){for(i=p%s||s,c=f.substr(0,i);i<p;i+=s)c+=u+f.substr(i,s);0<l&&(c+=u+f.slice(i)),h&&(c="-"+c)}r=d?c+(n.decimalSeparator||"")+((l=+n.fractionGroupSize)?d.replace(new RegExp("\\d{"+l+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):d):c}return(n.prefix||"")+r+(n.suffix||"")},D.toFraction=function(e){var t,r,i,o,s,l,c,h,f,p,g,y,v=this,b=v.c;if(null!=e&&(!(c=new W(e)).isInteger()&&(c.c||1!==c.s)||c.lt(E)))throw Error(a+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+G(c));if(!b)return new W(v);for(t=new W(E),f=r=new W(E),i=h=new W(E),y=m(b),s=t.e=y.length-v.e-1,t.c[0]=d[(l=s%u)<0?u+l:l],e=!e||0<c.comparedTo(t)?0<s?t:f:c,l=H,H=1/0,c=new W(y),h.c[0]=0;p=n(c,t,0,1),1!=(o=r.plus(p.times(i))).comparedTo(e);)r=i,i=o,f=h.plus(p.times(o=f)),h=o,t=c.minus(p.times(o=t)),c=o;return o=n(e.minus(r),i,0,1),h=h.plus(o.times(f)),r=r.plus(o.times(i)),h.s=f.s=v.s,g=n(f,i,s*=2,L).minus(v).abs().comparedTo(n(h,r,s,L).minus(v).abs())<1?[f,i]:[h,r],H=l,g},D.toNumber=function(){return+G(this)},D.toPrecision=function(e,t){return null!=e&&y(e,1,f),$(this,e,t,2)},D.toString=function(e){var t,n=this,r=n.s,i=n.e;return null===i?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(t=null==e?i<=j||P<=i?b(m(n.c),i):w(m(n.c),i,"0"):10===e?w(m((n=q(new W(n),A+i+1,L)).c),n.e,"0"):(y(e,2,B.length,"Base"),_(w(m(n.c),i,"0"),10,e,r,!0)),r<0&&n.c[0]&&(t="-"+t)),t},D.valueOf=D.toJSON=function(){return G(this)},D._isBigNumber=!0,"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator&&(D[Symbol.toStringTag]="BigNumber",D[Symbol.for("nodejs.util.inspect.custom")]=D.valueOf),null!=t&&W.set(t),W}()).default=n.BigNumber=n,void 0!==t&&t.exports?t.exports=n:(e||(e="undefined"!=typeof self&&self?self:window),e.BigNumber=n)}(this)},{}],2:[function(e,t,n){"use strict";t.exports={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}},{}],3:[function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=e("./globalState"),o=e("./validating"),a=e("./parsing"),s=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],l={general:{scale:1024,suffixes:s,marker:"bd"},binary:{scale:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],marker:"b"},decimal:{scale:1e3,suffixes:s,marker:"d"}},u={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1};function c(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0;if("string"==typeof t&&(t=a.parseFormat(t)),!o.validateFormat(t))return"ERROR: invalid format";var r=t.prefix||"",s=t.postfix||"",c=function(e,t,n){switch(t.output){case"currency":return function(e,t,n){var r=n.currentCurrency(),i=Object.assign({},u,t),o=void 0,a="",s=!!i.totalLength||!!i.forceAverage||i.average,l=t.currencyPosition||r.position,c=t.currencySymbol||r.symbol;i.spaceSeparated&&(a=" "),"infix"===l&&(o=a+c+a);var d=p({instance:e,providedFormat:t,state:n,decimalSeparator:o});return"prefix"===l&&(d=e._value<0&&"sign"===i.negative?"-".concat(a).concat(c).concat(d.slice(1)):c+a+d),l&&"postfix"!==l||(d=d+(a=s?"":a)+c),d}(e,t=m(t,i.currentCurrencyDefaultFormat()),i);case"percent":return function(e,t,n,r){var i=t.prefixSymbol,o=p({instance:r(100*e._value),providedFormat:t,state:n}),a=Object.assign({},u,t);return i?"%".concat(a.spaceSeparated?" ":"").concat(o):"".concat(o).concat(a.spaceSeparated?" ":"","%")}(e,t=m(t,i.currentPercentageDefaultFormat()),i,n);case"byte":return t=m(t,i.currentByteDefaultFormat()),w=e,k=i,S=n,M=(_=t).base||"binary",x=l[M],C=(O=d(w._value,x.suffixes,x.scale)).value,T=O.suffix,R=p({instance:S(C),providedFormat:_,state:k,defaults:k.currentByteDefaultFormat()}),D=k.currentAbbreviations(),"".concat(R).concat(D.spaced?" ":"").concat(T);case"time":return t=m(t,i.currentTimeDefaultFormat()),g=e,y=Math.floor(g._value/60/60),v=Math.floor((g._value-60*y*60)/60),b=Math.round(g._value-60*y*60-60*v),"".concat(y,":").concat(v<10?"0":"").concat(v,":").concat(b<10?"0":"").concat(b);case"ordinal":return r=e,o=t=m(t,i.currentOrdinalDefaultFormat()),s=(a=i).currentOrdinal(),c=Object.assign({},u,o),h=p({instance:r,providedFormat:o,state:a}),f=s(r._value),"".concat(h).concat(c.spaceSeparated?" ":"").concat(f);default:return p({instance:e,providedFormat:t,numbro:n})}var r,o,a,s,c,h,f,g,y,v,b,w,_,k,S,M,x,O,C,T,R,D}(e,t,n);return(c=r+c)+s}function d(e,t,n){var r=t[0],i=Math.abs(e);if(n<=i){for(var o=1;o<t.length;++o){var a=Math.pow(n,o),s=Math.pow(n,o+1);if(a<=i&&i<s){r=t[o],e/=a;break}}r===t[0]&&(e/=Math.pow(n,t.length-1),r=t[t.length-1])}return{value:e,suffix:r}}function h(e){for(var t="",n=0;n<e;n++)t+="0";return t}function f(e,t){return-1!==e.toString().indexOf("e")?function(e,t){var n=e.toString(),i=r(n.split("e"),2),o=i[0],a=i[1],s=r(o.split("."),2),l=s[0],u=s[1],c=void 0===u?"":u;if(0<+a)n=l+c+h(a-c.length);else{var d=".";d=+l<0?"-0".concat(d):"0".concat(d);var f=(h(-a-1)+Math.abs(l)+c).substr(0,t);f.length<t&&(f+=h(t-f.length)),n=d+f}return 0<+a&&0<t&&(n+=".".concat(h(t))),n}(e,t):(Math.round(+"".concat(e,"e+").concat(t))/Math.pow(10,t)).toFixed(t)}function p(e){var t=e.instance,n=e.providedFormat,o=e.state,a=void 0===o?i:o,s=e.decimalSeparator,l=e.defaults,c=void 0===l?a.currentDefaults():l,d=t._value;if(0===d&&a.hasZeroFormat())return a.getZeroFormat();if(!isFinite(d))return d.toString();var h,p,m,g,y,v,b,w,_=Object.assign({},u,c,n),k=_.totalLength,S=k?0:_.characteristic,M=_.optionalCharacteristic,x=_.forceAverage,O=!!k||!!x||_.average,C=k?-1:O&&void 0===n.mantissa?0:_.mantissa,T=!k&&(void 0===n.optionalMantissa?-1===C:_.optionalMantissa),R=_.trimMantissa,D=_.thousandSeparated,E=_.spaceSeparated,A=_.negative,L=_.forceSign,j=_.exponential,P="";if(O){var I=function(e){var t=e.value,n=e.forceAverage,r=e.abbreviations,i=e.spaceSeparated,o=void 0!==i&&i,a=e.totalLength,s=void 0===a?0:a,l="",u=Math.abs(t),c=-1;if(u>=Math.pow(10,12)&&!n||"trillion"===n?(l=r.trillion,t/=Math.pow(10,12)):u<Math.pow(10,12)&&u>=Math.pow(10,9)&&!n||"billion"===n?(l=r.billion,t/=Math.pow(10,9)):u<Math.pow(10,9)&&u>=Math.pow(10,6)&&!n||"million"===n?(l=r.million,t/=Math.pow(10,6)):(u<Math.pow(10,6)&&u>=Math.pow(10,3)&&!n||"thousand"===n)&&(l=r.thousand,t/=Math.pow(10,3)),l&&(l=(o?" ":"")+l),s){var d=t.toString().split(".")[0];c=Math.max(s-d.length,0)}return{value:t,abbreviation:l,mantissaPrecision:c}}({value:d,forceAverage:x,abbreviations:a.currentAbbreviations(),spaceSeparated:E,totalLength:k});d=I.value,P+=I.abbreviation,k&&(C=I.mantissaPrecision)}if(j){var H=(p=(h={value:d,characteristicPrecision:S}).value,g=void 0===(m=h.characteristicPrecision)?0:m,v=(y=r(p.toExponential().split("e"),2))[0],b=y[1],w=+v,g&&1<g&&(w*=Math.pow(10,g-1),b=0<=(b=+b-(g-1))?"+".concat(b):b),{value:w,abbreviation:"e".concat(b)});d=H.value,P=H.abbreviation+P}var N,F,Y,z=function(e,t,n,i,o){if(-1===i)return e;var a=f(t,i),s=r(a.toString().split("."),2),l=s[0],u=s[1],c=void 0===u?"":u;if(c.match(/^0+$/)&&(n||o))return l;var d=c.match(/0+$/);return o&&d?"".concat(l,".").concat(c.toString().slice(0,d.index)):a.toString()}(d.toString(),d,T,C,R);return z=function(e,t,n,r,i){var o=r.currentDelimiters(),a=o.thousands;i=i||o.decimal;var s=o.thousandsSize||3,l=e.toString(),u=l.split(".")[0],c=l.split(".")[1];return n&&(t<0&&(u=u.slice(1)),function(e,t){for(var n=[],r=0,i=e;0<i;i--)r===t&&(n.unshift(i),r=0),r++;return n}(u.length,s).forEach((function(e,t){u=u.slice(0,e+t)+a+u.slice(e+t)})),t<0&&(u="-".concat(u))),c?u+i+c:u}(z=function(e,t,n,i){var o=e,a=r(o.toString().split("."),2),s=a[0],l=a[1];if(s.match(/^-?0$/)&&n)return l?"".concat(s.replace("0",""),".").concat(l):s.replace("0","");if(s.length<i)for(var u=i-s.length,c=0;c<u;c++)o="0".concat(o);return o.toString()}(z,0,M,S),d,D,a,s),(O||j)&&(z+=P),(L||d<0)&&(N=z,Y=A,z=0===(F=d)?N:0==+N?N.replace("-",""):0<F?"+".concat(N):"sign"===Y?N:"(".concat(N.replace("-",""),")")),z}function m(e,t){if(!e)return t;var n=Object.keys(e);return 1===n.length&&"output"===n[0]?t:e}t.exports=function(e){return{format:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return c.apply(void 0,n.concat([e]))},getByteUnit:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(e){var t=l.general;return d(e._value,t.suffixes,t.scale).suffix}.apply(void 0,n.concat([e]))},getBinaryByteUnit:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(e){var t=l.binary;return d(e._value,t.suffixes,t.scale).suffix}.apply(void 0,n.concat([e]))},getDecimalByteUnit:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(e){var t=l.decimal;return d(e._value,t.suffixes,t.scale).suffix}.apply(void 0,n.concat([e]))},formatOrDefault:m}}},{"./globalState":4,"./parsing":8,"./validating":10}],4:[function(e,t,n){"use strict";var r=e("./en-US"),i=e("./validating"),o=e("./parsing"),a={},s=void 0,l={},u=null,c={};function d(e){s=e}function h(){return l[s]}a.languages=function(){return Object.assign({},l)},a.currentLanguage=function(){return s},a.currentCurrency=function(){return h().currency},a.currentAbbreviations=function(){return h().abbreviations},a.currentDelimiters=function(){return h().delimiters},a.currentOrdinal=function(){return h().ordinal},a.currentDefaults=function(){return Object.assign({},h().defaults,c)},a.currentOrdinalDefaultFormat=function(){return Object.assign({},a.currentDefaults(),h().ordinalFormat)},a.currentByteDefaultFormat=function(){return Object.assign({},a.currentDefaults(),h().byteFormat)},a.currentPercentageDefaultFormat=function(){return Object.assign({},a.currentDefaults(),h().percentageFormat)},a.currentCurrencyDefaultFormat=function(){return Object.assign({},a.currentDefaults(),h().currencyFormat)},a.currentTimeDefaultFormat=function(){return Object.assign({},a.currentDefaults(),h().timeFormat)},a.setDefaults=function(e){e=o.parseFormat(e),i.validateFormat(e)&&(c=e)},a.getZeroFormat=function(){return u},a.setZeroFormat=function(e){return u="string"==typeof e?e:null},a.hasZeroFormat=function(){return null!==u},a.languageData=function(e){if(e){if(l[e])return l[e];throw new Error('Unknown tag "'.concat(e,'"'))}return h()},a.registerLanguage=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!i.validateLanguage(e))throw new Error("Invalid language data");l[e.languageTag]=e,t&&d(e.languageTag)},a.setLanguage=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:r.languageTag;if(!l[e]){var n=e.split("-")[0],i=Object.keys(l).find((function(e){return e.split("-")[0]===n}));return l[i]?void d(i):void d(t)}d(e)},a.registerLanguage(r),s=r.languageTag,t.exports=a},{"./en-US":2,"./parsing":8,"./validating":10}],5:[function(e,t,n){"use strict";t.exports=function(t){return{loadLanguagesInNode:function(n){return r=t,void n.forEach((function(t){var n=void 0;try{n=e("../languages/".concat(t))}catch(n){console.error('Unable to load "'.concat(t,'". No matching language file found.'))}n&&r.registerLanguage(n)}));var r}}}},{}],6:[function(e,t,n){"use strict";var r=e("bignumber.js");function i(e,t,n){var i=new r(e._value),o=t;return n.isNumbro(t)&&(o=t._value),o=new r(o),e._value=i.minus(o).toNumber(),e}t.exports=function(e){return{add:function(t,n){return o=n,a=e,s=new r((i=t)._value),l=o,a.isNumbro(o)&&(l=o._value),l=new r(l),i._value=s.plus(l).toNumber(),i;var i,o,a,s,l},subtract:function(t,n){return i(t,n,e)},multiply:function(t,n){return o=n,a=e,s=new r((i=t)._value),l=o,a.isNumbro(o)&&(l=o._value),l=new r(l),i._value=s.times(l).toNumber(),i;var i,o,a,s,l},divide:function(t,n){return o=n,a=e,s=new r((i=t)._value),l=o,a.isNumbro(o)&&(l=o._value),l=new r(l),i._value=s.dividedBy(l).toNumber(),i;var i,o,a,s,l},set:function(t,n){return r=t,o=i=n,e.isNumbro(i)&&(o=i._value),r._value=o,r;var r,i,o},difference:function(t,n){return r=n,i(a=(o=e)(t._value),r,o),Math.abs(a._value);var r,o,a}}}},{"bignumber.js":1}],7:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=e("./globalState"),o=e("./validating"),a=e("./loading")(f),s=e("./unformatting"),l=e("./formatting")(f),u=e("./manipulating")(f),c=e("./parsing"),d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._value=t}var t,n;return t=e,(n=[{key:"clone",value:function(){return f(this._value)}},{key:"format",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return l.format(this,e)}},{key:"formatCurrency",value:function(e){return"string"==typeof e&&(e=c.parseFormat(e)),(e=l.formatOrDefault(e,i.currentCurrencyDefaultFormat())).output="currency",l.format(this,e)}},{key:"formatTime",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.output="time",l.format(this,e)}},{key:"binaryByteUnits",value:function(){return l.getBinaryByteUnit(this)}},{key:"decimalByteUnits",value:function(){return l.getDecimalByteUnit(this)}},{key:"byteUnits",value:function(){return l.getByteUnit(this)}},{key:"difference",value:function(e){return u.difference(this,e)}},{key:"add",value:function(e){return u.add(this,e)}},{key:"subtract",value:function(e){return u.subtract(this,e)}},{key:"multiply",value:function(e){return u.multiply(this,e)}},{key:"divide",value:function(e){return u.divide(this,e)}},{key:"set",value:function(e){return u.set(this,h(e))}},{key:"value",value:function(){return this._value}},{key:"valueOf",value:function(){return this._value}}])&&r(t.prototype,n),e}();function h(e){var t=e;return f.isNumbro(e)?t=e._value:"string"==typeof e?t=f.unformat(e):isNaN(e)&&(t=NaN),t}function f(e){return new d(h(e))}f.version="2.1.2",f.isNumbro=function(e){return e instanceof d},f.language=i.currentLanguage,f.registerLanguage=i.registerLanguage,f.setLanguage=i.setLanguage,f.languages=i.languages,f.languageData=i.languageData,f.zeroFormat=i.setZeroFormat,f.defaultFormat=i.currentDefaults,f.setDefaults=i.setDefaults,f.defaultCurrencyFormat=i.currentCurrencyDefaultFormat,f.validate=o.validate,f.loadLanguagesInNode=a.loadLanguagesInNode,f.unformat=s.unformat,t.exports=f},{"./formatting":3,"./globalState":4,"./loading":5,"./manipulating":6,"./parsing":8,"./unformatting":9,"./validating":10}],8:[function(e,t,n){"use strict";t.exports={parseFormat:function(e){var t,n,r,i,o,a,s,l,u,c,d,h,f,p,m,g,y,v,b,w,_=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return"string"!=typeof e?e:(n=_,o=_,function(e,t){if(-1===e.indexOf("$")){if(-1===e.indexOf("%"))return-1!==e.indexOf("bd")?(t.output="byte",t.base="general"):-1!==e.indexOf("b")?(t.output="byte",t.base="binary"):-1!==e.indexOf("d")?(t.output="byte",t.base="decimal"):-1===e.indexOf(":")?-1!==e.indexOf("o")&&(t.output="ordinal"):t.output="time";t.output="percent"}else t.output="currency"}(e=(a=(i=e=(r=(t=e).match(/^{([^}]*)}/))?(n.prefix=r[1],t.slice(r[0].length)):t).match(/{([^}]*)}$/))?(o.postfix=a[1],i.slice(0,-a[0].length)):i,_),s=_,(l=e.match(/[1-9]+[0-9]*/))&&(s.totalLength=+l[0]),u=_,(c=e.split(".")[0].match(/0+/))&&(u.characteristic=c[0].length),function(e,t){if(-1!==e.indexOf(".")){var n=e.split(".")[0];t.optionalCharacteristic=-1===n.indexOf("0")}}(e,_),d=_,-1!==e.indexOf("a")&&(d.average=!0),f=_,-1!==(h=e).indexOf("K")?f.forceAverage="thousand":-1!==h.indexOf("M")?f.forceAverage="million":-1!==h.indexOf("B")?f.forceAverage="billion":-1!==h.indexOf("T")&&(f.forceAverage="trillion"),function(e,t){var n=e.split(".")[1];if(n){var r=n.match(/0+/);r&&(t.mantissa=r[0].length)}}(e,_),m=_,(p=e).match(/\[\.]/)?m.optionalMantissa=!0:p.match(/\./)&&(m.optionalMantissa=!1),g=_,-1!==e.indexOf(",")&&(g.thousandSeparated=!0),y=_,-1!==e.indexOf(" ")&&(y.spaceSeparated=!0),b=_,(v=e).match(/^\+?\([^)]*\)$/)&&(b.negative="parenthesis"),v.match(/^\+?-/)&&(b.negative="sign"),w=_,e.match(/^\+/)&&(w.forceSign=!0),_)}}},{}],9:[function(e,t,n){"use strict";var r=[{key:"ZiB",factor:Math.pow(1024,7)},{key:"ZB",factor:Math.pow(1e3,7)},{key:"YiB",factor:Math.pow(1024,8)},{key:"YB",factor:Math.pow(1e3,8)},{key:"TiB",factor:Math.pow(1024,4)},{key:"TB",factor:Math.pow(1e3,4)},{key:"PiB",factor:Math.pow(1024,5)},{key:"PB",factor:Math.pow(1e3,5)},{key:"MiB",factor:Math.pow(1024,2)},{key:"MB",factor:Math.pow(1e3,2)},{key:"KiB",factor:Math.pow(1024,1)},{key:"KB",factor:Math.pow(1e3,1)},{key:"GiB",factor:Math.pow(1024,3)},{key:"GB",factor:Math.pow(1e3,3)},{key:"EiB",factor:Math.pow(1024,6)},{key:"EB",factor:Math.pow(1e3,6)},{key:"B",factor:1}];function i(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}t.exports={unformat:function(t,n){var o,a,s,l=e("./globalState"),u=l.currentDelimiters(),c=l.currentCurrency().symbol,d=l.currentOrdinal(),h=l.getZeroFormat(),f=l.currentAbbreviations(),p=void 0;if("string"==typeof t)p=function(e,t){if(!e.indexOf(":")||":"===t.thousands)return!1;var n=e.split(":");if(3!==n.length)return!1;var r=+n[0],i=+n[1],o=+n[2];return!isNaN(r)&&!isNaN(i)&&!isNaN(o)}(t,u)?(a=+(o=t.split(":"))[0],s=+o[1],+o[2]+60*s+3600*a):function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",o=3<arguments.length?arguments[3]:void 0,a=4<arguments.length?arguments[4]:void 0,s=5<arguments.length?arguments[5]:void 0,l=6<arguments.length?arguments[6]:void 0;if(""!==e)return e===a?0:function e(t,n){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",a=3<arguments.length?arguments[3]:void 0,s=4<arguments.length?arguments[4]:void 0,l=5<arguments.length?arguments[5]:void 0,u=6<arguments.length?arguments[6]:void 0;if(!isNaN(+t))return+t;var c="",d=t.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(d!==t)return-1*e(d,n,o,a,s,l,u);for(var h=0;h<r.length;h++){var f=r[h];if((c=t.replace(f.key,""))!==t)return e(c,n,o,a,s,l,u)*f.factor}if((c=t.replace("%",""))!==t)return e(c,n,o,a,s,l,u)/100;var p=parseFloat(t);if(!isNaN(p)){var m=a(p);if(m&&"."!==m&&(c=t.replace(new RegExp("".concat(i(m),"$")),""))!==t)return e(c,n,o,a,s,l,u);var g={};Object.keys(l).forEach((function(e){g[l[e]]=e}));for(var y=Object.keys(g).sort().reverse(),v=y.length,b=0;b<v;b++){var w=y[b],_=g[w];if((c=t.replace(w,""))!==t){var k=void 0;switch(_){case"thousand":k=Math.pow(10,3);break;case"million":k=Math.pow(10,6);break;case"billion":k=Math.pow(10,9);break;case"trillion":k=Math.pow(10,12)}return e(c,n,o,a,s,l,u)*k}}}}(function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",r=e.replace(n,"");return(r=r.replace(new RegExp("([0-9])".concat(i(t.thousands),"([0-9])"),"g"),"$1$2")).replace(t.decimal,".")}(e,t,n),t,n,o,a,s,l)}(t,u,c,d,h,f,n);else{if("number"!=typeof t)return;p=t}if(void 0!==p)return p}}},{"./globalState":4}],10:[function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=e("./unformatting"),a=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,s={output:{type:"string",validValues:["currency","percent","byte","time","ordinal","number"]},base:{type:"string",validValues:["decimal","binary","general"],restriction:function(e,t){return"byte"===t.output},message:"`base` must be provided only when the output is `byte`",mandatory:function(e){return"byte"===e.output}},characteristic:{type:"number",restriction:function(e){return 0<=e},message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:["trillion","billion","million","thousand"]},average:"boolean",currencyPosition:{type:"string",validValues:["prefix","infix","postfix"]},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:function(e){return 0<=e},message:"value must be positive"},{restriction:function(e,t){return!t.exponential},message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:function(e){return 0<=e},message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",abbreviations:{type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},negative:{type:"string",validValues:["sign","parenthesis"]},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:function(e,t){return"percent"===t.output},message:"`prefixSymbol` can be provided only when the output is `percent`"}},l={languageTag:{type:"string",mandatory:!0,restriction:function(e){return e.match(a)},message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:{type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},spaceSeparated:"boolean",ordinal:{type:"function",mandatory:!0},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};function u(e){return!!o.unformat(e)}function c(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]&&arguments[3],a=Object.keys(e).map((function(r){if(!t[r])return console.error("".concat(n," Invalid key: ").concat(r)),!1;var o=e[r],a=t[r];if("string"==typeof a&&(a={type:a}),"format"===a.type){if(!c(o,s,"[Validate ".concat(r,"]"),!0))return!1}else if(i(o)!==a.type)return console.error("".concat(n," ").concat(r,' type mismatched: "').concat(a.type,'" expected, "').concat(i(o),'" provided')),!1;if(a.restrictions&&a.restrictions.length)for(var l=a.restrictions.length,u=0;u<l;u++){var d=a.restrictions[u],h=d.restriction,f=d.message;if(!h(o,e))return console.error("".concat(n," ").concat(r," invalid value: ").concat(f)),!1}return a.restriction&&!a.restriction(o,e)?(console.error("".concat(n," ").concat(r," invalid value: ").concat(a.message)),!1):a.validValues&&-1===a.validValues.indexOf(o)?(console.error("".concat(n," ").concat(r," invalid value: must be among ").concat(JSON.stringify(a.validValues),', "').concat(o,'" provided')),!1):!(a.children&&!c(o,a.children,"[Validate ".concat(r,"]")))}));return o||a.push.apply(a,r(Object.keys(t).map((function(r){var i=t[r];if("string"==typeof i&&(i={type:i}),i.mandatory){var o=i.mandatory;if("function"==typeof o&&(o=o(e)),o&&void 0===e[r])return console.error("".concat(n,' Missing mandatory key "').concat(r,'"')),!1}return!0})))),a.reduce((function(e,t){return e&&t}),!0)}function d(e){return c(e,s,"[Validate format]")}t.exports={validate:function(e,t){var n=u(e),r=d(t);return n&&r},validateFormat:d,validateInput:u,validateLanguage:function(e){return c(e,l,"[Validate language]")}}},{"./unformatting":9}]},{},[7])(7)},11938:function(e,t,n){!function(t,r){"use strict";var i;try{i=n(74389)}catch(e){}e.exports=function(e){var t="function"==typeof e,n=!!window.addEventListener,r=window.document,i=window.setTimeout,o=function(e,t,r,i){n?e.addEventListener(t,r,!!i):e.attachEvent("on"+t,r)},a=function(e,t,r,i){n?e.removeEventListener(t,r,!!i):e.detachEvent("on"+t,r)},s=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},l=function(e,t){s(e,t)||(e.className=""===e.className?t:e.className+" "+t)},u=function(e,t){var n;e.className=(n=(" "+e.className+" ").replace(" "+t+" "," ")).trim?n.trim():n.replace(/^\s+|\s+$/g,"")},c=function(e){return/Array/.test(Object.prototype.toString.call(e))},d=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},h=function(e){var t=e.getDay();return 0===t||6===t},f=function(e){return e%4==0&&e%100!=0||e%400==0},p=function(e,t){return[31,f(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},m=function(e){d(e)&&e.setHours(0,0,0,0)},g=function(e,t){return e.getTime()===t.getTime()},y=function(e,t,n){var r,i;for(r in t)(i=void 0!==e[r])&&"object"==typeof t[r]&&null!==t[r]&&void 0===t[r].nodeName?d(t[r])?n&&(e[r]=new Date(t[r].getTime())):c(t[r])?n&&(e[r]=t[r].slice(0)):e[r]=y({},t[r],n):!n&&i||(e[r]=t[r]);return e},v=function(e,t,n){var i;r.createEvent?((i=r.createEvent("HTMLEvents")).initEvent(t,!0,!1),i=y(i,n),e.dispatchEvent(i)):r.createEventObject&&(i=r.createEventObject(),i=y(i,n),e.fireEvent("on"+t,i))},b=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},w={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,firstWeekOfYearMinDays:4,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},_=function(e,t,n){for(t+=e.firstDay;t>=7;)t-=7;return n?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},k=function(e){var t=[],n="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';t.push("is-outside-current-month"),e.enableSelectionDaysInNextAndPreviousMonths||t.push("is-selection-disabled")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),n="true"),e.hasEvent&&t.push("has-event"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+n+'"><button class="pika-button pika-day" type="button" data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button></td>"},S=function(n,r,i,o){var a=new Date(i,r,n);return'<td class="pika-week">'+(t?e(a).isoWeek():function(e,t){e.setHours(0,0,0,0);var n=e.getDate(),r=e.getDay(),i=t,o=i-1,a=function(e){return(e+7-1)%7};e.setDate(n+o-a(r));var s=new Date(e.getFullYear(),0,i),l=(e.getTime()-s.getTime())/864e5;return 1+Math.round((l-o+a(s.getDay()))/7)}(a,o))+"</td>"},M=function(e,t,n,r){return'<tr class="pika-row'+(n?" pick-whole-week":"")+(r?" is-selected":"")+'">'+(t?e.reverse():e).join("")+"</tr>"},x=function(e,t,n,r,i,o){var a,s,l,u,d,h=e._o,f=n===h.minYear,p=n===h.maxYear,m='<div id="'+o+'" class="pika-title" role="heading" aria-live="assertive">',g=!0,y=!0;for(l=[],a=0;a<12;a++)l.push('<option value="'+(n===i?a-t:12+a-t)+'"'+(a===r?' selected="selected"':"")+(f&&a<h.minMonth||p&&a>h.maxMonth?' disabled="disabled"':"")+">"+h.i18n.months[a]+"</option>");for(u='<div class="pika-label">'+h.i18n.months[r]+'<select class="pika-select pika-select-month" tabindex="-1">'+l.join("")+"</select></div>",c(h.yearRange)?(a=h.yearRange[0],s=h.yearRange[1]+1):(a=n-h.yearRange,s=1+n+h.yearRange),l=[];a<s&&a<=h.maxYear;a++)a>=h.minYear&&l.push('<option value="'+a+'"'+(a===n?' selected="selected"':"")+">"+a+"</option>");return d='<div class="pika-label">'+n+h.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+l.join("")+"</select></div>",h.showMonthAfterYear?m+=d+u:m+=u+d,f&&(0===r||h.minMonth>=r)&&(g=!1),p&&(11===r||h.maxMonth<=r)&&(y=!1),0===t&&(m+='<button class="pika-prev'+(g?"":" is-disabled")+'" type="button">'+h.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(m+='<button class="pika-next'+(y?"":" is-disabled")+'" type="button">'+h.i18n.nextMonth+"</button>"),m+"</div>"},O=function(e,t,n){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+n+'">'+function(e){var t,n=[];for(e.showWeekNumber&&n.push("<th></th>"),t=0;t<7;t++)n.push('<th scope="col"><abbr title="'+_(e,t)+'">'+_(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?n.reverse():n).join("")+"</tr></thead>"}(e)+("<tbody>"+t.join("")+"</tbody></table>")},C=function(a){var l=this,u=l.config(a);l._onMouseDown=function(e){if(l._v){var t=(e=e||window.event).target||e.srcElement;if(t)if(s(t,"is-disabled")||(!s(t,"pika-button")||s(t,"is-empty")||s(t.parentNode,"is-disabled")?s(t,"pika-prev")?l.prevMonth():s(t,"pika-next")&&l.nextMonth():(l.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),u.bound&&i((function(){l.hide(),u.blurFieldOnSelect&&u.field&&u.field.blur()}),100))),s(t,"pika-select"))l._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}},l._onChange=function(e){var t=(e=e||window.event).target||e.srcElement;t&&(s(t,"pika-select-month")?l.gotoMonth(t.value):s(t,"pika-select-year")&&l.gotoYear(t.value))},l._onKeyChange=function(e){if(e=e||window.event,l.isVisible())switch(e.keyCode){case 13:case 27:u.field&&u.field.blur();break;case 37:l.adjustDate("subtract",1);break;case 38:l.adjustDate("subtract",7);break;case 39:l.adjustDate("add",1);break;case 40:l.adjustDate("add",7);break;case 8:case 46:l.setDate(null)}},l._parseFieldValue=function(){if(u.parse)return u.parse(u.field.value,u.format);if(t){var n=e(u.field.value,u.format,u.formatStrict);return n&&n.isValid()?n.toDate():null}return new Date(Date.parse(u.field.value))},l._onInputChange=function(e){var t;e.firedBy!==l&&(t=l._parseFieldValue(),d(t)&&l.setDate(t),l._v||l.show())},l._onInputFocus=function(){l.show()},l._onInputClick=function(){l.show()},l._onInputBlur=function(){var e=r.activeElement;do{if(s(e,"pika-single"))return}while(e=e.parentNode);l._c||(l._b=i((function(){l.hide()}),50)),l._c=!1},l._onClick=function(e){var t=(e=e||window.event).target||e.srcElement,r=t;if(t){!n&&s(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),o(t,"change",l._onChange)));do{if(s(r,"pika-single")||r===u.trigger)return}while(r=r.parentNode);l._v&&t!==u.trigger&&r!==u.trigger&&l.hide()}},l.el=r.createElement("div"),l.el.className="pika-single"+(u.isRTL?" is-rtl":"")+(u.theme?" "+u.theme:""),o(l.el,"mousedown",l._onMouseDown,!0),o(l.el,"touchend",l._onMouseDown,!0),o(l.el,"change",l._onChange),u.keyboardInput&&o(r,"keydown",l._onKeyChange),u.field&&(u.container?u.container.appendChild(l.el):u.bound?r.body.appendChild(l.el):u.field.parentNode.insertBefore(l.el,u.field.nextSibling),o(u.field,"change",l._onInputChange),u.defaultDate||(u.defaultDate=l._parseFieldValue(),u.setDefaultDate=!0));var c=u.defaultDate;d(c)?u.setDefaultDate?l.setDate(c,!0):l.gotoDate(c):l.gotoDate(new Date),u.bound?(this.hide(),l.el.className+=" is-bound",o(u.trigger,"click",l._onInputClick),o(u.trigger,"focus",l._onInputFocus),o(u.trigger,"blur",l._onInputBlur)):this.show()};return C.prototype={config:function(e){this._o||(this._o=y({},w,!0));var t=y(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme="string"==typeof t.theme&&t.theme?t.theme:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn="function"==typeof t.disableDayFn?t.disableDayFn:null;var n=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=n>4?4:n,d(t.minDate)||(t.minDate=!1),d(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate),c(t.yearRange)){var r=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||r,t.yearRange[1]=parseInt(t.yearRange[1],10)||r}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||w.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(n){return n=n||this._o.format,d(this._d)?this._o.toString?this._o.toString(this._d,n):t?e(this._d).format(n):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(n,r){t&&e.isMoment(n)&&this.setDate(n.toDate(),r)},getDate:function(){return d(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",v(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),d(e)){var n=this._o.minDate,r=this._o.maxDate;d(n)&&e<n?e=n:d(r)&&e>r&&(e=r),this._d=new Date(e.getTime()),m(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),v(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},clear:function(){this.setDate(null)},gotoDate:function(e){var t=!0;if(d(e)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),i=e.getTime();r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),t=i<n.getTime()||r.getTime()<i}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(e,t){var n,r=this.getDate()||new Date,i=24*parseInt(t)*60*60*1e3;"add"===e?n=new Date(r.valueOf()+i):"subtract"===e&&(n=new Date(r.valueOf()-i)),this.setDate(n)},adjustCalendars:function(){this.calendars[0]=b(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=b({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){e instanceof Date?(m(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth()):(this._o.minDate=w.minDate,this._o.minYear=w.minYear,this._o.minMonth=w.minMonth,this._o.startRange=w.startRange),this.draw()},setMaxDate:function(e){e instanceof Date?(m(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth()):(this._o.maxDate=w.maxDate,this._o.maxYear=w.maxYear,this._o.maxMonth=w.maxMonth,this._o.endRange=w.endRange),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(this._v||e){var t,n=this._o,r=n.minYear,o=n.maxYear,a=n.minMonth,s=n.maxMonth,l="";this._y<=r&&(this._y=r,!isNaN(a)&&this._m<a&&(this._m=a)),this._y>=o&&(this._y=o,!isNaN(s)&&this._m>s&&(this._m=s));for(var u=0;u<n.numberOfMonths;u++)t="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2),l+='<div class="pika-lendar">'+x(this,u,this.calendars[u].year,this.calendars[u].month,this.calendars[0].year,t)+this.render(this.calendars[u].year,this.calendars[u].month,t)+"</div>";this.el.innerHTML=l,n.bound&&"hidden"!==n.field.type&&i((function(){n.trigger.focus()}),1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),n.bound&&n.field.setAttribute("aria-label",n.ariaLabel)}},adjustPosition:function(){var e,t,n,i,o,a,s,c,d,h,f,p;if(!this._o.container){if(this.el.style.position="absolute",t=e=this._o.trigger,n=this.el.offsetWidth,i=this.el.offsetHeight,o=window.innerWidth||r.documentElement.clientWidth,a=window.innerHeight||r.documentElement.clientHeight,s=window.pageYOffset||r.body.scrollTop||r.documentElement.scrollTop,f=!0,p=!0,"function"==typeof e.getBoundingClientRect)c=(h=e.getBoundingClientRect()).left+window.pageXOffset,d=h.bottom+window.pageYOffset;else for(c=t.offsetLeft,d=t.offsetTop+t.offsetHeight;t=t.offsetParent;)c+=t.offsetLeft,d+=t.offsetTop;(this._o.reposition&&c+n>o||this._o.position.indexOf("right")>-1&&c-n+e.offsetWidth>0)&&(c=c-n+e.offsetWidth,f=!1),(this._o.reposition&&d+i>a+s||this._o.position.indexOf("top")>-1&&d-i-e.offsetHeight>0)&&(d=d-i-e.offsetHeight,p=!1),this.el.style.left=c+"px",this.el.style.top=d+"px",l(this.el,f?"left-aligned":"right-aligned"),l(this.el,p?"bottom-aligned":"top-aligned"),u(this.el,f?"right-aligned":"left-aligned"),u(this.el,p?"top-aligned":"bottom-aligned")}},render:function(e,t,n){var r=this._o,i=new Date,o=p(e,t),a=new Date(e,t,1).getDay(),s=[],l=[];m(i),r.firstDay>0&&(a-=r.firstDay)<0&&(a+=7);for(var u=0===t?11:t-1,c=11===t?0:t+1,f=0===t?e-1:e,y=11===t?e+1:e,v=p(f,u),b=o+a,w=b;w>7;)w-=7;b+=7-w;for(var _=!1,x=0,C=0;x<b;x++){var T=new Date(e,t,x-a+1),R=!!d(this._d)&&g(T,this._d),D=g(T,i),E=-1!==r.events.indexOf(T.toDateString()),A=x<a||x>=o+a,L=x-a+1,j=t,P=e,I=r.startRange&&g(r.startRange,T),H=r.endRange&&g(r.endRange,T),N=r.startRange&&r.endRange&&r.startRange<T&&T<r.endRange;A&&(x<a?(L=v+L,j=u,P=f):(L-=o,j=c,P=y));var F={day:L,month:j,year:P,hasEvent:E,isSelected:R,isToday:D,isDisabled:r.minDate&&T<r.minDate||r.maxDate&&T>r.maxDate||r.disableWeekends&&h(T)||r.disableDayFn&&r.disableDayFn(T),isEmpty:A,isStartRange:I,isEndRange:H,isInRange:N,showDaysInNextAndPreviousMonths:r.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:r.enableSelectionDaysInNextAndPreviousMonths};r.pickWholeWeek&&R&&(_=!0),l.push(k(F)),7==++C&&(r.showWeekNumber&&l.unshift(S(x-a,t,e,r.firstWeekOfYearMinDays)),s.push(M(l,r.isRTL,r.pickWholeWeek,_)),l=[],C=0,_=!1)}return O(r,s,n)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),u(this.el,"is-hidden"),this._o.bound&&(o(r,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e=this._v;!1!==e&&(this._o.bound&&a(r,"click",this._onClick),this._o.container||(this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto"),l(this.el,"is-hidden"),this._v=!1,void 0!==e&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){var e=this._o;this.hide(),a(this.el,"mousedown",this._onMouseDown,!0),a(this.el,"touchend",this._onMouseDown,!0),a(this.el,"change",this._onChange),e.keyboardInput&&a(r,"keydown",this._onKeyChange),e.field&&(a(e.field,"change",this._onInputChange),e.bound&&(a(e.trigger,"click",this._onInputClick),a(e.trigger,"focus",this._onInputFocus),a(e.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},C}(i)}()},86108:(e,t,n)=>{"use strict";n.d(t,{Dg:()=>b,v4:()=>a,he:()=>f,k7:()=>i,Fe:()=>w,mS:()=>l});const r=/\r?\n/;function i(e){let t=Object.create(null);if(!e)return t;let n=e.split(r);for(let e=0;e<n.length;e++){let r=n[e],i=0,o=!1;for(;i<r.length;i++)if(58===r.charCodeAt(i)){o=!0;break}if(!1===o)continue;let a=r.substring(0,i).trim(),s=r.substring(i+1,r.length).trim();s&&(t[a.toLowerCase()]=s,t[a]=s)}return t}n(84287);var o=n(91819);function a(e,t){return(n=e.text(),(0,o.resolve)(n).catch((e=>e))).then((n=>function(e,t,n){let r=n,i=null;if(!e.ok)return n;let o=e.status,a=""===n||null===n,s=204===o||205===o||"HEAD"===t.method;if(!e.ok||!s&&!a){try{r=JSON.parse(n)}catch(e){if(!(e instanceof SyntaxError))return e;e.payload=n,i=e}return i||r}}(e,t,n)));var n}const s=/\[\]$/;function l(e){let t=[];return function e(n,r){let i,o,a;if(n)if(Array.isArray(r))for(i=0,o=r.length;i<o;i++)s.test(n)?u(t,n,r[i]):e(n+"["+("object"==typeof r[i]?i:"")+"]",r[i]);else if(function(e){return"[object Object]"===Object.prototype.toString.call(e)}(r))for(a in r)e(n+"["+a+"]",r[a]);else u(t,n,r);else if(Array.isArray(r))for(i=0,o=r.length;i<o;i++)u(t,r[i].name,r[i].value);else for(a in r)e(a,r[a]);return t}("",e).join("&")}function u(e,t,n){void 0!==n&&(null===n&&(n=""),n="function"==typeof n?n():n,e[e.length]=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`)}var c=n(66683),d=n.n(c);let h=null;function f(){if(null!==h)return h();if((0,c.has)("fetch")){let e=d()("fetch").default;h=()=>e}else{if("function"!=typeof fetch)throw new Error("cannot find the `fetch` module or the `fetch` global. Did you mean to install the `ember-fetch` addon?");h=()=>fetch}return h()}var p=n(33058),m=n.n(p),g=n(34149),y=n(78099);const v={buildURL:function(e,t,n,r,i){switch(r){case"findRecord":return this.urlForFindRecord(t,e,n);case"findAll":return this.urlForFindAll(e,n);case"query":return this.urlForQuery(i||{},e);case"queryRecord":return this.urlForQueryRecord(i||{},e);case"findMany":return this.urlForFindMany(t,e,n);case"findHasMany":return this.urlForFindHasMany(t,e,n);case"findBelongsTo":return this.urlForFindBelongsTo(t,e,n);case"createRecord":return this.urlForCreateRecord(e,n);case"updateRecord":return this.urlForUpdateRecord(t,e,n);case"deleteRecord":return this.urlForDeleteRecord(t,e,n);default:return this._buildURL(e,t)}},_buildURL:function(e,t){let n,r=[],{host:i}=this,o=this.urlPrefix();e&&(n=this.pathForType(e),n&&r.push(n)),t&&r.push(encodeURIComponent(t)),o&&r.unshift(o);let a=r.join("/");return!i&&a&&"/"!==a.charAt(0)&&(a="/"+a),a},urlForFindRecord:function(e,t,n){return this._buildURL(t,e)},urlForFindAll:function(e,t){return this._buildURL(e)},urlForQueryRecord:function(e,t){return this._buildURL(t)},urlForQuery:function(e,t){return this._buildURL(t)},urlForFindMany:function(e,t,n){return this._buildURL(t)},urlForFindHasMany:function(e,t,n){return this._buildURL(t,e)},urlForFindBelongsTo:function(e,t,n){return this._buildURL(t,e)},urlForCreateRecord:function(e,t){return this._buildURL(e)},urlForDeleteRecord:function(e,t,n){return this._buildURL(t,e)},urlForUpdateRecord:function(e,t,n){return this._buildURL(t,e)},urlPrefix:function(e,t){let{host:n,namespace:r}=this;if(n&&"/"!==n||(n=""),e)return/^\/\//.test(e)||/http(s)?:\/\//.test(e)?e:"/"===e.charAt(0)?`${n}${e}`:`${t}/${e}`;let i=[];return n&&i.push(n),r&&i.push(r),i.join("/")},pathForType:function(e){let t=(0,g._A)(e);return(0,y._6)(t)}},b=m().create(v);function w(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{includeId:!0};const i=e.serializerFor(t.modelName);if("function"==typeof i.serializeIntoHash){const e={};return i.serializeIntoHash(e,t,n,r),e}return i.serialize(n,r)}},56890:(e,t,n)=>{"use strict";n.d(t,{AY:()=>g,W5:()=>d,YT:()=>o.YT,ZP:()=>s,_L:()=>h,dR:()=>m,lY:()=>p,nl:()=>y,s7:()=>c,vX:()=>o.vX,yj:()=>f}),n(84287);var r=n(65605),i=n.n(r),o=n(29569);function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Adapter operation failed";this.isAdapterError=!0;let n=i().call(this,t);n&&(this.stack=n.stack,this.description=n.description,this.fileName=n.fileName,this.lineNumber=n.lineNumber,this.message=n.message,this.name=n.name,this.number=n.number),this.errors=e||[{title:"Adapter Error",detail:t}]}const s=a;function l(e){return function(){let{message:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(e,t)}}function u(e,t){let n=function(n,r){e.call(this,n,r||t)};return n.prototype=Object.create(e.prototype),n.extend=l(n),n}a.prototype=Object.create(i().prototype),a.prototype.code="AdapterError",a.extend=l(a);const c=u(a,"The adapter rejected the commit because it was invalid");c.prototype.code="InvalidError";const d=u(a,"The adapter operation timed out");d.prototype.code="TimeoutError";const h=u(a,"The adapter operation was aborted");h.prototype.code="AbortError";const f=u(a,"The adapter operation is unauthorized");f.prototype.code="UnauthorizedError";const p=u(a,"The adapter operation is forbidden");p.prototype.code="ForbiddenError";const m=u(a,"The adapter could not find the resource");m.prototype.code="NotFoundError";const g=u(a,"The adapter operation failed due to a conflict");g.prototype.code="ConflictError";const y=u(a,"The adapter operation failed due to a server error");y.prototype.code="ServerError"},92917:(e,t,n)=>{"use strict";n.d(t,{D:()=>a.Dg,Z:()=>s});var r=n(96663),i=n.n(r),o=n(91819),a=n(86108);class s extends(i()){findRecord(e,t,n,r){return o.Promise.resolve()}findAll(e,t,n,r){return o.Promise.resolve()}query(e,t,n){return o.Promise.resolve()}queryRecord(e,t,n,r){return o.Promise.resolve()}serialize(e,t){return e.serialize(t)}createRecord(e,t,n){return o.Promise.resolve()}updateRecord(e,t,n){return o.Promise.resolve()}deleteRecord(e,t,n){return o.Promise.resolve()}get coalesceFindRequests(){let e=this._coalesceFindRequests;return"boolean"==typeof e?e:this._coalesceFindRequests=!0}set coalesceFindRequests(e){this._coalesceFindRequests=e}groupRecordsForFindMany(e,t){return[t]}shouldReloadRecord(e,t){return!1}shouldReloadAll(e,t){return!t.length}shouldBackgroundReloadRecord(e,t){return!0}shouldBackgroundReloadAll(e,t){return!0}}},25607:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l}),n(84287);var r=n(34149),i=n(78099),o=n(86108),a=n(51872);class s extends a.Z{constructor(){super(...arguments),this._defaultContentType="application/vnd.api+json"}ajaxOptions(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=super.ajaxOptions(e,t,n);return r.headers.Accept=r.headers.Accept||"application/vnd.api+json",r}get coalesceFindRequests(){let e=this._coalesceFindRequests;return"boolean"==typeof e?e:this._coalesceFindRequests=!1}set coalesceFindRequests(e){this._coalesceFindRequests=e}findMany(e,t,n,r){let i=this.buildURL(t.modelName,n,r,"findMany");return this.ajax(i,"GET",{data:{filter:{id:n.join(",")}}})}pathForType(e){let t=(0,r.H0)(e);return(0,i._6)(t)}updateRecord(e,t,n){const r=(0,o.Fe)(e,t,n),i=n.modelName,a=n.id;let s=this.buildURL(i,a,n,"updateRecord");return this.ajax(s,"PATCH",{data:r})}}const l=s},51872:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r,i,o,a,s,l,u,c,d=n(35428),h=(n(84287),n(96663)),f=n(61417),p=n(91819),m=n(86108),g=n(56890),y=n(92917);function v(e,t,n,r){let i;try{i=e.handleResponse(r.status,r.headers,t,n)}catch(e){return p.Promise.reject(e)}return i&&i.isAdapterError?p.Promise.reject(i):i}function b(e,t,n,r){let i;if(r.errorThrown instanceof Error&&""!==t)i=r.errorThrown;else if("timeout"===r.textStatus)i=new g.W5;else if("abort"===r.textStatus||0===r.status)i=function(e,t){let{method:n,url:r,errorThrown:i}=e,{status:o}=t,a=[{title:"Adapter Error",detail:`Request failed: ${n} ${r} ${i||""}`.trim(),status:o}];return new g._L(a)}(n,r);else try{i=e.handleResponse(r.status,r.headers,t||r.errorThrown,n)}catch(e){i=e}return i}function w(e){return{status:e.status,textStatus:e.statusText,headers:k(e.headers)}}function _(e){return{status:e.status,textStatus:e.statusText,headers:(0,m.k7)(e.getAllResponseHeaders())}}function k(e){let t={};return e&&e.forEach(((e,n)=>t[n]=e)),t}const S=(r=(0,h.computed)(),i=class extends(y.Z.extend(y.D)){constructor(){super(...arguments),this.useFetch=!0,this._defaultContentType="application/json; charset=utf-8",this.maxURLLength=2048}get fastboot(){return this._fastboot||(this._fastboot=(0,d.getOwner)(this).lookup("service:fastboot"))}set fastboot(e){this._fastboot=e}sortQueryParams(e){let t=Object.keys(e),n=t.length;if(n<2)return e;let r={},i=t.sort();for(let t=0;t<n;t++)r[i[t]]=e[i[t]];return r}get coalesceFindRequests(){let e=this._coalesceFindRequests;return"boolean"==typeof e?e:this._coalesceFindRequests=!1}set coalesceFindRequests(e){this._coalesceFindRequests=e}findRecord(e,t,n,r){let i=this.buildURL(t.modelName,n,r,"findRecord"),o=this.buildQuery(r);return this.ajax(i,"GET",{data:o})}findAll(e,t,n,r){let i=this.buildQuery(r),o=this.buildURL(t.modelName,null,r,"findAll");return n&&(i.since=n),this.ajax(o,"GET",{data:i})}query(e,t,n){let r=this.buildURL(t.modelName,null,null,"query",n);return this.sortQueryParams&&(n=this.sortQueryParams(n)),this.ajax(r,"GET",{data:n})}queryRecord(e,t,n,r){let i=this.buildURL(t.modelName,null,null,"queryRecord",n);return this.sortQueryParams&&(n=this.sortQueryParams(n)),this.ajax(i,"GET",{data:n})}findMany(e,t,n,r){let i=this.buildURL(t.modelName,n,r,"findMany");return this.ajax(i,"GET",{data:{ids:n}})}findHasMany(e,t,n,r){let i=t.id,o=t.modelName;return n=this.urlPrefix(n,this.buildURL(o,i,t,"findHasMany")),this.ajax(n,"GET")}findBelongsTo(e,t,n,r){let i=t.id,o=t.modelName;return n=this.urlPrefix(n,this.buildURL(o,i,t,"findBelongsTo")),this.ajax(n,"GET")}createRecord(e,t,n){let r=this.buildURL(t.modelName,null,n,"createRecord");const i=(0,m.Fe)(e,t,n);return this.ajax(r,"POST",{data:i})}updateRecord(e,t,n){const r=(0,m.Fe)(e,t,n,{}),i=n.modelName,o=n.id;let a=this.buildURL(i,o,n,"updateRecord");return this.ajax(a,"PUT",{data:r})}deleteRecord(e,t,n){const r=n.modelName,i=n.id;return this.ajax(this.buildURL(r,i,n,"deleteRecord"),"DELETE")}_stripIDFromURL(e,t){const n=t.modelName,r=t.id;let i=this.buildURL(n,r,t).split("/"),o=i[i.length-1];var a,s;return decodeURIComponent(o)===r?i[i.length-1]="":r&&(a=o,s="?id="+r,"function"!=typeof String.prototype.endsWith?-1!==a.indexOf(s,a.length-s.length):a.endsWith(s))&&(i[i.length-1]=o.substring(0,o.length-r.length-1)),i.join("/")}groupRecordsForFindMany(e,t){let n=new Map,r=this,i=this.maxURLLength;t.forEach((t=>{let i=r._stripIDFromURL(e,t);n.has(i)||n.set(i,[]),n.get(i).push(t)}));let o=[];return n.forEach(((t,n)=>{let a=function(t,n,i){let o=0,a=r._stripIDFromURL(e,t[0]),s=[[]];return t.forEach((e=>{let t=encodeURIComponent(e.id).length+i;a.length+o+t>=n&&(o=0,s.push([])),o+=t;let r=s.length-1;s[r].push(e)})),s}(t,i,"&ids%5B%5D=".length);a.forEach((e=>o.push(e)))})),o}handleResponse(e,t,n,r){if(this.isSuccess(e,t,n))return n;if(this.isInvalid(e,t,n))return new g.s7("object"==typeof n&&"errors"in n?n.errors:void 0);let i=this.normalizeErrorResponse(e,t,n),o=this.generatedDetailedMessage(e,t,n,r);switch(e){case 401:return new g.yj(i,o);case 403:return new g.lY(i,o);case 404:return new g.dR(i,o);case 409:return new g.AY(i,o);default:if(e>=500)return new g.nl(i,o)}return new g.ZP(i,o)}isSuccess(e,t,n){return e>=200&&e<300||304===e}isInvalid(e,t,n){return 422===e}async ajax(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this,i={url:e,method:t};if(this.useFetch){let o=r.ajaxOptions(e,t,n),a=await this._fetchRequest(o),s=await(0,m.v4)(a,i);if(!a.ok||s instanceof Error)throw function(e,t,n,r,i){let o=w(n);return 200===o.status&&t instanceof Error?(o.errorThrown=t,t=o.errorThrown.payload):(o.errorThrown=null,"string"==typeof t&&(t=e.parseErrorResponse(t))),b(e,t,i,o)}(r,s,a,0,i);return function(e,t,n,r){return v(e,t,r,w(n))}(r,s,a,i)}{let o=r.ajaxOptions(e,t,n);return new p.Promise((function(e,t){o.success=function(t,n,o){let a=function(e,t,n,r){return v(e,t,r,_(n))}(r,t,o,i);(0,f.join)(null,e,a)},o.error=function(e,n,o){let a=function(e,t,n,r){let i=_(t);i.errorThrown=n;let o=e.parseErrorResponse(t.responseText);return b(e,o,r,i)}(r,e,o,i);(0,f.join)(null,t,a)},r._ajax(o)}),"DS: RESTAdapter#ajax "+t+" to "+e)}}_ajaxRequest(e){"undefined"!=typeof jQuery&&jQuery.ajax(e)}_fetchRequest(e){let t=(0,m.he)();if(t)return t(e.url,e);throw new Error("cannot find the `fetch` module or the `fetch` global. Did you mean to install the `ember-fetch` addon?")}_ajax(e){this.useFetch?this._fetchRequest(e):this._ajaxRequest(e)}ajaxOptions(e,t,n){let r=Object.assign({url:e,method:t,type:t},n);void 0!==this.headers?r.headers={...this.headers,...r.headers}:n.headers||(r.headers={});let i=r.contentType||this._defaultContentType;return this.useFetch?(r.data&&"GET"!==r.type&&r.headers&&(r.headers["Content-Type"]||r.headers["content-type"]||(r.headers["content-type"]=i)),r=function(e,t){if(e.credentials=e.credentials||"same-origin",e.data)if("GET"===e.method||"HEAD"===e.method){if(Object.keys(e.data).length&&e.url){const t=e.url.indexOf("?")>-1?"&":"?";e.url+=`${t}${(0,m.mS)(e.data)}`}}else"[object Object]"===Object.prototype.toString.call(e.data)?e.body=JSON.stringify(e.data):e.body=e.data;return e}(r)):(r.data&&"GET"!==r.type&&(r={...r,contentType:i}),r=function(e,t){return e.dataType="json",e.context=t,e.data&&"GET"!==e.type&&(e.data=JSON.stringify(e.data)),e.beforeSend=function(t){e.headers&&Object.keys(e.headers).forEach((n=>{let r=e.headers&&e.headers[n];"string"==typeof r&&t.setRequestHeader(n,r)}))},e}(r,this)),r.url=this._ajaxURL(r.url),r}_ajaxURL(e){var t;if(null!==(t=this.fastboot)&&void 0!==t&&t.isFastBoot){let t=/^https?:\/\//,n=/^\/\//,r=this.fastboot.request.protocol,i=this.fastboot.request.host;if(n.test(e))return`${r}${e}`;if(!t.test(e))try{return`${r}//${i}${e}`}catch(e){throw new Error("You are using Ember Data with no host defined in your adapter. This will attempt to use the host of the FastBoot request, which is not configured for the current host of this request. Please set the hostWhitelist property for in your environment.js. FastBoot Error: "+e.message)}}return e}parseErrorResponse(e){let t=e;try{t=JSON.parse(e)}catch(e){}return t}normalizeErrorResponse(e,t,n){return n&&"object"==typeof n&&"errors"in n&&Array.isArray(n.errors)?n.errors:[{status:`${e}`,title:"The backend responded with an error",detail:`${n}`}]}generatedDetailedMessage(e,t,n,r){let i,o=t["content-type"]||"Empty Content-Type";return i="text/html"===o&&"string"==typeof n&&n.length>250?"[Omitted Lengthy HTML]":n,["Ember Data Request "+r.method+" "+r.url+" returned a "+e,"Payload ("+o+")",i].join("\n")}buildQuery(e){let t={};if(e){let{include:n}=e;n&&(t.include=n)}return t}},o=i.prototype,a="fastboot",s=[r],l=Object.getOwnPropertyDescriptor(i.prototype,"fastboot"),u=i.prototype,c={},Object.keys(l).forEach((function(e){c[e]=l[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=s.slice().reverse().reduce((function(e,t){return t(o,a,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(o,a,c),c=null),i)},66612:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(91251),i=(n(84287),n(46719)),o=n.n(i),a=n(96663),s=n(33636),l=n(8877),u=n(34149),c=n(82782);const d=o().extend({store:(0,l.inject)("store"),getFilters:()=>[{name:"isNew",desc:"New"},{name:"isModified",desc:"Modified"},{name:"isClean",desc:"Clean"}],_nameToClass(e){return(0,a.get)(this,"store").modelFor(e)},watchModelTypes(e,t){const n=(0,a.get)(this,"store"),r=n._createRecordData,i=[],o=(0,c.Q)(n);o.forEach(((r,a)=>{this.watchTypeIfUnseen(n,o,a,e,t,i)})),n._createRecordData=a=>(this.watchTypeIfUnseen(n,o,a.type,e,t,i),r.call(n,a));let s=()=>{i.forEach((e=>e())),n._createRecordData=r,o.forEach(((e,t)=>{o.set(t,!1)})),this.releaseMethods.removeObject(s)};return this.releaseMethods.pushObject(s),s},watchTypeIfUnseen(e,t,n,r,i,o){if(!0!==t.get(n)){let a=e.modelFor(n),s=this.wrapModelType(a,n);o.push(this.observeModelType(n,i)),r([s]),t.set(n,!0)}},columnNameToDesc:e=>(0,u.kC)((0,u.It)(e).replace(/_/g," ").trim()),columnsForType(e){let t=[{name:"id",desc:"Id"}],n=0,r=this;return(0,a.get)(e,"attributes").forEach(((e,i)=>{if(n++>r.attributeLimit)return!1;let o=this.columnNameToDesc(i);t.push({name:i,desc:o})})),t},getRecords(e,t){if(arguments.length<2){let n=e._debugContainerKey;if(n){let e=n.match(/model:(.*)/);null!==e&&(t=e[1])}}return this.get("store").peekAll(t)},getRecordColumnValues(e){let t=0,n={id:(0,a.get)(e,"id")};return e.eachAttribute((r=>{if(t++>this.attributeLimit)return!1;n[r]=(0,a.get)(e,r)})),n},getRecordKeywords(e){let t=[],n=(0,r.A)(["id"]);return e.eachAttribute((e=>n.push(e))),n.forEach((n=>t.push((0,a.get)(e,n)))),t},getRecordFilterValues:e=>({isNew:e.get("isNew"),isModified:e.get("hasDirtyAttributes")&&!e.get("isNew"),isClean:!e.get("hasDirtyAttributes")}),getRecordColor(e){let t="black";return e.get("isNew")?t="green":e.get("hasDirtyAttributes")&&(t="blue"),t},observeRecord(e,t){let n=(0,r.A)(),i=(0,r.A)(["id","isNew","hasDirtyAttributes"]);e.eachAttribute((e=>i.push(e)));let o=this;return i.forEach((function(r){let i=function(){t(o.wrapRecord(e))};(0,s.addObserver)(e,r,i),n.push((function(){(0,s.removeObserver)(e,r,i)}))})),function(){n.forEach((e=>e()))}}})},82782:(e,t,n)=>{"use strict";n.d(t,{Q:()=>o,Z:()=>s});var r=n(44767);const i=new WeakMap;function o(e){let t=i.get(e);return void 0===t&&(t=new Map,i.set(e,t)),t}const a=r.ZP.prototype._createRecordData;r.ZP.prototype._createRecordData=function(e){const t=o(this);return t.has(e.type)||t.set(e.type,!1),a.call(this,e)};const s={name:"@ember-data/data-adapter",initialize(){}}},56448:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Errors:()=>_,ManyArray:()=>ee,Model:()=>K,PromiseBelongsTo:()=>te,PromiseManyArray:()=>ce,_modelForMixin:()=>he,attr:()=>l,belongsTo:()=>u,diffArray:()=>Q,hasMany:()=>c}),n(84287);var r=n(96663),i=n.n(r),o=n(29569);function a(e){let[t,n,r]=e;return 3===e.length&&("function"==typeof t||"object"==typeof t&&null!==t)&&"string"==typeof n&&("object"==typeof r&&null!==r&&"enumerable"in r&&"configurable"in r||void 0===r)}function s(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return a(n)?e()(...n):e(...n)}}const l=s((function(e,t){"object"==typeof e?(t=e,e=void 0):t=t||{};let n={type:e,isAttribute:!0,kind:"attribute",options:t};return(0,r.computed)({get(e){let n=(0,o.uC)(this);return n.hasAttr(e)?n.getAttr(e):function(e,t,n){return"function"==typeof t.defaultValue?t.defaultValue.apply(null,arguments):t.defaultValue}(this,t,e)},set(e,t){if(!this.isValid&&this._internalModel._recordData.getAttr(e)!==t){const{errors:t}=this;t.get(e)&&(t.remove(e),this.___recordState.cleanErrorRequests())}return this._internalModel.setDirtyAttribute(e,t)}}).meta(n)})),u=s((function(e,t){let n,i;"object"==typeof e?(n=e,i=void 0):(n=t,i=e),n=n||{},"async"in n||(n.async=!0);let o={type:i,isRelationship:!0,options:n,kind:"belongsTo",name:"Belongs To",key:null};return(0,r.computed)({get(e){return this._internalModel.getBelongsTo(e)},set(e,t){return this.store._backburner.join((()=>{this._internalModel.setDirtyBelongsTo(e,t)})),this._internalModel.getBelongsTo(e)}}).meta(o)})),c=s((function(e,t){"object"==typeof e&&(t=e,e=void 0),"async"in(t=t||{})||(t.async=!0);let n={type:e,options:t,isRelationship:!0,kind:"hasMany",name:"Has Many",key:null};return(0,r.computed)({get(e){return this._internalModel.getHasMany(e)},set(e,t){let n=this._internalModel;return this.store._backburner.join((()=>{n.setDirtyHasMany(e,t)})),n.getHasMany(e)}}).meta(n)}));n(65605);var d=n(56063),h=n(61417),f=(n(9805),n(23570)),p=n(87073),m=n.n(p),g=n(91251),y=n.n(g),v=n(62029),b=n.n(v),w=n(88952);const _=b().extend({_registerHandlers(e,t){this._registeredHandlers={becameInvalid:e,becameValid:t}},errorsByAttributeName:(0,r.computed)((function(){return new Map})),errorsFor(e){let t=(0,r.get)(this,"errorsByAttributeName"),n=t.get(e);return void 0===n&&(n=(0,g.A)(),t.set(e,n)),(0,r.get)(n,"[]"),n},messages:(0,w.mapBy)("content","message"),content:(0,r.computed)((function(){return(0,g.A)()})),unknownProperty(e){let t=this.errorsFor(e);if(0!==t.length)return t},isEmpty:(0,w.not)("length").readOnly(),add(e,t){let n=(0,r.get)(this,"isEmpty");this._add(e,t),n&&!(0,r.get)(this,"isEmpty")&&this._registeredHandlers&&this._registeredHandlers.becameInvalid()},_add(e,t){t=this._findOrCreateMessages(e,t),this.addObjects(t),this.errorsFor(e).addObjects(t),this.notifyPropertyChange(e)},_findOrCreateMessages(e,t){let n=this.errorsFor(e),r=(0,g.makeArray)(t),i=new Array(r.length);for(let t=0;t<r.length;t++){let o=r[t],a=n.findBy("message",o);i[t]=a||{attribute:e,message:o}}return i},remove(e){(0,r.get)(this,"isEmpty")||(this._remove(e),(0,r.get)(this,"isEmpty")&&this._registeredHandlers&&this._registeredHandlers.becameValid())},_remove(e){if((0,r.get)(this,"isEmpty"))return;let t=this.rejectBy("attribute",e);(0,r.get)(this,"content").setObjects(t);let n=this.errorsFor(e);for(let t=0;t<n.length;t++)n[t].attribute===e&&n.replace(t,1);(0,r.get)(this,"errorsByAttributeName").delete(e),this.notifyPropertyChange(e),this.notifyPropertyChange("length")},clear(){(0,r.get)(this,"isEmpty")||(this._clear(),this._registeredHandlers&&this._registeredHandlers.becameValid())},_clear(){if((0,r.get)(this,"isEmpty"))return;let e=(0,r.get)(this,"errorsByAttributeName"),t=[];e.forEach((function(e,n){t.push(n)})),e.clear(),t.forEach((e=>{this.notifyPropertyChange(e)})),b().prototype.clear.call(this)},has(e){return this.errorsFor(e).length>0}});var k,S,M,x,O=n(34158),C=n(44993);function T(e,t,n,r,i){let o=e._internalModelForResource(t);if("belongsTo"===i.kind)r.notifyPropertyChange(n);else if("hasMany"===i.kind){let e=o._manyArrayCache[n];e&&(e.notify(),i.options&&!i.options.async&&void 0!==i.options.async||r.notifyPropertyChange(n))}}function R(e,t,n,r){(0,C.cacheFor)(r,n)!==e._internalModelForResource(t)._recordData.getAttr(n)&&r.notifyPropertyChange(n)}function D(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function E(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function A(e){return e&&!0===e.isAdapterError&&"InvalidError"===e.code}let L=(S=E((k=class{constructor(){D(this,"_tracking",S,this),this.rev=1,this.isDirty=!0,this.value=void 0}subscribe(){this._tracking}notify(){this.isDirty=!0,this._tracking=this.rev,this.rev++}consume(e){this.isDirty=!1,this.value=e}}).prototype,"_tracking",[f.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),k);const j=new WeakMap;function P(e,t){let n=j.get(e);return n||(n=Object.create(null),j.set(e,n)),n[t]=n[t]||new L}function I(e,t,n){const r=n.get,i=n.set;return n.get=function(){let e=P(this,t);return e.subscribe(),e.isDirty&&e.consume(r.call(this)),e.value},n.set=function(e){P(this,t),i.call(this,e)},(0,d.dependentKeyCompat)(n),n}let H=(x=E((M=class{constructor(e){D(this,"isSaving",x,this);const{store:t}=e;let n=e._internalModel.identifier;this.record=e,this.recordData=e._internalModel._recordData,this.pendingCount=0,this.fulfilledCount=0,this.rejectedCount=0,this._errorRequests=[],this._lastError=null;let r=t.getRequestStateService(),i=t._notificationManager;r.subscribeForRecord(n,(e=>{if("mutation"===e.type)switch(e.state){case"pending":this.isSaving=!0;break;case"rejected":this.isSaving=!1,this._lastError=e,e.response&&A(e.response.data)||this._errorRequests.push(e),N(this);break;case"fulfilled":this._errorRequests=[],this._lastError=null,this.isSaving=!1,N(this)}else switch(e.state){case"pending":this.pendingCount++,this.notify("isLoading");break;case"rejected":this.pendingCount--,this._lastError=e,e.response&&A(e.response.data)||this._errorRequests.push(e),this.notify("isLoading"),N(this);break;case"fulfilled":this.pendingCount--,this.fulfilledCount++,this.notify("isLoading"),this.notify("isDirty"),N(this),this._errorRequests=[],this._lastError=null}})),i.subscribe(n,((n,r,i)=>{switch(function(e,t,n,r,i){if("attributes"===t)n?R(i,e,n,r):r.eachAttribute((t=>{R(i,e,t,r)}));else if("relationships"===t)if(n){let t=r.constructor.relationshipsByName.get(n);T(i,e,n,r,t)}else r.eachRelationship(((t,n)=>{T(i,e,t,r,n)}));else"identity"===t&&r.notifyPropertyChange("id")}(n,r,i,e,t),r){case"state":this.notify("isNew"),this.notify("isDeleted"),this.notify("isDirty");break;case"attributes":this.notify("isEmpty"),this.notify("isDirty");break;case"unload":this.notify("isNew"),this.notify("isDeleted");break;case"errors":this.updateInvalidErrors(),this.notify("isValid")}}))}notify(e){P(this,e).notify()}updateInvalidErrors(){let e=this.recordData.getErrors();const{errors:t}=this.record;t._clear();let n=(0,o.YT)(e),r=Object.keys(n);for(let e=0;e<r.length;e++)t._add(r[e],n[r[e]])}cleanErrorRequests(){this.notify("isValid"),this.notify("isError"),this.notify("adapterError"),this._errorRequests=[],this._lastError=null}get isLoading(){return!this.isLoaded&&this.pendingCount>0&&0===this.fulfilledCount}get isLoaded(){return!!this.isNew||this.fulfilledCount>0||!this.isEmpty}get isSaved(){let e=this.recordData;return this.isDeleted?e.isDeletionCommitted():!(this.isNew||this.isEmpty||!this.isValid||this.isDirty||this.isLoading)}get isEmpty(){let e=this.recordData;return!this.isNew&&e.isEmpty()}get isNew(){return this.recordData.isNew()}get isDeleted(){return this.recordData.isDeleted()}get isValid(){return 0===this.record.errors.length}get isDirty(){let e=this.recordData;return!(e.isDeletionCommitted()||this.isDeleted&&this.isNew)&&(this.isNew||e.hasChangedAttributes())}get isError(){return!!this._errorRequests[this._errorRequests.length-1]}get adapterError(){let e=this._lastError;return e?"rejected"===e.state&&e.response.data:null}get isPreloaded(){return!this.isEmpty&&this.isLoading}get stateName(){return this.isLoading?"root.loading":this.isEmpty?"root.empty":this.isDeleted?this.isSaving?"root.deleted.inFlight":this.isSaved?"root.deleted.saved":this.isValid?"root.deleted.uncommitted":"root.deleted.invalid":this.isNew?this.isSaving?"root.loaded.created.inFlight":this.isValid?"root.loaded.created.uncommitted":"root.loaded.created.invalid":this.isSaving?"root.loaded.updated.inFlight":this.isValid?this.isDirty?"root.loaded.updated.uncommitted":"root.loaded.saved":"root.loaded.updated.invalid"}get dirtyType(){return this.isLoading||this.isEmpty?"":this.isDeleted?"deleted":this.isNew?"created":this.isSaving||!this.isValid||this.isDirty?"updated":""}}).prototype,"isSaving",[f.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E(M.prototype,"isLoading",[I],Object.getOwnPropertyDescriptor(M.prototype,"isLoading"),M.prototype),E(M.prototype,"isLoaded",[I],Object.getOwnPropertyDescriptor(M.prototype,"isLoaded"),M.prototype),E(M.prototype,"isSaved",[I],Object.getOwnPropertyDescriptor(M.prototype,"isSaved"),M.prototype),E(M.prototype,"isEmpty",[I],Object.getOwnPropertyDescriptor(M.prototype,"isEmpty"),M.prototype),E(M.prototype,"isNew",[I],Object.getOwnPropertyDescriptor(M.prototype,"isNew"),M.prototype),E(M.prototype,"isDeleted",[I],Object.getOwnPropertyDescriptor(M.prototype,"isDeleted"),M.prototype),E(M.prototype,"isValid",[I],Object.getOwnPropertyDescriptor(M.prototype,"isValid"),M.prototype),E(M.prototype,"isDirty",[I],Object.getOwnPropertyDescriptor(M.prototype,"isDirty"),M.prototype),E(M.prototype,"isError",[I],Object.getOwnPropertyDescriptor(M.prototype,"isError"),M.prototype),E(M.prototype,"adapterError",[I],Object.getOwnPropertyDescriptor(M.prototype,"adapterError"),M.prototype),E(M.prototype,"isPreloaded",[O.H],Object.getOwnPropertyDescriptor(M.prototype,"isPreloaded"),M.prototype),E(M.prototype,"stateName",[O.H],Object.getOwnPropertyDescriptor(M.prototype,"stateName"),M.prototype),E(M.prototype,"dirtyType",[O.H],Object.getOwnPropertyDescriptor(M.prototype,"dirtyType"),M.prototype),M);function N(e){e.notify("isValid"),e.notify("isError"),e.notify("adapterError")}var F,Y,z,B=n(78099);class W{constructor(e){this._type="",this.__inverseKey="",this.__inverseIsAsync=!0,this.__hasCalculatedInverse=!1,this.parentModelName=e.parentModelName,this.meta=e}get key(){return this.meta.key}get kind(){return this.meta.kind}get type(){return this._type||(this._type=function(e){let t=(0,o.$Z)(e.type||e.key);return"hasMany"===e.kind&&(t=(0,B.C5)(t)),t}(this.meta)),this._type}get options(){return this.meta.options}get name(){return this.meta.name}_inverseKey(e,t){return!1===this.__hasCalculatedInverse&&this._calculateInverse(e,t),this.__inverseKey}_inverseIsAsync(e,t){return!1===this.__hasCalculatedInverse&&this._calculateInverse(e,t),this.__inverseIsAsync}_calculateInverse(e,t){let n,r;this.__hasCalculatedInverse=!0;let i=null;(function(e){let t=e.options;return!(t&&null===t.inverse)})(this.meta)&&(i=t.inverseFor(this.key,e)),i?(n=i.name,r=function(e){let t=e.options&&e.options.async;return void 0===t||t}(i)):(n=null,r=!1),this.__inverseKey=n,this.__inverseIsAsync=r}}function $(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const{changeProperties:U}=m();function V(e,t,n,r){let i=r||[],o=t.relationships;if(!o)return i;let a=o.get(e.modelName),s=Array.isArray(a)?a.filter((e=>{let r=t.metaForProperty(e.name).options;return!r.inverse&&null!==r.inverse||n===r.inverse})):null;return s&&i.push.apply(i,s),e.superclass&&V(e.superclass,t,n,i),i}function q(e,t,n){const r=new WeakMap;let i=n.get;return n.get=function(){let e=r.get(this);return e||(e={hasComputed:!1,value:void 0},r.set(this,e)),e.hasComputed||(e.value=i.call(this),e.hasComputed=!0),e.value},n}let G=((z=class extends(i()){constructor(){var e;super(...arguments),(e=Y)&&Object.defineProperty(this,"isReloading",{enumerable:e.enumerable,configurable:e.configurable,writable:e.writable,value:e.initializer?e.initializer.call(this):void 0})}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e._createProps;delete e._createProps,super.init(e),this.___recordState=new H(this),this.setProperties(t)}get isEmpty(){return this.currentState.isEmpty}get isLoading(){return this.currentState.isLoading}get isLoaded(){return this.currentState.isLoaded}get hasDirtyAttributes(){return this.currentState.isDirty}get isSaving(){return this.currentState.isSaving}get isDeleted(){return this.currentState.isDeleted}get isNew(){return this.currentState.isNew}get isValid(){return this.currentState.isValid}get dirtyType(){return this.currentState.dirtyType}get isError(){return this.currentState.isError}set isError(e){}get id(){return this._internalModel.id}set id(e){const t=(0,o.IZ)(e);null!==t&&this._internalModel.setId(t)}get currentState(){return this.___recordState}set currentState(e){throw new Error("cannot set currentState")}get errors(){let e=_.create();e._registerHandlers((()=>{this._internalModel.send("becameInvalid")}),(()=>{this._internalModel.send("becameValid")}));let t,n=(0,o.uC)(this);if(n.getErrors&&(t=n.getErrors(),t)){let n=(0,o.YT)(t),r=Object.keys(n);for(let t=0;t<r.length;t++)e._add(r[t],n[r[t]])}return e}get adapterError(){return this.currentState.adapterError}set adapterError(e){throw new Error("adapterError is not directly settable")}serialize(e){return this._internalModel.createSnapshot().serialize(e)}notifyPropertyChange(e){let t=function(e,t){let n=j.get(e);return n&&n[t]}(this,e);t&&t.notify(),super.notifyPropertyChange(e)}deleteRecord(){this.store.deleteRecord(this)}destroyRecord(e){return this.deleteRecord(),this.save(e).then((e=>((0,h.run)((()=>{this.unloadRecord()})),this)))}unloadRecord(){this.isDestroyed||this.store.unloadRecord(this)}_notifyProperties(e){U((()=>{let t;for(let n=0,r=e.length;n<r;n++)t=e[n],this.notifyPropertyChange(t)}))}changedAttributes(){return this._internalModel.changedAttributes()}rollbackAttributes(){this._internalModel.rollbackAttributes(),this.currentState.cleanErrorRequests()}_createSnapshot(){return this._internalModel.createSnapshot()}toStringExtension(){return this._internalModel&&this._internalModel.id}save(e){const t=this._internalModel.save(e).then((()=>this));return(0,o.ml)(o.YC.create({promise:t}))}reload(e){let t;return"object"==typeof e&&null!==e&&e.adapterOptions&&(t={adapterOptions:e.adapterOptions}),this.isReloading=!0,o.YC.create({promise:this._internalModel.reload(t).then((()=>this)).finally((()=>{this.isReloading=!1}))})}attr(){}belongsTo(e){return this._internalModel.referenceFor("belongsTo",e)}hasMany(e){return this._internalModel.referenceFor("hasMany",e)}eachRelationship(e,t){this.constructor.eachRelationship(e,t)}relationshipFor(e){return this.constructor.relationshipsByName.get(e)}inverseFor(e){return this.constructor.inverseFor(e,this._internalModel.store)}eachAttribute(e,t){this.constructor.eachAttribute(e,t)}static typeForRelationship(e,t){let n=this.relationshipsByName.get(e);return n&&t.modelFor(n.type)}static get inverseMap(){return Object.create(null)}static inverseFor(e,t){let n=this.inverseMap;if(n[e])return n[e];{let r=this._findInverseFor(e,t);return n[e]=r,r}}static _findInverseFor(e,t){let n=this.typeForRelationship(e,t);if(!n)return null;let r,i,o,a,s=this.metaForProperty(e),l=s.options;if(null===l.inverse)return null;if(l.inverse)r=l.inverse,o=n.relationshipsByName.get(r),i=o.kind,a=o.options;else{s.type,s.parentModelName;let t=V(this,n,e);if(0===t.length)return null;let o=t.filter((t=>{let r=n.metaForProperty(t.name).options;return e===r.inverse}));1===o.length&&(t=o),r=t[0].name,i=t[0].kind,a=t[0].options}return{type:n,name:r,kind:i,options:a}}static get relationships(){let e=new Map;return this.relationshipsByName.forEach((t=>{let{type:n}=t;e.has(n)||e.set(n,[]),e.get(n).push(t)})),e}static get relationshipNames(){let e={hasMany:[],belongsTo:[]};return this.eachComputedProperty(((t,n)=>{n.isRelationship&&e[n.kind].push(t)})),e}static get relatedTypes(){let e=[],t=this.relationshipsObject,n=Object.keys(t);for(let r=0;r<n.length;r++){let i=t[n[r]].type;-1===e.indexOf(i)&&e.push(i)}return e}static get relationshipsByName(){let e=new Map,t=this.relationshipsObject,n=Object.keys(t);for(let r=0;r<n.length;r++){let i=t[n[r]];e.set(i.key,i)}return e}static get relationshipsObject(){let e=Object.create(null),t=this.modelName;return this.eachComputedProperty(((n,r)=>{r.isRelationship&&(r.key=n,r.name=n,r.parentModelName=t,e[n]=function(e){return new W(e)}(r))})),e}static get fields(){let e=new Map;return this.eachComputedProperty(((t,n)=>{n.isRelationship?e.set(t,n.kind):n.isAttribute&&e.set(t,"attribute")})),e}static eachRelationship(e,t){this.relationshipsByName.forEach(((n,r)=>{e.call(t,r,n)}))}static eachRelatedType(e,t){let n=this.relatedTypes;for(let r=0;r<n.length;r++){let i=n[r];e.call(t,i)}}static determineRelationshipType(e,t){let n,r=e.key,i=e.kind,o=this.inverseFor(r,t);return o?(n=o.kind,"belongsTo"===n?"belongsTo"===i?"oneToOne":"manyToOne":"belongsTo"===i?"oneToMany":"manyToMany"):"belongsTo"===i?"oneToNone":"manyToNone"}static get attributes(){let e=new Map;return this.eachComputedProperty(((t,n)=>{n.isAttribute&&(n.name=t,e.set(t,n))})),e}static get transformedAttributes(){let e=new Map;return this.eachAttribute(((t,n)=>{n.type&&e.set(t,n.type)})),e}static eachAttribute(e,t){this.attributes.forEach(((n,r)=>{e.call(t,r,n)}))}static eachTransformedAttribute(e,t){this.transformedAttributes.forEach(((n,r)=>{e.call(t,r,n)}))}static toString(){return`model:${(0,r.get)(this,"modelName")}`}}).isModel=!0,z.modelName=null,$((F=z).prototype,"isEmpty",[d.dependentKeyCompat],Object.getOwnPropertyDescriptor(F.prototype,"isEmpty"),F.prototype),$(F.prototype,"isLoading",[d.dependentKeyCompat],Object.getOwnPropertyDescriptor(F.prototype,"isLoading"),F.prototype),$(F.prototype,"isLoaded",[d.dependentKeyCompat],Object.getOwnPropertyDescriptor(F.prototype,"isLoaded"),F.prototype),$(F.prototype,"hasDirtyAttributes",[d.dependentKeyCompat],Object.getOwnPropertyDescriptor(F.prototype,"hasDirtyAttributes"),F.prototype),$(F.prototype,"isSaving",[d.dependentKeyCompat],Object.getOwnPropertyDescriptor(F.prototype,"isSaving"),F.prototype),$(F.prototype,"isDeleted",[d.dependentKeyCompat],Object.getOwnPropertyDescriptor(F.prototype,"isDeleted"),F.prototype),$(F.prototype,"isNew",[d.dependentKeyCompat],Object.getOwnPropertyDescriptor(F.prototype,"isNew"),F.prototype),$(F.prototype,"isValid",[d.dependentKeyCompat],Object.getOwnPropertyDescriptor(F.prototype,"isValid"),F.prototype),$(F.prototype,"dirtyType",[d.dependentKeyCompat],Object.getOwnPropertyDescriptor(F.prototype,"dirtyType"),F.prototype),$(F.prototype,"isError",[d.dependentKeyCompat],Object.getOwnPropertyDescriptor(F.prototype,"isError"),F.prototype),Y=$(F.prototype,"isReloading",[f.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$(F.prototype,"id",[I],Object.getOwnPropertyDescriptor(F.prototype,"id"),F.prototype),$(F.prototype,"currentState",[I],Object.getOwnPropertyDescriptor(F.prototype,"currentState"),F.prototype),$(F.prototype,"errors",[q],Object.getOwnPropertyDescriptor(F.prototype,"errors"),F.prototype),$(F.prototype,"adapterError",[d.dependentKeyCompat],Object.getOwnPropertyDescriptor(F.prototype,"adapterError"),F.prototype),$(F,"inverseMap",[q],Object.getOwnPropertyDescriptor(F,"inverseMap"),F),$(F,"relationships",[q],Object.getOwnPropertyDescriptor(F,"relationships"),F),$(F,"relationshipNames",[q],Object.getOwnPropertyDescriptor(F,"relationshipNames"),F),$(F,"relatedTypes",[q],Object.getOwnPropertyDescriptor(F,"relatedTypes"),F),$(F,"relationshipsByName",[q],Object.getOwnPropertyDescriptor(F,"relationshipsByName"),F),$(F,"relationshipsObject",[q],Object.getOwnPropertyDescriptor(F,"relationshipsObject"),F),$(F,"fields",[q],Object.getOwnPropertyDescriptor(F,"fields"),F),$(F,"attributes",[q],Object.getOwnPropertyDescriptor(F,"attributes"),F),$(F,"transformedAttributes",[q],Object.getOwnPropertyDescriptor(F,"transformedAttributes"),F),F);G.prototype._internalModel=null,G.prototype.store=null,G.prototype._createProps=null,G.prototype._debugInfo=function(){let e=["id"],t={},n=[];this.eachAttribute(((t,n)=>e.push(t)));let r=[{name:"Attributes",properties:e,expand:!0}];return this.eachRelationship(((e,i)=>{let o=t[i.kind];void 0===o&&(o=t[i.kind]=[],r.push({name:i.kind,properties:o,expand:!0})),o.push(e),n.push(e)})),r.push({name:"Flags",properties:["isLoaded","hasDirtyAttributes","isSaving","isDeleted","isError","isNew","isValid"]}),{propertyInfo:{includeOtherProperties:!0,groups:r,expensiveProperties:n}}};const K=G;var Z=n(68944),X=n.n(Z),J=n(91819);function Q(e,t){const n=e.length,r=t.length,i=Math.min(n,r);let o=null;for(let n=0;n<i;n++)if(e[n]!==t[n]){o=n;break}null===o&&r!==n&&(o=i);let a=0,s=0;if(null!==o){let l=i-o;for(let o=1;o<=i;o++)if(e[n-o]!==t[r-o]){l=o-1;break}a=r-l-o,s=n-l-o}return{firstChangeIndex:o,addedCount:a,removedCount:s}}const ee=i().extend(X(),{isAsync:!1,isLoaded:!1,init(){this._super(...arguments),this.isLoaded=this.isLoaded||!1,this._length=0,this._meta=this._meta||null,this._links=this._links||null,this.isPolymorphic=this.isPolymorphic||!1,this.currentState=[],this._isUpdating=!1,this._isDirty=!1,this._hasNotified=!1,this.retrieveLatest()},get _hasArrayObservers(){return this.hasArrayObservers||this.__hasArrayObservers},notify(){this._isDirty=!0,this._hasArrayObservers&&!this._hasNotified?this.retrieveLatest():(this._hasNotified=!0,this.notifyPropertyChange("[]"),this.notifyPropertyChange("firstObject"),this.notifyPropertyChange("lastObject"))},get length(){return this._isDirty&&this.retrieveLatest(),(0,r.get)(this,"[]"),this._length},set length(e){this._length=e},get links(){return(0,r.get)(this,"[]"),this._isDirty&&this.retrieveLatest(),this._links},set links(e){this._links=e},get meta(){return(0,r.get)(this,"[]"),this._isDirty&&this.retrieveLatest(),this._meta},set meta(e){this._meta=e},objectAt(e){this._isDirty&&this.retrieveLatest();let t=this.currentState[e];if(void 0!==t)return t.getRecord()},replace(e,t,n){this.store._backburner.join((()=>{let r;t>0&&(r=this.currentState.slice(e,e+t),this.recordData.removeFromHasMany(this.key,r.map((e=>(0,o.uC)(e))))),n&&this.recordData.addToHasMany(this.key,n.map((e=>(0,o.uC)(e))),e),this.notify()}))},retrieveLatest(){if(this.isDestroyed||this.isDestroying||this._isUpdating)return;this._isDirty=!1,this._isUpdating=!0;let e=this.recordData.getHasMany(this.key),t=[];if(e.data)for(let n=0;n<e.data.length;n++){let r=this.store._internalModelForResource(e.data[n]);r._isDematerializing||r.currentState.isEmpty||!r.currentState.isLoaded||t.push(r)}if(e.meta&&(this._meta=e.meta),e.links&&(this._links=e.links),this._hasArrayObservers&&!this._hasNotified){let e=Q(this.currentState,t);null!==e.firstChangeIndex&&(this.arrayContentWillChange(e.firstChangeIndex,e.removedCount,e.addedCount),this._length=t.length,this.currentState=t,this.arrayContentDidChange(e.firstChangeIndex,e.removedCount,e.addedCount))}else this._hasNotified=!1,this._length=t.length,this.currentState=t;this._isUpdating=!1},reload(e){return this.store.reloadManyArray(this,this.internalModel,this.key,e)},save(){let e=this,t="DS: ManyArray#save "+this.type,n=(0,J.all)(this.invoke("save"),t).then((()=>e),null,"DS: ManyArray#save return ManyArray");return o.B0.create({promise:n})},createRecord(e){const{store:t,type:n}=this;let r=t.createRecord(n.modelName,e);return this.pushObject(r),r}}),te=o.YC.extend({meta:(0,r.computed)((function(){})),reload(e){let{key:t,store:n,originatingInternalModel:r}=this._belongsToState;return n.reloadBelongsTo(this,r,t,e).then((()=>this))}});var ne,re,ie,oe,ae,se;function le(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ue(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let ce=(ne=class{constructor(e,t){le(this,"content",re,this),le(this,"isPending",ie,this),le(this,"isRejected",oe,this),le(this,"isFulfilled",ae,this),le(this,"isSettled",se,this),this._update(e,t),this.isDestroyed=!1,this.isDestroying=!1,m().meta(this).hasMixin=e=>e===y()}get length(){return this["[]"],this.content?this.content.length:0}get"[]"(){return this.content?this.content["[]"]:this.content}forEach(e){this["[]"],this.content&&this.length&&this.content.forEach(e)}then(e,t){return this.promise.then(e,t)}catch(e){return this.promise.catch(e)}finally(e){return this.promise.finally(e)}destroy(){this.isDestroying=!0,this.isDestroyed=!0,this.content=null,this.promise=null}get links(){return this.content?this.content.links:void 0}get meta(){return this.content?this.content.meta:void 0}reload(e){return this.content.reload(e),this}_update(e,t){void 0!==t&&(this.content=t),this.promise=function(e,t){return e.isPending=!0,e.isSettled=!1,e.isFulfilled=!1,e.isRejected=!1,(0,J.resolve)(t).then((t=>(e.isPending=!1,e.isFulfilled=!0,e.isSettled=!0,e.content=t,t)),(t=>{throw e.isPending=!1,e.isFulfilled=!1,e.isRejected=!0,e.isSettled=!0,t}))}(this,e)}static create(e){let{promise:t,content:n}=e;return new this(t,n)}createRecord(){return this.content.createRecord(...arguments)}get firstObject(){return this.content?this.content.firstObject:void 0}get lastObject(){return this.content?this.content.lastObject:void 0}},re=ue(ne.prototype,"content",[f.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue(ne.prototype,"length",[d.dependentKeyCompat],Object.getOwnPropertyDescriptor(ne.prototype,"length"),ne.prototype),ue(ne.prototype,"[]",[d.dependentKeyCompat],Object.getOwnPropertyDescriptor(ne.prototype,"[]"),ne.prototype),ie=ue(ne.prototype,"isPending",[f.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oe=ue(ne.prototype,"isRejected",[f.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ae=ue(ne.prototype,"isFulfilled",[f.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),se=ue(ne.prototype,"isSettled",[f.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ue(ne.prototype,"links",[d.dependentKeyCompat],Object.getOwnPropertyDescriptor(ne.prototype,"links"),ne.prototype),ue(ne.prototype,"meta",[d.dependentKeyCompat],Object.getOwnPropertyDescriptor(ne.prototype,"meta"),ne.prototype),ne);["addObserver","cacheFor","decrementProperty","get","getProperties","incrementProperty","notifyPropertyChange","removeObserver","set","setProperties","toggleProperty"].forEach((e=>{ce.prototype[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m()[e](this,...n)}})),["addArrayObserver","addObject","addObjects","any","arrayContentDidChange","arrayContentWillChange","clear","compact","every","filter","filterBy","find","findBy","getEach","includes","indexOf","insertAt","invoke","isAny","isEvery","lastIndexOf","map","mapBy","objectAt","objectsAt","popObject","pushObject","pushObjects","reduce","reject","rejectBy","removeArrayObserver","removeAt","removeObject","removeObjects","replace","reverseObjects","setEach","setObjects","shiftObject","slice","sortBy","toArray","uniq","uniqBy","unshiftObject","unshiftObjects","without"].forEach((e=>{ce.prototype[e]=function(){return this.content[e](...arguments)}}));var de=n(35428);function he(e,t){let n=(0,de.getOwner)(e),r=n.factoryFor(`mixin:${t}`),i=r&&r.class;if(i){let e=K.extend(i);e.reopenClass({__isMixin:!0,__mixin:i}),n.register("model:"+t,e)}return n.factoryFor(`model:${t}`)}},96311:(e,t,n)=>{"use strict";n.d(t,{Lj:()=>r.attr,TY:()=>r.hasMany,ZP:()=>r.Model,z2:()=>r.belongsTo});var r=n(56448)},2463:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BelongsToRelationship:()=>f,ManyRelationship:()=>p,RecordData:()=>P,Relationship:()=>m,graphFor:()=>D,peekGraph:()=>R}),n(84287);var r=n(61417),i=n(9805),o=n(29569);const a=function(e){return null==e||""===e?null:"string"==typeof e?e:"symbol"==typeof e?e.toString():""+e};function s(e,t,n){return(e[t]=e[t]||Object.create(null))[n]}function l(e,t,n,r){(e[t]=e[t]||Object.create(null))[n]=r}function u(e){if(!e.id)return!0;const t=(0,o.uC)(e);return!!t&&function(e){return"function"==typeof e.isNew}(t)&&t.isNew()}function c(e){return"belongsTo"===e.definition.kind}function d(e){return e.definition.isImplicit}function h(e){return"hasMany"===e.definition.kind}class f{constructor(e,t,n){this.graph=e,this.store=e.store,this.definition=t,this.identifier=n,this._state=null,this.transactionRef=0,this.meta=null,this.links=null,this.localState=null,this.remoteState=null}get state(){let{_state:e}=this;return e||(e=this._state={hasReceivedData:!1,isEmpty:!0,isStale:!1,hasFailedLoadAttempt:!1,shouldForceReload:!1,hasDematerializedInverse:!1}),e}recordDataDidDematerialize(){if(this.definition.inverseIsImplicit)return;const e=this.definition.inverseKey,t=t=>{if(!t||!this.graph.has(t,e))return;let n=this.graph.get(t,e);"belongsTo"===n.definition.kind&&n.localState&&this.identifier!==n.localState||n.inverseDidDematerialize(this.identifier)};this.remoteState&&t(this.remoteState),this.localState&&this.localState!==this.remoteState&&t(this.localState)}inverseDidDematerialize(){const e=this.localState;!this.definition.isAsync||e&&u(e)?(this.localState===e&&null!==e&&(this.localState=null),this.remoteState===e&&null!==e&&(this.remoteState=null,this.state.hasReceivedData=!0,this.state.isEmpty=!0,this.localState&&!u(this.localState)&&(this.localState=null))):this.state.hasDematerializedInverse=!0,this.notifyBelongsToChange()}getData(){let e,t={};return this.localState&&(e=this.localState),null===this.localState&&this.state.hasReceivedData&&(e=null),this.links&&(t.links=this.links),void 0!==e&&(t.data=e),this.meta&&(t.meta=this.meta),t._relationship=this,t}removeCompletelyFromOwn(e){this.remoteState===e&&(this.remoteState=null),this.localState===e&&(this.localState=null,this.notifyBelongsToChange())}notifyBelongsToChange(){let e=this.identifier;this.store.notifyBelongsToChange(e.type,e.id,e.lid,this.definition.key)}clear(){this.localState=null,this.remoteState=null,this.state.hasReceivedData=!1,this.state.isEmpty=!0}}class p{constructor(e,t,n){this.graph=e,this.store=e.store,this.definition=t,this.identifier=n,this._state=null,this.transactionRef=0,this.members=new Set,this.canonicalMembers=new Set,this.meta=null,this.links=null,this.canonicalState=[],this.currentState=[],this._willUpdateManyArray=!1,this._pendingManyArrayUpdates=null}get state(){let{_state:e}=this;return e||(e=this._state={hasReceivedData:!1,isEmpty:!0,isStale:!1,hasFailedLoadAttempt:!1,shouldForceReload:!1,hasDematerializedInverse:!1}),e}recordDataDidDematerialize(){if(this.definition.inverseIsImplicit)return;const e=this.definition.inverseKey;this.forAllMembers((t=>{if(!t||!this.graph.has(t,e))return;let n=this.graph.get(t,e);"belongsTo"===n.definition.kind&&n.localState&&this.identifier!==n.localState||n.inverseDidDematerialize(this.identifier)}))}forAllMembers(e){let t=Object.create(null);for(let n=0;n<this.currentState.length;n++){const r=this.currentState[n],i=r.lid;t[i]||(t[i]=!0,e(r))}for(let n=0;n<this.canonicalState.length;n++){const r=this.canonicalState[n],i=r.lid;t[i]||(t[i]=!0,e(r))}}clear(){this.members.clear(),this.canonicalMembers.clear(),this.currentState=[],this.canonicalState=[]}inverseDidDematerialize(e){!this.definition.isAsync||e&&u(e)?this.removeCompletelyFromOwn(e):this.state.hasDematerializedInverse=!0,this.notifyHasManyChange()}removeCompletelyFromOwn(e){this.canonicalMembers.delete(e),this.members.delete(e);const t=this.canonicalState.indexOf(e);-1!==t&&this.canonicalState.splice(t,1);const n=this.currentState.indexOf(e);-1!==n&&(this.currentState.splice(n,1),this.notifyHasManyChange())}notifyHasManyChange(){const{store:e,identifier:t}=this;e.notifyHasManyChange(t.type,t.id,t.lid,this.definition.key)}getData(){let e={};return this.state.hasReceivedData&&(e.data=this.currentState.slice()),this.links&&(e.links=this.links),this.meta&&(e.meta=this.meta),e}}class m{constructor(e,t,n){this.graph=e,this.definition=t,this.identifier=n,this.members=new Set,this.canonicalMembers=new Set}addCanonicalRecordData(e,t){this.canonicalMembers.has(e)||(this.canonicalMembers.add(e),this.members.add(e))}addRecordData(e,t){this.members.has(e)||this.members.add(e)}removeRecordData(e){e&&this.members.has(e)&&this.members.delete(e)}removeCompletelyFromOwn(e){this.canonicalMembers.delete(e),this.members.delete(e)}clear(){this.canonicalMembers.clear(),this.members.clear()}}const g=null,y=Date.now();function v(e,t){e.inverseKind=t.kind,e.inverseKey=t.key,e.inverseType=t.type,e.inverseIsAsync=t.isAsync,e.inverseIsCollection=t.isCollection,e.inverseIsPolymorphic=t.isPolymorphic,e.inverseIsImplicit=t.isImplicit}function b(e){let t={},n=e.options;return t.kind=e.kind,t.key=e.name,t.type=e.type,t.isAsync=!n||void 0===n.async||!!n.async,t.isImplicit=!1,t.isCollection="hasMany"===e.kind,t.isPolymorphic=n&&!!n.polymorphic,t.inverseKey=n&&n.inverse||"",t.inverseType="",t.inverseIsAsync=g,t.inverseIsImplicit=n&&null===n.inverse||g,t.inverseIsCollection=g,t}function w(e,t,n,r,i){const o=e.get(t,n),{type:a}=o.definition;a!==r.type&&e.registerPolymorphicType(a,r.type),c(o)?(o.state.hasReceivedData=!0,o.state.isEmpty=!1,i&&(e._addToTransaction(o),null!==o.remoteState&&_(e,o.remoteState,o.definition.inverseKey,t,i),o.remoteState=r),o.localState!==r&&(!i&&o.localState&&_(e,o.localState,o.definition.inverseKey,t,i),o.localState=r,o.notifyBelongsToChange())):h(o)?i?o.canonicalMembers.has(r)||(e._addToTransaction(o),o.canonicalState.push(r),o.canonicalMembers.add(r),o.state.hasReceivedData=!0,S(e,o)):o.members.has(r)||(o.currentState.push(r),o.members.add(r),o.state.hasReceivedData=!0,o.notifyHasManyChange()):i?o.addCanonicalRecordData(r):o.addRecordData(r)}function _(e,t,n,r,i){const o=e.get(t,n);if(c(o))o.state.isEmpty=!0,i&&(e._addToTransaction(o),o.remoteState=null),o.localState===r&&(o.localState=null,o.notifyBelongsToChange());else if(h(o)){if(i){e._addToTransaction(o);let t=o.canonicalState.indexOf(r);-1!==t&&(o.canonicalMembers.delete(r),o.canonicalState.splice(t,1))}let t=o.currentState.indexOf(r);-1!==t&&(o.members.delete(r),o.currentState.splice(t,1)),o.notifyHasManyChange()}else i?o.removeCompletelyFromOwn(r):o.removeRecordData(r)}function k(e){let t=e.canonicalState,n=e.currentState.filter((e=>u(e)&&-1===t.indexOf(e))),r=e.currentState;e.currentState=t.concat(n);let i=e.members=new Set;e.canonicalMembers.forEach((e=>i.add(e)));for(let e=0;e<n.length;e++)i.add(n[e]);if(r.length!==e.currentState.length)e.notifyHasManyChange();else for(let t=0;t<r.length;t++)if(r[t]!==e.currentState[t]){e.notifyHasManyChange();break}}function S(e,t){e._scheduleLocalSync(t)}function M(e,t,n,r,i,o){const{members:a,currentState:s}=t;if(a.has(r))return;const{type:l}=t.definition;l!==r.type&&e.registerPolymorphicType(r.type,l),t.state.hasReceivedData=!0,a.add(r),void 0===i?s.push(r):s.splice(i,0,r),w(e,r,t.definition.inverseKey,n,o)}function x(e,t,n,r,i){const{members:o,currentState:a}=t;if(!o.has(r))return;o.delete(r);let s=a.indexOf(r);a.splice(s,1),_(e,r,t.definition.inverseKey,n,i)}function O(e){switch(typeof e){case"object":return e;case"string":return{href:e}}}const C=new o.kM("");function T(e){return void 0!==e._storeWrapper?e._storeWrapper:e}function R(e){return C.get(T(e))}function D(e){return C.lookup(T(e))}C._generator=e=>new E(e);class E{constructor(e){this._definitionCache=Object.create(null),this._potentialPolymorphicTypes=Object.create(null),this.identifiers=new Map,this.store=e,this._willSyncRemote=!1,this._willSyncLocal=!1,this._pushedUpdates={belongsTo:[],hasMany:[],deletions:[]},this._updatedRelationships=new Set,this._transaction=null}has(e,t){let n=this.identifiers.get(e);return!!n&&void 0!==n[t]}get(e,t){let n=this.identifiers.get(e);n||(n=Object.create(null),this.identifiers.set(e,n));let r=n[t];if(!r){const i=function(e,t,n){const r=e._definitionCache,i=e.store,o=e._potentialPolymorphicTypes,{type:a}=t;let u=s(r,a,n);if(void 0!==u)return u;let c=i.relationshipsDefinitionFor(a)[n];if(!c){if(o[a]){const e=Object.keys(o[a]);for(let t=0;t<e.length;t++){let i=s(r,e[t],n);if(i)return l(r,a,n,i),i}}return r[a][n]=null,null}const d=b(c);let h,f;const p=d.type;if(null===d.inverseKey?h=null:(f=i.inverseForRelationship(a,n),h=f?b(i.relationshipsDefinitionFor(p)[f]):null),!h){f=function(e,t){return`implicit-${e}:${t}${y}`}(a,n),h={kind:"implicit",key:f,type:a,isAsync:!1,isImplicit:!0,isCollection:!0,isPolymorphic:!1},v(d,h),v(h,d);const e={lhs_key:`${a}:${n}`,lhs_modelNames:[a],lhs_baseModelName:a,lhs_relationshipName:n,lhs_definition:d,lhs_isPolymorphic:d.isPolymorphic,rhs_key:"",rhs_modelNames:[],rhs_baseModelName:p,rhs_relationshipName:"",rhs_definition:h,rhs_isPolymorphic:!1,hasInverse:!1,isSelfReferential:a===p,isReflexive:!1};return l(r,p,f,e),l(r,a,n,e),e}const m=h.type;if(u=s(r,m,n)||s(r,p,f),u)return(u.lhs_baseModelName===m?u.lhs_modelNames:u.rhs_modelNames).push(a),l(r,a,n,u),u;v(d,h),v(h,d);const g=[a];a!==m&&g.push(m);const w=a===p,_={lhs_key:`${m}:${n}`,lhs_modelNames:g,lhs_baseModelName:m,lhs_relationshipName:n,lhs_definition:d,lhs_isPolymorphic:d.isPolymorphic,rhs_key:`${p}:${f}`,rhs_modelNames:[p],rhs_baseModelName:p,rhs_relationshipName:f,rhs_definition:h,rhs_isPolymorphic:h.isPolymorphic,hasInverse:!0,isSelfReferential:w,isReflexive:w&&n===f};return l(r,m,n,_),l(r,a,n,_),l(r,p,f,_),_}(this,e,t),o=function(e,t,n){let r=e.isSelfReferential;return 1==(n===e.lhs_relationshipName)&&(!0===r||t===e.lhs_baseModelName||e.rhs_isPolymorphic&&-1!==e.lhs_modelNames.indexOf(t))}(i,e.type,t)?i.lhs_definition:i.rhs_definition,a="hasMany"===o.kind?p:"belongsTo"===o.kind?f:m;r=n[t]=new a(this,o,e)}return r}registerPolymorphicType(e,t){const n=this._potentialPolymorphicTypes;let r=n[e];r||(r=n[e]=Object.create(null)),r[t]=!0;let i=n[t];i||(i=n[t]=Object.create(null)),i[e]=!0}isReleasable(e){const t=this.identifiers.get(e);if(!t)return!0;const n=Object.keys(t);for(let e=0;e<n.length;e++)if(t[n[e]].definition.inverseIsAsync)return!1;return!0}unload(e){const t=this.identifiers.get(e);t&&Object.keys(t).forEach((e=>{let n=t[e];!function(e){d(e)?e.graph.isReleasable(e.identifier)&&A(e):(e.recordDataDidDematerialize(),e.definition.inverseIsImplicit||e.definition.inverseIsAsync||(e.state.isStale=!0,e.clear(),e.definition.isAsync||(c(e)?e.notifyBelongsToChange():e.notifyHasManyChange())))}(n),d(n)&&delete t[e]}))}remove(e){this.unload(e),this.identifiers.delete(e)}push(e){if("deleteRecord"===e.op)this._pushedUpdates.deletions.push(e);else if("replaceRelatedRecord"===e.op)this._pushedUpdates.belongsTo.push(e);else{const t=this.get(e.record,e.field);this._pushedUpdates[t.definition.kind].push(e)}this._willSyncRemote||(this._willSyncRemote=!0,this.store._store._backburner.schedule("coalesce",this,this._flushRemoteQueue))}update(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e.op){case"updateRelationship":!function(e,t){const n=e.get(t.record,t.field),{definition:r,state:i,identifier:o}=n,{isCollection:a}=r,s=t.value;let l=!1,u=!1;if(s.meta&&(n.meta=s.meta),void 0!==s.data?(l=!0,a?(null===s.data&&(s.data=[]),e.update({op:"replaceRelatedRecords",record:o,field:t.field,value:s.data.map((t=>e.store.identifierCache.getOrCreateRecordIdentifier(t)))},!0)):e.update({op:"replaceRelatedRecord",record:o,field:t.field,value:s.data?e.store.identifierCache.getOrCreateRecordIdentifier(s.data):null},!0)):!1!==r.isAsync||i.hasReceivedData||(l=!0,a?e.update({op:"replaceRelatedRecords",record:o,field:t.field,value:[]},!0):e.update({op:"replaceRelatedRecord",record:o,field:t.field,value:null},!0)),s.links){let e=n.links;if(n.links=s.links,s.links.related){let t=O(s.links.related),n=e&&e.related?O(e.related):null,r=n?n.href:null;t&&t.href&&t.href!==r&&(u=!0)}}if(n.state.hasFailedLoadAttempt=!1,l){let e=null===s.data||Array.isArray(s.data)&&0===s.data.length;n.state.hasReceivedData=!0,n.state.isStale=!1,n.state.hasDematerializedInverse=!1,n.state.isEmpty=e}else u&&(a||!n.state.hasReceivedData||0===n.transactionRef?(n.state.isStale=!0,h(n)?n.notifyHasManyChange():n.notifyBelongsToChange()):n.state.isStale=!1)}(this,e);break;case"deleteRecord":{const t=e.record,n=this.identifiers.get(t);n&&(Object.keys(n).forEach((e=>{const t=n[e];delete n[e],A(t)})),this.identifiers.delete(t));break}case"replaceRelatedRecord":!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.get(t.record,t.field);n&&e._addToTransaction(r);const{definition:i,state:o}=r,a=n?"remoteState":"localState",s=r[a];if(t.value!==s)if(s&&_(e,s,i.inverseKey,t.record,n),r[a]=t.value,o.hasReceivedData=!0,o.isEmpty=null===t.value,o.isStale=!1,o.hasFailedLoadAttempt=!1,t.value&&(i.type!==t.value.type&&e.registerPolymorphicType(i.type,t.value.type),w(e,t.value,i.inverseKey,t.record,n)),n){const{localState:e,remoteState:t}=r;if(e&&u(e)&&!t)return;e!==t&&(r.localState=t,r.notifyBelongsToChange())}else r.notifyBelongsToChange();else if(o.hasReceivedData=!0,n){const{localState:e}=r;if(e&&u(e)&&!s||e===s)return;r.localState=s,r.notifyBelongsToChange()}}(this,e,t);break;case"addToRelatedRecords":!function(e,t,n){const{record:r,value:i,index:o}=t,a=e.get(r,t.field);if(Array.isArray(i))for(let t=0;t<i.length;t++)M(e,a,r,i[t],void 0!==o?o+t:o,n);else M(e,a,r,i,o,n);a.notifyHasManyChange()}(this,e,t);break;case"removeFromRelatedRecords":!function(e,t,n){const{record:r,value:i}=t,o=e.get(r,t.field);if(Array.isArray(i))for(let t=0;t<i.length;t++)x(e,o,r,i[t],n);else x(e,o,r,i,n);o.notifyHasManyChange()}(this,e,t);break;case"replaceRelatedRecords":!function(e,t,n){n?function(e,t,n){const r=t.value,i=e.get(t.record,t.field);n&&e._addToTransaction(i),i.state.hasReceivedData=!0;const{canonicalState:o,canonicalMembers:a,definition:s}=i,l=new Set(r),u=r.length,c=new Array(l.size),d=new Set;i.canonicalMembers=d,i.canonicalState=c;const{type:h}=i.definition;let f=!1;const p=o.length,m=p>u?p:u,g=p===u;for(let i=0,y=0;i<m;i++){let m=!1;if(i<u){const o=r[i];d.has(o)||(h!==o.type&&e.registerPolymorphicType(h,o.type),c[y]=o,d.add(o),m=!0,a.has(o)||(f=!0,w(e,o,s.inverseKey,t.record,n)))}if(i<p){const r=o[i];d.has(r)||(g&&c[y]!==r&&(f=!0),l.has(r)||(f=!0,_(e,r,s.inverseKey,t.record,n)))}m&&y++}S(e,i)}(e,t,n):function(e,t,n){const r=t.value,i=e.get(t.record,t.field);i.state.hasReceivedData=!0;const{currentState:o,members:a,definition:s}=i,l=new Set(r),u=r.length,c=new Array(l.size),d=new Set;i.members=d,i.currentState=c;const{type:h}=i.definition;let f=!1;const p=o.length,m=p>u?p:u,g=p===u;for(let i=0,y=0;i<m;i++){let m=!1;if(i<u){const o=r[i];d.has(o)||(h!==o.type&&e.registerPolymorphicType(h,o.type),c[y]=o,m=!0,d.add(o),a.has(o)||(f=!0,w(e,o,s.inverseKey,t.record,n)))}if(i<p){const r=o[i];d.has(r)||(g&&c[i]!==r&&(f=!0),l.has(r)||(f=!0,_(e,r,s.inverseKey,t.record,n)))}m&&y++}f&&i.notifyHasManyChange()}(e,t,n)}(this,e,t)}}_scheduleLocalSync(e){this._updatedRelationships.add(e),this._willSyncLocal||(this._willSyncLocal=!0,this.store._store._backburner.schedule("sync",this,this._flushLocalQueue))}_flushRemoteQueue(){if(!this._willSyncRemote)return;this._transaction=new Set,this._willSyncRemote=!1;const{deletions:e,hasMany:t,belongsTo:n}=this._pushedUpdates;this._pushedUpdates.deletions=[],this._pushedUpdates.hasMany=[],this._pushedUpdates.belongsTo=[];for(let t=0;t<e.length;t++)this.update(e[t],!0);for(let e=0;e<t.length;e++)this.update(t[e],!0);for(let e=0;e<n.length;e++)this.update(n[e],!0);this._finalize()}_addToTransaction(e){e.transactionRef++,this._transaction.add(e)}_finalize(){this._transaction&&(this._transaction.forEach((e=>e.transactionRef=0)),this._transaction=null)}_flushLocalQueue(){if(!this._willSyncLocal)return;this._willSyncLocal=!1;let e=this._updatedRelationships;this._updatedRelationships=new Set,e.forEach(k)}willDestroy(){this.identifiers.clear(),this.store=null}destroy(){C.delete(this.store)}}function A(e){const t=Object.create(null),{identifier:n}=e,{inverseKey:r}=e.definition,i=i=>{const o=i.lid;void 0===t[o]&&(e.graph.has(i,r)&&e.graph.get(i,r).removeCompletelyFromOwn(n),t[o]=!0)};c(e)?(e.localState&&i(e.localState),e.remoteState&&i(e.remoteState),e.definition.isAsync||e.clear(),e.localState=null):h(e)?(e.members.forEach(i),e.canonicalMembers.forEach(i),e.definition.isAsync||(e.clear(),e.notifyHasManyChange())):(e.members.forEach(i),e.canonicalMembers.forEach(i),e.clear())}let L=1;const j={iterator:()=>({next:()=>({done:!0,value:void 0})})};class P{constructor(e,t){this._directlyRelatedRecordDatasIterable=()=>{const e=D(this.storeWrapper).identifiers.get(this.identifier);if(!e)return j;const t=Object.keys(e).map((t=>e[t])).filter((e=>!d(e)));let n=0,r=0,i=0;return{iterator:()=>({next:()=>{const e=(()=>{for(;n<t.length;){for(;r<2;){let a=0===r?"belongsTo"===(e=t[n]).definition.kind?e.localState?[e.localState]:[]:e.currentState:I(t[n]);for(;i<a.length;){let e=a[i++];if(null!==e)return(0,o.uC)(e)}i=0,r++}r=0,n++}var e})();return{value:e,done:void 0===e}}})}},this.modelName=e.type,this.clientId=e.lid,this.id=e.id,this.identifier=e,this.storeWrapper=t,this.isDestroyed=!1,this._isNew=!1,this._isDeleted=!1,this._bfsId=0,this.reset()}getResourceIdentifier(){return this.identifier}pushData(e,t){let n;return this._isNew&&(this._isNew=!1,this.notifyStateChange()),t&&(n=this._changedKeys(e.attributes)),Object.assign(this._data,e.attributes),this.__attributes&&this._updateChangedAttributes(),e.relationships&&this._setupRelationships(e),e.id&&(this.id||(this.id=a(e.id))),n}willCommit(){this._inFlightAttributes=this._attributes,this._attributes=null}hasChangedAttributes(){return null!==this.__attributes&&Object.keys(this.__attributes).length>0}_clearErrors(){this._errors&&(this._errors=void 0,this.storeWrapper.notifyErrorsChange(this.modelName,this.id,this.clientId))}getErrors(){return this._errors||[]}isEmpty(){return null===this.__attributes&&null===this.__inFlightAttributes&&null===this.__data}deleteRecord(){this._isDeleted=!0,this.notifyStateChange()}isDeleted(){return this._isDeleted}setIsDeleted(e){this._isDeleted=e,this._isNew&&this._deletionConfirmed(),this.notifyStateChange()}isDeletionCommitted(){return this._isDeletionCommited}reset(){this.__attributes=null,this.__inFlightAttributes=null,this.__data=null,this._errors=void 0}_setupRelationships(e){let t=this.storeWrapper.relationshipsDefinitionFor(this.modelName),n=Object.keys(t);for(let t=0;t<n.length;t++){let r=n[t];if(!e.relationships[r])continue;let i=e.relationships[r];D(this.storeWrapper).push({op:"updateRelationship",record:this.identifier,field:r,value:i})}}_updateChangedAttributes(){let e=this.changedAttributes(),t=Object.keys(e),n=this._attributes;for(let r=0,i=t.length;r<i;r++){let i=t[r],o=e[i];o[0]===o[1]&&delete n[i]}}changedAttributes(){let e=this._data,t=this._attributes,n={...this._inFlightAttributes,...t},r=Object.create(null),i=Object.keys(n);for(let t=0,o=i.length;t<o;t++){let o=i[t];r[o]=[e[o],n[o]]}return r}isNew(){return this._isNew}rollbackAttributes(){let e;return this._isDeleted=!1,this.hasChangedAttributes()&&(e=Object.keys(this._attributes),this._attributes=null),this.isNew()&&(this.removeFromInverseRelationships(),this._isDeleted=!0,this._isNew=!1),this._inFlightAttributes=null,this._clearErrors(),this.notifyStateChange(),e}_deletionConfirmed(){this.removeFromInverseRelationships()}didCommit(e){let t;this._isDeleted&&(this._deletionConfirmed(),this._isDeletionCommited=!0),this._isNew=!1,e&&(e.id&&(this.storeWrapper.setRecordId(this.modelName,e.id,this.clientId),this.id=a(e.id)),e.relationships&&this._setupRelationships(e),t=e.attributes);let n=this._changedKeys(t);return Object.assign(this._data,this.__inFlightAttributes,t),this._inFlightAttributes=null,this._updateChangedAttributes(),this._clearErrors(),this.notifyStateChange(),n}notifyStateChange(){this.storeWrapper.notifyStateChange(this.modelName,this.id,this.clientId)}getHasMany(e){return D(this.storeWrapper).get(this.identifier,e).getData()}setDirtyHasMany(e,t){D(this.storeWrapper).update({op:"replaceRelatedRecords",record:this.identifier,field:e,value:t.map(o.aL)})}addToHasMany(e,t,n){D(this.storeWrapper).update({op:"addToRelatedRecords",record:this.identifier,field:e,value:t.map(o.aL),index:n})}removeFromHasMany(e,t){D(this.storeWrapper).update({op:"removeFromRelatedRecords",record:this.identifier,field:e,value:t.map(o.aL)})}commitWasRejected(e,t){let n=Object.keys(this._inFlightAttributes);if(n.length>0){let e=this._attributes;for(let t=0;t<n.length;t++)void 0===e[n[t]]&&(e[n[t]]=this._inFlightAttributes[n[t]])}this._inFlightAttributes=null,t&&(this._errors=t),this.storeWrapper.notifyErrorsChange(this.modelName,this.id,this.clientId)}getBelongsTo(e){return D(this.storeWrapper).get(this.identifier,e).getData()}setDirtyBelongsTo(e,t){D(this.storeWrapper).update({op:"replaceRelatedRecord",record:this.identifier,field:e,value:t?(0,o.aL)(t):null})}setDirtyAttribute(e,t){let n;this._attributes[e]=t,n=e in this._inFlightAttributes?this._inFlightAttributes[e]:this._data[e],t===n&&delete this._attributes[e]}__setId(e){this.id!==e&&(this.id=e)}getAttr(e){return e in this._attributes?this._attributes[e]:e in this._inFlightAttributes?this._inFlightAttributes[e]:this._data[e]}hasAttr(e){return e in this._attributes||e in this._inFlightAttributes||e in this._data}unloadRecord(){this.isDestroyed||(D(this.storeWrapper).unload(this.identifier),this.reset(),this._scheduledDestroy||(this._scheduledDestroy=r._backburner.schedule("destroy",this,"_cleanupOrphanedRecordDatas")))}_cleanupOrphanedRecordDatas(){let e=this._allRelatedRecordDatas();(function(e){for(let t=0;t<e.length;++t)if(e[t].isRecordInUse())return!1;return!0})(e)&&this.storeWrapper._store._backburner.join((()=>{for(let t=0;t<e.length;++t){let n=e[t];n.isDestroyed||((0,o.hG)(n.identifier),n.destroy())}})),this._scheduledDestroy=null}destroy(){this.isDestroyed=!0,this.storeWrapper.disconnectRecord(this.modelName,this.id,this.clientId)}isRecordInUse(){return this.storeWrapper.isRecordInUse(this.modelName,this.id,this.clientId)}_allRelatedRecordDatas(){let e=[],t=[],n=L++;for(t.push(this),this._bfsId=n;t.length>0;){let r=t.shift();e.push(r);const i=this._directlyRelatedRecordDatasIterable().iterator();for(let e=i.next();!e.done;e=i.next()){const r=e.value;r&&r instanceof P&&r._bfsId<n&&(t.push(r),r._bfsId=n)}}return e}isAttrDirty(e){if(void 0===this._attributes[e])return!1;let t;return t=void 0!==this._inFlightAttributes[e]?this._inFlightAttributes[e]:this._data[e],t!==this._attributes[e]}get _attributes(){return null===this.__attributes&&(this.__attributes=Object.create(null)),this.__attributes}set _attributes(e){this.__attributes=e}get _data(){return null===this.__data&&(this.__data=Object.create(null)),this.__data}set _data(e){this.__data=e}get _inFlightAttributes(){return null===this.__inFlightAttributes&&(this.__inFlightAttributes=Object.create(null)),this.__inFlightAttributes}set _inFlightAttributes(e){this.__inFlightAttributes=e}_initRecordCreateOptions(e){let t={};if(void 0!==e){const{modelName:n,storeWrapper:r,identifier:i}=this;let o=r.attributesDefinitionFor(n),a=r.relationshipsDefinitionFor(n);const s=D(r);let l=Object.keys(e);for(let n=0;n<l.length;n++){let r=l[n],u=e[r];if("id"===r){this.id=u;continue}let c,d=a[r]||o[r];switch(void 0!==d?d.kind:null){case"attribute":this.setDirtyAttribute(r,u);break;case"belongsTo":this.setDirtyBelongsTo(r,u),c=s.get(i,r),c.state.hasReceivedData=!0,c.state.isEmpty=!1;break;case"hasMany":this.setDirtyHasMany(r,u),c=s.get(i,r),c.state.hasReceivedData=!0,c.state.isEmpty=!1;break;default:t[r]=u}}}return t}removeFromInverseRelationships(){D(this.storeWrapper).push({op:"deleteRecord",record:this.identifier,isNew:this.isNew()})}clientDidCreate(){this._isNew=!0}_changedKeys(e){let t=[];if(e){let n,r,o,a,s,l=Object.keys(e),u=l.length,c=this.hasChangedAttributes();for(c&&(s=this._attributes),n=Object.assign(Object.create(null),this._data,this.__inFlightAttributes),r=0;r<u;r++)a=l[r],o=e[a],!0===c&&void 0!==s[a]||(0,i.isEqual)(n[a],o)||t.push(a)}return t}toString(){return`<${this.modelName}:${this.id}>`}}function I(e){return"belongsTo"===e.definition.kind?e.remoteState?[e.remoteState]:[]:e.canonicalState}},76534:(e,t,n)=>{"use strict";n.d(t,{c8:()=>f,Cv:()=>p,PE:()=>c,IE:()=>g,KP:()=>y,wx:()=>h,iu:()=>d});var r=n(91251),i=(n(84287),n(96663)),o=n.n(i),a=n(33058),s=n.n(a),l=n(34149),u=n(9805);const c=s().create({normalize(e,t,n){let r=this._super(e,t,n);return this._extractEmbeddedRecords(this,this.store,e,r)},keyForRelationship(e,t,n){return"serialize"===n&&this.hasSerializeRecordsOption(e)||"deserialize"===n&&this.hasDeserializeRecordsOption(e)?this.keyForAttribute(e,n):this._super(e,t,n)||e},serializeBelongsTo(e,t,n){let r=n.key;if(this.noSerializeOptionSpecified(r))return void this._super(e,t,n);let i=this.hasSerializeIdsOption(r),o=this.hasSerializeRecordsOption(r),a=e.belongsTo(r);if(i){let r=this._getMappedKey(n.key,e.type);r===n.key&&this.keyForRelationship&&(r=this.keyForRelationship(n.key,n.kind,"serialize")),a?(t[r]=a.id,n.options.polymorphic&&this.serializePolymorphicType(e,t,n)):t[r]=null}else o&&this._serializeEmbeddedBelongsTo(e,t,n)},_serializeEmbeddedBelongsTo(e,t,n){let r=e.belongsTo(n.key),i=this._getMappedKey(n.key,e.type);i===n.key&&this.keyForRelationship&&(i=this.keyForRelationship(n.key,n.kind,"serialize")),r?(t[i]=r.serialize({includeId:!0}),this.removeEmbeddedForeignKey(e,r,n,t[i]),n.options.polymorphic&&this.serializePolymorphicType(e,t,n)):t[i]=null},serializeHasMany(e,t,n){let r=n.key;if(this.noSerializeOptionSpecified(r))this._super(e,t,n);else if(this.hasSerializeIdsOption(r)){let i=this._getMappedKey(n.key,e.type);i===n.key&&this.keyForRelationship&&(i=this.keyForRelationship(n.key,n.kind,"serialize")),t[i]=e.hasMany(r,{ids:!0})}else this.hasSerializeRecordsOption(r)?this._serializeEmbeddedHasMany(e,t,n):this.hasSerializeIdsAndTypesOption(r)&&this._serializeHasManyAsIdsAndTypes(e,t,n)},_serializeHasManyAsIdsAndTypes(e,t,n){let i=this.keyForAttribute(n.key,"serialize"),o=e.hasMany(n.key);t[i]=(0,r.A)(o).map((function(e){return{id:e.id,type:e.modelName}}))},_serializeEmbeddedHasMany(e,t,n){let r=this._getMappedKey(n.key,e.type);r===n.key&&this.keyForRelationship&&(r=this.keyForRelationship(n.key,n.kind,"serialize")),t[r]=this._generateSerializedHasMany(e,n)},_generateSerializedHasMany(e,t){let n=e.hasMany(t.key),i=(0,r.A)(n),o=new Array(i.length);for(let n=0;n<i.length;n++){let r=i[n],a=r.serialize({includeId:!0});this.removeEmbeddedForeignKey(e,r,t,a),o[n]=a}return o},removeEmbeddedForeignKey(e,t,n,r){if("belongsTo"===n.kind){let i=e.type.inverseFor(n.key,this.store);if(i){let e=i.name,n=this.store.serializerFor(t.modelName).keyForRelationship(e,i.kind,"deserialize");n&&delete r[n]}}},hasEmbeddedAlwaysOption(e){let t=this.attrsOption(e);return t&&"always"===t.embedded},hasSerializeRecordsOption(e){let t=this.hasEmbeddedAlwaysOption(e),n=this.attrsOption(e);return t||n&&"records"===n.serialize},hasSerializeIdsOption(e){let t=this.attrsOption(e);return t&&("ids"===t.serialize||"id"===t.serialize)},hasSerializeIdsAndTypesOption(e){let t=this.attrsOption(e);return t&&("ids-and-types"===t.serialize||"id-and-type"===t.serialize)},noSerializeOptionSpecified(e){let t=this.attrsOption(e);return!(t&&(t.serialize||t.embedded))},hasDeserializeRecordsOption(e){let t=this.hasEmbeddedAlwaysOption(e),n=this.attrsOption(e);return t||n&&"records"===n.deserialize},attrsOption(e){let t=this.get("attrs");return t&&(t[(0,l._A)(e)]||t[e])},_extractEmbeddedRecords(e,t,n,r){return n.eachRelationship(((n,i)=>{e.hasDeserializeRecordsOption(n)&&("hasMany"===i.kind&&this._extractEmbeddedHasMany(t,n,r,i),"belongsTo"===i.kind&&this._extractEmbeddedBelongsTo(t,n,r,i))})),r},_extractEmbeddedHasMany(e,t,n,r){let o=(0,i.get)(n,`data.relationships.${t}.data`);if(!o)return;let a=new Array(o.length);for(let t=0;t<o.length;t++){let i=o[t],{data:s,included:l}=this._normalizeEmbeddedRelationship(e,r,i);n.included=n.included||[],n.included.push(s),l&&(n.included=n.included.concat(l)),a[t]={id:s.id,type:s.type}}let s={data:a};(0,i.set)(n,`data.relationships.${t}`,s)},_extractEmbeddedBelongsTo(e,t,n,r){let o=(0,i.get)(n,`data.relationships.${t}.data`);if(!o)return;let{data:a,included:s}=this._normalizeEmbeddedRelationship(e,r,o);n.included=n.included||[],n.included.push(a),s&&(n.included=n.included.concat(s));let l={data:{id:a.id,type:a.type}};(0,i.set)(n,`data.relationships.${t}`,l)},_normalizeEmbeddedRelationship(e,t,n){let r=t.type;t.options.polymorphic&&(r=n.type);let i=e.modelFor(r);return e.serializerFor(r).normalize(i,n,null)},isEmbeddedRecordsMixin:!0});function d(e){return(0,i.get)(e,"attributes").has("type")||(0,i.get)(e,"relationshipsByName").has("type")}class h extends(o()){}class f extends h{deserialize(e,t){if((0,u.isNone)(e)&&!0===t.allowNull)return null;let n=typeof e;return"boolean"===n?e:"string"===n?/^(true|t|1)$/i.test(e):"number"===n&&1===e}serialize(e,t){return(0,u.isNone)(e)&&!0===t.allowNull?null:Boolean(e)}}class p extends h{deserialize(e){let t=typeof e;if("string"===t){let t=e.indexOf("+");return-1!==t&&e.length-5===t?(t+=3,new Date(e.slice(0,t)+":"+e.slice(t))):new Date(e)}return"number"===t?new Date(e):null==e?e:null}serialize(e){return e instanceof Date&&!isNaN(e)?e.toISOString():null}}function m(e){return e==e&&e!==1/0&&e!==-1/0}class g extends h{deserialize(e){let t;return""===e||null==e?null:(t=Number(e),m(t)?t:null)}serialize(e){let t;return""===e||null==e?null:(t=Number(e),m(t)?t:null)}}class y extends h{deserialize(e){return(0,u.isNone)(e)?null:String(e)}serialize(e){return(0,u.isNone)(e)?null:String(e)}}},35474:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(96663);const i=n.n(r)().extend({normalizeResponse:null,serialize:null,normalize:(e,t)=>t})},87433:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l}),n(84287);var r=n(34149),i=n(9805),o=n(78099),a=n(72440),s=n(44767);const l=a.Z.extend({_normalizeDocumentHelper(e){if("object"===(0,i.typeOf)(e.data))e.data=this._normalizeResourceHelper(e.data);else if(Array.isArray(e.data)){let t=new Array(e.data.length);for(let n=0;n<e.data.length;n++){let r=e.data[n];t[n]=this._normalizeResourceHelper(r)}e.data=t}if(Array.isArray(e.included)){let t=new Array;for(let n=0;n<e.included.length;n++){let r=e.included[n],i=this._normalizeResourceHelper(r);null!==i&&t.push(i)}e.included=t}return e},_normalizeRelationshipDataHelper(e){return e.type=this.modelNameFromPayloadKey(e.type),e},_normalizeResourceHelper(e){let t,n;if(t=this.modelNameFromPayloadKey(e.type),n="modelNameFromPayloadKey",!this.store._hasModelFor(t))return null;let r=this.store.modelFor(t),i=this.store.serializerFor(t),{data:o}=i.normalize(r,e);return o},pushPayload(e,t){let n=this._normalizeDocumentHelper(t);e.push(n)},_normalizeResponse(e,t,n,r,i,o){return this._normalizeDocumentHelper(n)},normalizeQueryRecordResponse(){return this._super(...arguments)},extractAttributes(e,t){let n={};return t.attributes&&e.eachAttribute((e=>{let r=this.keyForAttribute(e,"deserialize");void 0!==t.attributes[r]&&(n[e]=t.attributes[r])})),n},extractRelationship(e){if("object"===(0,i.typeOf)(e.data)&&(e.data=this._normalizeRelationshipDataHelper(e.data)),Array.isArray(e.data)){let t=new Array(e.data.length);for(let n=0;n<e.data.length;n++){let r=e.data[n];t[n]=this._normalizeRelationshipDataHelper(r)}e.data=t}return e},extractRelationships(e,t){let n={};return t.relationships&&e.eachRelationship(((e,r)=>{let i=this.keyForRelationship(e,r.kind,"deserialize");if(void 0!==t.relationships[i]){let r=t.relationships[i];n[e]=this.extractRelationship(r)}})),n},_extractType(e,t){return this.modelNameFromPayloadKey(t.type)},modelNameFromPayloadKey:e=>(0,o.C5)((0,s.$Z)(e)),payloadKeyFromModelName:e=>(0,o._6)(e),normalize(e,t){t.attributes&&this.normalizeUsingDeclaredMapping(e,t.attributes),t.relationships&&this.normalizeUsingDeclaredMapping(e,t.relationships);let n={id:this.extractId(e,t),type:this._extractType(e,t),attributes:this.extractAttributes(e,t),relationships:this.extractRelationships(e,t)};return this.applyTransforms(e,n.attributes),{data:n}},keyForAttribute:(e,t)=>(0,r.H0)(e),keyForRelationship:(e,t,n)=>(0,r.H0)(e),serialize(e,t){let n=this._super(...arguments);return n.type=this.payloadKeyFromModelName(e.modelName),{data:n}},serializeAttribute(e,t,n,r){let i=r.type;if(this._canSerialize(n)){t.attributes=t.attributes||{};let o=e.attr(n);i&&(o=this.transformFor(i).serialize(o,r.options));let a=this._getMappedKey(n,e.type);a===n&&(a=this.keyForAttribute(n,"serialize")),t.attributes[a]=o}},serializeBelongsTo(e,t,n){let r=n.key;if(this._canSerialize(r)){let n=e.belongsTo(r),i=n&&!n.isNew;if(null===n||i){t.relationships=t.relationships||{};let i=this._getMappedKey(r,e.type);i===r&&(i=this.keyForRelationship(r,"belongsTo","serialize"));let o=null;n&&(o={type:this.payloadKeyFromModelName(n.modelName),id:n.id}),t.relationships[i]={data:o}}}},serializeHasMany(e,t,n){let r=n.key;if(this.shouldSerializeHasMany(e,r,n)){let n=e.hasMany(r);if(void 0!==n){t.relationships=t.relationships||{};let i=this._getMappedKey(r,e.type);i===r&&this.keyForRelationship&&(i=this.keyForRelationship(r,"hasMany","serialize"));let o=n.filter((e=>e.record&&!e.record.get("isNew"))),a=new Array(o.length);for(let e=0;e<o.length;e++){let t=n[e],r=this.payloadKeyFromModelName(t.modelName);a[e]={type:r,id:t.id}}t.relationships[i]={data:a}}}}})},72440:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(35428),i=(n(84287),n(96663)),o=n(9805),a=n(35474),s=n(44767),l=n(29569),u=n(76534);const c=a.Z.extend({primaryKey:"id",mergedProperties:["attrs"],applyTransforms(e,t){let n=(0,i.get)(e,"attributes");return e.eachTransformedAttribute(((e,r)=>{if(void 0===t[e])return;let i=this.transformFor(r),o=n.get(e);t[e]=i.deserialize(t[e],o.options)})),t},normalizeResponse(e,t,n,r,i){switch(i){case"findRecord":return this.normalizeFindRecordResponse(...arguments);case"queryRecord":return this.normalizeQueryRecordResponse(...arguments);case"findAll":return this.normalizeFindAllResponse(...arguments);case"findBelongsTo":return this.normalizeFindBelongsToResponse(...arguments);case"findHasMany":return this.normalizeFindHasManyResponse(...arguments);case"findMany":return this.normalizeFindManyResponse(...arguments);case"query":return this.normalizeQueryResponse(...arguments);case"createRecord":return this.normalizeCreateRecordResponse(...arguments);case"deleteRecord":return this.normalizeDeleteRecordResponse(...arguments);case"updateRecord":return this.normalizeUpdateRecordResponse(...arguments)}},normalizeFindRecordResponse(e,t,n,r,i){return this.normalizeSingleResponse(...arguments)},normalizeQueryRecordResponse(e,t,n,r,i){return this.normalizeSingleResponse(...arguments)},normalizeFindAllResponse(e,t,n,r,i){return this.normalizeArrayResponse(...arguments)},normalizeFindBelongsToResponse(e,t,n,r,i){return this.normalizeSingleResponse(...arguments)},normalizeFindHasManyResponse(e,t,n,r,i){return this.normalizeArrayResponse(...arguments)},normalizeFindManyResponse(e,t,n,r,i){return this.normalizeArrayResponse(...arguments)},normalizeQueryResponse(e,t,n,r,i){return this.normalizeArrayResponse(...arguments)},normalizeCreateRecordResponse(e,t,n,r,i){return this.normalizeSaveResponse(...arguments)},normalizeDeleteRecordResponse(e,t,n,r,i){return this.normalizeSaveResponse(...arguments)},normalizeUpdateRecordResponse(e,t,n,r,i){return this.normalizeSaveResponse(...arguments)},normalizeSaveResponse(e,t,n,r,i){return this.normalizeSingleResponse(...arguments)},normalizeSingleResponse(e,t,n,r,i){return this._normalizeResponse(e,t,n,r,i,!0)},normalizeArrayResponse(e,t,n,r,i){return this._normalizeResponse(e,t,n,r,i,!1)},_normalizeResponse(e,t,n,r,i,o){let a={data:null,included:[]},s=this.extractMeta(e,t,n);if(s&&(a.meta=s),o){let{data:e,included:r}=this.normalize(t,n);a.data=e,r&&(a.included=r)}else{let e=new Array(n.length);for(let r=0,i=n.length;r<i;r++){let i=n[r],{data:o,included:s}=this.normalize(t,i);s&&(a.included=a.included.concat(s)),e[r]=o}a.data=e}return a},normalize(e,t){let n=null;return t&&(this.normalizeUsingDeclaredMapping(e,t),"object"===(0,o.typeOf)(t.links)&&this.normalizeUsingDeclaredMapping(e,t.links),n={id:this.extractId(e,t),type:e.modelName,attributes:this.extractAttributes(e,t),relationships:this.extractRelationships(e,t)},this.applyTransforms(e,n.attributes)),{data:n}},extractId(e,t){let n=t[(0,i.get)(this,"primaryKey")];return(0,l.IZ)(n)},extractAttributes(e,t){let n,r={};return e.eachAttribute((e=>{n=this.keyForAttribute(e,"deserialize"),void 0!==t[n]&&(r[e]=t[n])})),r},extractRelationship(e,t){if((0,o.isNone)(t))return null;if("object"===(0,o.typeOf)(t)){t.id&&(t.id=(0,l.IZ)(t.id));let n=this.store.modelFor(e);return t.type&&!(0,u.iu)(n)&&(t.type=this.modelNameFromPayloadKey(t.type)),t}return{id:(0,l.IZ)(t),type:e}},extractPolymorphicRelationship(e,t,n){return this.extractRelationship(e,t)},extractRelationships(e,t){let n={};return e.eachRelationship(((e,r)=>{let i=null,a=this.keyForRelationship(e,r.kind,"deserialize");if(void 0!==t[a]){let n=null,s=t[a];if("belongsTo"===r.kind)n=r.options.polymorphic?this.extractPolymorphicRelationship(r.type,s,{key:e,resourceHash:t,relationshipMeta:r}):this.extractRelationship(r.type,s);else if("hasMany"===r.kind&&!(0,o.isNone)(s))if(n=new Array(s.length),r.options.polymorphic)for(let i=0,o=s.length;i<o;i++){let o=s[i];n[i]=this.extractPolymorphicRelationship(r.type,o,{key:e,resourceHash:t,relationshipMeta:r})}else for(let e=0,t=s.length;e<t;e++){let t=s[e];n[e]=this.extractRelationship(r.type,t)}i={data:n}}let s=this.keyForLink(e,r.kind);if(t.links&&void 0!==t.links[s]){let e=t.links[s];i=i||{},i.links={related:e}}i&&(n[e]=i)})),n},modelNameFromPayloadKey:e=>(0,s.$Z)(e),normalizeRelationships(e,t){let n;this.keyForRelationship&&e.eachRelationship(((e,r)=>{n=this.keyForRelationship(e,r.kind,"deserialize"),e!==n&&void 0!==t[n]&&(t[e]=t[n],delete t[n])}))},normalizeUsingDeclaredMapping(e,t){let n,r,o=(0,i.get)(this,"attrs");if(o)for(let a in o)n=r=this._getMappedKey(a,e),void 0!==t[r]&&((0,i.get)(e,"attributes").has(a)&&(n=this.keyForAttribute(a)),(0,i.get)(e,"relationshipsByName").has(a)&&(n=this.keyForRelationship(a)),r!==n&&(t[n]=t[r],delete t[r]))},_getMappedKey(e,t){let n,r=(0,i.get)(this,"attrs");return r&&r[e]&&(n=r[e],n.key&&(n=n.key),"string"==typeof n&&(e=n)),e},_canSerialize(e){let t=(0,i.get)(this,"attrs");return!t||!t[e]||!1!==t[e].serialize},_mustSerialize(e){let t=(0,i.get)(this,"attrs");return t&&t[e]&&!0===t[e].serialize},shouldSerializeHasMany(e,t,n){let r=e.type.determineRelationshipType(n,this.store);return!!this._mustSerialize(t)||this._canSerialize(t)&&("manyToNone"===r||"manyToMany"===r)},serialize(e,t){let n={};if(t&&t.includeId){const t=e.id;t&&(n[(0,i.get)(this,"primaryKey")]=t)}return e.eachAttribute(((t,r)=>{this.serializeAttribute(e,n,t,r)})),e.eachRelationship(((t,r)=>{"belongsTo"===r.kind?this.serializeBelongsTo(e,n,r):"hasMany"===r.kind&&this.serializeHasMany(e,n,r)})),n},serializeIntoHash(e,t,n,r){Object.assign(e,this.serialize(n,r))},serializeAttribute(e,t,n,r){if(this._canSerialize(n)){let i=r.type,o=e.attr(n);i&&(o=this.transformFor(i).serialize(o,r.options));let a=this._getMappedKey(n,e.type);a===n&&this.keyForAttribute&&(a=this.keyForAttribute(n,"serialize")),t[a]=o}},serializeBelongsTo(e,t,n){let r=n.key;if(this._canSerialize(r)){let i=e.belongsTo(r,{id:!0}),a=this._getMappedKey(r,e.type);a===r&&this.keyForRelationship&&(a=this.keyForRelationship(r,"belongsTo","serialize")),(0,o.isNone)(i)?t[a]=null:t[a]=i,n.options.polymorphic&&this.serializePolymorphicType(e,t,n)}},serializeHasMany(e,t,n){let r=n.key;if(this.shouldSerializeHasMany(e,r,n)){let n=e.hasMany(r,{ids:!0});if(void 0!==n){let i=this._getMappedKey(r,e.type);i===r&&this.keyForRelationship&&(i=this.keyForRelationship(r,"hasMany","serialize")),t[i]=n}}},serializePolymorphicType(){},extractMeta(e,t,n){if(n&&void 0!==n.meta){let e=n.meta;return delete n.meta,e}},extractErrors(e,t,n,r){return n&&"object"==typeof n&&n.errors&&(n=(0,l.YT)(n.errors),this.normalizeUsingDeclaredMapping(t,n),t.eachAttribute((e=>{let t=this.keyForAttribute(e,"deserialize");t!==e&&void 0!==n[t]&&(n[e]=n[t],delete n[t])})),t.eachRelationship((e=>{let t=this.keyForRelationship(e,"deserialize");t!==e&&void 0!==n[t]&&(n[e]=n[t],delete n[t])}))),n},keyForAttribute:(e,t)=>e,keyForRelationship:(e,t,n)=>e,keyForLink:(e,t)=>e,transformFor(e,t){return(0,r.getOwner)(this).lookup("transform:"+e)}})},20118:(e,t,n)=>{"use strict";n.d(t,{P:()=>c.PE,Z:()=>d});var r=n(91251),i=(n(84287),n(34149)),o=n(9805),a=n(78099),s=n(72440),l=n(44767),u=n(29569),c=n(76534);const d=s.Z.extend({keyForPolymorphicType(e,t,n){return`${this.keyForRelationship(e)}Type`},_normalizeArray(e,t,n,i){let o={data:[],included:[]},a=e.modelFor(t),s=e.serializerFor(t);return(0,r.makeArray)(n).forEach((t=>{let{data:n,included:r}=this._normalizePolymorphicRecord(e,t,i,a,s);o.data.push(n),r&&(o.included=o.included.concat(r))})),o},_normalizePolymorphicRecord(e,t,n,r,i){let o=i,a=r;if(!(0,c.iu)(r)&&t.type){let n=this.modelNameFromPayloadKey(t.type);e._hasModelFor(n)&&(o=e.serializerFor(n),a=e.modelFor(n))}return o.normalize(a,t,n)},_normalizeResponse(e,t,n,r,i,o){let a={data:null,included:[]},s=this.extractMeta(e,t,n);s&&(a.meta=s);let l=Object.keys(n);for(var c=0,d=l.length;c<d;c++){var h=l[c],f=h,p=!1;"_"===h.charAt(0)&&(p=!0,f=h.substr(1));var m=this.modelNameFromPayloadKey(f);if(!e._hasModelFor(m))continue;var g=!p&&this.isPrimaryType(e,m,t),y=n[h];if(null===y)continue;if(g&&!Array.isArray(y)){let{data:n,included:r}=this._normalizePolymorphicRecord(e,y,h,t,this);a.data=n,r&&(a.included=a.included.concat(r));continue}let{data:i,included:s}=this._normalizeArray(e,m,y,h);s&&(a.included=a.included.concat(s)),o?i.forEach((e=>{let t=g&&(0,u.IZ)(e.id)===r;g&&!r&&!a.data||t?a.data=e:a.included.push(e)})):g?a.data=i:i&&(a.included=a.included.concat(i))}return a},isPrimaryType:(e,t,n)=>(0,l.$Z)(t)===n.modelName,pushPayload(e,t){let n={data:[],included:[]};for(var i in t){var o=this.modelNameFromPayloadKey(i);if(e._hasModelFor(o)){var a=e.modelFor(o),s=e.serializerFor(a.modelName);(0,r.makeArray)(t[i]).forEach((e=>{let{data:t,included:r}=s.normalize(a,e,i);n.data.push(t),r&&(n.included=n.included.concat(r))}))}}e.push(n)},modelNameFromPayloadKey:e=>(0,a.C5)((0,l.$Z)(e)),serialize(e,t){return this._super(...arguments)},serializeIntoHash(e,t,n,r){e[this.payloadKeyFromModelName(t.modelName)]=this.serialize(n,r)},payloadKeyFromModelName:e=>(0,i._A)(e),serializePolymorphicType(e,t,n){let r=n.key,a=this.keyForPolymorphicType(r,n.type,"serialize"),s=e.belongsTo(r);(0,o.isNone)(s)?t[a]=null:t[a]=(0,i._A)(s.modelName)},extractPolymorphicRelationship(e,t,n){let{key:r,resourceHash:i,relationshipMeta:o}=n,a=o.options.polymorphic,s=this.keyForPolymorphicType(r,e,"deserialize");return a&&void 0!==i[s]&&"object"!=typeof t?{id:t,type:this.modelNameFromPayloadKey(i[s])}:this._super(...arguments)}})},29569:(e,t,n)=>{"use strict";n.d(t,{AQ:()=>Vt,A:()=>It,B0:()=>$,YC:()=>U,gE:()=>Ut,eF:()=>Qt,mT:()=>xt,aC:()=>ce,yh:()=>yn,kM:()=>x,IZ:()=>_,ml:()=>K,YT:()=>ne,vX:()=>te,$Z:()=>S,uC:()=>ue,aL:()=>Ee,hG:()=>le});var r=n(35428),i=n(84287),o=n(65605),a=n.n(o),s=n(9805),l=n(36846),u=n(91251),c=n(96663),d=n(61417),h=n(8877),f=n.n(h),p=(n(7225),n(87073)),m=n.n(p),g=n(66683),y=n.n(g),v=n(91819),b=n.n(v);function w(e){let t=null;if("string"==typeof e?t=e.length>0?e:null:"number"!=typeof e||isNaN(e)||(t=""+e),null===t)throw new Error(`Expected id to be a string or number, received ${String(e)}`);return t}const _=function(e){return null==e||""===e?null:"string"==typeof e?e:"symbol"==typeof e?e.toString():""+e};var k=n(34149);function S(e){return(0,k.H0)(e)}Symbol("record-originated-on-client"),Symbol("identifier-bucket");class M extends WeakMap{constructor(e){super()}getWithError(e){return this.get(e)}lookup(e){let t=super.get(e);return void 0===t&&(t=this._generator(e),super.set(e,t)),t}}const x=M;function O(e){return"string"==typeof e&&e.length>0}const C=new WeakSet;function T(e){return C.has(e)}const R=(()=>{const e="undefined"!=typeof window;if("undefined"!=typeof FastBoot)return{getRandomValues(e){try{return FastBoot.require("crypto").randomFillSync(e)}catch(e){throw new Error('Using createRecord in Fastboot requires you to add the "crypto" package to "fastbootDependencies" in your package.json')}}};if(e&&void 0!==window.crypto)return window.crypto;throw new Error("ember-data: Cannot find a valid way to generate local identifiers")})(),D=[];for(let e=0;e<256;++e)D[e]=(e+256).toString(16).substr(1);function E(e,t){if("lid"in e&&O(e.lid))return e.lid;if("id"in e){let{type:t,id:n}=e;if(O(_(n)))return`@ember-data:lid-${S(t)}-${n}`}return function(){let e=function(){let e=new Uint8Array(16);return R.getRandomValues(e)}();return e[6]=15&e[6]|64,e[8]=63&e[8]|128,function(e){let t=D;return[t[e[0]],t[e[1]],t[e[2]],t[e[3]],"-",t[e[4]],t[e[5]],"-",t[e[6]],t[e[7]],"-",t[e[8]],t[e[9]],"-",t[e[10]],t[e[11]],t[e[12]],t[e[13]],t[e[14]],t[e[15]]].join("")}(e)}()}function A(){}class L{constructor(){this._cache={lids:Object.create(null),types:Object.create(null)},this._generate=void 0,this._update=void 0,this._forget=void 0,this._reset=void 0,this._merge=void 0,this._generate=E,this._update=A,this._forget=A,this._reset=A,this._merge=A}__configureMerge(e){this._merge=e||A}_getRecordIdentifier(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(T(e))return e;let n=_(e.lid),r=null!==n?this._cache.lids[n]:void 0;if(void 0!==r)return r;if(!1===t&&!("type"in e&&"id"in e&&e.type&&e.id))return;let i=e.type&&S(e.type),o=_(e.id),a=j(this._cache.types,i);if(null!==n&&(r=a.lid[n]),void 0===r&&null!==o&&(r=a.id[o]),void 0===r){let s=this._generate(e,"record");if(null!==n&&s!==n)throw new Error("You should not change the <lid> of a RecordIdentifier");null===n&&(r=a.lid[s]),!0===t&&(void 0===r&&(r=P(o,i,s,0),this._cache.lids[r.lid]=r,a.lid[r.lid]=r,a._allIdentifiers.push(r)),null!==r.id&&(a.id[r.id]=r))}return r}peekRecordIdentifier(e){return this._getRecordIdentifier(e,!1)}getOrCreateRecordIdentifier(e){return this._getRecordIdentifier(e,!0)}createIdentifierForNewRecord(e){let t=this._generate(e,"record"),n=P(e.id||null,e.type,t,0),r=j(this._cache.types,e.type);return this._cache.lids[n.lid]=n,r.lid[t]=n,r._allIdentifiers.push(n),n}updateRecordIdentifier(e,t){let n=this.getOrCreateRecordIdentifier(e),r="id"in t?_(t.id):null,i=function(e,t,n,r,i){const{id:o,type:a,lid:s}=t;if(null!==o&&o!==r&&null!==r){let n=j(e,t.type).id[r];return void 0!==n&&n}{let t="type"in n&&n.type&&S(n.type);if(null!==o&&o===r&&t===a&&n.lid&&n.lid!==s){let e=i[n.lid];return void 0!==e&&e}if(null!==o&&o===r&&t&&t!==a&&n.lid&&n.lid===s){let n=j(e,t).id[o];return void 0!==n&&n}}return!1}(this._cache.types,n,t,r,this._cache.lids);if(!i&&"type"in t&&t.type&&n.type!==S(t.type)){let e={...t};delete e.lid,i=this.getOrCreateRecordIdentifier(e)}if(i){let e=j(this._cache.types,n.type);n=this._mergeRecordIdentifiers(e,n,i,t,r)}let o=n.id;if(function(e,t,n){n(e,t,"record"),"id"in t&&void 0!==t.id&&(e.id=_(t.id))}(n,t,this._update),r=n.id,o!==r&&null!==r){let e=j(this._cache.types,n.type);e.id[r]=n,null!==o&&delete e.id[o]}return n}_mergeRecordIdentifiers(e,t,n,r,i){let o=this._merge(t,n,r),a=o===t?n:t;return this.forgetRecordIdentifier(a),e.id[i]=o,j(this._cache.types,n.type).id[i]=o,r.lid=o.lid,o}forgetRecordIdentifier(e){let t=this.getOrCreateRecordIdentifier(e),n=j(this._cache.types,t.type);null!==t.id&&delete n.id[t.id],delete this._cache.lids[t.lid],delete n.lid[t.lid];let r=n._allIdentifiers.indexOf(t);n._allIdentifiers.splice(r,1),function(e){C.delete(e)}(e),this._forget(t,"record")}destroy(){this._reset()}}function j(e,t){let n=e[t];return void 0===n&&(n={lid:Object.create(null),id:Object.create(null),_allIdentifiers:[]},e[t]=n),n}function P(e,t,n,r){let i={lid:n,id:e,type:t};return o=i,C.add(o),i;var o}const I=function(e,t,n){if("object"==typeof e&&null!==e){let t=e;return T(t)||"id"in t&&(t.id=_(t.id)),t}{const r=_(t);if(!O(r)){if(O(n))return{lid:n};throw new Error("Expected either id or lid to be a valid string")}return O(n)?{type:e,id:r,lid:n}:{type:e,id:r}}};var H=n(62029),N=n.n(H),F=n(88952),Y=n(49668),z=n.n(Y),B=n(19937),W=n.n(B);const $=N().extend(z(),{meta:(0,F.reads)("content.meta")});let U=W().extend(z());function V(e,t){return U.create({promise:v.Promise.resolve(e,t)})}function q(e,t){return $.create({promise:v.Promise.resolve(e,t)})}const G=["constructor","then","catch","finally"];function K(e){const t={get(e,t){return G.includes(t),Reflect.get(...arguments).bind(e)}};return new Proxy(e,t)}function Z(e,t){return V(e.then((e=>e.getRecord())),t)}const X=new(m()._Backburner)(["coalesce","sync","notify"]),J=/^\/?data\/(attributes|relationships)\/(.*)/,Q=/^\/?data/,ee="base";function te(e){let t=[];return(0,s.isPresent)(e)&&Object.keys(e).forEach((n=>{let r=(0,u.makeArray)(e[n]);for(let e=0;e<r.length;e++){let i="Invalid Attribute",o=`/data/attributes/${n}`;n===ee&&(i="Invalid Document",o="/data"),t.push({title:i,detail:r[e],source:{pointer:o}})}})),t}function ne(e){let t={};return(0,s.isPresent)(e)&&e.forEach((e=>{if(e.source&&e.source.pointer){let n=e.source.pointer.match(J);n?n=n[2]:-1!==e.source.pointer.search(Q)&&(n=ee),n&&(t[n]=t[n]||[],t[n].push(e.detail||e.title))}})),t}let re;!function(e){e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected"}(re||(re={}));const ie=Symbol("touching"),oe=Symbol("promise");class ae{constructor(){this._pending=Object.create(null),this._done=Object.create(null),this._subscriptions=Object.create(null)}enqueue(e,t){let n=t.data[0];if("recordIdentifier"in n){let r=n.recordIdentifier.lid,i="saveRecord"===n.op?"mutation":"query";this._pending[r]||(this._pending[r]=[]);let o={state:re.pending,request:t,type:i};o[ie]=[n.recordIdentifier],o[oe]=e,this._pending[r].push(o),this._triggerSubscriptions(o),e.then((e=>{this._dequeue(r,o);let n={state:re.fulfilled,request:t,type:i,response:{data:e}};n[ie]=o[ie],this._addDone(n),this._triggerSubscriptions(n)}),(e=>{this._dequeue(r,o);let n={state:re.rejected,request:t,type:i,response:{data:e&&e.error}};n[ie]=o[ie],this._addDone(n),this._triggerSubscriptions(n)}))}}_triggerSubscriptions(e){e[ie].forEach((t=>{this._subscriptions[t.lid]&&this._subscriptions[t.lid].forEach((t=>t(e)))}))}_dequeue(e,t){this._pending[e]=this._pending[e].filter((e=>e!==t))}_addDone(e){e[ie].forEach((t=>{this._done[t.lid]||(this._done[t.lid]=[]);let n=e.request.data[0].op;this._done[t.lid]=this._done[t.lid].filter((e=>{let t;return t=e.request.data instanceof Array?e.request.data[0]:e.request.data,t.op!==n})),this._done[t.lid].push(e)}))}subscribeForRecord(e,t){this._subscriptions[e.lid]||(this._subscriptions[e.lid]=[]),this._subscriptions[e.lid].push(t)}getPendingRequestsForRecord(e){return this._pending[e.lid]?this._pending[e.lid]:[]}getLastRequestForRecord(e){let t=this._done[e.lid];return t?t[t.length-1]:null}}const se=new x("");function le(e){se.delete(e)}function ue(e){return se.has(e)?se.get(e):(e._internalModel||e.internalModel||e)._recordData||null}class ce{constructor(e,t,n){this.__attributes=null,this._belongsToRelationships=Object.create(null),this._belongsToIds=Object.create(null),this._hasManyRelationships=Object.create(null),this._hasManyIds=Object.create(null),this._store=n;let r=this._internalModel=n._internalModelForResource(t);this.modelName=t.type,this.identifier=t,r.hasRecord&&this._attributes,this.id=t.id,this.adapterOptions=e.adapterOptions,this.include=e.include,this.modelName=r.modelName,r.hasRecord&&(this._changedAttributes=ue(r).changedAttributes())}get record(){return this._internalModel.getRecord()}get _attributes(){if(null!==this.__attributes)return this.__attributes;let e=this.record,t=this.__attributes=Object.create(null);return Object.keys(this._store._attributesDefinitionFor(this.identifier)).forEach((n=>{!0===this.type.isModel?t[n]=(0,c.get)(e,n):t[n]=ue(this._internalModel).getAttr(n)})),t}get type(){return this._internalModel.modelClass}get isNew(){return this._internalModel.isNew()}attr(e){if(e in this._attributes)return this._attributes[e]}attributes(){return{...this._attributes}}changedAttributes(){let e=Object.create(null);if(!this._changedAttributes)return e;let t=Object.keys(this._changedAttributes);for(let n=0,r=t.length;n<r;n++){let r=t[n];e[r]=this._changedAttributes[r].slice()}return e}belongsTo(e,t){let n,r,i=!(!t||!t.id),o=this._internalModel.store;if(!0===i&&e in this._belongsToIds)return this._belongsToIds[e];if(!1===i&&e in this._belongsToRelationships)return this._belongsToRelationships[e];o._relationshipMetaFor(this.modelName,null,e);const a=window.require("@ember-data/record-data/-private").graphFor,{identifier:s}=this;let l=a(this._store._storeWrapper).get(s,e).getData(),u=l&&l.data;return n=u?o._internalModelForResource(u):null,l&&void 0!==l.data&&(r=n&&!n.isDeleted()?i?n.id:n.createSnapshot():null),i?this._belongsToIds[e]=r:this._belongsToRelationships[e]=r,r}hasMany(e,t){let n,r=!(!t||!t.ids),i=this._hasManyIds[e],o=this._hasManyRelationships[e];if(!0===r&&e in this._hasManyIds)return i;if(!1===r&&e in this._hasManyRelationships)return o;let a=this._internalModel.store;a._relationshipMetaFor(this.modelName,null,e);const s=window.require("@ember-data/record-data/-private").graphFor,{identifier:l}=this;let u=s(this._store._storeWrapper).get(l,e).getData();return u.data&&(n=[],u.data.forEach((e=>{let t=a._internalModelForResource(e);t.isDeleted()||(r?n.push(e.id||null):n.push(t.createSnapshot()))}))),r?this._hasManyIds[e]=n:this._hasManyRelationships[e]=n,n}eachAttribute(e,t){let n=this._store._attributesDefinitionFor(this.identifier);Object.keys(n).forEach((r=>{e.call(t,r,n[r])}))}eachRelationship(e,t){let n=this._store._relationshipsDefinitionFor(this.identifier);Object.keys(n).forEach((r=>{e.call(t,r,n[r])}))}serialize(e){return this._store.serializerFor(this.modelName).serialize(this,e)}}function de(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){return e.apply(void 0,n)}}function he(e,t){let n=e.finally((()=>{t()||(n._subscribers.length=0)}));return n}function fe(e){return!((0,c.get)(e,"isDestroyed")||(0,c.get)(e,"isDestroying"))}function pe(e,t,n){return he((0,v.resolve)(e,n).then((t=>e)),(()=>fe(t)))}function me(e,t,n,r,i,o){return e.normalizeResponse(t,n,r,i,o)}const ge=Symbol("SaveOp");class ye{constructor(e){this._store=e,this._pendingFetch=new Map,this._pendingSave=[],this.requestCache=new ae,this.isDestroyed=!1}scheduleSave(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="DS: Model#save "+this,r=b().defer(n),i={data:[{op:"saveRecord",recordIdentifier:e,options:t}]},o={snapshot:new ce(t,e,this._store),resolver:r,identifier:e,options:t,queryRequest:i};return this._pendingSave.push(o),d._backburner.scheduleOnce("actions",this,this._flushPendingSaves),this.requestCache.enqueue(r.promise,o.queryRequest),r.promise}_flushPendingSave(e){let{snapshot:t,resolver:n,identifier:r,options:i}=e,o=this._store.adapterFor(r.type),a=i[ge],s=t._internalModel,l=t.modelName,u=this._store,c=u.modelFor(l),d=v.Promise.resolve().then((()=>o[a](u,c,t))),h=u.serializerFor(l),f=`DS: Extract and notify about ${a} completion of ${s}`;d=pe(d,u,f),d=he(d,de(fe,s)),d=d.then((e=>{if(e)return me(h,u,c,e,t.id,a)}),(function(e){if(e&&!0===e.isAdapterError&&"InvalidError"===e.code){let n=e.errors;throw n="function"==typeof h.extractErrors?h.extractErrors(u,c,e,t.id):ne(e.errors),{error:e,parsedErrors:n}}throw{error:e}}),f),n.resolve(d)}_flushPendingSaves(){let e=this._pendingSave.slice();this._pendingSave=[];for(let t=0,n=e.length;t<n;t++){let n=e[t];this._flushPendingSave(n)}}scheduleFetch(e,t,n){let r={data:[{op:"findRecord",recordIdentifier:e,options:t}]},i=this._pendingFetch.get(e.type);if(i){let t=i.filter((t=>t.identifier.id===e.id))[0];if(t)return t.resolver.promise}let o=e.id,a=e.type,s=b().defer(`Fetching ${a}' with id: ${o}`),l={identifier:e,resolver:s,options:t,queryRequest:r},u=s.promise;0===this._pendingFetch.size&&d._backburner.schedule("actions",this,this.flushAllPendingFetches);let c=this._pendingFetch;return c.has(a)||c.set(a,[]),c.get(a).push(l),this.requestCache.enqueue(u,l.queryRequest),u}_fetchRecord(e){let t=e.identifier,n=t.type,r=this._store.adapterFor(n),i=new ce(e.options,t,this._store),o=this._store.modelFor(t.type),a=v.Promise.resolve().then((()=>r.findRecord(this._store,o,t.id,i))),s=t.id,l=`DS: Handle Adapter#findRecord of '${n}' with id: '${s}'`;a=pe(a,this._store,l),a=a.then((e=>me(this._store.serializerFor(n),this._store,o,e,s,"findRecord")),(e=>{throw e}),`DS: Extract payload of '${n}'`),e.resolver.resolve(a)}handleFoundRecords(e,t,n){let r=Object.create(null),i=t.data,o=t.included||[];for(let t=0,n=i.length;t<n;t++){let n=i[t],a=e[n.id];r[n.id]=n;let s=o.concat(i);a&&a.resolver.resolve({data:n,included:s})}let a=[];for(let e=0,t=n.length;e<t;e++){let t=n[e];ve(t.id),r[t.id]||a.push(t)}a.length&&this.rejectFetchedItems(e,a)}rejectFetchedItems(e,t,n){for(let r=0,i=t.length;r<i;r++){let i=t[r];ve(i.id);let o=e[i.id];o&&o.resolver.reject(n||new Error(`Expected: '<${i.modelName}:${i.id}>' to be present in the adapter provided payload, but it was not found.`))}}_findMany(e,t,n,r,i,o){let a=t.modelFor(n),s=r.map((e=>e.id)),l=e.findMany(t,a,s,(0,u.A)(r)),c=`DS: Handle Adapter#findMany of '${n}'`;if(void 0===l)throw new Error("adapter.findMany returned undefined, this was very likely a mistake");return l=pe(l,t,c),l.then((e=>me(t.serializerFor(n),t,a,e,null,"findMany")),null,`DS: Extract payload of ${n}`)}_processCoalescedGroup(e,t,n,r,i){let o=t.length,a=new Array(o),s=new Array(o);for(let e=0;e<o;e++)s[e]=t[e],a[e]=s[e].id;let l=this._store;if(o>1)this._findMany(n,l,i,t,s,r).then((t=>{this.handleFoundRecords(e,t,s)})).catch((t=>{this.rejectFetchedItems(e,s,t)}));else if(1===a.length){let t=e[s[0].id];this._fetchRecord(t)}}_flushPendingFetchForType(e,t){let n=this._store.adapterFor(t),r=!!n.findMany&&n.coalesceFindRequests,i=e.length,o=new Array(i),a=Object.create(null),s=new x("");for(let t=0;t<i;t++){let n=e[t],r=n.identifier;o[t]=r,s.set(r,n.options),a[r.id]=n}if(r){let e,r=new Array(i);for(let e=0;e<i;e++){let t=s.get(o[e]);r[e]=new ce(t,o[e],this._store)}e=n.groupRecordsForFindMany?n.groupRecordsForFindMany(this,r):[r];for(let r=0,i=e.length;r<i;r++)this._processCoalescedGroup(a,e[r],n,s,t)}else for(let t=0;t<i;t++)this._fetchRecord(e[t])}getPendingFetch(e,t){let n=this.requestCache.getPendingRequestsForRecord(e).filter((e=>"query"===e.type&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.include===t.include}(t,e.request.data[0].options)));if(n.length>0)return n[0][oe]}flushAllPendingFetches(){this.isDestroyed||(this._pendingFetch.forEach(this._flushPendingFetchForType,this),this._pendingFetch.clear())}destroy(){this.isDestroyed=!0}}function ve(e){}var be=n(56063),we=n(23570),_e=n(34158);const ke=new x("");ke._generator=()=>new Map;const Se=new x("");function Me(e){let t=Se.get(e);if(!t)throw new Error("Passed unknown unsubscribe token to unsubscribe");Se.delete(e);const n=ke.get(t);null==n||n.delete(e)}class xe{constructor(e){this.store=e}subscribe(e,t){let n=this.store.identifierCache.getOrCreateRecordIdentifier(e),r={};return ke.lookup(n).set(r,t),Se.set(r,n),r}notify(e,t,n){let r=this.store.identifierCache.getOrCreateRecordIdentifier(e),i=ke.get(r);return!(!i||!i.size||(i.forEach((e=>{e(r,t,n)})),0))}}class Oe{constructor(e){this._idToModel=Object.create(null),this._models=[],this.modelName=e}get(e){return this._idToModel[e]||null}has(e){return!!this._idToModel[e]}get length(){return this._models.length}get recordIdentifiers(){return this._models.map((e=>e.identifier))}set(e,t){this._idToModel[e]=t}add(e,t){t&&(this._idToModel[t]=e),this._models.push(e)}remove(e,t){delete this._idToModel[t];let n=this._models.indexOf(e);-1!==n&&this._models.splice(n,1)}contains(e){return-1!==this._models.indexOf(e)}get models(){return this._models}clear(){let e=this._models;this._models=[];for(let t=0;t<e.length;t++)e[t].unloadRecord()}}class Ce{constructor(){this._map=Object.create(null)}retrieve(e){let t=this._map[e];return void 0===t&&(t=this._map[e]=new Oe(e)),t}clear(){let e=this._map,t=Object.keys(e);for(let n=0;n<t.length;n++)e[t[n]].clear()}}const Te=new x("");Te._generator=e=>new je(e);const Re=new x("");function De(e){return Re.get(e)}function Ee(e){return Re.getWithError(e)}function Ae(e,t){Re.set(e,t)}function Le(e){return Te.lookup(e)}class je{constructor(e){this.store=e,this.identifierCache=e.identifierCache,this.identifierCache.__configureMerge(((e,t,n)=>{let r=e;e.id!==t.id?r="id"in n&&e.id===n.id?e:t:e.type!==t.type&&(r="type"in n&&e.type===n.type?e:t);let i=e===r?t:e;const o=this.modelMapFor(e.type);let a=o.get(r.lid),s=o.get(i.lid);if(a&&s&&a.hasRecord&&s.hasRecord&&"id"in n)throw new Error(`Failed to update the 'id' for the RecordIdentifier '${e.type}:${e.id} (${e.lid})' to '${n.id}', because that id is already in use by '${t.type}:${t.id} (${t.lid})'`);return s&&o.remove(s,i.lid),null===a&&null===s||(null===a&&null!==s||a&&!a.hasRecord&&s&&s.hasRecord)&&(a&&o.remove(a,r.lid),a=s,a._id=r.id,o.add(a,r.lid)),r})),this._identityMap=new Ce}lookup(e,t){void 0!==t&&this.identifierCache.getOrCreateRecordIdentifier(t);const n=this.identifierCache.getOrCreateRecordIdentifier(e),r=this.peek(n);return r?(r.hasScheduledDestroy()&&r.cancelDestroy(),r):this._build(n,!1)}peek(e){return this.modelMapFor(e.type).get(e.lid)}getByResource(e){const t=I(e);return this.lookup(t)}setRecordId(e,t,n){const r={type:e,id:null,lid:n},i=this.identifierCache.getOrCreateRecordIdentifier(r),o=this.peek(i);if(null===o)throw new Error(`Cannot set the id ${t} on the record ${e}:${n} as there is no such record in the cache.`);let a=o.id,s=o.modelName;null!==a&&null===t||(this.peekById(s,t),null===i.id&&this.identifierCache.updateRecordIdentifier(i,{type:e,id:t}),o.setId(t,!0))}peekById(e,t){const n=this.identifierCache.peekRecordIdentifier({type:e,id:t});let r=n?this.modelMapFor(e).get(n.lid):null;return r&&r.hasScheduledDestroy()&&(r.destroySync(),r=null),r}build(e){return this._build(e,!0)}_build(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!0===t&&e.id&&this.peekById(e.type,e.id);const{identifierCache:n}=this;let r;r=!0===t?n.createIdentifierForNewRecord(e):e;let i=new It(this.store,r);return this.modelMapFor(e.type).add(i,r.lid),i}remove(e){let t=this.modelMapFor(e.modelName),n=e.identifier.lid;t.remove(e,n);const{identifier:r}=e;this.identifierCache.forgetRecordIdentifier(r)}modelMapFor(e){return this._identityMap.retrieve(e)}clear(e){void 0===e?this._identityMap.clear():this.modelMapFor(e).clear()}}function Pe(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Ie=0;function He(e){return"__private_"+Ie+++"_"+e}function Ne(e){return e&&e.links&&e.links.related}var Fe=He("identifier");const Ye=class{constructor(e,t){Object.defineProperty(this,Fe,{writable:!0,value:void 0}),this.store=e,Pe(this,Fe)[Fe]=t}get recordData(){return this.store.recordDataFor(Pe(this,Fe)[Fe],!1)}_resource(){}remoteType(){return Ne(this._resource())?"link":"id"}link(){let e,t=this._resource();return Ne(t)&&t.links&&(e=t.links.related,e=e&&"string"!=typeof e?e.href:e),e||null}links(){let e=this._resource();return e&&e.links?e.links:null}meta(){let e=null,t=this._resource();return t&&t.meta&&"object"==typeof t.meta&&(e=t.meta),e}};var ze,Be,We,$e;function Ue(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Ve=0;function qe(e){return"__private_"+Ve+++"_"+e}function Ge(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let Ke=(We=qe("token"),$e=qe("relatedToken"),Be=Ge((ze=class extends Ye{constructor(e,t,n,r){var i;super(e,t),Object.defineProperty(this,We,{writable:!0,value:void 0}),Object.defineProperty(this,$e,{writable:!0,value:null}),(i=Be)&&Object.defineProperty(this,"_ref",{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(this):void 0}),this.key=r,this.belongsToRelationship=n,this.type=n.definition.type;const o=Le(e).peek(t);this.parent=o.recordReference,this.parentIdentifier=t,Ue(this,We)[We]=e._notificationManager.subscribe(t,((e,t,n)=>{"relationships"!==t&&"property"!==t||n!==r||this._ref++}))}destroy(){Me(Ue(this,We)[We]),Ue(this,$e)[$e]&&Me(Ue(this,$e)[$e])}get _relatedIdentifier(){this._ref,Ue(this,$e)[$e]&&Me(Ue(this,$e)[$e]);let e=this._resource();if(e&&e.data){const t=this.store.identifierCache.getOrCreateRecordIdentifier(e.data);return Ue(this,$e)[$e]=this.store._notificationManager.subscribe(t,((e,t,n)=>{"identity"!==t&&("attributes"!==t&&"property"!==t||"id"!==n)||this._ref++})),t}return null}id(){var e;return(null===(e=this._relatedIdentifier)||void 0===e?void 0:e.id)||null}_resource(){return this.recordData.getBelongsTo(this.key)}async push(e){const t=await(0,v.resolve)(e);let n=this.store.push(t);const{graph:r,identifier:i}=this.belongsToRelationship;return this.store._backburner.join((()=>{r.push({op:"replaceRelatedRecord",record:i,field:this.key,value:Ee(n)})})),n}value(){let e=this._resource();if(e&&e.data){let t=this.store._internalModelForResource(e.data);if(t&&t.currentState.isLoaded)return t.getRecord()}return null}load(e){return Le(this.store).peek(this.parentIdentifier).getBelongsTo(this.key,e)}reload(e){return Le(this.store).peek(this.parentIdentifier).reloadBelongsTo(this.key,e).then((e=>this.value()))}}).prototype,"_ref",[we.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ge(ze.prototype,"_relatedIdentifier",[_e.H,be.dependentKeyCompat],Object.getOwnPropertyDescriptor(ze.prototype,"_relatedIdentifier"),ze.prototype),ze);var Ze,Xe,Je,Qe,et;function tt(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var nt=0;function rt(e){return"__private_"+nt+++"_"+e}function it(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let ot=(Je=rt("token"),Qe=rt("identifier"),et=rt("relatedTokenMap"),Xe=it((Ze=class extends Ye{constructor(e,t,n,r){var i;super(e,t),Object.defineProperty(this,Je,{writable:!0,value:void 0}),Object.defineProperty(this,Qe,{writable:!0,value:void 0}),Object.defineProperty(this,et,{writable:!0,value:void 0}),(i=Xe)&&Object.defineProperty(this,"_ref",{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(this):void 0}),this.key=r,this.hasManyRelationship=n,this.type=n.definition.type,this.parent=Le(e).peek(t).recordReference,tt(this,Qe)[Qe]=t,tt(this,Je)[Je]=e._notificationManager.subscribe(t,((e,t,n)=>{"relationships"!==t&&"property"!==t||n!==r||this._ref++})),tt(this,et)[et]=new Map}destroy(){Me(tt(this,Je)[Je]),tt(this,et)[et].forEach((e=>{Me(e)})),tt(this,et)[et].clear()}get _relatedIdentifiers(){this._ref;let e=this._resource();return tt(this,et)[et].forEach((e=>{Me(e)})),tt(this,et)[et].clear(),e&&e.data?e.data.map((e=>{const t=this.store.identifierCache.getOrCreateRecordIdentifier(e),n=this.store._notificationManager.subscribe(t,((e,t,n)=>{"identity"!==t&&("attributes"!==t&&"property"!==t||"id"!==n)||this._ref++}));return tt(this,et)[et].set(t,n),t})):[]}_resource(){return this.recordData.getHasMany(this.key)}remoteType(){let e=this._resource();return e&&e.links&&e.links.related?"link":"ids"}ids(){return this._relatedIdentifiers.map((e=>e.id))}async push(e){const t=await(0,v.resolve)(e);let n;n=!Array.isArray(t)&&"object"==typeof t&&Array.isArray(t.data)?t.data:t;const r=Le(this.store).peek(tt(this,Qe)[Qe]),{store:i}=this;let o=n.map((e=>{let t;return t="data"in e?i.push(e):i.push({data:e}),Ee(t)}));const{graph:a,identifier:s}=this.hasManyRelationship;return i._backburner.join((()=>{a.push({op:"replaceRelatedRecords",record:s,field:this.key,value:o})})),r.getHasMany(this.key)}_isLoaded(){return!!this.hasManyRelationship.state.hasReceivedData&&this.hasManyRelationship.currentState.every((e=>!0===this.store._internalModelForResource(e).currentState.isLoaded))}value(){const e=Le(this.store).peek(tt(this,Qe)[Qe]);return this._isLoaded()?e.getManyArray(this.key):null}load(e){return Le(this.store).peek(tt(this,Qe)[Qe]).getHasMany(this.key,e)}reload(e){return Le(this.store).peek(tt(this,Qe)[Qe]).reloadHasMany(this.key,e)}}).prototype,"_ref",[we.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),it(Ze.prototype,"_relatedIdentifiers",[_e.H,be.dependentKeyCompat],Object.getOwnPropertyDescriptor(Ze.prototype,"_relatedIdentifiers"),Ze.prototype),Ze);var at,st,lt,ut;function ct(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var dt=0;function ht(e){return"__private_"+dt+++"_"+e}function ft(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let pt=(lt=ht("token"),ut=ht("identifier"),at=class extends Ye{constructor(e,t){var n;super(e,t),Object.defineProperty(this,lt,{writable:!0,value:void 0}),Object.defineProperty(this,ut,{writable:!0,value:void 0}),(n=st)&&Object.defineProperty(this,"_ref",{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(this):void 0}),this.store=e,ct(this,ut)[ut]=t,ct(this,lt)[lt]=e._notificationManager.subscribe(t,((e,t,n)=>{"identity"!==t&&("attributes"!==t&&"property"!==t||"id"!==n)||this._ref++}))}destroy(){Me(ct(this,lt)[lt])}get type(){return this.identifier().type}get _id(){this._ref;let e=this.identifier();return e?e.id:null}id(){return this._id}identifier(){return ct(this,ut)[ut]}remoteType(){return"identity"}push(e){return(0,v.resolve)(e).then((e=>this.store.push(e)))}value(){if(null!==this.id()){let e=Le(this.store).peek(ct(this,ut)[ut]);if(e&&e.currentState.isLoaded)return e.getRecord()}return null}load(){const e=this.id();if(null!==e)return this.store.findRecord(this.type,e);throw new Error(`Unable to fetch record of type ${this.type} without an id`)}reload(){const e=this.id();if(null!==e)return this.store.findRecord(this.type,e,{reload:!0});throw new Error(`Unable to fetch record of type ${this.type} without an id`)}},st=ft(at.prototype,"_ref",[we.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ft(at.prototype,"_id",[_e.H,be.dependentKeyCompat],Object.getOwnPropertyDescriptor(at.prototype,"_id"),at.prototype),at);function mt(e,t){t.isDirty?e.send("becomeDirty"):e.send("propertyWasReset")}const gt={initialState:"uncommitted",isDirty:!0,uncommitted:{didSetProperty:mt,loadingData(){},propertyWasReset(e,t){e.hasChangedAttributes()||e.send("rolledBack")},pushedData(e){e.hasChangedAttributes()||e.transitionTo("loaded.saved")},becomeDirty(){},willCommit(e){e.transitionTo("inFlight")},reloadRecord(e,t){let{resolve:n,options:r}=t;n(e.store._reloadRecord(e,r))},rolledBack(e){e.transitionTo("loaded.saved"),e.triggerLater("rolledBack")},becameInvalid(e){e.transitionTo("invalid")},rollback(e){e.rollbackAttributes(),e.triggerLater("ready")}},inFlight:{isSaving:!0,didSetProperty:mt,becomeDirty(){},pushedData(){},unloadRecord:St,willCommit(){},didCommit(e){e.transitionTo("saved"),e.send("invokeLifecycleCallbacks",this.dirtyType)},rolledBack(e){e.triggerLater("rolledBack")},becameInvalid(e){e.transitionTo("invalid"),e.send("invokeLifecycleCallbacks")},becameError(e){e.transitionTo("uncommitted"),e.triggerLater("becameError",e)}},invalid:{isValid:!1,deleteRecord(e){e.transitionTo("deleted.uncommitted")},didSetProperty(e,t){e.getRecord().errors._remove(t.name),mt(e,t),e.hasErrors()||this.becameValid(e)},becameInvalid(){},becomeDirty(){},pushedData(){},willCommit(e){Mt(e),e.transitionTo("inFlight")},rolledBack(e){Mt(e),e.transitionTo("loaded.saved"),e.triggerLater("ready")},becameValid(e){e.transitionTo("uncommitted")},invokeLifecycleCallbacks(e){e.triggerLater("becameInvalid",e)}}};function yt(e){const t={};let n;for(let r in e)n=e[r],t[r]=n&&"object"==typeof n?yt(n):n;return t}function vt(e,t){for(let n in t)e[n]=t[n];return e}function bt(e){return vt(yt(gt),e)}const wt=bt({dirtyType:"created",isNew:!0,setup(e){e.store.recordArrayManager.recordDidChange(e.identifier)}});wt.invalid.rolledBack=function(e){e.transitionTo("deleted.saved"),e.triggerLater("rolledBack")},wt.uncommitted.rolledBack=function(e){e.transitionTo("deleted.saved"),e.triggerLater("rolledBack")};const _t=bt({dirtyType:"updated"});function kt(e){e.transitionTo("deleted.saved"),e.send("invokeLifecycleCallbacks")}function St(e){}function Mt(e){e.getRecord().errors._clear()}wt.uncommitted.deleteRecord=kt,wt.invalid.deleteRecord=kt,wt.uncommitted.rollback=function(e){gt.uncommitted.rollback.apply(this,arguments),e.transitionTo("deleted.saved")},wt.uncommitted.pushedData=function(e){e.store._notificationManager.notify(e.identifier,"identity"),e.transitionTo("loaded.updated.uncommitted"),e.triggerLater("didLoad")},wt.uncommitted.propertyWasReset=function(){},_t.invalid.becameValid=function(e){e.transitionTo("loaded.saved")},_t.inFlight.unloadRecord=St,_t.uncommitted.deleteRecord=function(e){e.transitionTo("deleted.uncommitted")},_t.invalid.rolledBack=function(e){Mt(e),e.transitionTo("loaded.saved"),e.triggerLater("rolledBack")};const xt=function e(t,n,r){(t=vt(n?Object.create(n):{},t)).parentState=n,t.stateName=r;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&"parentState"!==n&&"stateName"!==n&&"object"==typeof t[n]&&(t[n]=e(t[n],t,r+"."+n));return t}({isEmpty:!1,isLoading:!1,isLoaded:!1,isDirty:!1,isSaving:!1,isDeleted:!1,isNew:!1,isValid:!0,rolledBack(){},unloadRecord(e){},propertyWasReset(){},empty:{isEmpty:!0,loadingData(e,t){e.transitionTo("loading")},loadedData(e){e.transitionTo("loaded.created.uncommitted"),e.triggerLater("ready")},pushedData(e){e.transitionTo("loaded.saved"),e.triggerLater("didLoad"),e.triggerLater("ready")},notFound(){}},loading:{isLoading:!0,exit(e){e._promiseProxy=null},loadingData(){},pushedData(e){e.transitionTo("loaded.saved"),e.triggerLater("didLoad"),e.triggerLater("ready"),e.didCleanError()},becameError(e){e.triggerLater("becameError",e)},notFound(e){e.transitionTo("empty")}},loaded:{initialState:"saved",isLoaded:!0,loadingData(){},saved:{setup(e){e.hasChangedAttributes()&&e.adapterDidDirty()},didSetProperty:mt,pushedData(){},becomeDirty(e){e.transitionTo("updated.uncommitted")},willCommit(e){e.transitionTo("updated.inFlight")},reloadRecord(){},deleteRecord(e){e.transitionTo("deleted.uncommitted")},unloadRecord(e){},didCommit(){},notFound(){}},created:wt,updated:_t},deleted:{initialState:"uncommitted",dirtyType:"deleted",isDeleted:!0,isLoaded:!0,isDirty:!0,setup(e){e.store.recordArrayManager.recordDidChange(e.identifier)},uncommitted:{willCommit(e){e.transitionTo("inFlight")},rollback(e){e.rollbackAttributes(),e.triggerLater("ready")},pushedData(){},becomeDirty(){},deleteRecord(){},rolledBack(e){e.transitionTo("loaded.saved"),e.triggerLater("ready"),e.triggerLater("rolledBack")}},inFlight:{isSaving:!0,unloadRecord:St,willCommit(){},didCommit(e){e.transitionTo("saved"),e.send("invokeLifecycleCallbacks")},becameError(e){e.transitionTo("uncommitted"),e.triggerLater("becameError",e)},becameInvalid(e){e.transitionTo("invalid"),e.triggerLater("becameInvalid",e)}},saved:{isDirty:!1,setup(e){e.removeFromInverseRelationships()},invokeLifecycleCallbacks(e){e.triggerLater("didDelete",e),e.triggerLater("didCommit",e)},willCommit(){},didCommit(){},pushedData(){}},invalid:{isValid:!1,didSetProperty(e,t){e.getRecord().errors._remove(t.name),mt(e,t),e.hasErrors()||this.becameValid(e)},becameInvalid(){},becomeDirty(){},deleteRecord(){},willCommit(){},rolledBack(e){Mt(e),e.transitionTo("loaded.saved"),e.triggerLater("ready")},becameValid(e){e.transitionTo("uncommitted")}}},invokeLifecycleCallbacks(e,t){"created"===t?e.triggerLater("didCreate",e):e.triggerLater("didUpdate",e),e.triggerLater("didCommit",e)}},null,"root");window.define("@ember-data/model/-private",(function(){return(0,l.Z)(n(56448))}));const{hasOwnProperty:Ot}=Object.prototype;let Ct,Tt,Rt,Dt,Et=!1;Dt=function(){if(!Et){let e=window.require("@ember-data/model/-private");({ManyArray:Ct,PromiseBelongsTo:Tt,PromiseManyArray:Rt}=e),Ct&&Tt&&Rt&&(Et=!0)}return Et};const At=Object.create(null),Lt=Object.create(null),jt=Object.create(null);function Pt(e){return jt[e]||(jt[e]=e.split("."))}class It{constructor(e,t){this.store=e,this.identifier=t,Dt(),this._id=t.id,this._isUpdatingId=!1,this.modelName=t.type,this.clientId=t.lid,this.__recordData=null,this._promiseProxy=null,this._isDestroyed=!1,this._doNotDestroy=!1,this.isError=!1,this._pendingRecordArrayManagerFlush=!1,this._isDematerializing=!1,this._scheduledDestroy=null,this._record=null,this.error=null,this._modelClass=null,this.__recordArrays=null,this._recordReference=null,this.__recordData=null,this.error=null,this._manyArrayCache=Object.create(null),this._relationshipPromisesCache=Object.create(null),this._relationshipProxyCache=Object.create(null),this.references=Object.create(null),this._deferredTriggers=[],this.currentState=xt.empty}get id(){return this.identifier.id}set id(e){if(e!==this._id){let t={type:this.identifier.type,lid:this.identifier.lid,id:e};this.store.identifierCache.updateRecordIdentifier(this.identifier,t),this.notifyPropertyChange("id")}}get modelClass(){if(this.store.modelFor)return this._modelClass||(this._modelClass=this.store.modelFor(this.modelName))}get recordReference(){return null===this._recordReference&&(this._recordReference=new pt(this.store,this.identifier)),this._recordReference}get _recordData(){if(null===this.__recordData){let e=this.store._createRecordData(this.identifier);return this.__recordData=e,e}return this.__recordData}set _recordData(e){this.__recordData=e}isHiddenFromRecordArrays(){if(this.currentState.isEmpty)return!0;if(this.currentState.isLoading)return!1;let e=this._isRecordFullyDeleted();return this._isDematerializing||this.hasScheduledDestroy()||this.isDestroyed||e}_isRecordFullyDeleted(){return!(!this._recordData.isDeletionCommitted||!this._recordData.isDeletionCommitted())||!!(this._recordData.isNew&&this._recordData.isDeleted&&this._recordData.isNew()&&this._recordData.isDeleted())||"root.deleted.saved"===this.currentState.stateName}isDeleted(){return this._recordData.isDeleted?this._recordData.isDeleted():this.currentState.isDeleted}isNew(){return this._recordData.isNew?this._recordData.isNew():this.currentState.isNew}getRecord(e){if(!this._record&&!this._isDematerializing){let{store:t}=this;this._record=t._instantiateRecord(this,this.modelName,this._recordData,this.identifier,e),this._triggerDeferredTriggers()}return this._record}dematerializeRecord(){this._isDematerializing=!0,this._doNotDestroy=!1,this._record&&this.store.teardownRecord(this._record),this.store._backburner.join((()=>{this._recordData.unloadRecord()})),this._record&&Object.keys(this._relationshipProxyCache).forEach((e=>{this._relationshipProxyCache[e].destroy&&this._relationshipProxyCache[e].destroy(),delete this._relationshipProxyCache[e]})),this._record=null,this.error=null,this._previousState=this.currentState,this.currentState=xt.empty,this.store.recordArrayManager.recordDidChange(this.identifier)}deleteRecord(){(0,d.run)((()=>{this.store._backburner.run((()=>{this._recordData.setIsDeleted&&this._recordData.setIsDeleted(!0),this.isNew()?(this._deletedRecordWasNew=!0,this.send("deleteRecord"),this._triggerDeferredTriggers(),this.unloadRecord()):this.send("deleteRecord")}))}))}save(e){if(this._deletedRecordWasNew)return v.Promise.resolve();let t="DS: Model#save "+this,n=b().defer(t);return this.store.scheduleSave(this,n,e)}reload(e){e||(e={});let t=this;return t.store._reloadRecord(t,e).then((function(){return t}),(function(e){throw e}),"DS: Model#reload complete, update flags")}unloadRecord(){this.isDestroyed||(this.send("unloadRecord"),this.dematerializeRecord(),null===this._scheduledDestroy&&(this._scheduledDestroy=d._backburner.schedule("destroy",this,"_checkForOrphanedInternalModels")))}hasScheduledDestroy(){return!!this._scheduledDestroy}cancelDestroy(){this._doNotDestroy=!0,this._isDematerializing=!1,(0,d.cancel)(this._scheduledDestroy),this._scheduledDestroy=null}destroySync(){this._isDematerializing&&this.cancelDestroy(),this._checkForOrphanedInternalModels(),this.isDestroyed||this.isDestroying||this.destroy()}_checkForOrphanedInternalModels(){this._isDematerializing=!1,this._scheduledDestroy=null,this.isDestroyed}_findBelongsTo(e,t,n,r){return this.store._findBelongsToByJsonApiResource(t,this,n,r).then((n=>Ht(this,e,t._relationship,n,null)),(n=>Ht(this,e,t._relationship,null,n)))}getBelongsTo(e,t){let n=this._recordData.getBelongsTo(e),r=n&&n.data?this.store.identifierCache.getOrCreateRecordIdentifier(n.data):null,i=this.store._relationshipMetaFor(this.modelName,null,e);if(!i)return;let o=this.store,a=i.options.async,s=void 0===a||a,l={key:e,store:o,originatingInternalModel:this,modelName:i.type};if(s){let a=null!==r?o._internalModelForResource(r):null;if(n._relationship.state.hasFailedLoadAttempt)return this._relationshipProxyCache[e];let s=this._findBelongsTo(e,n,i,t);return this._updatePromiseProxyFor("belongsTo",e,{promise:s,content:a?a.getRecord():null,_belongsToState:l})}return null===r?null:o._internalModelForResource(r).getRecord()}getManyArray(e,t){{let n=this._manyArrayCache[e];return t||(t=(0,window.require("@ember-data/record-data/-private").graphFor)(this.store).get(this.identifier,e).definition),n||(n=Ct.create({store:this.store,type:this.store.modelFor(t.type),recordData:this._recordData,key:e,isPolymorphic:t.isPolymorphic,isAsync:t.isAsync,_inverseIsAsync:t.inverseIsAsync,internalModel:this,isLoaded:!t.isAsync}),this._manyArrayCache[e]=n),n}}fetchAsyncHasMany(e,t,n,r){{let i=this._relationshipPromisesCache[e];if(i)return i;const o=this._recordData.getHasMany(e);return i=this.store._findHasManyByJsonApiResource(o,this,t,r).then((()=>Ht(this,e,t,n,null)),(r=>Ht(this,e,t,n,r))),this._relationshipPromisesCache[e]=i,i}}getHasMany(e,t){{const n=(0,window.require("@ember-data/record-data/-private").graphFor)(this.store).get(this.identifier,e),{definition:r,state:i}=n;let o=this.getManyArray(e,r);if(r.isAsync){if(i.hasFailedLoadAttempt)return this._relationshipProxyCache[e];let r=this.fetchAsyncHasMany(e,n,o,t);return this._updatePromiseProxyFor("hasMany",e,{promise:r,content:o})}return o}}_updatePromiseProxyFor(e,t,n){let r=this._relationshipProxyCache[t];if("hasMany"===e)return r?r._update(n.promise,n.content):r=this._relationshipProxyCache[t]=new Rt(n.promise,n.content),r;if(r)void 0!==n.content&&r.set("content",n.content),r.set("promise",n.promise);else{const e=Tt;this._relationshipProxyCache[t]=e.create(n)}return this._relationshipProxyCache[t]}reloadHasMany(e,t){{let n=this._relationshipPromisesCache[e];if(n)return n;const r=(0,window.require("@ember-data/record-data/-private").graphFor)(this.store).get(this.identifier,e),{definition:i,state:o}=r;o.hasFailedLoadAttempt=!1,o.shouldForceReload=!0;let a=this.getManyArray(e,i),s=this.fetchAsyncHasMany(e,r,a,t);return this._relationshipProxyCache[e]?this._updatePromiseProxyFor("hasMany",e,{promise:s}):s}}reloadBelongsTo(e,t){let n=this._relationshipPromisesCache[e];if(n)return n;let r=this._recordData.getBelongsTo(e);r._relationship&&(r._relationship.state.hasFailedLoadAttempt=!1,r._relationship.state.shouldForceReload=!0);let i=this.store._relationshipMetaFor(this.modelName,null,e),o=this._findBelongsTo(e,r,i,t);return this._relationshipProxyCache[e]?this._updatePromiseProxyFor("belongsTo",e,{promise:o}):o}destroyFromRecordData(){this._doNotDestroy?this._doNotDestroy=!1:this.destroy()}destroy(){this.isDestroying=!0,this._recordReference&&this._recordReference.destroy(),this._recordReference=null;let e=this._manyArrayCache;Object.keys(e).forEach((t=>{e[t].destroy(),delete e[t]})),this.references&&(e=this.references,Object.keys(e).forEach((t=>{e[t].destroy(),delete e[t]}))),Le(this.store).remove(this),this._isDestroyed=!0}setupData(e){let t=this._recordData.pushData(e,this.hasRecord);this.hasRecord&&this._record._notifyProperties(t),this.send("pushedData")}setDirtyHasMany(e,t){return this._recordData.setDirtyHasMany(e,Nt(t))}setDirtyBelongsTo(e,t){return this._recordData.setDirtyBelongsTo(e,Ft(t))}setDirtyAttribute(e,t){if(this.isDeleted())throw new(a())(`Attempted to set '${e}' on the deleted record ${this}`);if(this._recordData.getAttr(e)!==t){this._recordData.setDirtyAttribute(e,t);let n=this._recordData.isAttrDirty(e);this.send("didSetProperty",{name:e,isDirty:n})}return t}get isDestroyed(){return this._isDestroyed}get hasRecord(){return!!this._record}createSnapshot(){return new ce(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},this.identifier,this.store)}hasChangedAttributes(){return!!this.__recordData&&this._recordData.hasChangedAttributes()}changedAttributes(){return this.__recordData?this._recordData.changedAttributes():{}}adapterWillCommit(){this._recordData.willCommit(),this.send("willCommit")}adapterDidDirty(){this.send("becomeDirty")}send(e,t){let n=this.currentState;return n[e]||this._unhandledEvent(n,e,t),n[e](this,t)}notifyHasManyChange(e){if(this.hasRecord){let t=this._manyArrayCache[e],n=!!this._relationshipPromisesCache[e];if(t&&n)return;this.store._notificationManager.notify(this.identifier,"relationships",e)}}notifyBelongsToChange(e){this.hasRecord&&this.store._notificationManager.notify(this.identifier,"relationships",e)}notifyPropertyChange(e){this.hasRecord&&this.store._notificationManager.notify(this.identifier,"property",e)}notifyStateChange(e){this.hasRecord&&this.store._notificationManager.notify(this.identifier,"state"),e&&"isDeletionCommitted"!==e||this.store.recordArrayManager.recordDidChange(this.identifier)}didCreateRecord(){this._recordData.clientDidCreate()}rollbackAttributes(){this.store._backburner.join((()=>{let e=this._recordData.rollbackAttributes();(0,c.get)(this,"isError")&&this.didCleanError(),this.send("rolledBack"),this._record&&e&&e.length>0&&this._record._notifyProperties(e)}))}transitionTo(e){let t,n,r,i,o=function(e){return Lt[e]||(Lt[e]=Pt(e)[0])}(e),a=this.currentState,s=`${a.stateName}->${e}`;do{a.exit&&a.exit(this),a=a.parentState}while(!a[o]);let l=At[s];if(l)t=l.setups,n=l.enters,a=l.state;else{t=[],n=[];let o=Pt(e);for(r=0,i=o.length;r<i;r++)a=a[o[r]],a.enter&&n.push(a),a.setup&&t.push(a);At[s]={setups:t,enters:n,state:a}}for(r=0,i=n.length;r<i;r++)n[r].enter(this);for(this.currentState=a,this.hasRecord&&"function"==typeof this._record.notifyPropertyChange&&this.notifyStateChange("currentState"),r=0,i=t.length;r<i;r++)t[r].setup(this)}_unhandledEvent(e,t,n){let r="Attempted to handle event `"+t+"` ";throw r+="on "+String(this)+" while in state ",r+=e.stateName+". ",void 0!==n&&(r+="Called with "+(0,i.inspect)(n)+"."),new(a())(r)}triggerLater(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];1===this._deferredTriggers.push(t)&&this.store._updateInternalModel(this)}_triggerDeferredTriggers(){if(!this.hasRecord)return;let e=this._deferredTriggers,t=this._record,n=t.trigger;if(n&&"function"==typeof n)for(let r=0,i=e.length;r<i;r++){let i=e[r];n.apply(t,i)}e.length=0}removeFromInverseRelationships(){this.__recordData&&this.store._backburner.join((()=>{this._recordData.removeFromInverseRelationships()}))}preloadData(e){let t={};Object.keys(e).forEach((n=>{let r=(0,c.get)(e,n);this.modelClass.metaForProperty(n).isRelationship?(t.relationships||(t.relationships={}),t.relationships[n]=this._preloadRelationship(n,r)):(t.attributes||(t.attributes={}),t.attributes[n]=r)})),this._recordData.pushData(t)}_preloadRelationship(e,t){let n,r=this.modelClass.metaForProperty(e),i=r.type;return n="hasMany"===r.kind?t.map((e=>this._convertPreloadRelationshipToJSON(e,i))):this._convertPreloadRelationshipToJSON(t,i),{data:n}}_convertPreloadRelationshipToJSON(e,t){if("string"==typeof e||"number"==typeof e)return{type:t,id:e};let n;return n=e._internalModel?e._internalModel:e,{type:n.modelName,id:n.id}}setId(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!0===this._isUpdatingId)return;this._isUpdatingId=!0;let n=e!==this._id;this._id=e,n&&null!==e&&(t||this.store.setRecordId(this.modelName,e,this.clientId),this.__recordData&&this._recordData.__setId&&this._recordData.__setId(e)),n&&this.hasRecord&&this.store._notificationManager.notify(this.identifier,"identity"),this._isUpdatingId=!1}didError(){}didCleanError(){}adapterDidCommit(e){this.didCleanError(),this._recordData.didCommit(e),this.send("didCommit"),this.store.recordArrayManager.recordDidChange(this.identifier),e&&this.store._notificationManager.notify(this.identifier,"attributes")}hasErrors(){return this._recordData.getErrors?this._recordData.getErrors(this.identifier).length>0:this.getRecord().errors.length>0}adapterDidInvalidate(e,t){let n;if(t&&e){if(!this._recordData.getErrors)for(n in e)Ot.call(e,n)&&this.getRecord().errors._add(n,e[n]);let t=te(e);this.send("becameInvalid"),0===t.length&&(t=[{title:"Invalid Error",detail:"",source:{pointer:"/data"}}]),this._recordData.commitWasRejected(this.identifier,t)}else this.send("becameError"),this._recordData.commitWasRejected(this.identifier)}notifyErrorsChange(){this.store._notificationManager.notify(this.identifier,"errors")}adapterDidError(){this.send("becameError"),this._recordData.commitWasRejected()}toString(){return`<${this.modelName}:${this.id}>`}referenceFor(e,t){let n=this.references[t];if(!n){const e=(0,window.require("@ember-data/record-data/-private").graphFor)(this.store._storeWrapper).get(this.identifier,t);let r=e.definition.kind,i=this.identifier;"belongsTo"===r?n=new Ke(this.store,i,e,t):"hasMany"===r&&(n=new ot(this.store,i,e,t)),this.references[t]=n}return n}}function Ht(e,t,n,r,i){delete e._relationshipPromisesCache[t],n.state.shouldForceReload=!1;const o="hasMany"===n.definition.kind;if(o&&r.notify(),i){n.state.hasFailedLoadAttempt=!0;let r=e._relationshipProxyCache[t];throw r&&!o&&r.content&&r.content.isDestroying&&r.set("content",null),i}return o&&r.set("isLoaded",!0),n.state.hasFailedLoadAttempt=!1,n.state.isStale=!1,r}function Nt(e){return e.map(Ft)}function Ft(e){if(!e)return null;if(e.then){let t=e.get&&e.get("content");return t?ue(t):null}return ue(e)}const Yt=new x("");function zt(e,t){let n=Yt.lookup(e),r=n[t];return void 0===r&&(r=n[t]=new Wt(e,t)),r}function Bt(e){let t=new Map;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.set(n,e[n]);return t}Yt._generator=()=>Object.create(null);class Wt{constructor(e,t){this.__store=e,this.modelName=t}get fields(){let e=this.__store._attributesDefinitionFor({type:this.modelName}),t=this.__store._relationshipsDefinitionFor({type:this.modelName}),n=new Map;return Object.keys(e).forEach((e=>n.set(e,"attribute"))),Object.keys(t).forEach((e=>n.set(e,t[e].kind))),n}get attributes(){return Bt(this.__store._attributesDefinitionFor({type:this.modelName}))}get relationshipsByName(){return Bt(this.__store._relationshipsDefinitionFor({type:this.modelName}))}eachAttribute(e,t){let n=this.__store._attributesDefinitionFor({type:this.modelName});Object.keys(n).forEach((r=>{e.call(t,r,n[r])}))}eachRelationship(e,t){let n=this.__store._relationshipsDefinitionFor({type:this.modelName});Object.keys(n).forEach((r=>{e.call(t,r,n[r])}))}eachTransformedAttribute(e,t){let n=this.__store._relationshipsDefinitionFor({type:this.modelName});Object.keys(n).forEach((r=>{n[r].type&&e.call(t,r,n[r])}))}}class $t{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._snapshots=void 0,this._recordArray=void 0,this._type=void 0,this.length=void 0,this.meta=void 0,this.adapterOptions=void 0,this.include=void 0,this._snapshots=null,this._recordArray=e,this.length=e.get("length"),this._type=null,this.meta=t,this.adapterOptions=n.adapterOptions,this.include=n.include}get type(){return this._type||(this._type=this._recordArray.get("type"))}get modelName(){return this._recordArray.modelName}snapshots(){return null!==this._snapshots||(this._snapshots=this._recordArray._takeSnapshot()),this._snapshots}}const Ut=N().extend({init(e){this._super(e),this.set("content",this.content||null),this.isLoaded=this.isLoaded||!1,this.isUpdating=!1,this.store=this.store||null,this._updatingPromise=null},replace(){throw new Error(`The result of a server query (for all ${this.modelName} types) is immutable. To modify contents, use toArray()`)},type:(0,c.computed)("modelName",(function(){return this.modelName?this.store.modelFor(this.modelName):null})).readOnly(),objectAtContent(e){let t=(0,c.get)(this,"content").objectAt(e);return t?function(e,t){return Le(e).lookup(t).getRecord()}(this.store,t):void 0},update(){if((0,c.get)(this,"isUpdating"))return this._updatingPromise;this.set("isUpdating",!0);let e=this._update().finally((()=>{this._updatingPromise=null,this.get("isDestroying")||this.get("isDestroyed")||this.set("isUpdating",!1)}));return this._updatingPromise=e,e},_update(){return this.store.findAll(this.modelName,{reload:!0})},save(){let e=`DS: RecordArray#save ${this.modelName}`,t=v.Promise.all(this.invoke("save"),e).then((()=>this),null,"DS: RecordArray#save return RecordArray");return $.create({promise:t})},_unregisterFromManager(){this.manager.unregisterRecordArray(this)},willDestroy(){this._unregisterFromManager(),this._dissociateFromOwnRecords(),(0,c.set)(this,"content",null),(0,c.set)(this,"length",0),this._super(...arguments)},_createSnapshot(e){return new $t(this,this.get("meta"),e)},_dissociateFromOwnRecords(){this.get("content").forEach((e=>{let t=this.manager.getRecordArraysForIdentifier(e);t&&t.delete(this)}))},_pushIdentifiers(e){(0,c.get)(this,"content").pushObjects(e)},_removeIdentifiers(e){(0,c.get)(this,"content").removeObjects(e)},_takeSnapshot(){return(0,c.get)(this,"content").map((e=>Le(this.store).lookup(e).createSnapshot()))}}),Vt=Ut.extend({init(){this.set("content",this.get("content")||(0,u.A)()),this._super(...arguments),this.query=this.query||null,this.links=this.links||null},replace(){throw new Error(`The result of a server query (on ${this.modelName}) is immutable.`)},_update(){let e=(0,c.get)(this,"store"),t=(0,c.get)(this,"query");return e._query(this.modelName,t,this)},_setObjects(e,t){this.get("content").setObjects(e),this.setProperties({isLoaded:!0,isUpdating:!1,meta:{...t.meta},links:{...t.links}}),this.manager._associateWithRecordArray(e,this)},_setIdentifiers(e,t){this._setObjects(e,t)}}),qt=new x("");function Gt(e){return qt.lookup(e)}qt._generator=()=>new Set;const Kt=new Set([]);function Zt(e){let t=e;return T(e)||(t=e.identifier||t),t}function Xt(e,t){const n=Le(e).peek(t);return null!==n&&!n.isHiddenFromRecordArrays()}function Jt(e,t){const n=Gt(t=Zt(t));n.forEach((function(e){e._removeIdentifiers([t])})),n.clear()}const Qt=class{constructor(e){this.store=e.store,this.isDestroying=!1,this.isDestroyed=!1,this._liveRecordArrays=Object.create(null),this._pendingIdentifiers=Object.create(null),this._adapterPopulatedRecordArrays=[]}getRecordArraysForIdentifier(e){return Gt(e)}_flushPendingIdentifiersForModelName(e,t){if(this.isDestroying||this.isDestroyed)return;let n=[];for(let e=0;e<t.length;e++){let r=t[e];Kt.delete(r),Xt(this.store,r)||n.push(r)}let r=this._liveRecordArrays[e];r&&function(e,t,n){let r=[],i=[];for(let o=0;o<n.length;o++){let a=n[o],s=Xt(e,a),l=Gt(a);s&&(l.has(t)||(r.push(a),l.add(t))),s||(i.push(a),l.delete(t))}r.length>0&&t._pushIdentifiers(r),i.length>0&&t._removeIdentifiers(i)}(this.store,r,t),n.length>0&&function(e,t){for(let e=0;e<t.length;e++)Jt(0,t[e])}(this.store,n)}_flush(){let e=this._pendingIdentifiers;this._pendingIdentifiers=Object.create(null);for(let t in e)this._flushPendingIdentifiersForModelName(t,e[t])}_syncLiveRecordArray(e,t){let n=this._pendingIdentifiers[t],r=Array.isArray(n),i=!r||0===n.length,o=Le(this.store).modelMapFor(t),a=(0,c.get)(o,"length")===(0,c.get)(e,"length");if(i&&a)return;r&&(this._flushPendingIdentifiersForModelName(t,n),delete this._pendingIdentifiers[t]);let s=this._visibleIdentifiersByType(t),l=[];for(let t=0;t<s.length;t++){let n=s[t],r=Gt(n);!1===r.has(e)&&(r.add(e),l.push(n))}l.length&&e._pushIdentifiers(l)}_didUpdateAll(e){let t=this._liveRecordArrays[e];t&&(0,c.set)(t,"isUpdating",!1)}liveRecordArrayFor(e){let t=this._liveRecordArrays[e];if(t)this._syncLiveRecordArray(t,e);else{let n=this._visibleIdentifiersByType(e);t=this.createRecordArray(e,n),this._liveRecordArrays[e]=t}return t}_visibleIdentifiersByType(e){let t=Le(this.store).modelMapFor(e).recordIdentifiers,n=[];for(let e=0;e<t.length;e++){let r=t[e];Xt(this.store,r)&&n.push(r)}return n}createRecordArray(e,t){let n=Ut.create({modelName:e,content:(0,u.A)(t||[]),store:this.store,isLoaded:!0,manager:this});return Array.isArray(t)&&this._associateWithRecordArray(t,n),n}createAdapterPopulatedRecordArray(e,t,n,r){let i;return Array.isArray(n)?(i=Vt.create({modelName:e,query:t,content:(0,u.A)(n),store:this.store,manager:this,isLoaded:!0,isUpdating:!1,meta:{...r.meta},links:{...r.links}}),this._associateWithRecordArray(n,i)):i=Vt.create({modelName:e,query:t,content:(0,u.A)(),store:this.store,manager:this}),this._adapterPopulatedRecordArrays.push(i),i}unregisterRecordArray(e){let t=e.modelName,n=function(e,t){let n=e.indexOf(t);return-1!==n&&(e.splice(n,1),!0)}(this._adapterPopulatedRecordArrays,e);if(!n){let n=this._liveRecordArrays[t];n&&e===n&&delete this._liveRecordArrays[t]}}_associateWithRecordArray(e,t){for(let n=0,r=e.length;n<r;n++){let r=e[n];r=Zt(r),this.getRecordArraysForIdentifier(r).add(t)}}recordDidChange(e){if(this.isDestroying||this.isDestroyed)return;let t=e.type;if(e=Zt(e),Kt.has(e))return;Kt.add(e);let n=this._pendingIdentifiers;1===(n[t]=n[t]||[]).push(e)&&d._backburner.schedule("actions",this,this._flush)}willDestroy(){Object.keys(this._liveRecordArrays).forEach((e=>this._liveRecordArrays[e].destroy())),this._adapterPopulatedRecordArrays.forEach((e=>e.destroy())),this.isDestroyed=!0}destroy(){this.isDestroying=!0,d._backburner.schedule("actions",this,this.willDestroy)}};function en(e,t,n,r){let i=t.data?(o=t.data,a=(t,i)=>{const{id:o,type:a}=t;return function(e,t,n,r,i){let{id:o,type:a}=e;e.relationships||(e.relationships={});let{relationships:s}=e,l=function(e,t,n,r){return function(e,t,n,r){let{_storeWrapper:i}=e,{name:o}=n,{modelName:a}=t,s=i.inverseForRelationship(a,o);if(s){let{meta:{kind:e}}=i.relationshipsDefinitionFor(r)[s];return{inverseKey:s,kind:e}}}(e,t,n,r)}(n,t,r,a);if(l){let{inverseKey:e,kind:n}=l,r=s[e]&&s[e].data;"hasMany"===n&&void 0===r||(s[e]=s[e]||{},s[e].data=function(e,t,n){let r,{id:i,modelName:o}=n,a={id:i,type:o};return"hasMany"===t?(r=e||[],e&&e.find((e=>e.type===a.type&&e.id===a.id))||r.push(a)):(r=e||{},Object.assign(r,a)),r}(r,n,t))}}(t,n,e,r),{id:o,type:a}},Array.isArray(o)?o.map(a):a(o)):null;var o,a;const s={};"meta"in t&&(s.meta=t.meta),"links"in t&&(s.links=t.links),"data"in t&&(s.data=i);const l={id:n.id,type:n.modelName,relationships:{[r.key]:s}};return Array.isArray(t.included)||(t.included=[]),t.included.push(l),t}function tn(e,t,n,r){let i=t.modelFor(n),o=t.peekAll(n),a=o._createSnapshot(r),s=v.Promise.resolve().then((()=>e.findAll(t,i,null,a)));return s=pe(s,t,"DS: Handle Adapter#findAll of "+i),s.then((e=>{let r=me(t.serializerFor(n),t,i,e,null,"findAll");return t._push(r),t._didUpdateAll(n),o}),null,"DS: Extract payload of findAll ${modelName}")}function nn(e){return"function"==typeof e._inverseKey}let rn,on;{let e;rn=t=>(e=e||window.require("@ember-data/record-data/-private").peekGraph,e(t))}class an{constructor(e){this._store=e,this._willNotify=!1,this._pendingNotifies=new Map}get identifierCache(){return this._store.identifierCache}_scheduleNotification(e,t,n){let r=this._pendingNotifies.get(e);r||(r=new Map,this._pendingNotifies.set(e,r)),r.set(t,n),!0!==this._willNotify&&(this._willNotify=!0,this._store._backburner.schedule("notify",this,this._flushNotifications))}notifyErrorsChange(e,t,n){const r=I(e,t,n),i=this.identifierCache.getOrCreateRecordIdentifier(r);let o=Le(this._store).peek(i);o&&o.notifyErrorsChange()}_flushNotifications(){if(!1===this._willNotify)return;let e=this._pendingNotifies;this._pendingNotifies=new Map,this._willNotify=!1;const t=Le(this._store);e.forEach(((e,n)=>{const r=t.peek(n);r&&e.forEach(((e,t)=>{"belongsTo"===e?r.notifyBelongsToChange(t):r.notifyHasManyChange(t)}))}))}attributesDefinitionFor(e){return this._store._attributesDefinitionFor({type:e})}relationshipsDefinitionFor(e){return this._store._relationshipsDefinitionFor({type:e})}inverseForRelationship(e,t){const n=this._store.modelFor(e),r=this.relationshipsDefinitionFor(e)[t];return r?nn(r)?r._inverseKey(this._store,n):r.options&&void 0!==r.options.inverse?r.options.inverse:null:null}inverseIsAsyncForRelationship(e,t){const n=this._store.modelFor(e),r=this.relationshipsDefinitionFor(e)[t];return!!r&&(!r.options||null!==r.options.inverse)&&(void 0!==r.inverseIsAsync?!!r.inverseIsAsync:!!nn(r)&&r._inverseIsAsync(this._store,n))}notifyPropertyChange(e,t,n,r){const i=I(e,t,n),o=this.identifierCache.getOrCreateRecordIdentifier(i);let a=Le(this._store).peek(o);a&&a.notifyPropertyChange(r)}notifyHasManyChange(e,t,n,r){const i=I(e,t,n),o=this.identifierCache.getOrCreateRecordIdentifier(i);this._scheduleNotification(o,r,"hasMany")}notifyBelongsToChange(e,t,n,r){const i=I(e,t,n),o=this.identifierCache.getOrCreateRecordIdentifier(i);this._scheduleNotification(o,r,"belongsTo")}notifyStateChange(e,t,n,r){const i=I(e,t,n),o=this.identifierCache.getOrCreateRecordIdentifier(i);let a=Le(this._store).peek(o);a&&a.notifyStateChange(r)}recordDataFor(e,t,n){let r,i=!1;if(t||n){const i=I(e,t,n);r=this.identifierCache.getOrCreateRecordIdentifier(i)}else i=!0,r={type:e};return this._store.recordDataFor(r,i)}setRecordId(e,t,n){this._store.setRecordId(e,t,n)}isRecordInUse(e,t,n){const r=I(e,t,n),i=this.identifierCache.getOrCreateRecordIdentifier(r),o=Le(this._store).peek(i);if(!o)return!1;const a=o._record;return a&&!(a.isDestroyed||a.isDestroying)}disconnectRecord(e,t,n){const r=I(e,t,n),i=this.identifierCache.getOrCreateRecordIdentifier(r);{let e=rn(this);e&&e.remove(i)}let o=Le(this._store).peek(i);o&&o.destroyFromRecordData()}}window.define("@ember-data/record-data/-private",(function(){return(0,l.Z)(n(2463))}));const{ENV:sn}=m(),ln=new x("");class un extends(f()){constructor(){super(...arguments),this._backburner=X,this.recordArrayManager=new Qt({store:this}),this._adapterCache=Object.create(null),this._serializerCache=Object.create(null),this._storeWrapper=new an(this),this._updatedInternalModels=[],this.shouldTrackAsyncRequests=!1,this.generateStackTracesForTrackedRequests=!1,ln._generator=e=>new pt(this,e),this._fetchManager=new ye(this),this._notificationManager=new xe(this),this.__recordDataFor=this.__recordDataFor.bind(this),this.identifierCache=new L}getRequestStateService(){return this._fetchManager.requestCache}_instantiateRecord(e,t,n,r,i){if(void 0!==i){"id"in i&&e.setId(i.id);let n=this._relationshipsDefinitionFor({type:t});if(null!==n){let e,t=Object.keys(i);for(let r=0;r<t.length;r++){let o=t[r],a=n[o];void 0!==a&&(e="hasMany"===a.kind?Nt(i[o]):Ft(i[o]),i[o]=e)}}}let o=n._initRecordCreateOptions(i),a=this.instantiateRecord(r,o,this.__recordDataFor,this._notificationManager);return Ae(a,r),a}_internalDeleteRecord(e){e.deleteRecord()}_attributesDefinitionFor(e){return this.getSchemaDefinitionService().attributesDefinitionFor(e)}_relationshipsDefinitionFor(e){return this.getSchemaDefinitionService().relationshipsDefinitionFor(e)}registerSchemaDefinitionService(e){this._schemaDefinitionService=e}getSchemaDefinitionService(){return this._schemaDefinitionService}_relationshipMetaFor(e,t,n){return this._relationshipsDefinitionFor({type:e})[n]}modelFor(e){return zt(this,e)}_hasModelFor(e){return this.getSchemaDefinitionService().doesTypeExist(e)}createRecord(e,t){return d._backburner.join((()=>this._backburner.join((()=>{let n=S(e),r={...t};(0,s.isNone)(r.id)&&(r.id=this._generateId(n,r)),r.id=_(r.id);const i=Le(this).build({type:n,id:r.id});return i.send("loadedData"),i.didCreateRecord(),i.getRecord(r)}))))}_generateId(e,t){let n=this.adapterFor(e);return n&&n.generateIdForRecord?n.generateIdForRecord(this,e,t):null}deleteRecord(e){this._backburner.join((()=>{let t=De(e);if(t){let e=Le(this).peek(t);e&&e.deleteRecord()}}))}unloadRecord(e){let t=De(e);if(t){let e=Le(this).peek(t);e&&e.unloadRecord()}}find(e,t,n){return this.findRecord(e,t)}findRecord(e,t,n){if(pn(e))n=t;else{const n=S(e),r=w(t);e=I(n,r)}const r=Le(this).lookup(e);return n=n||{},r.currentState.isLoaded?Z(this._findRecord(r,n),`DS: Store#findRecord ${r.identifier}`):this._findByInternalModel(r,n)}_findRecord(e,t){if(t.reload)return this._scheduleFetch(e,t);let n=e.createSnapshot(t),r=this.adapterFor(e.modelName);return void 0===t.reload&&r.shouldReloadRecord&&r.shouldReloadRecord(this,n)?this._scheduleFetch(e,t):(!1===t.backgroundReload||(t.backgroundReload||!r.shouldBackgroundReloadRecord||r.shouldBackgroundReloadRecord(this,n))&&this._scheduleFetch(e,t),v.Promise.resolve(e))}_findByInternalModel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.preload&&this._backburner.join((()=>{e.preloadData(t.preload)})),Z(this._findEmptyInternalModel(e,t),`DS: Store#findRecord ${e.modelName} with id: ${e.id}`)}_findEmptyInternalModel(e,t){if(e.currentState.isEmpty)return this._scheduleFetch(e,t);if(e.currentState.isLoading){let n=this._fetchManager.getPendingFetch(e.identifier,t);return n?n.then((()=>v.Promise.resolve(e))):this._scheduleFetch(e,t)}return v.Promise.resolve(e)}findByIds(e,t){let n=new Array(t.length),r=S(e);for(let e=0;e<t.length;e++)n[e]=this.findRecord(r,t[e]);return q((0,v.all)(n).then(u.A,null,`DS: Store#findByIds of ${r} complete`))}_scheduleFetchMany(e,t){let n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=this._scheduleFetch(e[r],t);return v.Promise.all(n)}_scheduleFetch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.generateStackTracesForTrackedRequests;e.send("loadingData");let r=e.identifier;return this._fetchManager.scheduleFetch(r,t,n).then((t=>{t.data&&!Array.isArray(t.data)&&(t.data.lid=r.lid);let n=this._push(t);return n&&!Array.isArray(n)?n:e}),(t=>{throw e.send("notFound"),e.currentState.isEmpty&&e.unloadRecord(),t}))}getReference(e,t){let n;if(1===arguments.length&&pn(e))n=e;else{const r=S(e),i=w(t);n=I(r,i)}let r=this.identifierCache.getOrCreateRecordIdentifier(n);if(r)return ln.lookup(r)}peekRecord(e,t){if(1===arguments.length&&pn(e)){let t=this.identifierCache.peekRecordIdentifier(e);var n;return t&&(null===(n=Le(this).peek(t))||void 0===n?void 0:n.getRecord())||null}const r=S(e),i=w(t);if(this.hasRecordForId(r,i)){const e=I(r,i);return Le(this).lookup(e).getRecord()}return null}_reloadRecord(e,t){t.isReloading=!0;let{id:n,modelName:r}=e;return this.adapterFor(r),this._scheduleFetch(e,t)}hasRecordForId(e,t){const n={type:S(e),id:w(t)},r=this.identifierCache.peekRecordIdentifier(n),i=r&&Le(this).peek(r);return!!i&&i.currentState.isLoaded}recordForId(e,t){const n=I(e,w(t));return Le(this).lookup(n).getRecord()}findMany(e,t){let n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=this._findEmptyInternalModel(e[r],t);return v.Promise.all(n)}findHasMany(e,t,n,r){return function(e,t,n,r,i,o){let a=n.createSnapshot(o),s=t.modelFor(i.type),l=r&&"string"!=typeof r?r.href:r,u=e.findHasMany(t,a,l,i),c=`DS: Handle Adapter#findHasMany of '${n.modelName}' : '${i.type}'`;return u=pe(u,t,c),u=he(u,de(fe,n)),u.then((e=>{let r=me(t.serializerFor(i.type),t,s,e,null,"findHasMany");return r=en(t,r,n,i),t._push(r)}),null,`DS: Extract payload of '${n.modelName}' : hasMany '${i.type}'`)}(this.adapterFor(e.modelName),this,e,t,n,r)}_findHasManyByJsonApiResource(e,t,n,r){{if(!e)return(0,v.resolve)([]);const{definition:i,state:o}=n;let a=this.adapterFor(i.type),{isStale:s,hasDematerializedInverse:l,hasReceivedData:u,isEmpty:c,shouldForceReload:d}=o;const h=hn(this,e);if(e.links&&e.links.related&&("function"==typeof a.findHasMany||void 0===e.data)&&(d||l||s||!h&&!c)){const n=this._storeWrapper.relationshipsDefinitionFor(i.inverseType)[i.key];return this.findHasMany(t,e.links.related,n,r)}let f=u&&!c,p=l||c&&Array.isArray(e.data)&&e.data.length>0;if(!d&&!s&&(f||p)){let t=e.data.map((e=>this._internalModelForResource(e)));return this.findMany(t,r)}if(u&&!c||p){let t=e.data.map((e=>this._internalModelForResource(e)));return this._scheduleFetchMany(t,r)}return(0,v.resolve)([])}}findBelongsTo(e,t,n,r){return function(e,t,n,r,i,o){let a=n.createSnapshot(o),s=t.modelFor(i.type),l=r&&"string"!=typeof r?r.href:r,u=e.findBelongsTo(t,a,l,i),c=`DS: Handle Adapter#findBelongsTo of ${n.modelName} : ${i.type}`;return u=pe(u,t,c),u=he(u,de(fe,n)),u.then((e=>{let r=me(t.serializerFor(i.type),t,s,e,null,"findBelongsTo");return r.data||r.links||r.meta?(r=en(t,r,n,i),t._push(r)):null}),null,`DS: Extract payload of ${n.modelName} : ${i.type}`)}(this.adapterFor(e.modelName),this,e,t,n,r)}_fetchBelongsToLinkFromResource(e,t,n,r){return e&&e.links&&e.links.related?this.findBelongsTo(t,e.links.related,n,r).then((e=>e?e.getRecord():null)):(0,v.resolve)(null)}_findBelongsToByJsonApiResource(e,t,n,r){if(!e)return(0,v.resolve)(null);const i=e.data?this._internalModelForResource(e.data):null;let{isStale:o,hasDematerializedInverse:a,hasReceivedData:s,isEmpty:l,shouldForceReload:u}=e._relationship.state;const c=hn(this,e);let d=e.links&&e.links.related&&(u||a||o||!c&&!l);if(i){let e=this._fetchManager.getPendingFetch(i.identifier,r);if(e)return e.then((()=>i.getRecord()))}if(d)return this._fetchBelongsToLinkFromResource(e,t,n,r);let h=s&&c&&!l,f=a||l&&e.data,p=void 0===e.data||null===e.data;if(!u&&!o&&(h||f))return p?(0,v.resolve)(null):this._findByInternalModel(i,r);let m=!p&&null===e.data.id;return i&&m?(0,v.resolve)(i.getRecord()):i&&!p?this._scheduleFetch(i,r).then((()=>i.getRecord())):(0,v.resolve)(null)}query(e,t,n){let r={};n&&n.adapterOptions&&(r.adapterOptions=n.adapterOptions);let i=S(e);return this._query(i,t,null,r)}_query(e,t,n,r){return q(function(e,t,n,r,i,o){let a=t.modelFor(n);i=i||t.recordArrayManager.createAdapterPopulatedRecordArray(n,r);let s=v.Promise.resolve().then((()=>e.query(t,a,r,i,o)));return s=pe(s,t,`DS: Handle Adapter#query of ${n}`),s.then((e=>{let o=me(t.serializerFor(n),t,a,e,null,"query"),s=t._push(o).map((e=>e.identifier));return i?i._setIdentifiers(s,o):i=t.recordArrayManager.createAdapterPopulatedRecordArray(n,r,s,o),i}),null,`DS: Extract payload of query ${n}`)}(this.adapterFor(e),this,e,t,n,r))}queryRecord(e,t,n){let r=S(e),i=this.adapterFor(r),o={};return n&&n.adapterOptions&&(o.adapterOptions=n.adapterOptions),V(function(e,t,n,r,i){let o=t.modelFor(n),a=v.Promise.resolve().then((()=>e.queryRecord(t,o,r,i)));return a=pe(a,t,`DS: Handle Adapter#queryRecord of ${n}`),a.then((e=>{let r=me(t.serializerFor(n),t,o,e,null,"queryRecord");return t._push(r)}),null,`DS: Extract payload of queryRecord ${n}`)}(i,this,r,t,o).then((e=>e?e.getRecord():null)))}findAll(e,t){let n=S(e);return this._fetchAll(n,this.peekAll(n),t)}_fetchAll(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.adapterFor(e);if(n.reload)return(0,c.set)(t,"isUpdating",!0),q(tn(r,this,e,n));let i=t._createSnapshot(n);return!1!==n.reload&&(r.shouldReloadAll&&r.shouldReloadAll(this,i)||!r.shouldReloadAll&&0===i.length)?((0,c.set)(t,"isUpdating",!0),q(tn(r,this,e,n))):(!1===n.backgroundReload||(n.backgroundReload||!r.shouldBackgroundReloadAll||r.shouldBackgroundReloadAll(this,i))&&((0,c.set)(t,"isUpdating",!0),tn(r,this,e,n)),q(v.Promise.resolve(t)))}_didUpdateAll(e){this.recordArrayManager._didUpdateAll(e)}peekAll(e){let t=S(e);return this.recordArrayManager.liveRecordArrayFor(t)}unloadAll(e){const t=Le(this);if(void 0===e)t.clear();else{let n=S(e);t.clear(n)}}filter(){}scheduleSave(e,t,n){if(e._isRecordFullyDeleted())return t.resolve(),t.promise;e.adapterWillCommit(),n||(n={});let r=e._recordData,i="updateRecord";r.isNew&&r.isNew()?i="createRecord":r.isDeleted&&r.isDeleted()&&(i="deleteRecord"),n[ge]=i;let o=this._fetchManager.scheduleSave(e.identifier,n).then((t=>{this._backburner.join((()=>{let n=t&&t.data;this.didSaveRecord(e,{data:n},i),t&&t.included&&this._push({data:null,included:t.included})}))}),(t=>{if("string"==typeof t)throw t;const{error:n,parsedErrors:r}=t;throw this.recordWasInvalid(e,r,n),n}));return o}flushPendingSave(){}didSaveRecord(e,t,n){let r;t&&(r=t.data);const i=this.identifierCache,o=e.identifier;"deleteRecord"!==n&&r&&i.updateRecordIdentifier(o,r),e.adapterDidCommit(r)}recordWasInvalid(e,t,n){e.adapterDidInvalidate(t,n)}recordWasError(e,t){e.adapterDidError(t)}setRecordId(e,t,n){Le(this).setRecordId(e,t,n)}_load(e){const t=I(S(e.type),w(e.id),_(e.lid));let n=Le(this).lookup(t,e);const r="root.loading"===n.currentState.stateName,i=!1===n.currentState.isEmpty&&!r;let o=n.identifier;if(i||r){let t=this.identifierCache.updateRecordIdentifier(o,e);t!==o&&(o=t,n=Le(this).lookup(o))}return n.setupData(e),i||this.recordArrayManager.recordDidChange(o),n}push(e){let t=this._push(e);return Array.isArray(t)?t.map((e=>e.getRecord())):null===t?null:t.getRecord()}_push(e){return this._backburner.join((()=>{let t,n,r=e.included;if(r)for(t=0,n=r.length;t<n;t++)this._pushInternalModel(r[t]);if(Array.isArray(e.data)){n=e.data.length;let r=new Array(n);for(t=0;t<n;t++)r[t]=this._pushInternalModel(e.data[t]);return r}return null===e.data?null:this._pushInternalModel(e.data)}))}_pushInternalModel(e){return e.type,this._load(e)}pushPayload(e,t){let n,r;if(t){r=t;let i=S(e);n=this.serializerFor(i)}else r=e,n=this.serializerFor("application");n.pushPayload(this,r)}reloadManyArray(e,t,n,r){return t.reloadHasMany(n,r)}reloadBelongsTo(e,t,n,r){return t.reloadBelongsTo(n,r)}_internalModelForResource(e){return Le(this).getByResource(e)}_internalModelForId(e,t,n){const r=I(e,t,n);return Le(this).lookup(r)}serializeRecord(e,t){let n=Ee(e);return Le(this).peek(n).createSnapshot(t).serialize(t)}saveRecord(e,t){let n=Ee(e);return Le(this).peek(n).save(t).then((()=>e))}relationshipReferenceFor(e,t){let n=this.identifierCache.getOrCreateRecordIdentifier(e);return Le(this).peek(n).referenceFor(null,t)}_createRecordData(e){const t=this.createRecordDataFor(e.type,e.id,e.lid,this._storeWrapper);return function(e,t){se.set(e,t)}(e,t),Ae(t,e),t}createRecordDataFor(e,t,n,r){{void 0===on&&(on=y()("@ember-data/record-data/-private").RecordData);let i=this.identifierCache.getOrCreateRecordIdentifier({type:e,id:t,lid:n});return new on(i,r)}}__recordDataFor(e){const t=this.identifierCache.getOrCreateRecordIdentifier(e);return this.recordDataFor(t,!1)}recordDataFor(e,t){let n;return!0===t?(n=Le(this).build({type:e.type,id:null}),n.send("loadedData"),n.didCreateRecord()):n=Le(this).lookup(e),n._recordData}normalize(e,t){let n=S(e),r=this.serializerFor(n),i=this.modelFor(n);return r.normalize(i,t)}newClientId(){}_internalModelsFor(e){return Le(this).modelMapFor(e)}adapterFor(e){let t=S(e),{_adapterCache:n}=this,i=n[t];if(i)return i;let o=(0,r.getOwner)(this);return i=o.lookup(`adapter:${t}`),void 0!==i?((0,c.set)(i,"store",this),n[t]=i,i):(i=n.application||o.lookup("adapter:application"),void 0!==i?((0,c.set)(i,"store",this),n[t]=i,n.application=i,i):(i=n["-json-api"]||o.lookup("adapter:-json-api"),(0,c.set)(i,"store",this),n[t]=i,n["-json-api"]=i,i))}serializerFor(e){let t=S(e),{_serializerCache:n}=this,i=n[t];if(i)return i;let o=(0,r.getOwner)(this);return i=o.lookup(`serializer:${t}`),void 0!==i?((0,c.set)(i,"store",this),n[t]=i,i):(i=n.application||o.lookup("serializer:application"),void 0!==i?((0,c.set)(i,"store",this),n[t]=i,n.application=i,i):void 0)}destroy(){for(let e in this._adapterCache){let t=this._adapterCache[e];"function"==typeof t.destroy&&t.destroy()}for(let e in this._serializerCache){let t=this._serializerCache[e];"function"==typeof t.destroy&&t.destroy()}{let e=(0,y()("@ember-data/record-data/-private").peekGraph)(this);e&&e.destroy()}return super.destroy()}willDestroy(){super.willDestroy(),this.recordArrayManager.destroy(),this.identifierCache.destroy();{let e=(0,y()("@ember-data/record-data/-private").peekGraph)(this);e&&e.willDestroy()}this.unloadAll()}_updateInternalModel(e){1===this._updatedInternalModels.push(e)&&d._backburner.schedule("actions",this,this._flushUpdatedInternalModels)}_flushUpdatedInternalModels(){let e=this._updatedInternalModels;for(let t=0,n=e.length;t<n;t++)e[t]._triggerDeferredTriggers();e.length=0}}const cn=un;let dn;function hn(e,t){const n=e.identifierCache;return Array.isArray(t.data)?!t.data.reduce(((t,r)=>t||fn(e,n,r).currentState.isEmpty),!1):!t.data||!fn(e,n,t.data).currentState.isEmpty}function fn(e,t,n){const r=t.getOrCreateRecordIdentifier(n);return e._internalModelForResource(r)}function pn(e){return Boolean(null!==e&&"object"==typeof e&&("id"in e&&"type"in e&&e.id&&e.type||e.lid))}{let e;dn=function(){return e||(e=y()("@ember-data/model/-private")._modelForMixin),e(...arguments)}}class mn{constructor(e){this._modelFactoryCache=Object.create(null),this._relationshipsDefCache=Object.create(null),this._attributesDefCache=Object.create(null),this.store=e}attributesDefinitionFor(e){let t,n;if(t="string"==typeof e?e:e.type,n=this._attributesDefCache[t],void 0===n){let e=this.store.modelFor(t),r=(0,c.get)(e,"attributes");n=Object.create(null),r.forEach(((e,t)=>n[t]=e)),this._attributesDefCache[t]=n}return n}relationshipsDefinitionFor(e){let t,n;if(t="string"==typeof e?e:e.type,n=this._relationshipsDefCache[t],void 0===n){let e=this.store.modelFor(t);n=(0,c.get)(e,"relationshipsObject")||null,this._relationshipsDefCache[t]=n}return n}doesTypeExist(e){let t=S(e);return null!==gn(this.store,this._modelFactoryCache,t)}}function gn(e,t,n){let i=t[n];if(!i){if(i=function(e,t){return(0,r.getOwner)(e).factoryFor(`model:${t}`)}(e,n),i||(i=dn(e,n)),!i)return null;let o=i.class;o.isModel&&(o.modelName&&Object.prototype.hasOwnProperty.call(o,"modelName")||Object.defineProperty(o,"modelName",{value:n})),t[n]=i}return i}const yn=class extends cn{constructor(){super(...arguments),this._modelFactoryCache=Object.create(null),this._relationshipsDefCache=Object.create(null),this._attributesDefCache=Object.create(null)}instantiateRecord(e,t,n,i){let o=e.type,a={store:this,_internalModel:this._internalModelForResource(e),_createProps:t,container:null};return(0,r.setOwner)(a,(0,r.getOwner)(this)),delete a.container,this._modelFactoryFor(o).create(a)}teardownRecord(e){e.destroy()}modelFor(e){let t=this._modelFactoryFor(e),n=t&&t.class?t.class:t;if(n&&n.isModel)return n;if(!this.getSchemaDefinitionService().doesTypeExist(e))throw new(a())(`No model was found for '${e}' and no schema handles the type`);return zt(this,e)}_modelFactoryFor(e){let t=S(e);return gn(this,this._modelFactoryCache,t)}_hasModelFor(e){return this.getSchemaDefinitionService().doesTypeExist(e)}_relationshipMetaFor(e,t,n){return this._relationshipsDefinitionFor({type:e})[n]}_attributesDefinitionFor(e){return this.getSchemaDefinitionService().attributesDefinitionFor(e)}_relationshipsDefinitionFor(e){return this.getSchemaDefinitionService().relationshipsDefinitionFor(e)}getSchemaDefinitionService(){return this._schemaDefinitionService||(this._schemaDefinitionService=new mn(this)),this._schemaDefinitionService}}},44767:(e,t,n)=>{"use strict";n.d(t,{$Z:()=>r.$Z,ZP:()=>r.yh});var r=n(29569)},25884:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(78957);const i=(0,r.setModifierManager)((()=>({capabilities:(0,r.capabilities)("3.22",{disableAutoTracking:!0}),createModifier(){},installModifier(e,t,n){let{positional:[r,...i],named:o}=n;r(t,i,o)},updateModifier(){},destroyModifier(){}})),class{})},61674:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(36846),i=n(78957);const o=(0,r.Z)(n(40274)).untrack,a=(0,i.setModifierManager)((()=>({capabilities:(0,i.capabilities)("3.22",{disableAutoTracking:!1}),createModifier:()=>({element:null}),installModifier(e,t,n){e.element=t,n.positional.forEach((()=>{})),n.named&&Object.values(n.named)},updateModifier(e,t){let{element:n}=e,[r,...i]=t.positional;t.positional.forEach((()=>{})),t.named&&Object.values(t.named),o((()=>{r(n,i,t.named)}))},destroyModifier(){}})),class{})},94083:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(78957);const i=(0,r.setModifierManager)((()=>({capabilities:(0,r.capabilities)("3.22",{disableAutoTracking:!0}),createModifier:()=>({element:null}),installModifier(e,t){e.element=t},updateModifier(){},destroyModifier(e,t){let{element:n}=e,[r,...i]=t.positional;r(n,i,t.named)}})),class{})},34149:(e,t,n)=>{"use strict";n.d(t,{_A:()=>k,kC:()=>x,xk:()=>S,H0:()=>_,It:()=>M});var r=n(15229);class i{constructor(e,t,n){(0,r.Z)(this,"size",0),(0,r.Z)(this,"misses",0),(0,r.Z)(this,"hits",0),this.limit=e,this.func=t,this.store=n,this.store=n||new Map}get(e){let t=this.store.get(e);return this.store.has(e)?(this.hits++,this.store.get(e)):(this.misses++,t=this.set(e,this.func(e)),t)}set(e,t){return this.limit>this.size&&(this.size++,this.store.set(e,t)),t}purge(){this.store.clear(),this.size=0,this.hits=0,this.misses=0}}const o=/[ _]/g,a=new i(1e3,(e=>{return(t=e,w.get(t)).replace(o,"-");var t})),s=/(\-|\_|\.|\s)+(.)?/g,l=/(^|\/)([A-Z])/g,u=new i(1e3,(e=>e.replace(s,((e,t,n)=>n?n.toUpperCase():"")).replace(l,(e=>e.toLowerCase())))),c=/^(\-|_)+(.)?/,d=/(.)(\-|\_|\.|\s)+(.)?/g,h=/(^|\/|\.)([a-z])/g,f=new i(1e3,(e=>{const t=(e,t,n)=>n?`_${n.toUpperCase()}`:"",n=(e,t,n,r)=>t+(r?r.toUpperCase():""),r=e.split("/");for(let e=0;e<r.length;e++)r[e]=r[e].replace(c,t).replace(d,n);return r.join("/").replace(h,(e=>e.toUpperCase()))})),p=/([a-z\d])([A-Z]+)/g,m=/\-|\s+/g,g=new i(1e3,(e=>e.replace(p,"$1_$2").replace(m,"_").toLowerCase())),y=/(^|\/)([a-z\u00C0-\u024F])/g,v=new i(1e3,(e=>e.replace(y,(e=>e.toUpperCase())))),b=/([a-z\d])([A-Z])/g,w=new i(1e3,(e=>e.replace(b,"$1_$2").toLowerCase()));function _(e){return a.get(e)}function k(e){return u.get(e)}function S(e){return f.get(e)}function M(e){return g.get(e)}function x(e){return v.get(e)}},70866:(e,t,n)=>{"use strict";n.d(t,{I:()=>h,U:()=>d}),n(84287);var r=n(35428);let i;i=(0,n(36846).Z)(n(4150));let{isCurriedComponentDefinition:o,CurriedComponentDefinition:a,curry:s,CurriedValue:l}=i;o||(o=function(e){return e instanceof l});var u=n(57495),c=n.n(u);function d(e,t){return"string"==typeof e?function(e,t){return function(e,t){let n=function(e){let t=e.lookup("renderer:-dom")._runtimeResolver;if(t)return t;let n=Object.entries(e.__container__.cache).find((e=>e[0].startsWith("template-compiler:main-")));if(n)return n[1].resolver.resolver;throw new Error("@embroider/util couldn't locate the runtime resolver on this ember version")}(t);if("function"==typeof n.lookupComponentHandle){let r=n.lookupComponentHandle(e,t);if(null!=r)return new a(n.resolve(r),null)}if(!n.lookupComponent(e,t))throw new Error(`Attempted to resolve \`${e}\` via ensureSafeComponent, but nothing was found.`);return s(0,e,t,{named:{},positional:[]})}(e,(0,r.getOwner)(t))}(e,t):(o(e),e)}class h extends(c()){compute(e){let[t]=e;return d(t,this)}}},69878:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8877),i=n.n(r),o=n(35428);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends(i()){constructor(){super(...arguments),a(this,"classNonces",new WeakMap),a(this,"nonceCounter",0)}register(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,o.getOwner)(this),n=this.classNonces.get(e);return null==n&&(n="-ensure"+this.nonceCounter++,this.classNonces.set(e,n),t.register(`component:${n}`,e)),n}}},18910:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(35428),i=n(57217);class o{constructor(e,t){var n,i;i=void 0,(n="args")in this?Object.defineProperty(this,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):this.args=i,this.args=t,(0,r.setOwner)(this,e)}get isDestroying(){return(0,i.isDestroying)(this)}get isDestroyed(){return(0,i.isDestroyed)(this)}willDestroy(){}}},57217:(e,t,n)=>{"use strict";n.r(t),n.d(t,{isDestroyed:()=>a,isDestroying:()=>o});var r=n(87073),i=n.n(r);const o=i()._isDestroying,a=i()._isDestroyed},43754:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(87073),i=n.n(r),o=(n(96663),n(35428)),a=n(45308);n(61417),n(18910);var s=n(57217);const{setDestroyed:l,setDestroying:u}=s,c=(0,a.capabilities)("3.13",{destructor:!0,asyncLifecycleCallbacks:!1,updateHook:!1}),d=i().destroy,h=i()._registerDestructor;class f extends(function(e,t,n){return class{static create(e){return new this(t(e))}constructor(t){var r,i;i=n,(r="capabilities")in this?Object.defineProperty(this,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[r]=i,e(this,t)}createComponent(e,n){return new e(t(this),n.named)}getContext(e){return e}}}(o.setOwner,o.getOwner,c)){createComponent(e,t){const n=super.createComponent(e,t);return h(n,(()=>{n.willDestroy()})),n}destroyComponent(e){d(e)}}const p=f},78479:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(45308),i=n(43754);let o=n(18910).Z;(0,r.setComponentManager)((e=>new i.Z(e)),o);const a=o},23570:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var r=n(2780);const{cached:i,tracked:o}=r},49562:(e,t,n)=>{"use strict";n.d(t,{Z:()=>JZ});var r={};n.r(r),n.d(r,{aggregate:()=>cs,bin:()=>ds,collect:()=>fs,compare:()=>ps,countpattern:()=>gs,cross:()=>ys,density:()=>ws,dotbin:()=>xs,expression:()=>Os,extent:()=>Ts,facet:()=>Ds,field:()=>Es,filter:()=>Ls,flatten:()=>js,fold:()=>Ps,formula:()=>Is,generate:()=>Hs,impute:()=>Ys,joinaggregate:()=>zs,kde:()=>Bs,key:()=>Ws,load:()=>Us,lookup:()=>qs,multiextent:()=>Gs,multivalues:()=>Zs,params:()=>Js,pivot:()=>Qs,prefacet:()=>el,project:()=>tl,proxy:()=>nl,quantile:()=>rl,relay:()=>il,sample:()=>ol,sequence:()=>al,sieve:()=>sl,subflow:()=>Rs,timeunit:()=>ll,tupleindex:()=>cl,values:()=>dl,window:()=>gl});var i={};n.r(i),n.d(i,{interpolate:()=>Wc,interpolateArray:()=>Pc,interpolateBasis:()=>Sc,interpolateBasisClosed:()=>Mc,interpolateCubehelix:()=>Hh,interpolateCubehelixLong:()=>Nh,interpolateDate:()=>Hc,interpolateDiscrete:()=>Wd,interpolateHcl:()=>Sh,interpolateHclLong:()=>Mh,interpolateHsl:()=>th,interpolateHslLong:()=>nh,interpolateHue:()=>$d,interpolateLab:()=>_h,interpolateNumber:()=>Nc,interpolateNumberArray:()=>Lc,interpolateObject:()=>Fc,interpolateRgb:()=>Rc,interpolateRgbBasis:()=>Ec,interpolateRgbBasisClosed:()=>Ac,interpolateRound:()=>$c,interpolateString:()=>Bc,interpolateTransformCss:()=>Zd,interpolateTransformSvg:()=>Xd,interpolateZoom:()=>Qd,piecewise:()=>Ad,quantize:()=>Fh});var o={};n.r(o),n.d(o,{bound:()=>Vv,identifier:()=>Kv,mark:()=>Zv,overlap:()=>Xv,render:()=>ib,viewlayout:()=>xb});var a={};n.r(a),n.d(a,{axisticks:()=>Cb,datajoin:()=>Tb,encode:()=>Db,legendentries:()=>Eb,linkpath:()=>Ib,pie:()=>zb,scale:()=>$b,sortitems:()=>Gb,stack:()=>Qb});var s={};n.r(s),n.d(s,{contour:()=>ES,geojson:()=>jS,geopath:()=>PS,geopoint:()=>IS,geoshape:()=>HS,graticule:()=>NS,heatmap:()=>FS,isocontour:()=>_S,kde2d:()=>TS,projection:()=>zS});var l={};n.r(l),n.d(l,{force:()=>IM});var u={};n.r(u),n.d(u,{nest:()=>Yx,pack:()=>Vx,partition:()=>Gx,stratify:()=>Kx,tree:()=>Jx,treelinks:()=>Qx,treemap:()=>nO});var c={};n.r(c),n.d(c,{label:()=>kO});var d={};n.r(d),n.d(d,{loess:()=>MO,regression:()=>OO});var h={};n.r(h),n.d(h,{voronoi:()=>nC});var f={};n.r(f),n.d(f,{wordcloud:()=>gC});var p={};n.r(p),n.d(p,{crossfilter:()=>SC,resolvefilter:()=>MC});var m=n(87017),g=n(35198),y=n(61417),v=n(11633);function b(e,t,n){return e.fields=t||[],e.fname=n,e}function w(e){return null==e?null:e.fname}function _(e){return null==e?null:e.fields}function k(e){return 1===e.length?S(e[0]):M(e)}const S=e=>function(t){return t[e]},M=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function x(e){throw Error(e)}function O(e){const t=[],n=e.length;let r,i,o,a=null,s=0,l="";function u(){t.push(l+e.substring(r,i)),l="",r=i+1}for(e+="",r=i=0;i<n;++i)if(o=e[i],"\\"===o)l+=e.substring(r,i),l+=e.substring(++i,++i),r=i;else if(o===a)u(),a=null,s=-1;else{if(a)continue;r===s&&'"'===o||r===s&&"'"===o?(r=i+1,a=o):"."!==o||s?"["===o?(i>r&&u(),s=r=i+1):"]"===o&&(s||x("Access path missing open bracket: "+e),s>0&&u(),s=0,r=i+1):i>r?u():r=i+1}return s&&x("Access path missing closing bracket: "+e),a&&x("Access path missing closing quote: "+e),i>r&&(i++,u()),t}function C(e,t,n){const r=O(e);return e=1===r.length?r[0]:e,b((n&&n.get||k)(r),[e],t||e)}const T=C("id"),R=b((e=>e),[],"identity"),D=b((()=>0),[],"zero"),E=b((()=>1),[],"one"),A=b((()=>!0),[],"true"),L=b((()=>!1),[],"false");function j(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}function P(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j,r=e||0;return{level(e){return arguments.length?(r=+e,this):r},error(){return r>=1&&n(t||"error","ERROR",arguments),this},warn(){return r>=2&&n(t||"warn","WARN",arguments),this},info(){return r>=3&&n(t||"log","INFO",arguments),this},debug(){return r>=4&&n(t||"log","DEBUG",arguments),this}}}var I=Array.isArray;function H(e){return e===Object(e)}const N=e=>"__proto__"!==e;function F(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>{for(const n in t)if("signals"===n)e.signals=z(e.signals,t.signals);else{const r="legend"===n?{layout:1}:"style"===n||null;Y(e,n,t[n],r)}return e}),{})}function Y(e,t,n,r){if(!N(t))return;let i,o;if(H(n)&&!I(n))for(i in o=H(e[t])?e[t]:e[t]={},n)r&&(!0===r||r[i])?Y(o,i,n[i]):N(i)&&(o[i]=n[i]);else e[t]=n}function z(e,t){if(null==e)return t;const n={},r=[];function i(e){n[e.name]||(n[e.name]=1,r.push(e))}return t.forEach(i),e.forEach(i),r}function B(e){return e[e.length-1]}function W(e){return null==e||""===e?null:+e}const $=e=>t=>e*Math.exp(t),U=e=>t=>Math.log(e*t),V=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),q=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,G=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function K(e,t,n,r){const i=n(e[0]),o=n(B(e)),a=(o-i)*t;return[r(i-a),r(o-a)]}function Z(e,t,n,r,i){const o=r(e[0]),a=r(B(e)),s=null!=t?r(t):(o+a)/2;return[i(s+(o-s)*n),i(s+(a-s)*n)]}function X(e,t,n){return Z(e,t,n,W,R)}function J(e,t,n){const r=Math.sign(e[0]);return Z(e,t,n,U(r),$(r))}function Q(e,t,n,r){return Z(e,t,n,G(r),G(1/r))}function ee(e,t,n,r){return Z(e,t,n,V(r),q(r))}function te(e){return null!=e?I(e)?e:[e]:[]}function ne(e){return"function"==typeof e}function re(e,t,n){n=n||{},t=te(t)||[];const r=[],i=[],o={},a=n.comparator||oe;return te(e).forEach(((e,a)=>{null!=e&&(r.push("descending"===t[a]?-1:1),i.push(e=ne(e)?e:C(e,null,n)),(_(e)||[]).forEach((e=>o[e]=1)))})),0===i.length?null:b(a(i,r),Object.keys(o))}const ie=(e,t)=>(e<t||null==e)&&null!=t?-1:(e>t||null==t)&&null!=e?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t==t?-1:t!=t&&e==e?1:0),oe=(e,t)=>1===e.length?ae(e[0],t[0]):se(e,t,e.length),ae=(e,t)=>function(n,r){return ie(e(n),e(r))*t},se=(e,t,n)=>(t.push(0),function(r,i){let o,a=0,s=-1;for(;0===a&&++s<n;)o=e[s],a=ie(o(r),o(i));return a*t[s]});function le(e){return ne(e)?e:()=>e}function ue(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout((()=>(t(r),n=null)),e)}}function ce(e){for(let t,n,r=1,i=arguments.length;r<i;++r)for(n in t=arguments[r],t)e[n]=t[n];return e}function de(e,t){let n,r,i,o,a=0;if(e&&(n=e.length))if(null==t){for(r=e[a];a<n&&(null==r||r!=r);r=e[++a]);for(i=o=r;a<n;++a)r=e[a],null!=r&&(r<i&&(i=r),r>o&&(o=r))}else{for(r=t(e[a]);a<n&&(null==r||r!=r);r=t(e[++a]));for(i=o=r;a<n;++a)r=t(e[a]),null!=r&&(r<i&&(i=r),r>o&&(o=r))}return[i,o]}const he=Object.prototype.hasOwnProperty;function fe(e,t){return he.call(e,t)}const pe={};function me(e){let t,n={};function r(e){return fe(n,e)&&n[e]!==pe}const i={size:0,empty:0,object:n,has:r,get:e=>r(e)?n[e]:void 0,set(e,t){return r(e)||(++i.size,n[e]===pe&&--i.empty),n[e]=t,this},delete(e){return r(e)&&(--i.size,++i.empty,n[e]=pe),this},clear(){i.size=i.empty=0,i.object=n={}},test(e){return arguments.length?(t=e,i):t},clean(){const e={};let r=0;for(const i in n){const o=n[i];o===pe||t&&t(o)||(e[i]=o,++r)}i.size=r,i.empty=0,i.object=n=e}};return e&&Object.keys(e).forEach((t=>{i.set(t,e[t])})),i}function ge(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),ce(r,n)}function ye(e,t,n,r){let i,o=t[0],a=t[t.length-1];return o>a&&(i=o,o=a,a=i),r=void 0===r||r,((n=void 0===n||n)?o<=e:o<e)&&(r?e<=a:e<a)}function ve(e){return"boolean"==typeof e}function be(e){return"[object Date]"===Object.prototype.toString.call(e)}function we(e){return"number"==typeof e}function _e(e){return"string"==typeof e}function ke(e,t,n){e&&(e=t?te(e).map((e=>e.replace(/\\(.)/g,"$1"))):te(e));const r=e&&e.length,i=n&&n.get||k,o=e=>i(t?[e]:O(e));let a;if(r)if(1===r){const t=o(e[0]);a=function(e){return""+t(e)}}else{const t=e.map(o);a=function(e){let n=""+t[0](e),i=0;for(;++i<r;)n+="|"+t[i](e);return n}}else a=function(){return""};return b(a,e,"key")}function Se(e,t){let n="";for(;--t>=0;)n+=e;return n}function Me(e){return e&&B(e)-e[0]||0}function xe(e){return I(e)?"["+e.map(xe)+"]":H(e)||_e(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function Oe(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e||!e)}const Ce=e=>we(e)||be(e)?e:Date.parse(e);function Te(e,t){return t=t||Ce,null==e||""===e?null:t(e)}function Re(e){return null==e||""===e?null:e+""}function De(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function Ee(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const r=t(e[i]);r&&n(r,i,e)}}else e.forEach(n)}var Ae={},Le={};function je(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function Pe(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function Ie(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function He(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],o=e.length,a=0,s=0,l=o<=0,u=!1;function c(){if(l)return Le;if(u)return u=!1,Ae;var t,r,i=a;if(34===e.charCodeAt(i)){for(;a++<o&&34!==e.charCodeAt(a)||34===e.charCodeAt(++a););return(t=a)>=o?l=!0:10===(r=e.charCodeAt(a++))?u=!0:13===r&&(u=!0,10===e.charCodeAt(a)&&++a),e.slice(i+1,t-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=e.charCodeAt(t=a++)))u=!0;else if(13===r)u=!0,10===e.charCodeAt(a)&&++a;else if(r!==n)continue;return e.slice(i,t)}return l=!0,e.slice(i,o)}for(10===e.charCodeAt(o-1)&&--o,13===e.charCodeAt(o-1)&&--o;(r=c())!==Le;){for(var d=[];r!==Ae&&r!==Le;)d.push(r),r=c();t&&null==(d=t(d,s++))||i.push(d)}return i}function i(t,n){return t.map((function(t){return n.map((function(e){return a(t[e])})).join(e)}))}function o(t){return t.map(a).join(e)}function a(e){return null==e?"":e instanceof Date?function(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":function(e){return e<0?"-"+Ie(-e,6):e>9999?"+"+Ie(e,6):Ie(e,4)}(e.getUTCFullYear())+"-"+Ie(e.getUTCMonth()+1,2)+"-"+Ie(e.getUTCDate(),2)+(i?"T"+Ie(t,2)+":"+Ie(n,2)+":"+Ie(r,2)+"."+Ie(i,3)+"Z":r?"T"+Ie(t,2)+":"+Ie(n,2)+":"+Ie(r,2)+"Z":n||t?"T"+Ie(t,2)+":"+Ie(n,2)+"Z":"")}(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,o=r(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=je(e);return function(r,i){return t(n(r),i,e)}}(e,t):je(e)}));return o.columns=i||[],o},parseRows:r,format:function(t,n){return null==n&&(n=Pe(t)),[n.map(a).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=Pe(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(o).join("\n")},formatRow:o,formatValue:a}}function Ne(e){return e}function Fe(e,t){return"string"==typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return Ye(e,t)}))}:Ye(e,t)}function Ye(e,t){var n=t.id,r=t.bbox,i=null==t.properties?{}:t.properties,o=ze(e,t);return null==n&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function ze(e,t){var n=function(e){if(null==e)return Ne;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],a=e.translate[1];return function(e,s){s||(t=n=0);var l=2,u=e.length,c=new Array(u);for(c[0]=(t+=e[0])*r+o,c[1]=(n+=e[1])*i+a;l<u;)c[l]=e[l],++l;return c}}(e.transform),r=e.arcs;function i(e,t){t.length&&t.pop();for(var i=r[e<0?~e:e],o=0,a=i.length;o<a;++o)t.push(n(i[o],o));e<0&&function(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}(t,a)}function o(e){return n(e)}function a(e){for(var t=[],n=0,r=e.length;n<r;++n)i(e[n],t);return t.length<2&&t.push(t[0]),t}function s(e){for(var t=a(e);t.length<4;)t.push(t[0]);return t}function l(e){return e.map(s)}return function e(t){var n,r=t.type;switch(r){case"GeometryCollection":return{type:r,geometries:t.geometries.map(e)};case"Point":n=o(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(o);break;case"LineString":n=a(t.arcs);break;case"MultiLineString":n=t.arcs.map(a);break;case"Polygon":n=l(t.arcs);break;case"MultiPolygon":n=t.arcs.map(l);break;default:return null}return{type:r,coordinates:n}}(t)}function Be(e,t){var n={},r={},i={},o=[],a=-1;function s(e,t){for(var r in e){var i=e[r];delete t[i.start],delete i.start,delete i.end,i.forEach((function(e){n[e<0?~e:e]=1})),o.push(i)}}return t.forEach((function(n,r){var i,o=e.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=t[++a],t[a]=n,t[r]=i)})),t.forEach((function(t){var n,o,a=function(t){var n,r=e.arcs[t<0?~t:t],i=r[0];return e.transform?(n=[0,0],r.forEach((function(e){n[0]+=e[0],n[1]+=e[1]}))):n=r[r.length-1],t<0?[n,i]:[i,n]}(t),s=a[0],l=a[1];if(n=i[s])if(delete i[n.end],n.push(t),n.end=l,o=r[l]){delete r[o.start];var u=o===n?n:n.concat(o);r[u.start=n.start]=i[u.end=o.end]=u}else r[n.start]=i[n.end]=n;else if(n=r[l])if(delete r[n.start],n.unshift(t),n.start=s,o=i[s]){delete i[o.end];var c=o===n?n:o.concat(n);r[c.start=o.start]=i[c.end=n.end]=c}else r[n.start]=i[n.end]=n;else r[(n=[t]).start=s]=i[n.end=l]=n})),s(i,r),s(r,i),t.forEach((function(e){n[e<0?~e:e]||o.push([e])})),o}function We(e){return ze(e,$e.apply(this,arguments))}function $e(e,t,n){var r,i,o;if(arguments.length>1)r=Ue(0,t,n);else for(i=0,r=new Array(o=e.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:Be(e,r)}}function Ue(e,t,n){var r,i=[],o=[];function a(e){var t=e<0?~e:e;(o[t]||(o[t]=[])).push({i:e,g:r})}function s(e){e.forEach(a)}function l(e){e.forEach(s)}return function e(t){switch(r=t,t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"LineString":s(t.arcs);break;case"MultiLineString":case"Polygon":l(t.arcs);break;case"MultiPolygon":!function(e){e.forEach(l)}(t.arcs)}}(t),o.forEach(null==n?function(e){i.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&i.push(e[0].i)}),i}var Ve=Math.sqrt(50),qe=Math.sqrt(10),Ge=Math.sqrt(2);function Ke(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=Ze(e,t,n))||!isFinite(a))return[];if(a>0){let n=Math.round(e/a),r=Math.round(t/a);for(n*a<e&&++n,r*a>t&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)*a}else{a=-a;let n=Math.round(e*a),r=Math.round(t*a);for(n/a<e&&++n,r/a>t&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)/a}return r&&o.reverse(),o}function Ze(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Ve?10:o>=qe?5:o>=Ge?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Ve?10:o>=qe?5:o>=Ge?2:1)}function Xe(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Ve?i*=10:o>=qe?i*=5:o>=Ge&&(i*=2),t<e?-i:i}var Je,Qe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function et(e){if(!(t=Qe.exec(e)))throw new Error("invalid format: "+e);var t;return new tt({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function tt(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function nt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function rt(e){return(e=nt(Math.abs(e)))?e[1]:NaN}function it(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(rt(t)/3)))-rt(Math.abs(e)))}function ot(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,rt(t)-rt(e))+1}function at(e){return Math.max(0,-rt(Math.abs(e)))}function st(e,t){var n=nt(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}et.prototype=tt.prototype,tt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const lt={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>st(100*e,t),r:st,s:function(e,t){var n=nt(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Je=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+nt(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ut(e){return e}var ct,dt,ht,ft=Array.prototype.map,pt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function mt(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?ut:(t=ft.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?ut:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(ft.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"−":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=et(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):lt[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===h?o:/[%p]/.test(v)?l:"",_=lt[v],k=/[defgprs%]/.test(v);function S(e){var i,o,l,h=b,S=w;if("c"===v)S=_(e)+S,e="";else{var M=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:_(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),M&&0==+e&&"+"!==d&&(M=!1),h=(M?"("===d?d:u:"-"===d||"("===d?"":d)+h,S=("s"===v?pt[8+Je/3]:"")+S+(M&&"("===d?")":""),k)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){S=(46===l?a+e.slice(i+1):e.slice(i))+S,e=e.slice(0,i);break}}m&&!f&&(e=r(e,1/0));var x=h.length+e.length+S.length,O=x<p?new Array(p-x+1).join(t):"";switch(m&&f&&(e=r(O+e,O.length?p-S.length:1/0),O=""),n){case"<":e=h+e+S+O;break;case"=":e=h+O+e+S;break;case"^":e=O.slice(0,x=O.length>>1)+h+e+S+O.slice(x);break;default:e=O+h+e+S}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return e+""},S}return{format:d,formatPrefix:function(e,t){var n=d(((e=et(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(rt(t)/3))),i=Math.pow(10,-r),o=pt[8+r/3];return function(e){return n(i*e)+o}}}}ct=mt({thousands:",",grouping:[3],currency:["$",""]}),dt=ct.format,ht=ct.formatPrefix;var gt=new Date,yt=new Date;function vt(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return vt((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return gt.setTime(+t),yt.setTime(+r),e(gt),e(yt),Math.floor(n(gt,yt))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e==0}:function(t){return i.count(0,t)%e==0}):i:null}),i}const bt=1e3,wt=6e4,_t=36e5,kt=864e5,St=6048e5,Mt=31536e6;var xt=vt((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*wt)/kt),(e=>e.getDate()-1));const Ot=xt;function Ct(e){return vt((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*wt)/St}))}xt.range;var Tt=Ct(0),Rt=Ct(1),Dt=Ct(2),Et=Ct(3),At=Ct(4),Lt=Ct(5),jt=Ct(6),Pt=(Tt.range,Rt.range,Dt.range,Et.range,At.range,Lt.range,jt.range,vt((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/kt}),(function(e){return e.getUTCDate()-1})));const It=Pt;function Ht(e){return vt((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/St}))}Pt.range;var Nt=Ht(0),Ft=Ht(1),Yt=Ht(2),zt=Ht(3),Bt=Ht(4),Wt=Ht(5),$t=Ht(6),Ut=(Nt.range,Ft.range,Yt.range,zt.range,Bt.range,Wt.range,$t.range,vt((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()})));Ut.every=function(e){return isFinite(e=Math.floor(e))&&e>0?vt((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};const Vt=Ut;Ut.range;var qt=vt((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}));const Gt=qt;qt.range;var Kt=vt((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*bt-e.getMinutes()*wt)}),(function(e,t){e.setTime(+e+t*_t)}),(function(e,t){return(t-e)/_t}),(function(e){return e.getHours()}));const Zt=Kt;Kt.range;var Xt=vt((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*bt)}),(function(e,t){e.setTime(+e+t*wt)}),(function(e,t){return(t-e)/wt}),(function(e){return e.getMinutes()}));const Jt=Xt;Xt.range;var Qt=vt((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*bt)}),(function(e,t){return(t-e)/bt}),(function(e){return e.getUTCSeconds()}));const en=Qt;Qt.range;var tn=vt((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));tn.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?vt((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):tn:null};const nn=tn;tn.range;var rn=vt((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));rn.every=function(e){return isFinite(e=Math.floor(e))&&e>0?vt((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};const on=rn;rn.range;var an=vt((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}));const sn=an;an.range;var ln=vt((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*_t)}),(function(e,t){return(t-e)/_t}),(function(e){return e.getUTCHours()}));const un=ln;ln.range;var cn=vt((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*wt)}),(function(e,t){return(t-e)/wt}),(function(e){return e.getUTCMinutes()}));const dn=cn;function hn(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fn(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pn(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=hn,n=(t,n)=>hn(e(t),n),r=(t,n)=>e(t)-n):(t=e===hn||e===fn?e:mn,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;const a=i(e,t,n,o-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function mn(){return 0}cn.range;const gn="year",yn="quarter",vn="month",bn="week",wn="date",_n="day",kn="dayofyear",Sn="hours",Mn="minutes",xn="seconds",On="milliseconds",Cn=[gn,yn,vn,bn,wn,_n,kn,Sn,Mn,xn,On],Tn=Cn.reduce(((e,t,n)=>(e[t]=1+n,e)),{});function Rn(e){const t=te(e).slice(),n={};return t.length||x("Missing time unit."),t.forEach((e=>{fe(Tn,e)?n[e]=1:x("Invalid time unit: ".concat(e,"."))})),(n.week||n.day?1:0)+(n.quarter||n.month||n.date?1:0)+(n.dayofyear?1:0)>1&&x("Incompatible time units: ".concat(e)),t.sort(((e,t)=>Tn[e]-Tn[t])),t}const Dn={[gn]:"%Y ",[yn]:"Q%q ",[vn]:"%b ",[wn]:"%d ",[bn]:"W%U ",[_n]:"%a ",[kn]:"%j ",[Sn]:"%H:00",[Mn]:"00:%M",[xn]:":%S",[On]:".%L",["".concat(gn,"-").concat(vn)]:"%Y-%m ",["".concat(gn,"-").concat(vn,"-").concat(wn)]:"%Y-%m-%d ",["".concat(Sn,"-").concat(Mn)]:"%H:%M"},En=new Date;function An(e){return En.setFullYear(e),En.setMonth(0),En.setDate(1),En.setHours(0,0,0,0),En}function Ln(e){return Ot.count(An(e.getFullYear())-1,e)}function jn(e){return Tt.count(An(e.getFullYear())-1,e)}function Pn(e){return An(e).getDay()}function In(e,t,n,r,i,o,a){if(0<=e&&e<100){const s=new Date(-1,t,n,r,i,o,a);return s.setFullYear(e),s}return new Date(e,t,n,r,i,o,a)}function Hn(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return It.count(t-1,e)}function Nn(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return Nt.count(t-1,e)}function Fn(e){return En.setTime(Date.UTC(e,0,1)),En.getUTCDay()}function Yn(e,t,n,r,i,o,a){if(0<=e&&e<100){const e=new Date(Date.UTC(-1,t,n,r,i,o,a));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(e,t,n,r,i,o,a))}function zn(e,t,n,r,i){const o=t||1,a=B(e),s=(e,t,i)=>function(e,t,n,r){const i=n<=1?e:r?(t,i)=>r+n*Math.floor((e(t,i)-r)/n):(t,r)=>n*Math.floor(e(t,r)/n);return t?(e,n)=>t(i(e,n),n):i}(n[i=i||e],r[i],e===a&&o,t),l=new Date,u=De(e),c=u.year?s(gn):le(2012),d=u.month?s(vn):u.quarter?s(yn):D,h=u.week&&u.day?s(_n,1,bn+_n):u.week?s(bn,1):u.day?s(_n,1):u.date?s(wn,1):u.dayofyear?s(kn,1):E,f=u.hours?s(Sn):D,p=u.minutes?s(Mn):D,m=u.seconds?s(xn):D,g=u.milliseconds?s(On):D;return function(e){l.setTime(+e);const t=c(l);return i(t,d(l),h(l,t),f(l),p(l),m(l),g(l))}}function Bn(e,t,n){return t+7*e-(n+6)%7}const Wn={[gn]:e=>e.getFullYear(),[yn]:e=>Math.floor(e.getMonth()/3),[vn]:e=>e.getMonth(),[wn]:e=>e.getDate(),[Sn]:e=>e.getHours(),[Mn]:e=>e.getMinutes(),[xn]:e=>e.getSeconds(),[On]:e=>e.getMilliseconds(),[kn]:e=>Ln(e),[bn]:e=>jn(e),[bn+_n]:(e,t)=>Bn(jn(e),e.getDay(),Pn(t)),[_n]:(e,t)=>Bn(1,e.getDay(),Pn(t))},$n={[yn]:e=>3*e,[bn]:(e,t)=>Bn(e,0,Pn(t))};function Un(e,t){return zn(e,t||1,Wn,$n,In)}const Vn={[gn]:e=>e.getUTCFullYear(),[yn]:e=>Math.floor(e.getUTCMonth()/3),[vn]:e=>e.getUTCMonth(),[wn]:e=>e.getUTCDate(),[Sn]:e=>e.getUTCHours(),[Mn]:e=>e.getUTCMinutes(),[xn]:e=>e.getUTCSeconds(),[On]:e=>e.getUTCMilliseconds(),[kn]:e=>Hn(e),[bn]:e=>Nn(e),[_n]:(e,t)=>Bn(1,e.getUTCDay(),Fn(t)),[bn+_n]:(e,t)=>Bn(Nn(e),e.getUTCDay(),Fn(t))},qn={[yn]:e=>3*e,[bn]:(e,t)=>Bn(e,0,Fn(t))};function Gn(e,t){return zn(e,t||1,Vn,qn,Yn)}const Kn={[gn]:Vt,[yn]:Gt.every(3),[vn]:Gt,[bn]:Tt,[wn]:Ot,[_n]:Ot,[kn]:Ot,[Sn]:Zt,[Mn]:Jt,[xn]:en,[On]:nn},Zn={[gn]:on,[yn]:sn.every(3),[vn]:sn,[bn]:Nt,[wn]:It,[_n]:It,[kn]:It,[Sn]:un,[Mn]:dn,[xn]:en,[On]:nn};function Xn(e){return Kn[e]}function Jn(e){return Zn[e]}function Qn(e,t,n){return e?e.offset(t,n):void 0}function er(e,t,n,r){return e?e.range(t,n,r):void 0}const tr=31536e6,nr=[gn,vn,wn,Sn,Mn,xn,On],rr=nr.slice(0,-1),ir=rr.slice(0,-1),or=ir.slice(0,-1),ar=or.slice(0,-1),sr=[gn,vn],lr=[gn],ur=[[rr,1,1e3],[rr,5,5e3],[rr,15,15e3],[rr,30,3e4],[ir,1,6e4],[ir,5,3e5],[ir,15,9e5],[ir,30,18e5],[or,1,36e5],[or,3,108e5],[or,6,216e5],[or,12,432e5],[ar,1,864e5],[[gn,bn],1,6048e5],[sr,1,2592e6],[sr,3,7776e6],[lr,1,tr]];function cr(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function dr(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function hr(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function fr(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=xr(i),c=Or(i),d=xr(o),h=Or(o),f=xr(a),p=Or(a),m=xr(s),g=Or(s),y=xr(l),v=Or(l),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:qr,e:qr,f:Jr,g:ui,G:di,H:Gr,I:Kr,j:Zr,L:Xr,m:Qr,M:ei,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:ji,s:Pi,S:ti,u:ni,U:ri,V:oi,w:ai,W:si,x:null,X:null,y:li,Y:ci,Z:hi,"%":Li},w={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:fi,e:fi,f:vi,g:Ri,G:Ei,H:pi,I:mi,j:gi,L:yi,m:bi,M:wi,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:ji,s:Pi,S:_i,u:ki,U:Si,V:xi,w:Oi,W:Ci,x:null,X:null,y:Ti,Y:Di,Z:Ai,"%":Li},_={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return M(e,t,n,r)},d:Hr,e:Hr,f:Wr,g:Lr,G:Ar,H:Fr,I:Fr,j:Nr,L:Br,m:Ir,M:Yr,p:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.p=c.get(r[0].toLowerCase()),n+r[0].length):-1},q:Pr,Q:Ur,s:Vr,S:zr,u:Tr,U:Rr,V:Dr,w:Cr,W:Er,x:function(e,t,r){return M(e,n,t,r)},X:function(e,t,n){return M(e,r,t,n)},y:Lr,Y:Ar,Z:jr,"%":$r};function k(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=br[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function S(e,t){return function(n){var r,i,o=hr(1900,void 0,1);if(M(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=dr(hr(o.y,0,1))).getUTCDay(),r=i>4||0===i?Ft.ceil(r):Ft(r),r=It.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=cr(hr(o.y,0,1))).getDay(),r=i>4||0===i?Rt.ceil(r):Rt(r),r=Ot.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?dr(hr(o.y,0,1)).getUTCDay():cr(hr(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,dr(o)):cr(o)}}function M(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=_[i in br?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=k(n,b),b.X=k(r,b),b.c=k(t,b),w.x=k(n,w),w.X=k(r,w),w.c=k(t,w),{format:function(e){var t=k(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=k(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}var pr,mr,gr,yr,vr,br={"-":"",_:" ",0:"0"},wr=/^\s*\d+/,_r=/^%/,kr=/[\\^$*+?|[\]().{}]/g;function Sr(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Mr(e){return e.replace(kr,"\\$&")}function xr(e){return new RegExp("^(?:"+e.map(Mr).join("|")+")","i")}function Or(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function Cr(e,t,n){var r=wr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Tr(e,t,n){var r=wr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Rr(e,t,n){var r=wr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Dr(e,t,n){var r=wr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Er(e,t,n){var r=wr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Ar(e,t,n){var r=wr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Lr(e,t,n){var r=wr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function jr(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Pr(e,t,n){var r=wr.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Ir(e,t,n){var r=wr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Hr(e,t,n){var r=wr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Nr(e,t,n){var r=wr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Fr(e,t,n){var r=wr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Yr(e,t,n){var r=wr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function zr(e,t,n){var r=wr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Br(e,t,n){var r=wr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Wr(e,t,n){var r=wr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function $r(e,t,n){var r=_r.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Ur(e,t,n){var r=wr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Vr(e,t,n){var r=wr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function qr(e,t){return Sr(e.getDate(),t,2)}function Gr(e,t){return Sr(e.getHours(),t,2)}function Kr(e,t){return Sr(e.getHours()%12||12,t,2)}function Zr(e,t){return Sr(1+Ot.count(Vt(e),e),t,3)}function Xr(e,t){return Sr(e.getMilliseconds(),t,3)}function Jr(e,t){return Xr(e,t)+"000"}function Qr(e,t){return Sr(e.getMonth()+1,t,2)}function ei(e,t){return Sr(e.getMinutes(),t,2)}function ti(e,t){return Sr(e.getSeconds(),t,2)}function ni(e){var t=e.getDay();return 0===t?7:t}function ri(e,t){return Sr(Tt.count(Vt(e)-1,e),t,2)}function ii(e){var t=e.getDay();return t>=4||0===t?At(e):At.ceil(e)}function oi(e,t){return e=ii(e),Sr(At.count(Vt(e),e)+(4===Vt(e).getDay()),t,2)}function ai(e){return e.getDay()}function si(e,t){return Sr(Rt.count(Vt(e)-1,e),t,2)}function li(e,t){return Sr(e.getFullYear()%100,t,2)}function ui(e,t){return Sr((e=ii(e)).getFullYear()%100,t,2)}function ci(e,t){return Sr(e.getFullYear()%1e4,t,4)}function di(e,t){var n=e.getDay();return Sr((e=n>=4||0===n?At(e):At.ceil(e)).getFullYear()%1e4,t,4)}function hi(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Sr(t/60|0,"0",2)+Sr(t%60,"0",2)}function fi(e,t){return Sr(e.getUTCDate(),t,2)}function pi(e,t){return Sr(e.getUTCHours(),t,2)}function mi(e,t){return Sr(e.getUTCHours()%12||12,t,2)}function gi(e,t){return Sr(1+It.count(on(e),e),t,3)}function yi(e,t){return Sr(e.getUTCMilliseconds(),t,3)}function vi(e,t){return yi(e,t)+"000"}function bi(e,t){return Sr(e.getUTCMonth()+1,t,2)}function wi(e,t){return Sr(e.getUTCMinutes(),t,2)}function _i(e,t){return Sr(e.getUTCSeconds(),t,2)}function ki(e){var t=e.getUTCDay();return 0===t?7:t}function Si(e,t){return Sr(Nt.count(on(e)-1,e),t,2)}function Mi(e){var t=e.getUTCDay();return t>=4||0===t?Bt(e):Bt.ceil(e)}function xi(e,t){return e=Mi(e),Sr(Bt.count(on(e),e)+(4===on(e).getUTCDay()),t,2)}function Oi(e){return e.getUTCDay()}function Ci(e,t){return Sr(Ft.count(on(e)-1,e),t,2)}function Ti(e,t){return Sr(e.getUTCFullYear()%100,t,2)}function Ri(e,t){return Sr((e=Mi(e)).getUTCFullYear()%100,t,2)}function Di(e,t){return Sr(e.getUTCFullYear()%1e4,t,4)}function Ei(e,t){var n=e.getUTCDay();return Sr((e=n>=4||0===n?Bt(e):Bt.ceil(e)).getUTCFullYear()%1e4,t,4)}function Ai(){return"+0000"}function Li(){return"%"}function ji(e){return+e}function Pi(e){return Math.floor(+e/1e3)}function Ii(e){const t={};return n=>t[n]||(t[n]=e(n))}function Hi(e){const t=Ii(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(e){const n=et(e||",");if(null==n.precision){switch(n.precision=12,n.type){case"%":n.precision-=2;break;case"e":n.precision-=1}return function(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let o=function(e,t){let n,r=e.lastIndexOf("e");if(r>0)return r;for(r=e.length;--r>t;)if(n=e.charCodeAt(r),n>=48&&n<=57)return r+1}(r,i);const a=o<r.length?r.slice(o):"";for(;--o>i;)if("0"!==r[o]){++o;break}return r.slice(0,o)+a}}(t(n),t(".1f")(1)[1])}return t(n)},formatSpan(e,r,i,o){o=et(null==o?",f":o);const a=Xe(e,r,i),s=Math.max(Math.abs(e),Math.abs(r));let l;if(null==o.precision)switch(o.type){case"s":return isNaN(l=it(a,s))||(o.precision=l),n(o,s);case"":case"e":case"g":case"p":case"r":isNaN(l=ot(a,s))||(o.precision=l-("e"===o.type));break;case"f":case"%":isNaN(l=at(a))||(o.precision=l-2*("%"===o.type))}return t(o)}}}let Ni,Fi;function Yi(e){return Hi(mt(e))}function zi(e){return arguments.length?Ni=Yi(e):Ni}function Bi(e,t,n){H(n=n||{})||x("Invalid time multi-format specifier: ".concat(n));const r=t(xn),i=t(Mn),o=t(Sn),a=t(wn),s=t(bn),l=t(vn),u=t(yn),c=t(gn),d=e(n.milliseconds||".%L"),h=e(n.seconds||":%S"),f=e(n.minutes||"%I:%M"),p=e(n.hours||"%I %p"),m=e(n.date||n.day||"%a %d"),g=e(n.week||"%b %d"),y=e(n.month||"%B"),v=e(n.quarter||"%B"),b=e(n.year||"%Y");return e=>(r(e)<e?d:i(e)<e?h:o(e)<e?f:a(e)<e?p:l(e)<e?s(e)<e?m:g:c(e)<e?u(e)<e?y:v:b)(e)}function Wi(e){const t=Ii(e.format),n=Ii(e.utcFormat);return{timeFormat:e=>_e(e)?t(e):Bi(t,Xn,e),utcFormat:e=>_e(e)?n(e):Bi(n,Jn,e),timeParse:Ii(e.parse),utcParse:Ii(e.utcParse)}}function $i(e){return Wi(fr(e))}function Ui(e){return arguments.length?Fi=$i(e):Fi}pr=fr({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),mr=pr.format,gr=pr.parse,yr=pr.utcFormat,vr=pr.utcParse,Ni=Hi({format:dt,formatPrefix:ht}),Fi=Wi({format:mr,parse:gr,utcFormat:yr,utcParse:vr});const Vi=(e,t)=>ce({},e,t);const qi=/^(data:|([A-Za-z]+:)?\/\/)/,Gi=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,Ki=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Zi="file://";async function Xi(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function Ji(e,t){t=ce({},this.options,t);const n=this.fileAccess,r={href:null};let i,o,a;const s=Gi.test(e.replace(Ki,""));null!=e&&"string"==typeof e&&s||x("Sanitize failure, invalid URI: "+xe(e));const l=qi.test(e);return(a=t.baseURL)&&!l&&(e.startsWith("/")||a.endsWith("/")||(e="/"+e),e=a+e),o=(i=e.startsWith(Zi))||"file"===t.mode||"http"!==t.mode&&!l&&n,i?e=e.slice(Zi.length):e.startsWith("//")&&("file"===t.defaultProtocol?(e=e.slice(2),o=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!o}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),"image"===t.context&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function Qi(e){return e?t=>new Promise(((n,r)=>{e.readFile(t,((e,t)=>{e?r(e):n(t)}))})):eo}async function eo(){x("No file system access.")}function to(e){return e?async function(t,n){const r=ce({},this.options.http,n),i=n&&n.response,o=await e(t,r);return o.ok?ne(o[i])?o[i]():o.text():x(o.status+""+o.statusText)}:no}async function no(){x("No HTTP fetch method available.")}const ro=e=>!(Number.isNaN(+e)||e instanceof Date),io={boolean:Oe,integer:W,number:W,date:Te,string:Re,unknown:R},oo=[e=>"true"===e||"false"===e||!0===e||!1===e,e=>ro(e)&&Number.isInteger(+e),ro,e=>!Number.isNaN(Date.parse(e))],ao=["boolean","integer","number","date"];function so(e){const t=function(t,n){const r={delimiter:e};return lo(t,n?ce(n,r):r)};return t.responseType="text",t}function lo(e,t){return t.header&&(e=t.header.map(xe).join(t.delimiter)+"\n"+e),He(t.delimiter).parse(e+"")}function uo(e,t){const n=t&&t.property?C(t.property):R;return!H(e)||(r=e,"function"==typeof Buffer&&ne(Buffer.isBuffer)&&Buffer.isBuffer(r))?n(JSON.parse(e)):function(e,t){return!I(e)&&function(e){return e&&ne(e[Symbol.iterator])}(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}(n(e),t);var r}lo.responseType="text",uo.responseType="json";const co={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function ho(e,t){let n,r,i,o;return e=uo(e,t),t&&t.feature?(n=Fe,i=t.feature):t&&t.mesh?(n=We,i=t.mesh,o=co[t.filter]):x("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,o):x("Invalid TopoJSON object: "+i),r&&r.features||[r]}ho.responseType="json";const fo={dsv:lo,csv:so(","),tsv:so("\t"),json:uo,topojson:ho};function po(e,t){return arguments.length>1?(fo[e]=t,this):fe(fo,e)?fo[e]:null}function mo(e){const t=po(e);return t&&t.responseType||"text"}function go(e,t,n,r){const i=po((t=t||{}).type||"json");return i||x("Unknown data format type: "+t.type),e=i(e,t),t.parse&&function(e,t,n,r){if(!e.length)return;const i=Ui();n=n||i.timeParse,r=r||i.utcParse;let o,a,s,l,u,c,d=e.columns||Object.keys(e[0]);"auto"===t&&(t=function(e,t){return t.reduce(((t,n)=>(t[n]=function(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=oo.length,i=oo.map(((e,t)=>t+1));for(let a,s,l=0,u=0;l<n;++l)for(s=t?e[l][t]:e[l],a=0;a<r;++a)if(i[a]&&null!=(o=s)&&o==o&&!oo[a](s)&&(i[a]=0,++u,u===oo.length))return"string";var o;return ao[i.reduce(((e,t)=>0===e?t:e),0)-1]}(e,n),t)),{})}(e,d)),d=Object.keys(t);const h=d.map((e=>{const i=t[e];let o,a;if(i&&(i.startsWith("date:")||i.startsWith("utc:")))return o=i.split(/:(.+)?/,2),a=o[1],("'"===a[0]&&"'"===a[a.length-1]||'"'===a[0]&&'"'===a[a.length-1])&&(a=a.slice(1,-1)),("utc"===o[0]?r:n)(a);if(!io[i])throw Error("Illegal format pattern: "+e+":"+i);return io[i]}));for(s=0,u=e.length,c=d.length;s<u;++s)for(o=e[s],l=0;l<c;++l)a=d[l],o[a]=h[l](o[a])}(e,t.parse,n,r),fe(e,"columns")&&delete e.columns,e}const yo=function(e,t){return t=>({options:t||{},sanitize:Ji,load:Xi,fileAccess:!1,file:Qi(null),http:to(e)})}("undefined"!=typeof fetch&&fetch);function vo(e){const t=e||R,n=[],r={};return n.add=e=>{const i=t(e);return r[i]||(r[i]=1,n.push(e)),n},n.remove=e=>{const i=t(e);if(r[i]){r[i]=0;const t=n.indexOf(e);t>=0&&n.splice(t,1)}return n},n}async function bo(e,t){try{await t(e)}catch(t){e.error(t)}}const wo=Symbol("vega_id");let _o=1;function ko(e){return!(!e||!So(e))}function So(e){return e[wo]}function Mo(e,t){return e[wo]=t,e}function xo(e){const t=e===Object(e)?e:{data:e};return So(t)?t:Mo(t,_o++)}function Oo(e){return Co(e,xo({}))}function Co(e,t){for(const n in e)t[n]=e[n];return t}function To(e,t){return Mo(t,So(e))}function Ro(e,t){return e?t?(n,r)=>e(n,r)||So(t(n))-So(t(r)):(t,n)=>e(t,n)||So(t)-So(n):null}function Do(e){return e&&e.constructor===Eo}function Eo(){const e=[],t=[],n=[],r=[],i=[];let o=null,a=!1;return{constructor:Eo,insert(t){const n=te(t),r=n.length;for(let t=0;t<r;++t)e.push(n[t]);return this},remove(e){const n=ne(e)?r:t,i=te(e),o=i.length;for(let e=0;e<o;++e)n.push(i[e]);return this},modify(e,t,r){const o={field:t,value:le(r)};return ne(e)?(o.filter=e,i.push(o)):(o.tuple=e,n.push(o)),this},encode(e,t){return ne(e)?i.push({filter:e,field:t}):n.push({tuple:e,field:t}),this},clean(e){return o=e,this},reflow(){return a=!0,this},pulse(s,l){const u={},c={};let d,h,f,p,m,g;for(d=0,h=l.length;d<h;++d)u[So(l[d])]=1;for(d=0,h=t.length;d<h;++d)m=t[d],u[So(m)]=-1;for(d=0,h=r.length;d<h;++d)p=r[d],l.forEach((e=>{p(e)&&(u[So(e)]=-1)}));for(d=0,h=e.length;d<h;++d)m=e[d],g=So(m),u[g]?u[g]=1:s.add.push(xo(e[d]));for(d=0,h=l.length;d<h;++d)m=l[d],u[So(m)]<0&&s.rem.push(m);function y(e,t,n){n?e[t]=n(e):s.encode=t,a||(c[So(e)]=e)}for(d=0,h=n.length;d<h;++d)f=n[d],m=f.tuple,p=f.field,g=u[So(m)],g>0&&(y(m,p,f.value),s.modifies(p));for(d=0,h=i.length;d<h;++d)f=i[d],p=f.filter,l.forEach((e=>{p(e)&&u[So(e)]>0&&y(e,f.field,f.value)})),s.modifies(f.field);if(a)s.mod=t.length||r.length?l.filter((e=>u[So(e)]>0)):l.slice();else for(g in c)s.mod.push(c[g]);return(o||null==o&&(t.length||r.length))&&s.clean(!0),s}}}const Ao="_:mod:_";function Lo(){Object.defineProperty(this,Ao,{writable:!0,value:{}})}Lo.prototype={set(e,t,n,r){const i=this,o=i[e],a=i[Ao];return null!=t&&t>=0?(o[t]!==n||r)&&(o[t]=n,a[t+":"+e]=-1,a[e]=-1):(o!==n||r)&&(i[e]=n,a[e]=I(n)?1+n.length:-1),i},modified(e,t){const n=this[Ao];if(!arguments.length){for(const e in n)if(n[e])return!0;return!1}if(I(e)){for(let t=0;t<e.length;++t)if(n[e[t]])return!0;return!1}return null!=t&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[Ao]={},this}};let jo=0;const Po=new Lo;function Io(e,t,n,r){this.id=++jo,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function Ho(e){return function(t){const n=this.flags;return 0===arguments.length?!!(n&e):(this.flags=t?n|e:n&~e,this)}}Io.prototype={targets(){return this._targets||(this._targets=vo(T))},set(e){return this.value!==e?(this.value=e,1):0},skip:Ho(1),modified:Ho(2),parameters(e,t,n){t=!1!==t;const r=this._argval=this._argval||new Lo,i=this._argops=this._argops||[],o=[];let a,s,l,u;const c=(e,n,a)=>{a instanceof Io?(a!==this&&(t&&a.targets().add(this),o.push(a)),i.push({op:a,name:e,index:n})):r.set(e,n,a)};for(a in e)if(s=e[a],"pulse"===a)te(s).forEach((e=>{e instanceof Io?e!==this&&(e.targets().add(this),o.push(e)):x("Pulse parameters must be operator instances.")})),this.source=s;else if(I(s))for(r.set(a,-1,Array(l=s.length)),u=0;u<l;++u)c(a,u,s[u]);else c(a,-1,s);return this.marshall().clear(),n&&(i.initonly=!0),o},marshall(e){const t=this._argval||Po,n=this._argops;let r,i,o,a;if(n){const s=n.length;for(i=0;i<s;++i)r=n[i],o=r.op,a=o.modified()&&o.stamp===e,t.set(r.name,r.index,o.value,a);if(n.initonly){for(i=0;i<s;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};let No=0;function Fo(e,t,n){this.id=++No,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function Yo(e,t,n){return new Fo(e,t,n)}Fo.prototype={_filter:A,_apply:R,targets(){return this._targets||(this._targets=vo(T))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let e=0;e<r;++e)n[e].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=Yo(e);return this.targets().add(t),t},apply(e){const t=Yo(null,e);return this.targets().add(t),t},merge(){const e=Yo();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter((()=>{const n=Date.now();return n-t>e?(t=n,1):0}))},debounce(e){const t=Yo();return this.targets().add(Yo(null,null,ue(e,(e=>{const n=e.dataflow;t.receive(e),n&&n.run&&n.run()})))),t},between(e,t){let n=!1;return e.targets().add(Yo(null,null,(()=>n=!0))),t.targets().add(Yo(null,null,(()=>n=!1))),this.filter((()=>n))},detach(){this._filter=A,this._targets=null}};const zo={skip:!0};function Bo(e,t,n,r,i,o){const a=ce({},o,zo);let s,l;ne(n)||(n=le(n)),void 0===r?s=t=>e.touch(n(t)):ne(r)?(l=new Io(null,r,i,!1),s=t=>{l.evaluate(t);const r=n(t),i=l.value;Do(i)?e.pulse(r,i,o):e.update(r,i,a)}):s=t=>e.update(n(t),r,a),t.apply(s)}function Wo(e,t,n,r,i,o){if(void 0===r)t.targets().add(n);else{const a=o||{},s=new Io(null,function(e,t){return t=ne(t)?t:le(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}(n,r),i,!1);s.modified(a.force),s.rank=t.rank,t.targets().add(s),n&&(s.skip(!0),s.value=n.value,s.targets().add(n),e.connect(n,[s]))}}const $o={};function Uo(e,t,n){this.dataflow=e,this.stamp=null==t?-1:t,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function Vo(e,t){const n=[];return Ee(e,t,(e=>n.push(e))),n}function qo(e,t){const n={};return e.visit(t,(e=>{n[So(e)]=1})),e=>n[So(e)]?null:e}function Go(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}function Ko(e,t,n,r){const i=this,o=n.length;let a=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(let e=0;e<o;++e){const r=n[e];if(r.stamp===t){if(r.fields){const e=i.fields||(i.fields={});for(const t in r.fields)e[t]=1}r.changed(i.ADD)&&(a|=i.ADD),r.changed(i.REM)&&(a|=i.REM),r.changed(i.MOD)&&(a|=i.MOD)}}this.changes=a}function Zo(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}Uo.prototype={StopPropagation:$o,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(e){return new Uo(this.dataflow).init(this,e)},clone(){const e=this.fork(7);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(23)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new Uo(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,!e.fields||64&t||(n.fields=e.fields),1&t?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),2&t?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),4&t?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),32&t?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||7;return 1&t&&this.add.length||2&t&&this.rem.length||4&t&&this.mod.length},reflow(e){if(e)return this.fork(7).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(4,qo(this,1))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return I(e)?e.forEach((e=>t[e]=!0)):t[e]=!0,this},modified(e,t){const n=this.fields;return!(!t&&!this.mod.length||!n)&&(arguments.length?I(e)?e.some((e=>n[e])):n[e]:!!n)},filter(e,t){const n=this;return 1&e&&(n.addF=Go(n.addF,t)),2&e&&(n.remF=Go(n.remF,t)),4&e&&(n.modF=Go(n.modF,t)),16&e&&(n.srcF=Go(n.srcF,t)),n},materialize(e){const t=this;return 1&(e=e||7)&&t.addF&&(t.add=Vo(t.add,t.addF),t.addF=null),2&e&&t.remF&&(t.rem=Vo(t.rem,t.remF),t.remF=null),4&e&&t.modF&&(t.mod=Vo(t.mod,t.modF),t.modF=null),16&e&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(16&e)return Ee(n.source,n.srcF,r),n;1&e&&Ee(n.add,n.addF,r),2&e&&Ee(n.rem,n.remF,r),4&e&&Ee(n.mod,n.modF,r);const i=n.source;if(8&e&&i){const e=n.add.length+n.mod.length;e===i.length||Ee(i,e?qo(n,5):n.srcF,r)}return n}},ge(Ko,Uo,{fork(e){const t=new Uo(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&t.ADD&&this.visit(t.ADD,(e=>t.add.push(e))),e&t.REM&&this.visit(t.REM,(e=>t.rem.push(e))),e&t.MOD&&this.visit(t.MOD,(e=>t.mod.push(e)))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?I(e)?e.some((e=>n[e])):n[e]:0},filter(){x("MultiPulse does not support filtering.")},materialize(){x("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let o=0;if(e&n.SOURCE)for(;o<i;++o)r[o].visit(e,t);else for(;o<i;++o)r[o].stamp===n.stamp&&r[o].visit(e,t);return n}});const Xo={skip:!1,force:!1};function Jo(e,t,n,r){let i,o;const a=e[n];for(;n>t&&(o=n-1>>1,i=e[o],r(a,i)<0);)e[n]=i,n=o;return e[n]=a}function Qo(){this.logger(P()),this.logLevel(1),this._clock=0,this._rank=0,this._locale=function(e,t){const n=arguments.length;return n&&2!==n&&x("defaultLocale expects either zero or two arguments."),n?Vi(zi(e),Ui(t)):Vi(zi(),Ui())}();try{this._loader=yo()}catch(e){}this._touched=vo(T),this._input={},this._pulse=null,this._heap=function(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),Jo(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,function(e,t,n){const r=t,i=e.length,o=e[t];let a,s=1+(t<<1);for(;s<i;)a=s+1,a<i&&n(e[s],e[a])>=0&&(s=a),e[t]=e[s],s=1+((t=s)<<1);e[t]=o,Jo(e,r,t,n)}(t,0,e)):r=n,r}}}(((e,t)=>e.qrank-t.qrank)),this._postrun=[]}function ea(e){return function(){return this._log[e].apply(this,arguments)}}function ta(e,t){Io.call(this,e,null,t)}Qo.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:ea("error"),warn:ea("warn"),info:ea("info"),debug:ea("debug"),logLevel:ea("level"),cleanThreshold:1e4,add:function(e,t,n,r){let i,o=1;return e instanceof Io?i=e:e&&e.prototype instanceof Io?i=new e:ne(e)?i=new Io(null,e):(o=0,i=new Io(e,t)),this.rank(i),o&&(r=n,n=t),n&&this.connect(i,i.parameters(n,r)),this.touch(i),i},connect:function(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank)return void this.rerank(e)},rank:function(e){e.rank=++this._rank},rerank:function(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&x("Cycle detected in dataflow graph.")},pulse:function(e,t,n){this.touch(e,n||Xo);const r=new Uo(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this},touch:function(e,t){const n=t||Xo;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this},update:function(e,t,n){const r=n||Xo;return(e.set(t)||r.force)&&this.touch(e,r),this},changeset:Eo,ingest:function(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))},parse:function(e,t){const n=this.locale();return go(e,t,n.timeParse,n.utcParse)},preload:async function(e,t,n){const r=this,i=r._pending||function(e){let t;const n=new Promise((e=>t=e));return n.requests=0,n.done=()=>{0==--n.requests&&(e._pending=null,t(e))},e._pending=n}(r);i.requests+=1;const o=await r.request(t,n);return r.pulse(e,r.changeset().remove(A).insert(o.data||[])),i.done(),o},request:async function(e,t){const n=this;let r,i=0;try{r=await n.loader().load(e,{context:"dataflow",response:mo(t&&t.type)});try{r=n.parse(r,t)}catch(t){i=-2,n.warn("Data ingestion failed",e,t)}}catch(t){i=-1,n.warn("Loading failed",e,t)}return{data:r,status:i}},events:function(e,t,n,r){const i=this,o=Yo(n,r),a=function(e){e.dataflow=i;try{o.receive(e)}catch(e){i.error(e)}finally{i.run()}};let s;s="string"==typeof e&&"undefined"!=typeof document?document.querySelectorAll(e):te(e);const l=s.length;for(let e=0;e<l;++e)s[e].addEventListener(t,a);return o},on:function(e,t,n,r,i){return(e instanceof Io?Wo:Bo)(this,e,t,n,r,i),this},evaluate:async function(e,t,n){const r=this,i=[];if(r._pulse)return Zo(r);if(r._pending&&await r._pending,t&&await bo(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const o=++r._clock;r._pulse=new Uo(r,o,e),r._touched.forEach((e=>r._enqueue(e,!0))),r._touched=vo(T);let a,s,l,u=0;try{for(;r._heap.size()>0;)a=r._heap.pop(),a.rank===a.qrank?(s=a.run(r._getPulse(a,e)),s.then?s=await s:s.async&&(i.push(s.async),s=$o),s!==$o&&a._targets&&a._targets.forEach((e=>r._enqueue(e))),++u):r._enqueue(a,!0)}catch(e){r._heap.clear(),l=e}if(r._input={},r._pulse=null,r.debug(`Pulse ${o}: ${u} operators`),l&&(r._postrun=[],r.error(l)),r._postrun.length){const e=r._postrun.sort(((e,t)=>t.priority-e.priority));r._postrun=[];for(let t=0;t<e.length;++t)await bo(r,e[t].callback)}return n&&await bo(r,n),i.length&&Promise.all(i).then((e=>r.runAsync(null,(()=>{e.forEach((e=>{try{e(r)}catch(e){r.error(e)}}))})))),r},run:function(e,t,n){return this._pulse?Zo(this):(this.evaluate(e,t,n),this)},runAsync:async function(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running},runAfter:function(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(e){this.error(e)}},_enqueue:function(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))},_getPulse:function(e,t){const n=e.source,r=this._clock;return n&&I(n)?new Ko(this,r,n.map((e=>e.pulse)),t):this._input[e.id]||function(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==$o&&(e.source=t.source),e)}(this._pulse,n&&n.pulse)}},ge(ta,Io,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then((e=>this.pulse=e)):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const na={};function ra(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n<t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function ia(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n>t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function oa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn;if(e===hn)return aa;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function aa(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function sa(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1,i=arguments.length>4?arguments[4]:void 0;for(i=void 0===i?aa:oa(i);r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);sa(e,t,Math.max(n,Math.floor(t-a*l/o+u)),Math.min(r,Math.floor(t+(o-a)*l/o+u)),i)}const o=e[t];let a=n,s=r;for(la(e,n,t),i(e[r],o)>0&&la(e,n,r);a<s;){for(la(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}0===i(e[n],o)?la(e,n,s):(++s,la(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function la(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function ua(e){return null===e?NaN:+e}function ca(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(yield t);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),r=e.length){if((t=+t)<=0||r<2)return ia(e);if(t>=1)return ra(e);var r,i=(r-1)*t,o=Math.floor(i),a=ra(sa(e,o).subarray(0,o+1));return a+(ia(e.subarray(o+1))-a)*(i-o)}}function da(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ua;if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function ha(e,t){return ca(e,.5,t)}function*fa(e,t){if(null==t)for(let t of e)null!=t&&""!==t&&(t=+t)>=t&&(yield t);else{let n=-1;for(let r of e)r=t(r,++n,e),null!=r&&""!==r&&(r=+r)>=r&&(yield r)}}function pa(e,t,n){const r=Float64Array.from(fa(e,n));return r.sort(hn),t.map((e=>da(r,e)))}function ma(e,t){return pa(e,[.25,.5,.75],t)}function ga(e,t){const n=e.length,r=function(e,t){const n=function(e,t){let n,r=0,i=0,o=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(n=t-i,i+=n/++r,o+=n*(t-i));else{let a=-1;for(let s of e)null!=(s=t(s,++a,e))&&(s=+s)>=s&&(n=s-i,i+=n/++r,o+=n*(s-i))}if(r>1)return o/(r-1)}(e,t);return n?Math.sqrt(n):n}(e,t),i=ma(e,t),o=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,o)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}var ya=Math.random;function va(e,t,n,r){r=r||(e=>e);const i=e.length,o=new Float64Array(i);let a,s=0,l=1,u=r(e[0]),c=u,d=u+t;for(;l<i;++l){if(a=r(e[l]),a>=d){for(c=(u+c)/2;s<l;++s)o[s]=c;d=a+t,u=a}c=a}for(c=(u+c)/2;s<l;++s)o[s]=c;return n?function(e,t){const n=e.length;let r,i,o=0,a=1;for(;e[o]===e[a];)++a;for(;a<n;){for(r=a+1;e[a]===e[r];)++r;if(e[a]-e[a-1]<t){for(i=a+(o+r-a-a>>1);i<a;)e[i++]=e[a];for(;i>a;)e[i--]=e[o]}o=a,a=r}return e}(o,t+t/4):o}const ba=Math.sqrt(2*Math.PI),wa=Math.SQRT2;let _a=NaN;function ka(e,t){e=e||0,t=null==t?1:t;let n,r,i=0,o=0;if(_a==_a)i=_a,_a=NaN;else{do{i=2*ya()-1,o=2*ya()-1,n=i*i+o*o}while(0===n||n>1);r=Math.sqrt(-2*Math.log(n)/n),i*=r,_a=o*r}return e+i*t}function Sa(e,t,n){const r=(e-(t||0))/(n=null==n?1:n);return Math.exp(-.5*r*r)/(n*ba)}function Ma(e,t,n){const r=(e-(t=t||0))/(n=null==n?1:n),i=Math.abs(r);let o;if(i>37)o=0;else{const e=Math.exp(-i*i/2);let t;i<7.07106781186547?(t=.0352624965998911*i+.700383064443688,t=t*i+6.37396220353165,t=t*i+33.912866078383,t=t*i+112.079291497871,t=t*i+221.213596169931,t=t*i+220.206867912376,o=e*t,t=.0883883476483184*i+1.75566716318264,t=t*i+16.064177579207,t=t*i+86.7807322029461,t=t*i+296.564248779674,t=t*i+637.333633378831,t=t*i+793.826512519948,t=t*i+440.413735824752,o/=t):(t=i+.65,t=i+4/t,t=i+3/t,t=i+2/t,t=i+1/t,o=e/t/2.506628274631)}return r>0?1-o:o}function xa(e,t,n){return e<0||e>1?NaN:(t||0)+(null==n?1:n)*wa*function(e){let t,n=-Math.log((1-e)*(1+e));return n<6.25?(n-=3.125,t=-364441206401782e-35,t=t*n-16850591381820166e-35,t=128584807152564e-32+t*n,t=11157877678025181e-33+t*n,t=t*n-1333171662854621e-31,t=20972767875968562e-33+t*n,t=6637638134358324e-30+t*n,t=t*n-4054566272975207e-29,t=t*n-8151934197605472e-29,t=26335093153082323e-28+t*n,t=t*n-12975133253453532e-27,t=t*n-5415412054294628e-26,t=1.0512122733215323e-9+t*n,t=t*n-4.112633980346984e-9,t=t*n-2.9070369957882005e-8,t=4.2347877827932404e-7+t*n,t=t*n-13654692000834679e-22,t=t*n-13882523362786469e-21,t=.00018673420803405714+t*n,t=t*n-.000740702534166267,t=t*n-.006033670871430149,t=.24015818242558962+t*n,t=1.6536545626831027+t*n):n<16?(n=Math.sqrt(n)-3.25,t=2.2137376921775787e-9,t=9.075656193888539e-8+t*n,t=t*n-2.7517406297064545e-7,t=1.8239629214389228e-8+t*n,t=15027403968909828e-22+t*n,t=t*n-4013867526981546e-21,t=29234449089955446e-22+t*n,t=12475304481671779e-21+t*n,t=t*n-47318229009055734e-21,t=6828485145957318e-20+t*n,t=24031110387097894e-21+t*n,t=t*n-.0003550375203628475,t=.0009532893797373805+t*n,t=t*n-.0016882755560235047,t=.002491442096107851+t*n,t=t*n-.003751208507569241,t=.005370914553590064+t*n,t=1.0052589676941592+t*n,t=3.0838856104922208+t*n):Number.isFinite(n)?(n=Math.sqrt(n)-5,t=-27109920616438573e-27,t=t*n-2.555641816996525e-10,t=1.5076572693500548e-9+t*n,t=t*n-3.789465440126737e-9,t=7.61570120807834e-9+t*n,t=t*n-1.496002662714924e-8,t=2.914795345090108e-8+t*n,t=t*n-6.771199775845234e-8,t=2.2900482228026655e-7+t*n,t=t*n-9.9298272942317e-7,t=4526062597223154e-21+t*n,t=t*n-1968177810553167e-20,t=7599527703001776e-20+t*n,t=t*n-.00021503011930044477,t=t*n-.00013871931833623122,t=1.0103004648645344+t*n,t=4.849906401408584+t*n):t=1/0,t*e}(2*e-1)}function Oa(e,t){let n,r;const i={mean(e){return arguments.length?(n=e||0,i):n},stdev(e){return arguments.length?(r=null==e?1:e,i):r},sample:()=>ka(n,r),pdf:e=>Sa(e,n,r),cdf:e=>Ma(e,n,r),icdf:e=>xa(e,n,r)};return i.mean(e).stdev(t)}function Ca(e,t){const n=Oa();let r=0;const i={data(n){return arguments.length?(e=n,r=n?n.length:0,i.bandwidth(t)):e},bandwidth(n){return arguments.length?(!(t=n)&&e&&(t=ga(e)),i):t},sample:()=>e[~~(ya()*r)]+t*n.sample(),pdf(i){let o=0,a=0;for(;a<r;++a)o+=n.pdf((i-e[a])/t);return o/t/r},cdf(i){let o=0,a=0;for(;a<r;++a)o+=n.cdf((i-e[a])/t);return o/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function Ta(e,t){return e=e||0,t=null==t?1:t,Math.exp(e+ka()*t)}function Ra(e,t,n){if(e<=0)return 0;t=t||0,n=null==n?1:n;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*ba*e)}function Da(e,t,n){return Ma(Math.log(e),t,n)}function Ea(e,t,n){return Math.exp(xa(e,t,n))}function Aa(e,t){return null==t&&(t=null==e?1:e,e=0),e+(t-e)*ya()}function La(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=t&&e<=n?1/(n-t):0}function ja(e,t,n){return null==n&&(n=null==t?1:t,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function Pa(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function Ia(e,t,n,r){const i=r-e*e,o=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-o*e,o]}function Ha(e,t,n,r){e=e.filter((e=>{let r=t(e),i=n(e);return null!=r&&(r=+r)>=r&&null!=i&&(i=+i)>=i})),r&&e.sort(((e,n)=>t(e)-t(n)));const i=e.length,o=new Float64Array(i),a=new Float64Array(i);let s,l,u,c=0,d=0,h=0;for(u of e)o[c]=s=+t(u),a[c]=l=+n(u),++c,d+=(s-d)/c,h+=(l-h)/c;for(c=0;c<i;++c)o[c]-=d,a[c]-=h;return[o,a,d,h]}function Na(e,t,n,r){let i,o,a=-1;for(const s of e)i=t(s),o=n(s),null!=i&&(i=+i)>=i&&null!=o&&(o=+o)>=o&&r(i,o,++a)}function Fa(e,t,n,r,i){let o=0,a=0;return Na(e,t,n,((e,t)=>{const n=t-i(e),s=t-r;o+=n*n,a+=s*s})),1-o/a}function Ya(e,t,n){let r=0,i=0,o=0,a=0,s=0;Na(e,t,n,((e,t)=>{++s,r+=(e-r)/s,i+=(t-i)/s,o+=(e*t-o)/s,a+=(e*e-a)/s}));const l=Ia(r,i,o,a),u=e=>l[0]+l[1]*e;return{coef:l,predict:u,rSquared:Fa(e,t,n,i,u)}}function za(e,t,n){const[r,i,o,a]=Ha(e,t,n),s=r.length;let l,u,c,d,h=0,f=0,p=0,m=0,g=0;for(l=0;l<s;)u=r[l],c=i[l++],d=u*u,h+=(d-h)/l,f+=(d*u-f)/l,p+=(d*d-p)/l,m+=(u*c-m)/l,g+=(d*c-g)/l;const y=p-h*h,v=h*y-f*f,b=(g*h-m*f)/v,w=(m*y-g*f)/v,_=-b*h,k=e=>b*(e-=o)*e+w*e+_+a;return{coef:[_-w*o+b*o*o+a,w-2*b*o,b],predict:k,rSquared:Fa(e,t,n,a,k)}}function Ba(e,t,n,r){const i=Array(e);let o,a,s,l;for(o=0;o<e;++o)i[o]=0;for(o=e-1;o>=0;--o)for(s=t[o],l=1,i[o]+=s,a=1;a<=o;++a)l*=(o+1-a)/a,i[o-a]+=s*Math.pow(n,a)*l;return i[0]+=r,i}function Wa(e){return(e=1-e*e*e)*e*e}function $a(e,t,n){const r=e[t];let i=n[0],o=n[1]+1;if(!(o>=e.length))for(;t>i&&e[o]-r<=r-e[i];)n[0]=++i,n[1]=o,++o}const Ua=.5*Math.PI/180;function Va(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=t=>[t,e(t)],o=t[0],a=t[1],s=a-o,l=s/r,u=[i(o)],c=[];if(n===r){for(let e=1;e<r;++e)u.push(i(o+e/n*s));return u.push(i(a)),u}c.push(i(a));for(let e=n;--e>0;)c.push(i(o+e/n*s));let d=u[0],h=c[c.length-1];const f=1/s,p=function(e,t){let n=e,r=e;const i=t.length;for(let e=0;e<i;++e){const i=t[e][1];i<n&&(n=i),i>r&&(r=i)}return 1/(r-n)}(d[1],c);for(;h;){const e=i((d[0]+h[0])/2);e[0]-d[0]>=l&&qa(d,e,h,f,p)>Ua?c.push(e):(d=h,u.push(h),c.pop()),h=c[c.length-1]}return u}function qa(e,t,n,r,i){const o=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),a=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(o-a)}function Ga(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Ka(e){return e&&e.length?1===e.length?e[0]:(t=e,e=>{const n=t.length;let r=1,i=String(t[0](e));for(;r<n;++r)i+="|"+t[r](e);return i}):function(){return""};var t}function Za(e,t,n){return n||e+(t?"_"+t:"")}const Xa=()=>{},Ja={init:Xa,add:Xa,rem:Xa,idx:0},Qa={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.sum,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||void 0===e.min)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||void 0===e.max)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3}},es=Object.keys(Qa);function ts(e,t){return Qa[e](t)}function ns(e,t){return e.idx-t.idx}function rs(){this.valid=0,this.missing=0,this._ops.forEach((e=>e.init(this)))}function is(e,t){null!=e&&""!==e?e==e&&(++this.valid,this._ops.forEach((n=>n.add(this,e,t)))):++this.missing}function os(e,t){null!=e&&""!==e?e==e&&(--this.valid,this._ops.forEach((n=>n.rem(this,e,t)))):--this.missing}function as(e){return this._out.forEach((t=>e[t.out]=t.value(this))),e}function ss(e,t){const n=t||R,r=function(e){const t={};e.forEach((e=>t[e.name]=e));const n=e=>{e.req&&e.req.forEach((e=>{t[e]||n(t[e]=Qa[e]())}))};return e.forEach(n),Object.values(t).sort(ns)}(e),i=e.slice().sort(ns);function o(e){this._ops=r,this._out=i,this.cell=e,this.init()}return o.prototype.init=rs,o.prototype.add=is,o.prototype.rem=os,o.prototype.set=as,o.prototype.get=n,o.fields=e.map((e=>e.out)),o}function ls(e){this._key=e?C(e):So,this.reset()}es.forEach((e=>{Qa[e]=function(e,t){return n=>ce({name:e,out:n||e},Ja,t)}(e,Qa[e])}));const us=ls.prototype;function cs(e){ta.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}function ds(e){ta.call(this,null,e)}function hs(e,t,n){const r=e;let i=t||[],o=n||[],a={},s=0;return{add:e=>o.push(e),remove:e=>a[r(e)]=++s,size:()=>i.length,data:(e,t)=>(s&&(i=i.filter((e=>!a[r(e)])),a={},s=0),t&&e&&i.sort(e),o.length&&(i=e?function(e,t,n,r){const i=t.length,o=n.length;if(!o)return t;if(!i)return n;const a=new t.constructor(i+o);let s=0,l=0,u=0;for(;s<i&&l<o;++u)a[u]=e(t[s],n[l])>0?n[l++]:t[s++];for(;s<i;++s,++u)a[u]=t[s];for(;l<o;++l,++u)a[u]=n[l];return a}(e,i,o.sort(e)):i.concat(o),o=[]),i)}}function fs(e){ta.call(this,[],e)}function ps(e){Io.call(this,null,ms,e)}function ms(e){return this.value&&!e.modified()?this.value:re(e.fields,e.orders)}function gs(e){ta.call(this,null,e)}function ys(e){ta.call(this,null,e)}us.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},us.add=function(e){this._add.push(e)},us.rem=function(e){this._rem.push(e)},us.values=function(){if(this._get=null,0===this._rem.length)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,o=Array(r-i),a={};let s,l,u;for(s=0;s<i;++s)a[n(t[s])]=1;for(s=0,l=0;s<r;++s)a[n(u=e[s])]?a[n(u)]=0:o[l++]=u;return this._rem=[],this._add=o},us.distinct=function(e){const t=this.values(),n={};let r,i=t.length,o=0;for(;--i>=0;)r=e(t[i])+"",fe(n,r)||(n[r]=1,++o);return o},us.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=function(e,t){const n=e.length;let r,i,o,a,s,l=-1;if(null==t){for(;++l<n;)if(i=e[l],null!=i&&i>=i){r=o=i;break}if(l===n)return[-1,-1];for(a=s=l;++l<n;)i=e[l],null!=i&&(r>i&&(r=i,a=l),o<i&&(o=i,s=l))}else{for(;++l<n;)if(i=t(e[l],l,e),null!=i&&i>=i){r=o=i;break}if(l===n)return[-1,-1];for(a=s=l;++l<n;)i=t(e[l],l,e),null!=i&&(r>i&&(r=i,a=l),o<i&&(o=i,s=l))}return[a,s]}(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext},us.argmin=function(e){return this.extent(e)[0]||{}},us.argmax=function(e){return this.extent(e)[1]||{}},us.min=function(e){const t=this.extent(e)[0];return null!=t?e(t):void 0},us.max=function(e){const t=this.extent(e)[1];return null!=t?e(t):void 0},us.quartile=function(e){return this._get===e&&this._q||(this._q=ma(this.values(),e),this._get=e),this._q},us.q1=function(e){return this.quartile(e)[0]},us.q2=function(e){return this.quartile(e)[1]},us.q3=function(e){return this.quartile(e)[2]},us.ci=function(e){return this._get===e&&this._ci||(this._ci=function(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(fa(e,r)),o=i.length;let a,s,l,u;for(l=0,u=Array(1e3);l<1e3;++l){for(a=0,s=0;s<o;++s)a+=i[~~(ya()*o)];u[l]=a/o}return u.sort(hn),[ca(u,.025),ca(u,.975)]}(this.values(),0,0,e),this._get=e),this._ci},us.ci0=function(e){return this.ci(e)[0]},us.ci1=function(e){return this.ci(e)[1]},cs.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:es},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},ge(cs,ta,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):{},t.visit(t.SOURCE,(e=>n.add(e)))):(n.value=n.value||n.init(e),t.visit(t.REM,(e=>n.rem(e))),t.visit(t.ADD,(e=>n.add(e)))),r.modifies(n._outputs),n._drop=!1!==e.drop,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter((()=>this.clean())),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map((()=>({}))),i=n.length;function o(e){let t,o,a,s;for(t in e)for(a=e[t].tuple,o=0;o<i;++o)r[o][s=a[n[o]]]=s}o(e._prev),o(t),function o(a,s,l){const u=n[l],c=r[l++];for(const n in c){const r=a?a+"|"+n:n;s[u]=c[n],l<i?o(r,s,l):t[r]||e.cell(r,s)}}("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(e){const n=te(_(e)),i=n.length;let o,a=0;for(;a<i;++a)r[o=n[a]]||(r[o]=1,t.push(o))}this._dims=te(e.groupby),this._dnames=this._dims.map((e=>{const t=w(e);return i(e),n.push(t),t})),this.cellkey=e.key?e.key:Ka(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const o=e.fields||[null],a=e.ops||["count"],s=e.as||[],l=o.length,u={};let c,d,h,f,p,m;for(l!==a.length&&x("Unmatched number of fields and aggregate ops."),m=0;m<l;++m)c=o[m],d=a[m],null==c&&"count"!==d&&x("Null aggregate field specified."),f=w(c),p=Za(d,f,s[m]),n.push(p),"count"!==d?(h=u[f],h||(i(c),h=u[f]=[],h.field=c,this._measures.push(h)),"count"!==d&&(this._countOnly=!1),h.push(ts(d,p))):this._counts.push(p);return this._measures=this._measures.map((e=>ss(e,e.field))),{}},cellkey:Ka(),cell(e,t){let n=this.value[e];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const e=this._measures,t=e.length;n.agg=Array(t);for(let r=0;r<t;++r)n.agg[r]=new e[r](n)}return n.store&&(n.data=new ls),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,o={};for(let t=0;t<i;++t)o[n[t]]=r[t](e);return t?To(t.tuple,o):xo(o)},clean(){const e=this.value;for(const t in e)0===e[t].num&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let t=0,n=r.length;t<n;++t)r[t].add(r[t].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let t=0,n=r.length;t<n;++t)r[t].rem(r[t].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const n=e.agg;for(let e=0,r=n.length;e<r;++e)n[e].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,o=e.add,a=e.rem,s=e.mod;let l,u,c,d;if(r)for(u in r)l=r[u],i&&!l.num||a.push(l.tuple);for(c=0,d=this._alen;c<d;++c)o.push(this.celltuple(t[c])),t[c]=null;for(c=0,d=this._mlen;c<d;++c)l=n[c],(0===l.num&&i?a:s).push(this.celltuple(l)),n[c]=null;return this._alen=this._mlen=0,this._prev=null,e}}),ds.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},ge(ds,ta,{transform(e,t){const n=!1!==e.interval,r=this._bins(e),i=r.start,o=r.step,a=e.as||["bin0","bin1"],s=a[0],l=a[1];let u;return u=e.modified()?(t=t.reflow(!0)).SOURCE:t.modified(_(e.field))?t.ADD_MOD:t.ADD,t.visit(u,n?e=>{const t=r(e);e[s]=t,e[l]=null==t?null:i+o*(1+(t-i)/o)}:e=>e[s]=r(e)),t.modifies(n?a:s)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=function(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let o,a,s,l,u,c,d=e.extent[0],h=e.extent[1];const f=e.span||h-d||Math.abs(d)||1;if(e.step)o=e.step;else if(e.steps){for(l=f/t,u=0,c=e.steps.length;u<c&&e.steps[u]<l;++u);o=e.steps[Math.max(0,u-1)]}else{for(a=Math.ceil(Math.log(t)/r),s=e.minstep||0,o=Math.max(s,Math.pow(n,Math.round(Math.log(f)/r)-a));Math.ceil(f/o)>t;)o*=n;for(u=0,c=i.length;u<c;++u)l=o/i[u],l>=s&&f/l<=t&&(o=l)}l=Math.log(o);const p=l>=0?0:1+~~(-l/r),m=Math.pow(n,-p-1);return(e.nice||void 0===e.nice)&&(l=Math.floor(d/o+m)*o,d=d<l?l-o:l,h=Math.ceil(h/o)*o),{start:d,stop:h===d?d+o:h,step:o}}(e),r=n.step;let i,o,a=n.start,s=a+Math.ceil((n.stop-a)/r)*r;null!=(i=e.anchor)&&(o=i-(a+r*Math.floor((i-a)/r)),a+=o,s+=o);const l=function(e){let n=W(t(e));return null==n?null:n<a?-1/0:n>s?1/0:(n=Math.max(a,Math.min(n,s-r)),a+r*Math.floor(1e-14+(n-a)/r))};return l.start=a,l.stop=n.stop,l.step=r,this.value=b(l,_(t),e.name||"bin_"+w(t))}}),fs.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},ge(fs,ta,{transform(e,t){const n=t.fork(t.ALL),r=hs(So,this.value,n.materialize(n.ADD).add),i=e.sort,o=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(o),this.value=n.source=r.data(Ro(i),o),t.source&&t.source.root&&(this.value.root=t.source.root),n}}),ge(ps,Io),gs.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]},ge(gs,ta,{transform(e,t){const n=t=>n=>{for(var r,i=function(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(n)}(s(n),e.case,o)||[],l=0,u=i.length;l<u;++l)a.test(r=i[l])||t(r)},r=this._parameterCheck(e,t),i=this._counts,o=this._match,a=this._stop,s=e.field,l=e.as||["text","count"],u=n((e=>i[e]=1+(i[e]||0))),c=n((e=>i[e]-=1));return r?t.visit(t.SOURCE,u):(t.visit(t.ADD,u),t.visit(t.REM,c)),this._finish(t,l)},_parameterCheck(e,t){let n=!1;return!e.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),!e.modified("pattern")&&this._match||(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],o=t[1],a=e.fork(e.NO_SOURCE|e.NO_FIELDS);let s,l,u;for(s in n)l=r[s],u=n[s]||0,!l&&u?(r[s]=l=xo({}),l[i]=s,l[o]=u,a.add.push(l)):0===u?(l&&a.rem.push(l),n[s]=null,r[s]=null):l[o]!==u&&(l[o]=u,a.mod.push(l));return a.modifies(t)}}),ys.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},ge(ys,ta,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],o=r[1],a=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let s=this.value;return a?(s&&(n.rem=s),s=t.materialize(t.SOURCE).source,n.add=this.value=function(e,t,n,r){for(var i,o,a=[],s={},l=e.length,u=0;u<l;++u)for(s[t]=o=e[u],i=0;i<l;++i)s[n]=e[i],r(s)&&(a.push(xo(s)),(s={})[t]=o);return a}(s,i,o,e.filter||A)):n.mod=s,n.source=this.value,n.modifies(r)}});const vs={kde:Ca,mixture:function(e,t){let n,r=0;const i={weights(e){return arguments.length?(n=function(e){const t=[];let n,i=0;for(n=0;n<r;++n)i+=t[n]=null==e[n]?1:+e[n];for(n=0;n<r;++n)t[n]/=i;return t}(t=e||[]),i):t},distributions(n){return arguments.length?(n?(r=n.length,e=n):(r=0,e=[]),i.weights(t)):e},sample(){const t=ya();let i=e[r-1],o=n[0],a=0;for(;a<r-1;o+=n[++a])if(t<o){i=e[a];break}return i.sample()},pdf(t){let i=0,o=0;for(;o<r;++o)i+=n[o]*e[o].pdf(t);return i},cdf(t){let i=0,o=0;for(;o<r;++o)i+=n[o]*e[o].cdf(t);return i},icdf(){throw Error("Mixture icdf not supported.")}};return i.distributions(e).weights(t)},normal:Oa,lognormal:function(e,t){let n,r;const i={mean(e){return arguments.length?(n=e||0,i):n},stdev(e){return arguments.length?(r=null==e?1:e,i):r},sample:()=>Ta(n,r),pdf:e=>Ra(e,n,r),cdf:e=>Da(e,n,r),icdf:e=>Ea(e,n,r)};return i.mean(e).stdev(t)},uniform:function(e,t){let n,r;const i={min(e){return arguments.length?(n=e||0,i):n},max(e){return arguments.length?(r=null==e?1:e,i):r},sample:()=>Aa(n,r),pdf:e=>La(e,n,r),cdf:e=>ja(e,n,r),icdf:e=>Pa(e,n,r)};return null==t&&(t=null==e?1:e,e=0),i.min(e).max(t)}};function bs(e,t){const n=e.function;fe(vs,n)||x("Unknown distribution function: "+n);const r=vs[n]();for(const n in e)"field"===n?r.data((e.from||t()).map(e[n])):"distributions"===n?r[n](e[n].map((e=>bs(e,t)))):"function"==typeof r[n]&&r[n](e[n]);return r}function ws(e){ta.call(this,null,e)}const _s=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],ks={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:_s},{name:"weights",type:"number",array:!0}]};function Ss(e,t){return e?e.map(((e,n)=>t[n]||w(e))):null}function Ms(e,t,n){const r=[],i=e=>e(l);let o,a,s,l,u,c;if(null==t)r.push(e.map(n));else for(o={},a=0,s=e.length;a<s;++a)l=e[a],u=t.map(i),c=o[u],c||(o[u]=c=[],c.dims=u,r.push(c)),c.push(n(l));return r}function xs(e){ta.call(this,null,e)}function Os(e){Io.call(this,null,Cs,e),this.modified(!0)}function Cs(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:b((n=>t(n,e)),_(t),w(t))}function Ts(e){ta.call(this,[void 0,void 0],e)}function Rs(e,t){Io.call(this,e),this.parent=t,this.count=0}function Ds(e){ta.call(this,{},e),this._keys=me();const t=this._targets=[];t.active=0,t.forEach=e=>{for(let n=0,r=t.active;n<r;++n)e(t[n],n,t)}}function Es(e){Io.call(this,null,As,e)}function As(e){return this.value&&!e.modified()?this.value:I(e.name)?te(e.name).map((e=>C(e))):C(e.name,e.as)}function Ls(e){ta.call(this,me(),e)}function js(e){ta.call(this,[],e)}function Ps(e){ta.call(this,[],e)}function Is(e){ta.call(this,null,e)}function Hs(e){ta.call(this,[],e)}ws.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:_s.concat(ks)},{name:"as",type:"string",array:!0,default:["value","density"]}]},ge(ws,ta,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=bs(e.distribution,function(e){return()=>e.materialize(e.SOURCE).source}(t)),i=e.steps||e.minsteps||25,o=e.steps||e.maxsteps||200;let a=e.method||"pdf";"pdf"!==a&&"cdf"!==a&&x("Invalid density method: "+a),e.extent||r.data||x("Missing density extent parameter."),a=r[a];const s=e.as||["value","density"],l=Va(a,e.extent||de(r.data()),i,o).map((e=>{const t={};return t[s[0]]=e[0],t[s[1]]=e[1],xo(t)}));this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}}),xs.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:"bin"}]},ge(xs,ta,{transform(e,t){if(this.value&&!e.modified()&&!t.changed())return t;const n=t.materialize(t.SOURCE).source,r=Ms(t.source,e.groupby,R),i=e.smooth||!1,o=e.field,a=e.step||((e,t)=>Me(de(e,t))/30)(n,o),s=Ro(((e,t)=>o(e)-o(t))),l=e.as||"bin",u=r.length;let c,d=1/0,h=-1/0,f=0;for(;f<u;++f){const e=r[f].sort(s);c=-1;for(const t of va(e,a,i,o))t<d&&(d=t),t>h&&(h=t),e[++c][l]=t}return this.value={start:d,stop:h,step:a},t.reflow(!0).modifies(l)}}),ge(Os,Io),Ts.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},ge(Ts,ta,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let o=n[0],a=n[1];if((i||null==o)&&(o=1/0,a=-1/0),t.visit(i?t.SOURCE:t.ADD,(e=>{const t=W(r(e));null!=t&&(t<o&&(o=t),t>a&&(a=t))})),!Number.isFinite(o)||!Number.isFinite(a)){let e=w(r);e&&(e=' for field "'.concat(e,'"')),t.dataflow.warn("Infinite extent".concat(e,": [").concat(o,", ").concat(a,"]")),o=a=void 0}this.value=[o,a]}}),ge(Rs,Io,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}}),ge(Ds,ta,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let o,a,s=fe(i,e)&&i[e];return s?s.value.stamp<n.stamp&&(s.init(n),this.activate(s)):(a=r||(a=this._group[e])&&a.tuple,o=n.dataflow,s=new Rs(n.fork(n.NO_SOURCE),this),o.add(s).connect(t(o,e,a)),i[e]=s,this.activate(s)),s},clean(){const e=this.value;let t=0;for(const n in e)if(0===e[n].count){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const e=this._targets.filter((e=>e&&e.count>0));this.initTargets(e)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&null!=t[i];++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,o=this._keys,a=e.modified("key"),s=e=>this.subflow(e,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,(e=>{const t=So(e),n=o.get(t);void 0!==n&&(o.delete(t),s(n).rem(e))})),t.visit(t.ADD,(e=>{const t=r(e);o.set(So(e),t),s(t).add(e)})),a||t.modified(r.fields)?t.visit(t.MOD,(e=>{const t=So(e),n=o.get(t),i=r(e);n===i?s(i).mod(e):(o.set(t,i),s(n).rem(e),s(i).add(e))})):t.changed(t.MOD)&&t.visit(t.MOD,(e=>{s(o.get(So(e))).mod(e)})),a&&t.visit(t.REFLOW,(e=>{const t=So(e),n=o.get(t),i=r(e);n!==i&&(o.set(t,i),s(n).rem(e),s(i).add(e))})),t.clean()?n.runAfter((()=>{this.clean(),o.clean()})):o.empty>n.cleanThreshold&&n.runAfter(o.clean),t}}),ge(Es,Io),Ls.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},ge(Ls,ta,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),o=i.add,a=i.rem,s=i.mod,l=e.expr;let u=!0;function c(t){const n=So(t),i=l(t,e),c=r.get(n);i&&c?(r.delete(n),o.push(t)):i||c?u&&i&&!c&&s.push(t):(r.set(n,1),a.push(t))}return t.visit(t.REM,(e=>{const t=So(e);r.has(t)?r.delete(t):a.push(e)})),t.visit(t.ADD,(t=>{l(t,e)?o.push(t):r.set(So(t),1)})),t.visit(t.MOD,c),e.modified()&&(u=!1,t.visit(t.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}}),js.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},ge(js,ta,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=Ss(r,e.as||[]),o=e.index||null,a=i.length;return n.rem=this.value,t.visit(t.SOURCE,(e=>{const t=r.map((t=>t(e))),s=t.reduce(((e,t)=>Math.max(e,t.length)),0);let l,u,c,d=0;for(;d<s;++d){for(u=Oo(e),l=0;l<a;++l)u[i[l]]=null==(c=t[l][d])?null:c;o&&(u[o]=d),n.add.push(u)}})),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(i)}}),Ps.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},ge(Ps,ta,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(w),o=e.as||["key","value"],a=o[0],s=o[1],l=r.length;return n.rem=this.value,t.visit(t.SOURCE,(e=>{for(let t,o=0;o<l;++o)t=Oo(e),t[a]=i[o],t[s]=r[o](e),n.add.push(t)})),this.value=n.source=n.add,n.modifies(o)}}),Is.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},ge(Is,ta,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),o=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(o,(t=>t[r]=n(t,e)))}}),ge(Hs,ta,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i,o,a,s=this.value,l=e.size-s.length;if(l>0){for(i=[];--l>=0;)i.push(a=xo(r(e))),s.push(a);n.add=n.add.length?n.materialize(n.ADD).add.concat(i):i}else o=s.slice(0,-l),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(o):o,s=s.slice(-l);return n.source=this.value=s,n}});const Ns={value:"value",median:ha,mean:function(e,t){let n=0,r=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(++n,r+=t);else{let i=-1;for(let o of e)null!=(o=t(o,++i,e))&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n},min:ia,max:ra},Fs=[];function Ys(e){ta.call(this,[],e)}function zs(e){cs.call(this,e)}function Bs(e){ta.call(this,null,e)}function Ws(e){Io.call(this,null,$s,e)}function $s(e){return this.value&&!e.modified()?this.value:ke(e.fields,e.flat)}function Us(e){ta.call(this,[],e),this._pending=null}function Vs(e,t,n){n.forEach(xo);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function qs(e){ta.call(this,{},e)}function Gs(e){Io.call(this,null,Ks,e)}function Ks(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r,i,o=1/0,a=-1/0;for(r=0;r<n;++r)i=t[r],i[0]<o&&(o=i[0]),i[1]>a&&(a=i[1]);return[o,a]}function Zs(e){Io.call(this,null,Xs,e)}function Xs(e){return this.value&&!e.modified()?this.value:e.values.reduce(((e,t)=>e.concat(t)),[])}function Js(e){ta.call(this,null,e)}function Qs(e){cs.call(this,e)}function el(e){Ds.call(this,e)}function tl(e){ta.call(this,null,e)}function nl(e){ta.call(this,null,e)}function rl(e){ta.call(this,null,e)}function il(e){ta.call(this,null,e)}function ol(e){ta.call(this,[],e),this.count=0}function al(e){ta.call(this,null,e)}function sl(e){ta.call(this,null,e),this.modified(!0)}function ll(e){ta.call(this,null,e)}Ys.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},ge(Ys,ta,{transform(e,t){var n,r,i,o,a,s,l,u,c,d,h=t.fork(t.ALL),f=function(e){var t,n=e.method||Ns.value;if(null!=Ns[n])return n===Ns.value?(t=void 0!==e.value?e.value:0,()=>t):Ns[n];x("Unrecognized imputation method: "+n)}(e),p=function(e){const t=e.field;return e=>e?t(e):NaN}(e),m=w(e.field),g=w(e.key),y=(e.groupby||[]).map(w),v=function(e,t,n,r){var i,o,a,s,l,u,c,d,h=e=>e(d),f=[],p=r?r.slice():[],m={},g={};for(p.forEach(((e,t)=>m[e]=t+1)),s=0,c=e.length;s<c;++s)u=n(d=e[s]),l=m[u]||(m[u]=p.push(u)),(a=g[o=(i=t?t.map(h):Fs)+""])||(a=g[o]=[],f.push(a),a.values=i),a[l-1]=d;return f.domain=p,f}(t.source,e.groupby,e.key,e.keyvals),b=[],_=this.value,k=v.domain.length;for(a=0,u=v.length;a<u;++a)for(i=(n=v[a]).values,r=NaN,l=0;l<k;++l)if(null==n[l]){for(o=v.domain[l],d={_impute:!0},s=0,c=i.length;s<c;++s)d[y[s]]=i[s];d[g]=o,d[m]=Number.isNaN(r)?r=f(n,p):r,b.push(xo(d))}return b.length&&(h.add=h.materialize(h.ADD).add.concat(b)),_.length&&(h.rem=h.materialize(h.REM).rem.concat(_)),this.value=b,h}}),zs.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:es},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]},ge(zs,cs,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,(e=>n.add(e)))):(i=n.value=n.value||this.init(e),t.visit(t.REM,(e=>n.rem(e))),t.visit(t.ADD,(e=>n.add(e)))),n.changes(),t.visit(t.SOURCE,(e=>{ce(e,i[n.cellkey(e)].tuple)})),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}}),Bs.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},ge(Bs,ta,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=Ms(r,e.groupby,e.field),o=(e.groupby||[]).map(w),a=e.bandwidth,s=e.cumulative?"cdf":"pdf",l=e.as||["value","density"],u=[];let c=e.extent,d=e.steps||e.minsteps||25,h=e.steps||e.maxsteps||200;"pdf"!==s&&"cdf"!==s&&x("Invalid density method: "+s),"shared"===e.resolve&&(c||(c=de(r,e.field)),d=h=e.steps||h),i.forEach((t=>{const n=Ca(t,a)[s],r=e.counts?t.length:1;Va(n,c||de(t),d,h).forEach((e=>{const n={};for(let e=0;e<o.length;++e)n[o[e]]=t.dims[e];n[l[0]]=e[0],n[l[1]]=e[1]*r,u.push(xo(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}}),ge(Ws,Io),ge(Us,ta,{transform(e,t){const n=t.dataflow;if(this._pending)return Vs(this,t,this._pending);if(function(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}(e))return t.StopPropagation;if(e.values)return Vs(this,t,n.parse(e.values,e.format));if(e.async){const t=n.request(e.url,e.format).then((e=>(this._pending=te(e.data),e=>e.touch(this))));return{async:t}}return n.request(e.url,e.format).then((e=>Vs(this,t,te(e.data))))}}),qs.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},ge(qs,ta,{transform(e,t){const n=e.fields,r=e.index,i=e.values,o=null==e.default?null:e.default,a=e.modified(),s=n.length;let l,u,c,d=a?t.SOURCE:t.ADD,h=t,f=e.as;return i?(u=i.length,s>1&&!f&&x('Multi-field lookup requires explicit "as" parameter.'),f&&f.length!==s*u&&x('The "as" parameter has too few output field names.'),f=f||i.map(w),l=function(e){for(var t,a,l=0,c=0;l<s;++l)if(null==(a=r.get(n[l](e))))for(t=0;t<u;++t,++c)e[f[c]]=o;else for(t=0;t<u;++t,++c)e[f[c]]=i[t](a)}):(f||x("Missing output field names."),l=function(e){for(var t,i=0;i<s;++i)t=r.get(n[i](e)),e[f[i]]=null==t?o:t}),a?h=t.reflow(!0):(c=n.some((e=>t.modified(e.fields))),d|=c?t.MOD:0),t.visit(d,l),h.modifies(f)}}),ge(Gs,Io),ge(Zs,Io),ge(Js,ta,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),Qs.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:es,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]},ge(Qs,cs,{_transform:cs.prototype.transform,transform(e,t){return this._transform(function(e,t){const n=e.field,r=e.value,i=("count"===e.op?"__count__":e.op)||"sum",o=_(n).concat(_(r)),a=function(e,t,n){const r={},i=[];return n.visit(n.SOURCE,(t=>{const n=e(t);r[n]||(r[n]=1,i.push(n))})),i.sort(ie),t?i.slice(0,t):i}(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:a.map((()=>i)),fields:a.map((e=>function(e,t,n,r){return b((r=>t(r)===e?n(r):NaN),r,e+"")}(e,n,r,o))),as:a.map((e=>e+"")),modified:e.modified.bind(e)}}(e,t),t)}}),ge(el,Ds,{transform(e,t){const n=e.subflow,r=e.field,i=e=>this.subflow(So(e),n,t,e);return(e.modified("field")||r&&t.modified(_(r)))&&x("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,(e=>{const t=i(e);r(e).forEach((e=>t.mod(e)))})),t.visit(t.ADD,(e=>{const t=i(e);r(e).forEach((e=>t.add(xo(e))))})),t.visit(t.REM,(e=>{const t=i(e);r(e).forEach((e=>t.rem(e)))}))):(t.visit(t.MOD,(e=>i(e).mod(e))),t.visit(t.ADD,(e=>i(e).add(e))),t.visit(t.REM,(e=>i(e).rem(e)))),t.clean()&&t.runAfter((()=>this.clean())),t}}),tl.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},ge(tl,ta,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=Ss(e.fields,e.as||[]),o=r?(e,t)=>function(e,t,n,r){for(let i=0,o=n.length;i<o;++i)t[r[i]]=n[i](e);return t}(e,t,r,i):Co;let a;return this.value?a=this.value:(t=t.addAll(),a=this.value={}),t.visit(t.REM,(e=>{const t=So(e);n.rem.push(a[t]),a[t]=null})),t.visit(t.ADD,(e=>{const t=o(e,xo({}));a[So(e)]=t,n.add.push(t)})),t.visit(t.MOD,(e=>{n.mod.push(o(e,a[So(e)]))})),n}}),ge(nl,ta,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}}),rl.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]},ge(rl,ta,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=Ms(t.materialize(t.SOURCE).source,e.groupby,e.field),o=(e.groupby||[]).map(w),a=[],s=e.step||.01,l=e.probs||Ga(s/2,1-1e-14,s),u=l.length;return i.forEach((e=>{const t=pa(e,l);for(let n=0;n<u;++n){const i={};for(let t=0;t<o.length;++t)i[o[t]]=e.dims[t];i[r[0]]=l[n],i[r[1]]=t[n],a.push(xo(i))}})),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n}}),ge(il,ta,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,(e=>{const t=So(e);n.rem.push(r[t]),r[t]=null})),t.visit(t.ADD,(e=>{const t=Oo(e);r[So(e)]=t,n.add.push(t)})),t.visit(t.MOD,(e=>{const t=r[So(e)];for(const r in e)t[r]=e[r],n.modifies(r);n.mod.push(t)}))),n}}),ol.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},ge(ol,ta,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,o=this.value.reduce(((e,t)=>(e[So(t)]=1,e)),{});let a=this.value,s=this.count,l=0;function u(e){let t,r;a.length<i?a.push(e):(r=~~((s+1)*ya()),r<a.length&&r>=l&&(t=a[r],o[So(t)]&&n.rem.push(t),a[r]=e)),++s}if(t.rem.length&&(t.visit(t.REM,(e=>{const t=So(e);o[t]&&(o[t]=-1,n.rem.push(e)),--s})),a=a.filter((e=>-1!==o[So(e)]))),(t.rem.length||r)&&a.length<i&&t.source&&(l=s=a.length,t.visit(t.SOURCE,(e=>{o[So(e)]||u(e)})),l=-1),r&&a.length>i){const e=a.length-i;for(let t=0;t<e;++t)o[So(a[t])]=-1,n.rem.push(a[t]);a=a.slice(e)}return t.mod.length&&t.visit(t.MOD,(e=>{o[So(e)]&&n.mod.push(e)})),t.add.length&&t.visit(t.ADD,u),(t.add.length||l<0)&&(n.add=a.filter((e=>!o[So(e)]))),this.count=s,this.value=n.source=a,n}}),al.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},ge(al,ta,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Ga(e.start,e.stop,e.step||1).map((e=>{const t={};return t[r]=e,xo(t)})),n.add=t.add.concat(this.value),n}}),ge(sl,ta,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});const ul=["unit0","unit1"];function cl(e){ta.call(this,me(),e)}function dl(e){ta.call(this,null,e)}ll.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:Cn,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:ul}]},ge(ll,ta,{transform(e,t){const n=e.field,r=!1!==e.interval,i="utc"===e.timezone,o=this._floor(e,t),a=(i?Jn:Xn)(o.unit).offset,s=e.as||ul,l=s[0],u=s[1],c=o.step;let d=o.start||1/0,h=o.stop||-1/0,f=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(_(n)))&&(f=(t=t.reflow(!0)).SOURCE,d=1/0,h=-1/0),t.visit(f,(e=>{const t=n(e);let i,s;null==t?(e[l]=null,r&&(e[u]=null)):(e[l]=i=s=o(t),r&&(e[u]=s=a(i,c)),i<d&&(d=i),s>h&&(h=s))})),o.start=d,o.stop=h,t.modifies(r?s:l)},_floor(e,t){const n="utc"===e.timezone,{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:function(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(Me(t))/n;let i,o,a=pn((e=>e[2])).right(ur,r);return a===ur.length?(i=lr,o=Xe(t[0]/tr,t[1]/tr,n)):a?(a=ur[r/ur[a-1][2]<ur[a][2]/r?a-1:a],i=a[0],o=a[1]):(i=nr,o=Math.max(Xe(t[0],t[1],n),1)),{units:i,step:o}}({extent:e.extent||de(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),o=Rn(r),a=this.value||{},s=(n?Gn:Un)(o,i);return s.unit=B(o),s.units=o,s.step=i,s.start=a.start,s.stop=a.stop,this.value=s}}),ge(cl,ta,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,o=e=>i.set(r(e),e);let a=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,o)):t.changed()?(t.visit(t.REM,(e=>i.delete(r(e)))),t.visit(t.ADD,o)):a=!1,this.modified(a),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}}),ge(dl,ta,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(Ro(e.sort)):t.source).map(e.field))}});const hl={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=hl.rank(),t=e.next;return{init:e.init,next:e=>(t(e)-1)/(e.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){(t=+t)>0||x("ntile num must be greater than zero.");const n=hl.cume_dist(),r=n.next;return{init:n.init,next:e=>Math.ceil(t*r(e))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return(t=+t)>0||x("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return null!=r?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=function(e,t,n){for(let r=t.length;n<r;++n)if(null!=e(t[n]))return n;return-1}(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}},fl=Object.keys(hl);function pl(e){const t=te(e.ops),n=te(e.fields),r=te(e.params),i=te(e.as),o=this.outputs=[],a=this.windows=[],s={},l={},u=[],c=[];let d=!0;function h(e){te(_(e)).forEach((e=>s[e]=1))}h(e.sort),t.forEach(((e,t)=>{const s=n[t],f=w(s),p=Za(e,f,i[t]);if(h(s),o.push(p),fe(hl,e))a.push(function(e,t,n,r){const i=hl[e](t,n);return{init:i.init||D,update:function(e,t){t[r]=i.next(e)}}}(e,n[t],r[t],p));else{if(null==s&&"count"!==e&&x("Null aggregate field specified."),"count"===e)return void u.push(p);d=!1;let t=l[f];t||(t=l[f]=[],t.field=s,c.push(t)),t.push(ts(e,p))}})),(u.length||c.length)&&(this.cell=function(e,t,n){e=e.map((e=>ss(e,e.field)));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,o=r.agg=Array(i),a=0;a<i;++a)o[a]=new e[a](r);if(r.store)var s=r.data=new ls;return r.add=function(e){if(r.num+=1,!n){s&&s.add(e);for(let t=0;t<i;++t)o[t].add(o[t].get(e),e)}},r.rem=function(e){if(r.num-=1,!n){s&&s.rem(e);for(let t=0;t<i;++t)o[t].rem(o[t].get(e),e)}},r.set=function(e){let i,a;for(s&&s.values(),i=0,a=t.length;i<a;++i)e[t[i]]=r.num;if(!n)for(i=0,a=o.length;i<a;++i)o[i].set(e)},r.init=function(){r.num=0,s&&s.reset();for(let e=0;e<i;++e)o[e].init()},r}(c,u,d)),this.inputs=Object.keys(s)}const ml=pl.prototype;function gl(e){ta.call(this,{},e),this._mlen=0,this._mods=[]}function yl(e,t,n,r){const i=r.sort,o=i&&!r.ignorePeers,a=r.frame||[null,0],s=e.data(n),l=s.length,u=o?pn(i):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:s,compare:i||le(-1)};t.init();for(let e=0;e<l;++e)vl(c,a,e,l),o&&bl(c,u),t.update(c,s[e])}function vl(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=null==t[0]?0:Math.max(0,n-Math.abs(t[0])),e.i1=null==t[1]?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function bl(e,t){const n=e.i0,r=e.i1-1,i=e.compare,o=e.data,a=o.length-1;n>0&&!i(o[n],o[n-1])&&(e.i0=t.left(o,o[n])),r<a&&!i(o[r],o[r+1])&&(e.i1=t.right(o,o[r]))}function wl(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function _l(e){this._context=e}function kl(){}function Sl(e){this._context=e}function Ml(e){this._context=e}function xl(e,t){this._basis=new _l(e),this._beta=t}ml.init=function(){this.windows.forEach((e=>e.init())),this.cell&&this.cell.init()},ml.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,o=r&&r.length;let a;if(n){for(a=e.p0;a<e.i0;++a)n.rem(i[a]);for(a=e.p1;a<e.i1;++a)n.add(i[a]);n.set(t)}for(a=0;a<o;++a)r[a].update(e,t)},gl.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:fl.concat(es)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]},ge(gl,ta,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=Ro(e.sort),i=Ka(e.groupby),o=e=>this.group(i(e));let a=this.state;a&&!n||(a=this.state=new pl(e)),n||t.modified(a.inputs)?(this.value={},t.visit(t.SOURCE,(e=>o(e).add(e)))):(t.visit(t.REM,(e=>o(e).remove(e))),t.visit(t.ADD,(e=>o(e).add(e))));for(let t=0,n=this._mlen;t<n;++t)yl(this._mods[t],a,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(a.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=hs(So),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}}),_l.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:wl(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:wl(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Sl.prototype={areaStart:kl,areaEnd:kl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:wl(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Ml.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:wl(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},xl.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],o=t[0],a=e[n]-i,s=t[n]-o,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(i+r*a),this._beta*t[l]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const Ol=function e(t){function n(e){return 1===t?new _l(e):new xl(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function Cl(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Tl(e,t){this._context=e,this._k=(1-t)/6}Tl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Cl(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Cl(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Rl=function e(t){function n(e){return new Tl(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Dl(e,t){this._context=e,this._k=(1-t)/6}Dl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Cl(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const El=function e(t){function n(e){return new Dl(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Al(e,t){this._context=e,this._k=(1-t)/6}Al.prototype={areaStart:kl,areaEnd:kl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Cl(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ll=function e(t){function n(e){return new Al(e,t)}return n.tension=function(t){return e(+t)},n}(0),jl=Math.abs,Pl=Math.atan2,Il=Math.cos,Hl=Math.max,Nl=Math.min,Fl=Math.sin,Yl=Math.sqrt,zl=1e-12,Bl=Math.PI,Wl=Bl/2,$l=2*Bl;function Ul(e){return e>1?0:e<-1?Bl:Math.acos(e)}function Vl(e){return e>=1?Wl:e<=-1?-Wl:Math.asin(e)}function ql(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>zl){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>zl){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/c,a=(a*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function Gl(e,t){this._context=e,this._alpha=t}Gl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:ql(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Kl=function e(t){function n(e){return t?new Gl(e,t):new Tl(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Zl(e,t){this._context=e,this._alpha=t}Zl.prototype={areaStart:kl,areaEnd:kl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:ql(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Xl=function e(t){function n(e){return t?new Zl(e,t):new Al(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Jl(e,t){this._context=e,this._alpha=t}Jl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ql(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ql=function e(t){function n(e){return t?new Jl(e,t):new Dl(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function eu(e){this._context=e}function tu(e){return new eu(e)}function nu(e){this._context=e}function ru(e){return e<0?-1:1}function iu(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(ru(o)+ru(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function ou(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function au(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function su(e){this._context=e}function lu(e){this._context=new uu(e)}function uu(e){this._context=e}function cu(e){this._context=e}function du(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function hu(e,t){this._context=e,this._t=t}eu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},nu.prototype={areaStart:kl,areaEnd:kl,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},su.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:au(this,this._t0,ou(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,au(this,ou(this,n=iu(this,e,t)),n);break;default:au(this,this._t0,n=iu(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(lu.prototype=Object.create(su.prototype)).point=function(e,t){su.prototype.point.call(this,t,e)},uu.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},cu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=du(e),i=du(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},hu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};const fu=Math.PI,pu=2*fu,mu=1e-6,gu=pu-mu;function yu(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function vu(){return new yu}yu.prototype=vu.prototype={constructor:yu,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-e,l=r-t,u=o-e,c=a-t,d=u*u+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>mu)if(Math.abs(c*s-l*u)>mu&&i){var h=n-o,f=r-a,p=s*s+l*l,m=h*h+f*f,g=Math.sqrt(p),y=Math.sqrt(d),v=i*Math.tan((fu-Math.acos((p+d-m)/(2*g*y)))/2),b=v/y,w=v/g;Math.abs(b-1)>mu&&(this._+="L"+(e+b*u)+","+(t+b*c)),this._+="A"+i+","+i+",0,0,"+ +(c*h>u*f)+","+(this._x1=e+w*s)+","+(this._y1=t+w*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},arc:function(e,t,n,r,i,o){e=+e,t=+t,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=e+a,u=t+s,c=1^o,d=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>mu||Math.abs(this._y1-u)>mu)&&(this._+="L"+l+","+u),n&&(d<0&&(d=d%pu+pu),d>gu?this._+="A"+n+","+n+",0,1,"+c+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):d>mu&&(this._+="A"+n+","+n+",0,"+ +(d>=fu)+","+c+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};const bu=vu;function wu(e){return function(){return e}}function _u(e){return e.innerRadius}function ku(e){return e.outerRadius}function Su(e){return e.startAngle}function Mu(e){return e.endAngle}function xu(e){return e&&e.padAngle}function Ou(e,t,n,r,i,o,a,s){var l=n-e,u=r-t,c=a-i,d=s-o,h=d*l-c*u;if(!(h*h<zl))return[e+(h=(c*(t-o)-d*(e-i))/h)*l,t+h*u]}function Cu(e,t,n,r,i,o,a){var s=e-n,l=t-r,u=(a?o:-o)/Yl(s*s+l*l),c=u*l,d=-u*s,h=e+c,f=t+d,p=n+c,m=r+d,g=(h+p)/2,y=(f+m)/2,v=p-h,b=m-f,w=v*v+b*b,_=i-o,k=h*m-p*f,S=(b<0?-1:1)*Yl(Hl(0,_*_*w-k*k)),M=(k*b-v*S)/w,x=(-k*v-b*S)/w,O=(k*b+v*S)/w,C=(-k*v+b*S)/w,T=M-g,R=x-y,D=O-g,E=C-y;return T*T+R*R>D*D+E*E&&(M=O,x=C),{cx:M,cy:x,x01:-c,y01:-d,x11:M*(i/_-1),y11:x*(i/_-1)}}function Tu(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Ru(e){return e[0]}function Du(e){return e[1]}function Eu(e,t){var n=wu(!0),r=null,i=tu,o=null;function a(a){var s,l,u,c=(a=Tu(a)).length,d=!1;for(null==r&&(o=i(u=bu())),s=0;s<=c;++s)!(s<c&&n(l=a[s],s,a))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(l,s,a),+t(l,s,a));if(u)return o=null,u+""||null}return e="function"==typeof e?e:void 0===e?Ru:wu(e),t="function"==typeof t?t:void 0===t?Du:wu(t),a.x=function(t){return arguments.length?(e="function"==typeof t?t:wu(+t),a):e},a.y=function(e){return arguments.length?(t="function"==typeof e?e:wu(+e),a):t},a.defined=function(e){return arguments.length?(n="function"==typeof e?e:wu(!!e),a):n},a.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),a):i},a.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),a):r},a}function Au(e,t,n){var r=null,i=wu(!0),o=null,a=tu,s=null;function l(l){var u,c,d,h,f,p=(l=Tu(l)).length,m=!1,g=new Array(p),y=new Array(p);for(null==o&&(s=a(f=bu())),u=0;u<=p;++u){if(!(u<p&&i(h=l[u],u,l))===m)if(m=!m)c=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),d=u-1;d>=c;--d)s.point(g[d],y[d]);s.lineEnd(),s.areaEnd()}m&&(g[u]=+e(h,u,l),y[u]=+t(h,u,l),s.point(r?+r(h,u,l):g[u],n?+n(h,u,l):y[u]))}if(f)return s=null,f+""||null}function u(){return Eu().defined(i).curve(a).context(o)}return e="function"==typeof e?e:void 0===e?Ru:wu(+e),t="function"==typeof t?t:wu(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?Du:wu(+n),l.x=function(t){return arguments.length?(e="function"==typeof t?t:wu(+t),r=null,l):e},l.x0=function(t){return arguments.length?(e="function"==typeof t?t:wu(+t),l):e},l.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:wu(+e),l):r},l.y=function(e){return arguments.length?(t="function"==typeof e?e:wu(+e),n=null,l):t},l.y0=function(e){return arguments.length?(t="function"==typeof e?e:wu(+e),l):t},l.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:wu(+e),l):n},l.lineX0=l.lineY0=function(){return u().x(e).y(t)},l.lineY1=function(){return u().x(e).y(n)},l.lineX1=function(){return u().x(r).y(t)},l.defined=function(e){return arguments.length?(i="function"==typeof e?e:wu(!!e),l):i},l.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),l):a},l.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),l):o},l}Array.prototype.slice,Yl(3);const Lu={draw(e,t){const n=Yl(t/Bl);e.moveTo(n,0),e.arc(0,0,n,0,$l)}};Yl(1/3),Fl(Bl/10),Fl(7*Bl/10);function ju(e,t){if("undefined"!=typeof document&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}Fl($l/10),Il($l/10),Yl(3),Yl(3),Yl(3),Yl(12);const Pu=()=>"undefined"!=typeof Image?Image:null,Iu=pn(hn),Hu=Iu.right,Nu=Iu.left,Fu=(pn(ua).center,Hu);function Yu(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function zu(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Bu(){}var Wu=.7,$u=1/Wu,Uu="\\s*([+-]?\\d+)\\s*",Vu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gu=/^#([0-9a-f]{3,8})$/,Ku=new RegExp(`^rgb\\(${Uu},${Uu},${Uu}\\)$`),Zu=new RegExp(`^rgb\\(${qu},${qu},${qu}\\)$`),Xu=new RegExp(`^rgba\\(${Uu},${Uu},${Uu},${Vu}\\)$`),Ju=new RegExp(`^rgba\\(${qu},${qu},${qu},${Vu}\\)$`),Qu=new RegExp(`^hsl\\(${Vu},${qu},${qu}\\)$`),ec=new RegExp(`^hsla\\(${Vu},${qu},${qu},${Vu}\\)$`),tc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function nc(){return this.rgb().formatHex()}function rc(){return this.rgb().formatRgb()}function ic(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Gu.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?oc(t):3===n?new uc(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?ac(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?ac(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Ku.exec(e))?new uc(t[1],t[2],t[3],1):(t=Zu.exec(e))?new uc(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Xu.exec(e))?ac(t[1],t[2],t[3],t[4]):(t=Ju.exec(e))?ac(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Qu.exec(e))?mc(t[1],t[2]/100,t[3]/100,1):(t=ec.exec(e))?mc(t[1],t[2]/100,t[3]/100,t[4]):tc.hasOwnProperty(e)?oc(tc[e]):"transparent"===e?new uc(NaN,NaN,NaN,0):null}function oc(e){return new uc(e>>16&255,e>>8&255,255&e,1)}function ac(e,t,n,r){return r<=0&&(e=t=n=NaN),new uc(e,t,n,r)}function sc(e){return e instanceof Bu||(e=ic(e)),e?new uc((e=e.rgb()).r,e.g,e.b,e.opacity):new uc}function lc(e,t,n,r){return 1===arguments.length?sc(e):new uc(e,t,n,null==r?1:r)}function uc(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function cc(){return`#${pc(this.r)}${pc(this.g)}${pc(this.b)}`}function dc(){const e=hc(this.opacity);return`${1===e?"rgb(":"rgba("}${fc(this.r)}, ${fc(this.g)}, ${fc(this.b)}${1===e?")":`, ${e})`}`}function hc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function fc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function pc(e){return((e=fc(e))<16?"0":"")+e.toString(16)}function mc(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new vc(e,t,n,r)}function gc(e){if(e instanceof vc)return new vc(e.h,e.s,e.l,e.opacity);if(e instanceof Bu||(e=ic(e)),!e)return new vc;if(e instanceof vc)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new vc(a,s,l,e.opacity)}function yc(e,t,n,r){return 1===arguments.length?gc(e):new vc(e,t,n,null==r?1:r)}function vc(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function bc(e){return(e=(e||0)%360)<0?e+360:e}function wc(e){return Math.max(0,Math.min(1,e||0))}function _c(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function kc(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}function Sc(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return kc((n-r/t)*t,a,i,o,s)}}function Mc(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return kc((n-r/t)*t,i,o,a,s)}}Yu(Bu,ic,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:nc,formatHex:nc,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return gc(this).formatHsl()},formatRgb:rc,toString:rc}),Yu(uc,lc,zu(Bu,{brighter(e){return e=null==e?$u:Math.pow($u,e),new uc(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Wu:Math.pow(Wu,e),new uc(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new uc(fc(this.r),fc(this.g),fc(this.b),hc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cc,formatHex:cc,formatHex8:function(){return`#${pc(this.r)}${pc(this.g)}${pc(this.b)}${pc(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:dc,toString:dc})),Yu(vc,yc,zu(Bu,{brighter(e){return e=null==e?$u:Math.pow($u,e),new vc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Wu:Math.pow(Wu,e),new vc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new uc(_c(e>=240?e-240:e+120,i,r),_c(e,i,r),_c(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new vc(bc(this.h),wc(this.s),wc(this.l),hc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=hc(this.opacity);return`${1===e?"hsl(":"hsla("}${bc(this.h)}, ${100*wc(this.s)}%, ${100*wc(this.l)}%${1===e?")":`, ${e})`}`}}));const xc=e=>()=>e;function Oc(e,t){return function(n){return e+n*t}}function Cc(e,t){var n=t-e;return n?Oc(e,n>180||n<-180?n-360*Math.round(n/360):n):xc(isNaN(e)?t:e)}function Tc(e,t){var n=t-e;return n?Oc(e,n):xc(isNaN(e)?t:e)}const Rc=function e(t){var n=function(e){return 1==(e=+e)?Tc:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):xc(isNaN(t)?n:t)}}(t);function r(e,t){var r=n((e=lc(e)).r,(t=lc(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=Tc(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Dc(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=lc(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}var Ec=Dc(Sc),Ac=Dc(Mc);function Lc(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function jc(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Pc(e,t){return(jc(t)?Lc:Ic)(e,t)}function Ic(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Wc(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function Hc(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Nc(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Fc(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=Wc(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var Yc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zc=new RegExp(Yc.source,"g");function Bc(e,t){var n,r,i,o=Yc.lastIndex=zc.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=Yc.exec(e))&&(r=zc.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Nc(n,r)})),o=zc.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function Wc(e,t){var n,r=typeof t;return null==t||"boolean"===r?xc(t):("number"===r?Nc:"string"===r?(n=ic(t))?(t=n,Rc):Bc:t instanceof ic?Rc:t instanceof Date?Hc:jc(t)?Lc:Array.isArray(t)?Ic:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Fc:Nc)(e,t)}function $c(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Uc(e){return+e}var Vc=[0,1];function qc(e){return e}function Gc(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function Kc(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=Gc(i,r),o=n(a,o)):(r=Gc(r,i),o=n(o,a)),function(e){return o(r(e))}}function Zc(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Gc(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=Fu(e,t,1,r)-1;return o[n](i[n](t))}}function Xc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Jc(){var e,t,n,r,i,o,a=Vc,s=Vc,l=Wc,u=qc;function c(){var e=Math.min(a.length,s.length);return u!==qc&&(u=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?Zc:Kc,i=o=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,l)))(e(u(t)))}return d.invert=function(n){return u(t((o||(o=r(s,a.map(e),Nc)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,Uc),c()):a.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),c()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=$c,c()},d.clamp=function(e){return arguments.length?(u=!!e||qc,c()):u!==qc},d.interpolate=function(e){return arguments.length?(l=e,c()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,c()}}function Qc(){return Jc()(qc,qc)}function ed(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function td(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}function nd(e,t,n,r){var i,o=Xe(e,t,n);switch((r=et(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=it(o,a))||(r.precision=i),ht(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=ot(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=at(o))||(r.precision=i-2*("%"===r.type))}return dt(r)}function rd(e){var t=e.domain;return e.ticks=function(e){var n=t();return Ke(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return nd(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,l=o[a],u=o[s],c=10;for(u<l&&(i=l,l=u,u=i,i=a,a=s,s=i);c-- >0;){if((i=Ze(l,u,n))===r)return o[a]=l,o[s]=u,t(o);if(i>0)l=Math.floor(l/i)*i,u=Math.ceil(u/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,u=Math.floor(u*i)/i}r=i}return e},e}function id(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function od(e){return Math.log(e)}function ad(e){return Math.exp(e)}function sd(e){return-Math.log(-e)}function ld(e){return-Math.exp(-e)}function ud(e){return isFinite(e)?+("1e"+e):e<0?0:e}function cd(e){return(t,n)=>-e(-t,n)}function dd(e){const t=e(od,ad),n=t.domain;let r,i,o=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),i=function(e){return 10===e?ud:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=cd(r),i=cd(i),e(sd,ld)):e(od,ad),t}return t.base=function(e){return arguments.length?(o=+e,a()):o},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],s=t[t.length-1];const l=s<a;l&&([a,s]=[s,a]);let u,c,d=r(a),h=r(s);const f=null==e?10:+e;let p=[];if(!(o%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),a>0){for(;d<=h;++d)for(u=1;u<o;++u)if(c=d<0?u/i(-d):u*i(d),!(c<a)){if(c>s)break;p.push(c)}}else for(;d<=h;++d)for(u=o-1;u>=1;--u)if(c=d>0?u/i(-d):u*i(d),!(c<a)){if(c>s)break;p.push(c)}2*p.length<f&&(p=Ke(a,s,f))}else p=Ke(d,h,Math.min(h-d,f)).map(i);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!=typeof n&&(o%1||null!=(n=et(n)).precision||(n.trim=!0),n=dt(n)),e===1/0)return n;const a=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=a?n(e):""}},t.nice=()=>n(id(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function hd(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function fd(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function pd(e){return e<0?-e*e:e*e}function md(e){var t=e(qc,qc),n=1;function r(){return 1===n?e(qc,qc):.5===n?e(fd,pd):e(hd(n),hd(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},rd(t)}function gd(){var e=md(Jc());return e.copy=function(){return Xc(e,gd()).exponent(e.exponent())},ed.apply(e,arguments),e}function yd(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function vd(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function bd(e){var t=1,n=e(yd(t),vd(t));return n.constant=function(n){return arguments.length?e(yd(t=+n),vd(t)):t},rd(n)}function wd(e,t,n,r,i,o){const a=[[en,1,bt],[en,5,5e3],[en,15,15e3],[en,30,3e4],[o,1,wt],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,_t],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,kt],[r,2,1728e5],[n,1,St],[t,1,2592e6],[t,3,7776e6],[e,1,Mt]];function s(t,n,r){const i=Math.abs(n-t)/r,o=pn((e=>{let[,,t]=e;return t})).right(a,i);if(o===a.length)return e.every(Xe(t/Mt,n/Mt,r));if(0===o)return nn.every(Math.max(Xe(t,n,r),1));const[s,l]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"==typeof n.range?n:s(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},s]}const[_d,kd]=wd(on,sn,Nt,It,un,dn),[Sd,Md]=wd(Vt,Gt,Tt,Ot,Zt,Jt);function xd(e){return new Date(e)}function Od(e){return e instanceof Date?+e:+new Date(+e)}function Cd(e,t,n,r,i,o,a,s,l,u){var c=Qc(),d=c.invert,h=c.domain,f=u(".%L"),p=u(":%S"),m=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),v=u("%b %d"),b=u("%B"),w=u("%Y");function _(e){return(l(e)<e?f:s(e)<e?p:a(e)<e?m:o(e)<e?g:r(e)<e?i(e)<e?y:v:n(e)<e?b:w)(e)}return c.invert=function(e){return new Date(d(e))},c.domain=function(e){return arguments.length?h(Array.from(e,Od)):h().map(xd)},c.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},c.tickFormat=function(e,t){return null==t?_:u(t)},c.nice=function(e){var n=h();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(id(n,e)):c},c.copy=function(){return Xc(c,Cd(e,t,n,r,i,o,a,s,l,u))},c}function Td(){var e,t,n,r,i,o=0,a=1,s=qc,l=!1;function u(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function c(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),u):[s(0),s(1)]}}return u.domain=function(i){return arguments.length?([o,a]=i,e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),u):[o,a]},u.clamp=function(e){return arguments.length?(l=!!e,u):l},u.interpolator=function(e){return arguments.length?(s=e,u):s},u.range=c(Wc),u.rangeRound=c($c),u.unknown=function(e){return arguments.length?(i=e,u):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),u}}function Rd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Dd(){var e=rd(Td()(qc));return e.copy=function(){return Rd(e,Dd())},td.apply(e,arguments)}function Ed(){var e=md(Td());return e.copy=function(){return Rd(e,Ed()).exponent(e.exponent())},td.apply(e,arguments)}function Ad(e,t){void 0===t&&(t=e,e=Wc);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}function Ld(){var e,t,n,r,i,o,a,s=0,l=.5,u=1,c=1,d=qc,h=!1;function f(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(c*e<c*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=Ad(e,[n,r,i]),f):[d(0),d(.5),d(1)]}}return f.domain=function(a){return arguments.length?([s,l,u]=a,e=o(s=+s),t=o(l=+l),n=o(u=+u),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),c=t<e?-1:1,f):[s,l,u]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(Wc),f.rangeRound=p($c),f.unknown=function(e){return arguments.length?(a=e,f):a},function(a){return o=a,e=a(s),t=a(l),n=a(u),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),c=t<e?-1:1,f}}function jd(){var e=md(Ld());return e.copy=function(){return Rd(e,jd()).exponent(e.exponent())},td.apply(e,arguments)}class Pd extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yd;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(Hd(this,e))}has(e){return super.has(Hd(this,e))}set(e,t){return super.set(Nd(this,e),t)}delete(e){return super.delete(Fd(this,e))}}class Id extends Set{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yd;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const t of e)this.add(t)}has(e){return super.has(Hd(this,e))}add(e){return super.add(Nd(this,e))}delete(e){return super.delete(Fd(this,e))}}function Hd(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function Nd(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function Fd(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function Yd(e){return null!==e&&"object"==typeof e?e.valueOf():e}const zd=Symbol("implicit");function Bd(){var e=new Pd,t=[],n=[],r=zd;function i(i){let o=e.get(i);if(void 0===o){if(r!==zd)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Pd;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return Bd(t,n).unknown(r)},ed.apply(i,arguments),i}function Wd(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function $d(e,t){var n=Cc(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}}var Ud,Vd=180/Math.PI,qd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Gd(e,t,n,r,i,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Vd,skewX:Math.atan(l)*Vd,scaleX:a,scaleY:s}}function Kd(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,a){var s=[],l=[];return o=e(o),a=e(a),function(e,r,i,o,a,s){if(e!==i||r!==o){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:Nc(e,i)},{i:l-2,x:Nc(r,o)})}else(i||o)&&a.push("translate("+i+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Nc(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,a.rotate,s,l),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Nc(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,a.skewX,s,l),function(e,t,n,r,o,a){if(e!==n||t!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Nc(e,n)},{i:s-2,x:Nc(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(e){for(var t,n=-1,r=l.length;++n<r;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var Zd=Kd((function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?qd:Gd(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),Xd=Kd((function(e){return null==e?qd:(Ud||(Ud=document.createElementNS("http://www.w3.org/2000/svg","g")),Ud.setAttribute("transform",e),(e=Ud.transform.baseVal.consolidate())?Gd((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):qd)}),", ",")",")");function Jd(e){return((e=Math.exp(e))+1/e)/2}const Qd=function e(t,n,r){function i(e,i){var o,a,s=e[0],l=e[1],u=e[2],c=i[0],d=i[1],h=i[2],f=c-s,p=d-l,m=f*f+p*p;if(m<1e-12)a=Math.log(h/u)/t,o=function(e){return[s+e*f,l+e*p,u*Math.exp(t*e*a)]};else{var g=Math.sqrt(m),y=(h*h-u*u+r*m)/(2*u*n*g),v=(h*h-u*u-r*m)/(2*h*n*g),b=Math.log(Math.sqrt(y*y+1)-y),w=Math.log(Math.sqrt(v*v+1)-v);a=(w-b)/t,o=function(e){var r,i=e*a,o=Jd(b),c=u/(n*g)*(o*(r=t*i+b,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[s+c*f,l+c*p,u*o/Jd(t*i+b)]}}return o.duration=1e3*a*t/Math.SQRT2,o}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4);function eh(e){return function(t,n){var r=e((t=yc(t)).h,(n=yc(n)).h),i=Tc(t.s,n.s),o=Tc(t.l,n.l),a=Tc(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=i(e),t.l=o(e),t.opacity=a(e),t+""}}}const th=eh(Cc);var nh=eh(Tc);const rh=Math.PI/180,ih=180/Math.PI,oh=.96422,ah=.82521,sh=4/29,lh=6/29,uh=3*lh*lh;function ch(e){if(e instanceof hh)return new hh(e.l,e.a,e.b,e.opacity);if(e instanceof bh)return wh(e);e instanceof uc||(e=sc(e));var t,n,r=gh(e.r),i=gh(e.g),o=gh(e.b),a=fh((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?t=n=a:(t=fh((.4360747*r+.3850649*i+.1430804*o)/oh),n=fh((.0139322*r+.0971045*i+.7141733*o)/ah)),new hh(116*a-16,500*(t-a),200*(a-n),e.opacity)}function dh(e,t,n,r){return 1===arguments.length?ch(e):new hh(e,t,n,null==r?1:r)}function hh(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function fh(e){return e>.008856451679035631?Math.pow(e,1/3):e/uh+sh}function ph(e){return e>lh?e*e*e:uh*(e-sh)}function mh(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function gh(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function yh(e){if(e instanceof bh)return new bh(e.h,e.c,e.l,e.opacity);if(e instanceof hh||(e=ch(e)),0===e.a&&0===e.b)return new bh(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*ih;return new bh(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function vh(e,t,n,r){return 1===arguments.length?yh(e):new bh(e,t,n,null==r?1:r)}function bh(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function wh(e){if(isNaN(e.h))return new hh(e.l,0,0,e.opacity);var t=e.h*rh;return new hh(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}function _h(e,t){var n=Tc((e=dh(e)).l,(t=dh(t)).l),r=Tc(e.a,t.a),i=Tc(e.b,t.b),o=Tc(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=o(t),e+""}}function kh(e){return function(t,n){var r=e((t=vh(t)).h,(n=vh(n)).h),i=Tc(t.c,n.c),o=Tc(t.l,n.l),a=Tc(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=i(e),t.l=o(e),t.opacity=a(e),t+""}}}Yu(hh,dh,zu(Bu,{brighter(e){return new hh(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker(e){return new hh(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new uc(mh(3.1338561*(t=oh*ph(t))-1.6168667*(e=1*ph(e))-.4906146*(n=ah*ph(n))),mh(-.9787684*t+1.9161415*e+.033454*n),mh(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),Yu(bh,vh,zu(Bu,{brighter(e){return new bh(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker(e){return new bh(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb(){return wh(this).rgb()}}));const Sh=kh(Cc);var Mh=kh(Tc),xh=-.14861,Oh=1.78277,Ch=-.29227,Th=-.90649,Rh=1.97294,Dh=Rh*Th,Eh=Rh*Oh,Ah=Oh*Ch-Th*xh;function Lh(e){if(e instanceof Ph)return new Ph(e.h,e.s,e.l,e.opacity);e instanceof uc||(e=sc(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Ah*r+Dh*t-Eh*n)/(Ah+Dh-Eh),o=r-i,a=(Rh*(n-i)-Ch*o)/Th,s=Math.sqrt(a*a+o*o)/(Rh*i*(1-i)),l=s?Math.atan2(a,o)*ih-120:NaN;return new Ph(l<0?l+360:l,s,i,e.opacity)}function jh(e,t,n,r){return 1===arguments.length?Lh(e):new Ph(e,t,n,null==r?1:r)}function Ph(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Ih(e){return function t(n){function r(t,r){var i=e((t=jh(t)).h,(r=jh(r)).h),o=Tc(t.s,r.s),a=Tc(t.l,r.l),s=Tc(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=a(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}Yu(Ph,jh,zu(Bu,{brighter(e){return e=null==e?$u:Math.pow($u,e),new Ph(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Wu:Math.pow(Wu,e),new Ph(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*rh,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new uc(255*(t+n*(xh*r+Oh*i)),255*(t+n*(Ch*r+Th*i)),255*(t+n*(Rh*r)),this.opacity)}}));const Hh=Ih(Cc);var Nh=Ih(Tc);function Fh(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}function Yh(e,t,n){const r=e-t+2*n;return e?r>0?r:1:0}const zh="linear",Bh="log",Wh="pow",$h="sqrt",Uh="symlog",Vh="time",qh="utc",Gh="sequential",Kh="diverging",Zh="quantile",Xh="quantize",Jh="threshold",Qh="ordinal",ef="point",tf="band",nf="bin-ordinal",rf="continuous",of="discrete",af="discretizing",sf="interpolating",lf="temporal";function uf(){const e=Bd().unknown(void 0),t=e.domain,n=e.range;let r,i,o=[0,1],a=!1,s=0,l=0,u=.5;function c(){const e=t().length,c=o[1]<o[0],d=o[1-c],h=Yh(e,s,l);let f=o[c-0];r=(d-f)/(h||1),a&&(r=Math.floor(r)),f+=(d-f-r*(e-s))*u,i=r*(1-s),a&&(f=Math.round(f),i=Math.round(i));const p=Ga(e).map((e=>f+r*e));return n(c?p.reverse():p)}return delete e.unknown,e.domain=function(e){return arguments.length?(t(e),c()):t()},e.range=function(e){return arguments.length?(o=[+e[0],+e[1]],c()):o.slice()},e.rangeRound=function(e){return o=[+e[0],+e[1]],a=!0,c()},e.bandwidth=function(){return i},e.step=function(){return r},e.round=function(e){return arguments.length?(a=!!e,c()):a},e.padding=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),s=l,c()):s},e.paddingInner=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),c()):s},e.paddingOuter=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),c()):l},e.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),c()):u},e.invertRange=function(e){if(null==e[0]||null==e[1])return;const r=o[1]<o[0],a=r?n().reverse():n(),s=a.length-1;let l,u,c,d=+e[0],h=+e[1];return d!=d||h!=h||(h<d&&(c=d,d=h,h=c),h<a[0]||d>o[1-r])?void 0:(l=Math.max(0,Hu(a,d)-1),u=d===h?l:Hu(a,h)-1,d-a[l]>i+1e-10&&++l,r&&(c=l,l=s-u,u=s-c),l>u?void 0:t().slice(l,u+1))},e.invert=function(t){const n=e.invertRange([t,t]);return n?n[0]:n},e.copy=function(){return uf().domain(t()).range(o).round(a).paddingInner(s).paddingOuter(l).align(u)},c()}function cf(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return cf(t())},e}var df=Array.prototype.map;function hf(e){return df.call(e,W)}const ff=Array.prototype.slice,pf={};function mf(e,t,n){const r=function(){const n=t();return n.invertRange||(n.invertRange=n.invert?(r=n,function(e){let t,n=e[0],i=e[1];return i<n&&(t=n,n=i,i=t),[r.invert(n),r.invert(i)]}):n.invertExtent?function(e){return function(t){const n=e.range();let r,i,o,a,s=t[0],l=t[1],u=-1;for(l<s&&(i=s,s=l,l=i),o=0,a=n.length;o<a;++o)n[o]>=s&&n[o]<=l&&(u<0&&(u=o),r=o);if(!(u<0))return s=e.invertExtent(n[u]),l=e.invertExtent(n[r]),[void 0===s[0]?s[1]:s[0],void 0===l[1]?l[0]:l[1]]}}(n):void 0),n.type=e,n;var r};return r.metadata=De(te(n)),r}function gf(e,t,n){return arguments.length>1?(pf[e]=mf(e,t,n),this):yf(e)?pf[e]:void 0}function yf(e){return fe(pf,e)}function vf(e,t){const n=pf[e];return n&&n.metadata[t]}function bf(e){return vf(e,rf)}function wf(e){return vf(e,of)}function _f(e){return vf(e,af)}function kf(e){return vf(e,Bh)}function Sf(e){return vf(e,sf)}function Mf(e){return vf(e,Zh)}gf("identity",(function e(t){var n;function r(e){return null==e||isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,Uc),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,Uc):[0,1],rd(r)})),gf(zh,(function e(){var t=Qc();return t.copy=function(){return Xc(t,e())},ed.apply(t,arguments),rd(t)}),rf),gf(Bh,(function e(){const t=dd(Jc()).domain([1,10]);return t.copy=()=>Xc(t,e()).base(t.base()),ed.apply(t,arguments),t}),[rf,Bh]),gf(Wh,gd,rf),gf($h,(function(){return gd.apply(null,arguments).exponent(.5)}),rf),gf(Uh,(function e(){var t=bd(Jc());return t.copy=function(){return Xc(t,e()).constant(t.constant())},ed.apply(t,arguments)}),rf),gf(Vh,(function(){return ed.apply(Cd(Sd,Md,Vt,Gt,Tt,Ot,Zt,Jt,en,mr).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}),[rf,lf]),gf(qh,(function(){return ed.apply(Cd(_d,kd,on,sn,Nt,It,un,dn,en,yr).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}),[rf,lf]),gf(Gh,Dd,[rf,sf]),gf("".concat(Gh,"-").concat(zh),Dd,[rf,sf]),gf("".concat(Gh,"-").concat(Bh),(function e(){var t=dd(Td()).domain([1,10]);return t.copy=function(){return Rd(t,e()).base(t.base())},td.apply(t,arguments)}),[rf,sf,Bh]),gf("".concat(Gh,"-").concat(Wh),Ed,[rf,sf]),gf("".concat(Gh,"-").concat($h),(function(){return Ed.apply(null,arguments).exponent(.5)}),[rf,sf]),gf("".concat(Gh,"-").concat(Uh),(function e(){var t=bd(Td());return t.copy=function(){return Rd(t,e()).constant(t.constant())},td.apply(t,arguments)}),[rf,sf]),gf("".concat(Kh,"-").concat(zh),(function e(){var t=rd(Ld()(qc));return t.copy=function(){return Rd(t,e())},td.apply(t,arguments)}),[rf,sf]),gf("".concat(Kh,"-").concat(Bh),(function e(){var t=dd(Ld()).domain([.1,1,10]);return t.copy=function(){return Rd(t,e()).base(t.base())},td.apply(t,arguments)}),[rf,sf,Bh]),gf("".concat(Kh,"-").concat(Wh),jd,[rf,sf]),gf("".concat(Kh,"-").concat($h),(function(){return jd.apply(null,arguments).exponent(.5)}),[rf,sf]),gf("".concat(Kh,"-").concat(Uh),(function e(){var t=bd(Ld());return t.copy=function(){return Rd(t,e()).constant(t.constant())},td.apply(t,arguments)}),[rf,sf]),gf(Zh,(function e(){var t,n=[],r=[],i=[];function o(){var e=0,t=Math.max(1,r.length);for(i=new Array(t-1);++e<t;)i[e-1]=da(n,e/t);return a}function a(e){return null==e||isNaN(e=+e)?t:r[Fu(i,e)]}return a.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},a.domain=function(e){if(!arguments.length)return n.slice();n=[];for(let t of e)null==t||isNaN(t=+t)||n.push(t);return n.sort(hn),o()},a.range=function(e){return arguments.length?(r=Array.from(e),o()):r.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return i.slice()},a.copy=function(){return e().domain(n).range(r).unknown(t)},ed.apply(a,arguments)}),[af,Zh]),gf(Xh,(function e(){var t,n=0,r=1,i=1,o=[.5],a=[0,1];function s(e){return null!=e&&e<=e?a[Fu(o,e,0,i)]:t}function l(){var e=-1;for(o=new Array(i);++e<i;)o[e]=((e+1)*r-(e-i)*n)/(i+1);return s}return s.domain=function(e){return arguments.length?([n,r]=e,n=+n,r=+r,l()):[n,r]},s.range=function(e){return arguments.length?(i=(a=Array.from(e)).length-1,l()):a.slice()},s.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,o[0]]:t>=i?[o[i-1],r]:[o[t-1],o[t]]},s.unknown=function(e){return arguments.length?(t=e,s):s},s.thresholds=function(){return o.slice()},s.copy=function(){return e().domain([n,r]).range(a).unknown(t)},ed.apply(rd(s),arguments)}),af),gf(Jh,(function e(){var t,n=[.5],r=[0,1],i=1;function o(e){return null!=e&&e<=e?r[Fu(n,e,0,i)]:t}return o.domain=function(e){return arguments.length?(n=Array.from(e),i=Math.min(n.length,r.length-1),o):n.slice()},o.range=function(e){return arguments.length?(r=Array.from(e),i=Math.min(n.length,r.length-1),o):r.slice()},o.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e().domain(n).range(r).unknown(t)},ed.apply(o,arguments)}),af),gf(nf,(function e(){let t=[],n=[];function r(e){return null==e||e!=e?void 0:n[(Fu(t,e)-1)%n.length]}return r.domain=function(e){return arguments.length?(t=hf(e),r):t.slice()},r.range=function(e){return arguments.length?(n=ff.call(e),r):n.slice()},r.tickFormat=function(e,n){return nd(t[0],B(t),null==e?10:e,n)},r.copy=function(){return e().domain(r.domain()).range(r.range())},r}),[of,af]),gf(Qh,Bd,of),gf(tf,uf,of),gf(ef,(function(){return cf(uf().paddingInner(1))}),of);const xf=["clamp","base","constant","exponent"];function Of(e,t,n){return Ad(Tf(t||"rgb",n),e)}function Cf(e,t,n){const r=n-t;let i,o,a;return r&&Number.isFinite(r)?(i=(o=e.type).indexOf("-"),o=i<0?o:o.slice(i+1),a=gf(o)().domain([t,n]).range([0,1]),xf.forEach((t=>e[t]?a[t](e[t]()):0)),a):le(.5)}function Tf(e,t){const n=i[function(e){return"interpolate"+e.toLowerCase().split("-").map((e=>e[0].toUpperCase()+e.slice(1))).join("")}(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}function Rf(e){const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function Df(e,t){for(const n in e)Af(n,t(e[n]))}const Ef={};function Af(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(Ef[e]=t,this):Ef[e]}Df({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},Rf),Df({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},(e=>Of(Rf(e))));const Lf="symbol",jf=e=>I(e)?e.map((e=>String(e))):String(e),Pf=(e,t)=>e[1]-t[1],If=(e,t)=>t[1]-e[1];function Hf(e,t,n){let r;return we(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),null!=n&&(t=Math.min(t,Math.floor(Me(e.domain())/n||1)))),H(t)&&(r=t.step,t=t.interval),_e(t)&&(t=e.type===Vh?Xn(t):e.type==qh?Jn(t):x("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function Nf(e,t,n){let r=e.range(),i=r[0],o=B(r),a=Pf;if(i>o&&(r=o,o=i,i=r,a=If),i=Math.floor(i),o=Math.ceil(o),t=t.map((t=>[t,e(t)])).filter((e=>i<=e[1]&&e[1]<=o)).sort(a).map((e=>e[0])),n>0&&t.length>1){const e=[t[0],B(t)];for(;t.length>n&&t.length>=3;)t=t.filter(((e,t)=>!(t%2)));t.length<3&&(t=e)}return t}function Ff(e,t){return e.bins?Nf(e,e.bins):e.ticks?e.ticks(t):e.domain()}function Yf(e,t,n,r,i,o){const a=t.type;let s=jf;if(a===Vh||i===Vh)s=e.timeFormat(r);else if(a===qh||i===qh)s=e.utcFormat(r);else if(kf(a)){const i=e.formatFloat(r);if(o||t.bins)s=i;else{const e=zf(t,n,!1);s=t=>e(t)?i(t):""}}else if(t.tickFormat){const i=t.domain();s=e.formatSpan(i[0],i[i.length-1],n,r)}else r&&(s=e.format(r));return s}function zf(e,t,n){const r=Ff(e,t),i=e.base(),o=Math.log(i),a=Math.max(1,i*t/r.length),s=e=>{let t=e/Math.pow(i,Math.round(Math.log(e)/o));return t*i<i-.5&&(t*=i),t<=a};return n?r.filter(s):s}const Bf={[Zh]:"quantiles",[Xh]:"thresholds",[Jh]:"domain"},Wf={[Zh]:"quantiles",[Xh]:"domain"};function $f(e,t){return e.bins?function(e){const t=e.slice(0,-1);return t.max=B(e),t}(e.bins):e.type===Bh?zf(e,t,!0):Bf[e.type]?function(e){const t=[-1/0].concat(e);return t.max=1/0,t}(e[Bf[e.type]]()):Ff(e,t)}function Uf(e,t,n,r,i,o,a){const s=Wf[t.type]&&o!==Vh&&o!==qh?function(e,t,n){const r=t[Wf[t.type]](),i=r.length;let o,a=i>1?r[1]-r[0]:r[0];for(o=1;o<i;++o)a=Math.min(a,r[o]-r[o-1]);return e.formatSpan(0,a,30,n)}(e,t,i):Yf(e,t,n,i,o,a);return r===Lf&&(e=>Bf[e.type]||e.bins)(t)?Vf(s):"discrete"===r?Gf(s):Kf(s)}const Vf=e=>(t,n,r)=>{const i=qf(r[n+1],qf(r.max,1/0)),o=Zf(t,e),a=Zf(i,e);return o&&a?o+" – "+a:a?"< "+a:"≥ "+o},qf=(e,t)=>null!=e?e:t,Gf=e=>(t,n)=>n?e(t):null,Kf=e=>t=>e(t),Zf=(e,t)=>Number.isFinite(e)?t(e):null;function Xf(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=function(e,t,n,r){const i=r||t.type;return _e(n)&&function(e){return vf(e,lf)}(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),n||i!==Vh?n||i!==qh?Uf(e,t,5,null,n,r,!0):e.utcFormat("%A, %d %B %Y, %X UTC"):e.timeFormat("%A, %d %B %Y, %X")}(e,t,n.format,n.formatType);if(_f(t.type)){const e=$f(t).slice(1).map(i),n=e.length;return"".concat(n," boundar").concat(1===n?"y":"ies",": ").concat(e.join(", "))}if(wf(t.type)){const e=t.domain(),n=e.length,o=n>r?e.slice(0,r-2).map(i).join(", ")+", ending with "+e.slice(-1).map(i):e.map(i).join(", ");return"".concat(n," value").concat(1===n?"":"s",": ").concat(o)}{const e=t.domain();return"values from ".concat(i(e[0])," to ").concat(i(B(e)))}}let Jf=0;const Qf="p_";function ep(e){return e&&e.gradient}function tp(e,t,n){const r=e.gradient;let i=e.id,o="radial"===r?Qf:"";return i||(i=e.id="gradient_"+Jf++,"radial"===r?(e.x1=np(e.x1,.5),e.y1=np(e.y1,.5),e.r1=np(e.r1,0),e.x2=np(e.x2,.5),e.y2=np(e.y2,.5),e.r2=np(e.r2,.5),o=Qf):(e.x1=np(e.x1,0),e.y1=np(e.y1,0),e.x2=np(e.x2,1),e.y2=np(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+o+i+")"}function np(e,t){return null!=e?e:t}const rp={basis:{curve:function(e){return new _l(e)}},"basis-closed":{curve:function(e){return new Sl(e)}},"basis-open":{curve:function(e){return new Ml(e)}},bundle:{curve:Ol,tension:"beta",value:.85},cardinal:{curve:Rl,tension:"tension",value:0},"cardinal-open":{curve:El,tension:"tension",value:0},"cardinal-closed":{curve:Ll,tension:"tension",value:0},"catmull-rom":{curve:Kl,tension:"alpha",value:.5},"catmull-rom-closed":{curve:Xl,tension:"alpha",value:.5},"catmull-rom-open":{curve:Ql,tension:"alpha",value:.5},linear:{curve:tu},"linear-closed":{curve:function(e){return new nu(e)}},monotone:{horizontal:function(e){return new lu(e)},vertical:function(e){return new su(e)}},natural:{curve:function(e){return new cu(e)}},step:{curve:function(e){return new hu(e,.5)}},"step-after":{curve:function(e){return new hu(e,1)}},"step-before":{curve:function(e){return new hu(e,0)}}};function ip(e,t,n){var r=fe(rp,e)&&rp[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&null!=n&&(i=i[r.tension](n))),i}const op={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},ap=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,sp=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,lp=/^((\s+,?\s*)|(,\s*))/,up=/^[01]/;function cp(e){const t=[];return(e.match(ap)||[]).forEach((e=>{let n=e[0];const r=n.toLowerCase(),i=op[r],o=function(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let o=0;o<t;++o){const t="a"!==e||3!==o&&4!==o?sp:up,a=n.slice(i).match(t);if(null===a)throw Error("Invalid SVG path, incorrect parameter type");i+=a[0].length,r.push(+a[0]);const s=n.slice(i).match(lp);null!==s&&(i+=s[0].length)}return r}(r,i,e.slice(1).trim()),a=o.length;if(a<i||a&&a%i!=0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([n,...o.slice(0,i)]),a!==i){"m"===r&&(n="M"===n?"L":"l");for(let e=i;e<a;e+=i)t.push([n,...o.slice(e,e+i)])}})),t}const dp=Math.PI/180,hp=Math.PI/2,fp=2*Math.PI,pp=Math.sqrt(3)/2;var mp={},gp={},yp=[].join;function vp(e){const t=yp.call(e);if(gp[t])return gp[t];var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7];const c=u*a,d=-l*s,h=l*a,f=u*s,p=Math.cos(i),m=Math.sin(i),g=Math.cos(o),y=Math.sin(o),v=.5*(o-i),b=Math.sin(.5*v),w=8/3*b*b/Math.sin(v),_=n+p-w*m,k=r+m+w*p,S=n+g,M=r+y,x=S+w*y,O=M-w*g;return gp[t]=[c*_+d*k,h*_+f*k,c*x+d*O,h*x+f*O,c*S+d*M,h*S+f*M]}const bp=["l",0,0,0,0,0,0,0];function wp(e,t,n){const r=bp[0]=e[0];if("a"===r||"A"===r)bp[1]=t*e[1],bp[2]=n*e[2],bp[3]=e[3],bp[4]=e[4],bp[5]=e[5],bp[6]=t*e[6],bp[7]=n*e[7];else if("h"===r||"H"===r)bp[1]=t*e[1];else if("v"===r||"V"===r)bp[1]=n*e[1];else for(var i=1,o=e.length;i<o;++i)bp[i]=(i%2==1?t:n)*e[i];return bp}function _p(e,t,n,r,i,o){var a,s,l,u,c,d=null,h=0,f=0,p=0,m=0,g=0,y=0;null==n&&(n=0),null==r&&(r=0),null==i&&(i=1),null==o&&(o=i),e.beginPath&&e.beginPath();for(var v=0,b=t.length;v<b;++v){switch(a=t[v],1===i&&1===o||(a=wp(a,i,o)),a[0]){case"l":h+=a[1],f+=a[2],e.lineTo(h+n,f+r);break;case"L":h=a[1],f=a[2],e.lineTo(h+n,f+r);break;case"h":h+=a[1],e.lineTo(h+n,f+r);break;case"H":h=a[1],e.lineTo(h+n,f+r);break;case"v":f+=a[1],e.lineTo(h+n,f+r);break;case"V":f=a[1],e.lineTo(h+n,f+r);break;case"m":g=h+=a[1],y=f+=a[2],e.moveTo(h+n,f+r);break;case"M":g=h=a[1],y=f=a[2],e.moveTo(h+n,f+r);break;case"c":s=h+a[5],l=f+a[6],p=h+a[3],m=f+a[4],e.bezierCurveTo(h+a[1]+n,f+a[2]+r,p+n,m+r,s+n,l+r),h=s,f=l;break;case"C":h=a[5],f=a[6],p=a[3],m=a[4],e.bezierCurveTo(a[1]+n,a[2]+r,p+n,m+r,h+n,f+r);break;case"s":s=h+a[3],l=f+a[4],p=2*h-p,m=2*f-m,e.bezierCurveTo(p+n,m+r,h+a[1]+n,f+a[2]+r,s+n,l+r),p=h+a[1],m=f+a[2],h=s,f=l;break;case"S":s=a[3],l=a[4],p=2*h-p,m=2*f-m,e.bezierCurveTo(p+n,m+r,a[1]+n,a[2]+r,s+n,l+r),h=s,f=l,p=a[1],m=a[2];break;case"q":s=h+a[3],l=f+a[4],p=h+a[1],m=f+a[2],e.quadraticCurveTo(p+n,m+r,s+n,l+r),h=s,f=l;break;case"Q":s=a[3],l=a[4],e.quadraticCurveTo(a[1]+n,a[2]+r,s+n,l+r),h=s,f=l,p=a[1],m=a[2];break;case"t":s=h+a[1],l=f+a[2],null===d[0].match(/[QqTt]/)?(p=h,m=f):"t"===d[0]?(p=2*h-u,m=2*f-c):"q"===d[0]&&(p=2*h-p,m=2*f-m),u=p,c=m,e.quadraticCurveTo(p+n,m+r,s+n,l+r),f=l,p=(h=s)+a[1],m=f+a[2];break;case"T":s=a[1],l=a[2],p=2*h-p,m=2*f-m,e.quadraticCurveTo(p+n,m+r,s+n,l+r),h=s,f=l;break;case"a":kp(e,h+n,f+r,[a[1],a[2],a[3],a[4],a[5],a[6]+h+n,a[7]+f+r]),h+=a[6],f+=a[7];break;case"A":kp(e,h+n,f+r,[a[1],a[2],a[3],a[4],a[5],a[6]+n,a[7]+r]),h=a[6],f=a[7];break;case"z":case"Z":h=g,f=y,e.closePath()}d=a}}function kp(e,t,n,r){const i=function(e,t,n,r,i,o,a,s,l){const u=yp.call(arguments);if(mp[u])return mp[u];const c=a*dp,d=Math.sin(c),h=Math.cos(c),f=h*(s-e)*.5+d*(l-t)*.5,p=h*(l-t)*.5-d*(s-e)*.5;let m=f*f/((n=Math.abs(n))*n)+p*p/((r=Math.abs(r))*r);m>1&&(m=Math.sqrt(m),n*=m,r*=m);const g=h/n,y=d/n,v=-d/r,b=h/r,w=g*s+y*l,_=v*s+b*l,k=g*e+y*t,S=v*e+b*t;let M=1/((k-w)*(k-w)+(S-_)*(S-_))-.25;M<0&&(M=0);let x=Math.sqrt(M);o==i&&(x=-x);const O=.5*(w+k)-x*(S-_),C=.5*(_+S)+x*(k-w),T=Math.atan2(_-C,w-O);let R=Math.atan2(S-C,k-O)-T;R<0&&1===o?R+=fp:R>0&&0===o&&(R-=fp);const D=Math.ceil(Math.abs(R/(hp+.001))),E=[];for(let e=0;e<D;++e){const t=T+e*R/D,i=T+(e+1)*R/D;E[e]=[O,C,t,i,n,r,d,h]}return mp[u]=E}(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let t=0;t<i.length;++t){const n=vp(i[t]);e.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5])}}const Sp=.5773502691896257,Mp={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,fp)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,o=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-o),e.lineTo(i,-o),e.lineTo(0,-n),e.lineTo(-i,-o),e.lineTo(-r,-o),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=pp*n,i=r-n*Sp,o=n/4;e.moveTo(0,-r-i),e.lineTo(-o,r-i),e.lineTo(o,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=pp*n,i=r-n*Sp;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=pp*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=pp*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=pp*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=pp*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};var xp={};const Op=.448084975506;function Cp(e){return e.x}function Tp(e){return e.y}function Rp(e){return e.width}function Dp(e){return e.height}function Ep(e){return"function"==typeof e?e:()=>+e}function Ap(e,t,n){return Math.max(t,Math.min(e,n))}function Lp(e,t){return null!=e?e:t}const jp=e=>e.x||0,Pp=e=>e.y||0,Ip=e=>!(!1===e.defined),Hp=function(){var e=_u,t=ku,n=wu(0),r=null,i=Su,o=Mu,a=xu,s=null;function l(){var l,u,c=+e.apply(this,arguments),d=+t.apply(this,arguments),h=i.apply(this,arguments)-Wl,f=o.apply(this,arguments)-Wl,p=jl(f-h),m=f>h;if(s||(s=l=bu()),d<c&&(u=d,d=c,c=u),d>zl)if(p>$l-zl)s.moveTo(d*Il(h),d*Fl(h)),s.arc(0,0,d,h,f,!m),c>zl&&(s.moveTo(c*Il(f),c*Fl(f)),s.arc(0,0,c,f,h,m));else{var g,y,v=h,b=f,w=h,_=f,k=p,S=p,M=a.apply(this,arguments)/2,x=M>zl&&(r?+r.apply(this,arguments):Yl(c*c+d*d)),O=Nl(jl(d-c)/2,+n.apply(this,arguments)),C=O,T=O;if(x>zl){var R=Vl(x/c*Fl(M)),D=Vl(x/d*Fl(M));(k-=2*R)>zl?(w+=R*=m?1:-1,_-=R):(k=0,w=_=(h+f)/2),(S-=2*D)>zl?(v+=D*=m?1:-1,b-=D):(S=0,v=b=(h+f)/2)}var E=d*Il(v),A=d*Fl(v),L=c*Il(_),j=c*Fl(_);if(O>zl){var P,I=d*Il(b),H=d*Fl(b),N=c*Il(w),F=c*Fl(w);if(p<Bl&&(P=Ou(E,A,N,F,I,H,L,j))){var Y=E-P[0],z=A-P[1],B=I-P[0],W=H-P[1],$=1/Fl(Ul((Y*B+z*W)/(Yl(Y*Y+z*z)*Yl(B*B+W*W)))/2),U=Yl(P[0]*P[0]+P[1]*P[1]);C=Nl(O,(c-U)/($-1)),T=Nl(O,(d-U)/($+1))}}S>zl?T>zl?(g=Cu(N,F,E,A,d,T,m),y=Cu(I,H,L,j,d,T,m),s.moveTo(g.cx+g.x01,g.cy+g.y01),T<O?s.arc(g.cx,g.cy,T,Pl(g.y01,g.x01),Pl(y.y01,y.x01),!m):(s.arc(g.cx,g.cy,T,Pl(g.y01,g.x01),Pl(g.y11,g.x11),!m),s.arc(0,0,d,Pl(g.cy+g.y11,g.cx+g.x11),Pl(y.cy+y.y11,y.cx+y.x11),!m),s.arc(y.cx,y.cy,T,Pl(y.y11,y.x11),Pl(y.y01,y.x01),!m))):(s.moveTo(E,A),s.arc(0,0,d,v,b,!m)):s.moveTo(E,A),c>zl&&k>zl?C>zl?(g=Cu(L,j,I,H,c,-C,m),y=Cu(E,A,N,F,c,-C,m),s.lineTo(g.cx+g.x01,g.cy+g.y01),C<O?s.arc(g.cx,g.cy,C,Pl(g.y01,g.x01),Pl(y.y01,y.x01),!m):(s.arc(g.cx,g.cy,C,Pl(g.y01,g.x01),Pl(g.y11,g.x11),!m),s.arc(0,0,c,Pl(g.cy+g.y11,g.cx+g.x11),Pl(y.cy+y.y11,y.cx+y.x11),m),s.arc(y.cx,y.cy,C,Pl(y.y11,y.x11),Pl(y.y01,y.x01),!m))):s.arc(0,0,c,_,w,m):s.lineTo(L,j)}else s.moveTo(0,0);if(s.closePath(),l)return s=null,l+""||null}return l.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Bl/2;return[Il(r)*n,Fl(r)*n]},l.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:wu(+t),l):e},l.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:wu(+e),l):t},l.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:wu(+e),l):n},l.padRadius=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:wu(+e),l):r},l.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:wu(+e),l):i},l.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:wu(+e),l):o},l.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:wu(+e),l):a},l.context=function(e){return arguments.length?(s=null==e?null:e,l):s},l}().startAngle((e=>e.startAngle||0)).endAngle((e=>e.endAngle||0)).padAngle((e=>e.padAngle||0)).innerRadius((e=>e.innerRadius||0)).outerRadius((e=>e.outerRadius||0)).cornerRadius((e=>e.cornerRadius||0)),Np=Au().x(jp).y1(Pp).y0((e=>(e.y||0)+(e.height||0))).defined(Ip),Fp=Au().y(Pp).x1(jp).x0((e=>(e.x||0)+(e.width||0))).defined(Ip),Yp=Eu().x(jp).y(Pp).defined(Ip),zp=function(){var e=Cp,t=Tp,n=Rp,r=Dp,i=Ep(0),o=i,a=i,s=i,l=null;function u(u,c,d){var h,f=null!=c?c:+e.call(this,u),p=null!=d?d:+t.call(this,u),m=+n.call(this,u),g=+r.call(this,u),y=Math.min(m,g)/2,v=Ap(+i.call(this,u),0,y),b=Ap(+o.call(this,u),0,y),w=Ap(+a.call(this,u),0,y),_=Ap(+s.call(this,u),0,y);if(l||(l=h=bu()),v<=0&&b<=0&&w<=0&&_<=0)l.rect(f,p,m,g);else{var k=f+m,S=p+g;l.moveTo(f+v,p),l.lineTo(k-b,p),l.bezierCurveTo(k-Op*b,p,k,p+Op*b,k,p+b),l.lineTo(k,S-_),l.bezierCurveTo(k,S-Op*_,k-Op*_,S,k-_,S),l.lineTo(f+w,S),l.bezierCurveTo(f+Op*w,S,f,S-Op*w,f,S-w),l.lineTo(f,p+v),l.bezierCurveTo(f,p+Op*v,f+Op*v,p,f+v,p),l.closePath()}if(h)return l=null,h+""||null}return u.x=function(t){return arguments.length?(e=Ep(t),u):e},u.y=function(e){return arguments.length?(t=Ep(e),u):t},u.width=function(e){return arguments.length?(n=Ep(e),u):n},u.height=function(e){return arguments.length?(r=Ep(e),u):r},u.cornerRadius=function(e,t,n,r){return arguments.length?(i=Ep(e),o=null!=t?Ep(t):i,s=null!=n?Ep(n):i,a=null!=r?Ep(r):o,u):i},u.context=function(e){return arguments.length?(l=null==e?null:e,u):l},u}().x(jp).y(Pp).width((e=>e.width||0)).height((e=>e.height||0)).cornerRadius((e=>Lp(e.cornerRadiusTopLeft,e.cornerRadius)||0),(e=>Lp(e.cornerRadiusTopRight,e.cornerRadius)||0),(e=>Lp(e.cornerRadiusBottomRight,e.cornerRadius)||0),(e=>Lp(e.cornerRadiusBottomLeft,e.cornerRadius)||0)),Bp=function(e,t){let n=null;function r(){let r;if(n||(n=r=bu()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return e="function"==typeof e?e:wu(e||Lu),t="function"==typeof t?t:wu(void 0===t?64:+t),r.type=function(t){return arguments.length?(e="function"==typeof t?t:wu(t),r):e},r.size=function(e){return arguments.length?(t="function"==typeof e?e:wu(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r}().type((e=>{return t=e.shape||"circle",fe(Mp,t)?Mp[t]:function(e){if(!fe(xp,e)){const t=cp(e);xp[e]={draw:function(e,n){_p(e,t,0,0,Math.sqrt(n)/2)}}}return xp[e]}(t);var t})).size((e=>Lp(e.size,64))),Wp=function(){var e,t,n,r,i,o,a,s,l=null;function u(e,t,n){const r=n/2;if(i){var u=a-t,c=e-o;if(u||c){var d=Math.sqrt(u*u+c*c),h=(u/=d)*s,f=(c/=d)*s,p=Math.atan2(c,u);l.moveTo(o-h,a-f),l.lineTo(e-u*r,t-c*r),l.arc(e,t,r,p-Math.PI,p),l.lineTo(o+h,a+f),l.arc(o,a,s,p,p+Math.PI)}else l.arc(e,t,r,0,fp);l.closePath()}else i=1;o=e,a=t,s=r}function c(o){var a,s,c,d=o.length,h=!1;for(null==l&&(l=c=bu()),a=0;a<=d;++a)!(a<d&&r(s=o[a],a,o))===h&&(h=!h)&&(i=0),h&&u(+e(s,a,o),+t(s,a,o),+n(s,a,o));if(c)return l=null,c+""||null}return c.x=function(t){return arguments.length?(e=t,c):e},c.y=function(e){return arguments.length?(t=e,c):t},c.size=function(e){return arguments.length?(n=e,c):n},c.defined=function(e){return arguments.length?(r=e,c):r},c.context=function(e){return arguments.length?(l=null==e?null:e,c):l},c}().x(jp).y(Pp).defined(Ip).size((e=>e.size||1));function $p(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function Up(e,t,n,r){return zp.context(e)(t,n,r)}var Vp=1;function qp(e,t,n){var r=t.clip,i=e._defs,o=t.clip_id||(t.clip_id="clip"+Vp++),a=i.clipping[o]||(i.clipping[o]={id:o});return ne(r)?a.path=r(null):$p(n)?a.path=Up(null,n,0,0):(a.width=n.width||0,a.height=n.height||0),"url(#"+o+")"}function Gp(e){this.clear(),e&&this.union(e)}function Kp(e){this.mark=e,this.bounds=this.bounds||new Gp}function Zp(e){Kp.call(this,e),this.items=this.items||[]}function Xp(e){this._pending=0,this._loader=e||yo()}function Jp(e){e._pending+=1}function Qp(e){e._pending-=1}function em(e,t,n){if(t.stroke&&0!==t.opacity&&0!==t.strokeOpacity){const r=null!=t.strokeWidth?+t.strokeWidth:1;e.expand(r+(n?function(e,t){return e.strokeJoin&&"miter"!==e.strokeJoin?0:t}(t,r):0))}return e}Gp.prototype={clone(){return new Gp(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:o,y2:a}=this,s=Math.cos(e),l=Math.sin(e),u=t-t*s+n*l,c=n-t*l-n*s;return[s*r-l*i+u,l*r+s*i+c,s*r-l*a+u,l*r+s*a+c,s*o-l*i+u,l*o+s*i+c,s*o-l*a+u,l*o+s*a+c]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}},ge(Zp,Kp),Xp.prototype={pending(){return this._pending},sanitizeURL(e){const t=this;return Jp(t),t._loader.sanitize(e,{context:"href"}).then((e=>(Qp(t),e))).catch((()=>(Qp(t),null)))},loadImage(e){const t=this,n=Pu();return Jp(t),t._loader.sanitize(e,{context:"image"}).then((e=>{const r=e.href;if(!r||!n)throw{url:r};const i=new n,o=fe(e,"crossOrigin")?e.crossOrigin:"anonymous";return null!=o&&(i.crossOrigin=o),i.onload=()=>Qp(t),i.onerror=()=>Qp(t),i.src=r,i})).catch((e=>(Qp(t),{complete:!1,width:0,height:0,src:e&&e.url||""})))},ready(){const e=this;return new Promise((t=>{!function n(r){e.pending()?setTimeout((()=>{n(!0)}),10):t(r)}(!1)}))}};const tm=fp-1e-8;let nm,rm,im,om,am,sm,lm,um;const cm=(e,t)=>nm.add(e,t),dm=(e,t)=>cm(rm=e,im=t),hm=e=>cm(e,nm.y1),fm=e=>cm(nm.x1,e),pm=(e,t)=>am*e+lm*t,mm=(e,t)=>sm*e+um*t,gm=(e,t)=>cm(pm(e,t),mm(e,t)),ym=(e,t)=>dm(pm(e,t),mm(e,t));function vm(e,t){return nm=e,t?(om=t*dp,am=um=Math.cos(om),sm=Math.sin(om),lm=-sm):(am=um=1,om=sm=lm=0),bm}const bm={beginPath(){},closePath(){},moveTo:ym,lineTo:ym,rect(e,t,n,r){om?(gm(e+n,t),gm(e+n,t+r),gm(e,t+r),ym(e,t)):(cm(e+n,t+r),dm(e,t))},quadraticCurveTo(e,t,n,r){const i=pm(e,t),o=mm(e,t),a=pm(n,r),s=mm(n,r);wm(rm,i,a,hm),wm(im,o,s,fm),dm(a,s)},bezierCurveTo(e,t,n,r,i,o){const a=pm(e,t),s=mm(e,t),l=pm(n,r),u=mm(n,r),c=pm(i,o),d=mm(i,o);_m(rm,a,l,c,hm),_m(im,s,u,d,fm),dm(c,d)},arc(e,t,n,r,i,o){if(r+=om,i+=om,rm=n*Math.cos(i)+e,im=n*Math.sin(i)+t,Math.abs(i-r)>tm)cm(e-n,t-n),cm(e+n,t+n);else{const a=r=>cm(n*Math.cos(r)+e,n*Math.sin(r)+t);let s,l;if(a(r),a(i),i!==r)if((r%=fp)<0&&(r+=fp),(i%=fp)<0&&(i+=fp),i<r&&(o=!o,s=r,r=i,i=s),o)for(i-=fp,s=r-r%hp,l=0;l<4&&s>i;++l,s-=hp)a(s);else for(s=r-r%hp+hp,l=0;l<4&&s<i;++l,s+=hp)a(s)}}};function wm(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function _m(e,t,n,r,i){const o=r-e+3*t-3*n,a=e+n-2*t,s=e-t;let l,u=0,c=0;Math.abs(o)>1e-14?(l=a*a+s*o,l>=0&&(l=Math.sqrt(l),u=(-a+l)/o,c=(-a-l)/o)):u=.5*s/a,0<u&&u<1&&i(km(u,e,t,n,r)),0<c&&c<1&&i(km(c,e,t,n,r))}function km(e,t,n,r,i){const o=1-e,a=o*o,s=e*e;return a*o*t+3*a*e*n+3*o*s*r+s*e*i}var Sm=(Sm=ju(1,1))?Sm.getContext("2d"):null;const Mm=new Gp;function xm(e){return function(t,n){if(!Sm)return!0;e(Sm,t),Mm.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:o,y2:a}=Mm;for(let e=i;e<=a;++e)for(let t=r;t<=o;++t)if(Sm.isPointInPath(t,e))return!0;return!1}}function Om(e,t){return t.contains(e.x||0,e.y||0)}function Cm(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,o=e.height||0;return t.intersects(Mm.set(n,r,n+i,r+o))}function Tm(e,t,n,r,i){const{x1:o,y1:a,x2:s,y2:l}=e,u=r-t,c=i-n;let d,h,f,p,m=0,g=1;for(p=0;p<4;++p){if(0===p&&(d=-u,h=-(o-t)),1===p&&(d=u,h=s-t),2===p&&(d=-c,h=-(a-n)),3===p&&(d=c,h=l-n),Math.abs(d)<1e-10&&h<0)return!1;if(f=h/d,d<0){if(f>g)return!1;f>m&&(m=f)}else if(d>0){if(f<m)return!1;f<g&&(g=f)}}return!0}function Rm(e,t){e.globalCompositeOperation=t.blend||"source-over"}function Dm(e,t){return null==e?t:e}function Em(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function Am(e,t,n){return ep(n)?function(e,t,n){const r=n.width(),i=n.height();let o;if("radial"===t.gradient)o=e.createRadialGradient(n.x1+Dm(t.x1,.5)*r,n.y1+Dm(t.y1,.5)*i,Math.max(r,i)*Dm(t.r1,0),n.x1+Dm(t.x2,.5)*r,n.y1+Dm(t.y2,.5)*i,Math.max(r,i)*Dm(t.r2,.5));else{const a=Dm(t.x1,0),s=Dm(t.y1,0),l=Dm(t.x2,1),u=Dm(t.y2,0);if(a!==l&&s!==u&&r!==i){const n=ju(Math.ceil(r),Math.ceil(i)),o=n.getContext("2d");return o.scale(r,i),o.fillStyle=Em(o.createLinearGradient(a,s,l,u),t.stops),o.fillRect(0,0,r,i),e.createPattern(n,"no-repeat")}o=e.createLinearGradient(n.x1+a*r,n.y1+s*i,n.x1+l*r,n.y1+u*i)}return Em(o,t.stops)}(e,n,t.bounds):n}function Lm(e,t,n){return(n*=null==t.fillOpacity?1:t.fillOpacity)>0&&(e.globalAlpha=n,e.fillStyle=Am(e,t,t.fill),!0)}var jm=[];function Pm(e,t,n){var r=null!=(r=t.strokeWidth)?r:1;return!(r<=0)&&(n*=null==t.strokeOpacity?1:t.strokeOpacity)>0&&(e.globalAlpha=n,e.strokeStyle=Am(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||jm),e.lineDashOffset=t.strokeDashOffset||0),!0)}function Im(e,t){return e.zindex-t.zindex||e.index-t.index}function Hm(e){if(!e.zdirty)return e.zitems;var t,n,r,i=e.items,o=[];for(n=0,r=i.length;n<r;++n)(t=i[n]).index=n,t.zindex&&o.push(t);return e.zdirty=!1,e.zitems=o.sort(Im)}function Nm(e,t){var n,r,i=e.items;if(!i||!i.length)return;const o=Hm(e);if(o&&o.length){for(n=0,r=i.length;n<r;++n)i[n].zindex||t(i[n]);i=o}for(n=0,r=i.length;n<r;++n)t(i[n])}function Fm(e,t){var n,r,i=e.items;if(!i||!i.length)return null;const o=Hm(e);for(o&&o.length&&(i=o),r=i.length;--r>=0;)if(n=t(i[r]))return n;if(i===o)for(r=(i=e.items).length;--r>=0;)if(!i[r].zindex&&(n=t(i[r])))return n;return null}function Ym(e){return function(t,n,r){Nm(n,(n=>{r&&!r.intersects(n.bounds)||Bm(e,t,n,n)}))}}function zm(e){return function(t,n,r){!n.items.length||r&&!r.intersects(n.bounds)||Bm(e,t,n.items[0],n.items)}}function Bm(e,t,n,r){var i=null==n.opacity?1:n.opacity;0!==i&&(e(t,r)||(Rm(t,n),n.fill&&Lm(t,n,i)&&t.fill(),n.stroke&&Pm(t,n,i)&&t.stroke()))}function Wm(e){return e=e||A,function(t,n,r,i,o,a){return r*=t.pixelRatio,i*=t.pixelRatio,Fm(n,(n=>{const s=n.bounds;if((!s||s.contains(o,a))&&s)return e(t,n,r,i,o,a)?n:void 0}))}}function $m(e,t){return function(n,r,i,o){var a,s,l=Array.isArray(r)?r[0]:r,u=null==t?l.fill:t,c=l.stroke&&n.isPointInStroke;return c&&(a=l.strokeWidth,s=l.strokeCap,n.lineWidth=null!=a?a:1,n.lineCap=null!=s?s:"butt"),!e(n,r)&&(u&&n.isPointInPath(i,o)||c&&n.isPointInStroke(i,o))}}function Um(e){return Wm($m(e))}function Vm(e,t){return"translate("+e+","+t+")"}function qm(e){return"rotate("+e+")"}function Gm(e){return Vm(e.x||0,e.y||0)}function Km(e,t,n){function r(e,n){var r=n.x||0,i=n.y||0,o=n.angle||0;e.translate(r,i),o&&e.rotate(o*=dp),e.beginPath(),t(e,n),o&&e.rotate(-o),e.translate(-r,-i)}return{type:e,tag:"path",nested:!1,attr:function(e,n){e("transform",function(e){return Vm(e.x||0,e.y||0)+(e.angle?" "+qm(e.angle):"")}(n)),e("d",t(null,n))},bound:function(e,n){return t(vm(e,n.angle),n),em(e,n).translate(n.x||0,n.y||0)},draw:Ym(r),pick:Um(r),isect:n||xm(r)}}var Zm=Km("arc",(function(e,t){return Hp.context(e)(t)}));function Xm(e,t,n){function r(e,n){e.beginPath(),t(e,n)}const i=$m(r);return{type:e,tag:"path",nested:!0,attr:function(e,n){var r=n.mark.items;r.length&&e("d",t(null,r))},bound:function(e,n){var r=n.items;return 0===r.length?e:(t(vm(e),r),em(e,r[0]))},draw:zm(r),pick:function(e,t,n,r,o,a){var s=t.items,l=t.bounds;return!s||!s.length||l&&!l.contains(o,a)?null:(n*=e.pixelRatio,r*=e.pixelRatio,i(e,s,n,r)?s[0]:null)},isect:Om,tip:n}}var Jm=Xm("area",(function(e,t){const n=t[0],r=n.interpolate||"linear";return("horizontal"===n.orient?Fp:Np).curve(ip(r,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,r,i="horizontal"===e[0].orient?t[1]:t[0],o="horizontal"===e[0].orient?"y":"x",a=e.length,s=1/0;--a>=0;)!1!==e[a].defined&&(r=Math.abs(e[a][o]-i))<s&&(s=r,n=e[a]);return n}));function Qm(e,t){e.beginPath(),$p(t)?Up(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function eg(e){const t=Dm(e.strokeWidth,1);return null!=e.strokeOffset?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function tg(e,t){const n=eg(t);e("d",Up(null,t,n,n))}function ng(e,t,n,r){const i=eg(t);e.beginPath(),Up(e,t,(n||0)+i,(r||0)+i)}const rg=$m(ng),ig=$m(ng,!1),og=$m(ng,!0);var ag={type:"group",tag:"g",nested:!1,attr:function(e,t){e("transform",Gm(t))},bound:function(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let t=0;t<r;++t)e.union(n[t].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),em(e,t),e.translate(t.x||0,t.y||0)},draw:function(e,t,n){Nm(t,(t=>{const r=t.x||0,i=t.y||0,o=t.strokeForeground,a=null==t.opacity?1:t.opacity;(t.stroke||t.fill)&&a&&(ng(e,t,r,i),Rm(e,t),t.fill&&Lm(e,t,a)&&e.fill(),t.stroke&&!o&&Pm(e,t,a)&&e.stroke()),e.save(),e.translate(r,i),t.clip&&Qm(e,t),n&&n.translate(-r,-i),Nm(t,(t=>{this.draw(e,t,n)})),n&&n.translate(r,i),e.restore(),o&&t.stroke&&a&&(ng(e,t,r,i),Rm(e,t),Pm(e,t,a)&&e.stroke())}))},pick:function(e,t,n,r,i,o){if(t.bounds&&!t.bounds.contains(i,o)||!t.items)return null;const a=n*e.pixelRatio,s=r*e.pixelRatio;return Fm(t,(l=>{let u,c,d;const h=l.bounds;if(h&&!h.contains(i,o))return;c=l.x||0,d=l.y||0;const f=c+(l.width||0),p=d+(l.height||0),m=l.clip;if(m&&(i<c||i>f||o<d||o>p))return;if(e.save(),e.translate(c,d),c=i-c,d=o-d,m&&$p(l)&&!og(e,l,a,s))return e.restore(),null;const g=l.strokeForeground,y=!1!==t.interactive;return y&&g&&l.stroke&&ig(e,l,a,s)?(e.restore(),l):(u=Fm(l,(e=>function(e,t,n){return(!1!==e.interactive||"group"===e.marktype)&&e.bounds&&e.bounds.contains(t,n)}(e,c,d)?this.pick(e,n,r,c,d):null)),!u&&y&&(l.fill||!g&&l.stroke)&&rg(e,l,a,s)&&(u=l),e.restore(),u||null)}))},isect:Cm,content:function(e,t,n){e("clip-path",t.clip?qp(n,t,t):null)},background:function(e,t){e("class","background"),e("aria-hidden",!0),tg(e,t)},foreground:function(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?tg(e,t):e("d","")}},sg={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function lg(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then((t=>{e.image=t,e.image.url=e.url}))),n}function ug(e,t){return null!=e.width?e.width:t&&t.width?!1!==e.aspect&&e.height?e.height*t.width/t.height:t.width:0}function cg(e,t){return null!=e.height?e.height:t&&t.height?!1!==e.aspect&&e.width?e.width*t.height/t.width:t.height:0}function dg(e,t){return"center"===e?t/2:"right"===e?t:0}function hg(e,t){return"middle"===e?t/2:"bottom"===e?t:0}var fg={type:"image",tag:"image",nested:!1,attr:function(e,t,n){const r=lg(t,n),i=ug(t,r),o=cg(t,r),a=(t.x||0)-dg(t.align,i),s=(t.y||0)-hg(t.baseline,o);e("href",!r.src&&r.toDataURL?r.toDataURL():r.src||"",sg["xmlns:xlink"],"xlink:href"),e("transform",Vm(a,s)),e("width",i),e("height",o),e("preserveAspectRatio",!1===t.aspect?"none":"xMidYMid")},bound:function(e,t){const n=t.image,r=ug(t,n),i=cg(t,n),o=(t.x||0)-dg(t.align,r),a=(t.y||0)-hg(t.baseline,i);return e.set(o,a,o+r,a+i)},draw:function(e,t,n){Nm(t,(t=>{if(n&&!n.intersects(t.bounds))return;const r=lg(t,this);let i=ug(t,r),o=cg(t,r);if(0===i||0===o)return;let a,s,l,u,c=(t.x||0)-dg(t.align,i),d=(t.y||0)-hg(t.baseline,o);!1!==t.aspect&&(s=r.width/r.height,l=t.width/t.height,s==s&&l==l&&s!==l&&(l<s?(u=i/s,d+=(o-u)/2,o=u):(u=o*s,c+=(i-u)/2,i=u))),(r.complete||r.toDataURL)&&(Rm(e,t),e.globalAlpha=null!=(a=t.opacity)?a:1,e.imageSmoothingEnabled=!1!==t.smooth,e.drawImage(r,c,d,i,o))}))},pick:Wm(),isect:A,get:lg,xOffset:dg,yOffset:hg},pg=Xm("line",(function(e,t){const n=t[0],r=n.interpolate||"linear";return Yp.curve(ip(r,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,r,i=Math.pow(e[0].strokeWidth||1,2),o=e.length;--o>=0;)if(!1!==e[o].defined&&(n=e[o].x-t[0])*n+(r=e[o].y-t[1])*r<i)return e[o];return null}));function mg(e,t){var n=t.path;if(null==n)return!0;var r=t.x||0,i=t.y||0,o=t.scaleX||1,a=t.scaleY||1,s=(t.angle||0)*dp,l=t.pathCache;l&&l.path===n||((t.pathCache=l=cp(n)).path=n),s&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(s),_p(e,l,0,0,o,a),e.rotate(-s),e.translate(-r,-i)):_p(e,l,r,i,o,a)}var gg={type:"path",tag:"path",nested:!1,attr:function(e,t){var n=t.scaleX||1,r=t.scaleY||1;1===n&&1===r||e("vector-effect","non-scaling-stroke"),e("transform",function(e){return Vm(e.x||0,e.y||0)+(e.angle?" "+qm(e.angle):"")+(e.scaleX||e.scaleY?" "+(t=e.scaleX||1,n=e.scaleY||1,"scale("+t+","+n+")"):"");var t,n}(t)),e("d",t.path)},bound:function(e,t){return mg(vm(e,t.angle),t)?e.set(0,0,0,0):em(e,t,!0)},draw:Ym(mg),pick:Um(mg),isect:xm(mg)};function yg(e,t){e.beginPath(),Up(e,t)}var vg={type:"rect",tag:"path",nested:!1,attr:function(e,t){e("d",Up(null,t))},bound:function(e,t){var n,r;return em(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)},draw:Ym(yg),pick:Um(yg),isect:Cm};function bg(e,t,n){var r,i,o,a;return!(!t.stroke||!Pm(e,t,n)||(r=t.x||0,i=t.y||0,o=null!=t.x2?t.x2:r,a=null!=t.y2?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(o,a),0))}var wg={type:"rule",tag:"line",nested:!1,attr:function(e,t){e("transform",Gm(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)},bound:function(e,t){var n,r;return em(e.set(n=t.x||0,r=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:r),t)},draw:function(e,t,n){Nm(t,(t=>{if(!n||n.intersects(t.bounds)){var r=null==t.opacity?1:t.opacity;r&&bg(e,t,r)&&(Rm(e,t),e.stroke())}}))},pick:Wm((function(e,t,n,r){return!!e.isPointInStroke&&bg(e,t,1)&&e.isPointInStroke(n,r)})),isect:function(e,t){const n=e.x||0,r=e.y||0;return Tm(t,n,r,null!=e.x2?e.x2:n,null!=e.y2?e.y2:r)}},_g=Km("shape",(function(e,t){return(t.mark.shape||t.shape).context(e)(t)})),kg=Km("symbol",(function(e,t){return Bp.context(e)(t)}),Om);const Sg=function(e){let t,n,r;e=+e||1e4;const i=()=>{t={},n={},r=0},o=(i,o)=>(++r>e&&(n=t,t={},r=1),t[i]=o);return i(),{clear:i,has:e=>fe(t,e)||fe(n,e),get:e=>fe(t,e)?t[e]:fe(n,e)?o(e,n[e]):void 0,set:(e,n)=>fe(t,e)?t[e]=n:o(e,n)}}();var Mg={height:Dg,measureWidth:Tg,estimateWidth:Og,width:Og,canvas:xg};function xg(e){Mg.width=e&&Sm?Tg:Og}function Og(e,t){return Cg(jg(e,t),Dg(e))}function Cg(e,t){return~~(.8*e.length*t)}function Tg(e,t){return Dg(e)<=0||!(t=jg(e,t))?0:Rg(t,Ig(e))}function Rg(e,t){const n="(".concat(t,") ").concat(e);let r=Sg.get(n);return void 0===r&&(Sm.font=t,r=Sm.measureText(e).width,Sg.set(n,r)),r}function Dg(e){return null!=e.fontSize?+e.fontSize||0:11}function Eg(e){return null!=e.lineHeight?e.lineHeight:Dg(e)+2}function Ag(e){return t=e.lineBreak&&e.text&&!I(e.text)?e.text.split(e.lineBreak):e.text,I(t)?t.length>1?t:t[0]:t;var t}function Lg(e){const t=Ag(e);return(I(t)?t.length-1:0)*Eg(e)}function jg(e,t){const n=null==t?"":(t+"").trim();return e.limit>0&&n.length?function(e,t){var n=+e.limit,r=function(e){if(Mg.width===Tg){const t=Ig(e);return e=>Rg(e,t)}{const t=Dg(e);return e=>Cg(e,t)}}(e);if(r(t)<n)return t;var i,o=e.ellipsis||"…",a="rtl"===e.dir,s=0,l=t.length;if(n-=r(o),a){for(;s<l;)i=s+l>>>1,r(t.slice(i))>n?s=i+1:l=i;return o+t.slice(s)}for(;s<l;)i=1+(s+l>>>1),r(t.slice(0,i))<n?s=i:l=i-1;return t.slice(0,s)+o}(e,n):n}function Pg(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function Ig(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Dg(e)+"px "+Pg(e,t)}function Hg(e){var t=e.baseline,n=Dg(e);return Math.round("top"===t?.79*n:"middle"===t?.3*n:"bottom"===t?-.21*n:"line-top"===t?.29*n+.5*Eg(e):"line-bottom"===t?.29*n-.5*Eg(e):0)}xg(!0);const Ng={left:"start",center:"middle",right:"end"},Fg=new Gp;function Yg(e){var t,n=e.x||0,r=e.y||0,i=e.radius||0;return i&&(t=(e.theta||0)-hp,n+=i*Math.cos(t),r+=i*Math.sin(t)),Fg.x1=n,Fg.y1=r,Fg}function zg(e,t,n){var r,i=Mg.height(t),o=t.align,a=Yg(t),s=a.x1,l=a.y1,u=t.dx||0,c=(t.dy||0)+Hg(t)-Math.round(.8*i),d=Ag(t);if(I(d)?(i+=Eg(t)*(d.length-1),r=d.reduce(((e,n)=>Math.max(e,Mg.width(t,n))),0)):r=Mg.width(t,d),"center"===o?u-=r/2:"right"===o&&(u-=r),e.set(u+=s,c+=l,u+r,c+i),t.angle&&!n)e.rotate(t.angle*dp,s,l);else if(2===n)return e.rotatedPoints(t.angle*dp,s,l);return e}var Bg={type:"text",tag:"text",nested:!1,attr:function(e,t){var n,r=t.dx||0,i=(t.dy||0)+Hg(t),o=Yg(t),a=o.x1,s=o.y1,l=t.angle||0;e("text-anchor",Ng[t.align]||"start"),l?(n=Vm(a,s)+" "+qm(l),(r||i)&&(n+=" "+Vm(r,i))):n=Vm(a+r,s+i),e("transform",n)},bound:zg,draw:function(e,t,n){Nm(t,(t=>{var r,i,o,a,s,l,u,c=null==t.opacity?1:t.opacity;if(!(n&&!n.intersects(t.bounds)||0===c||t.fontSize<=0||null==t.text||0===t.text.length)){if(e.font=Ig(t),e.textAlign=t.align||"left",i=(r=Yg(t)).x1,o=r.y1,t.angle&&(e.save(),e.translate(i,o),e.rotate(t.angle*dp),i=o=0),i+=t.dx||0,o+=(t.dy||0)+Hg(t),l=Ag(t),Rm(e,t),I(l))for(s=Eg(t),a=0;a<l.length;++a)u=jg(t,l[a]),t.fill&&Lm(e,t,c)&&e.fillText(u,i,o),t.stroke&&Pm(e,t,c)&&e.strokeText(u,i,o),o+=s;else u=jg(t,l),t.fill&&Lm(e,t,c)&&e.fillText(u,i,o),t.stroke&&Pm(e,t,c)&&e.strokeText(u,i,o);t.angle&&e.restore()}}))},pick:Wm((function(e,t,n,r,i,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var a=Yg(t),s=a.x1,l=a.y1,u=zg(Fg,t,1),c=-t.angle*dp,d=Math.cos(c),h=Math.sin(c),f=d*i-h*o+(s-d*s+h*l),p=h*i+d*o+(l-h*s-d*l);return u.contains(f,p)})),isect:function(e,t){const n=zg(Fg,e,2);return Tm(t,n[0],n[1],n[2],n[3])||Tm(t,n[0],n[1],n[4],n[5])||Tm(t,n[4],n[5],n[6],n[7])||Tm(t,n[2],n[3],n[6],n[7])}},Wg=Xm("trail",(function(e,t){return Wp.context(e)(t)}),(function(e,t){for(var n,r,i=e.length;--i>=0;)if(!1!==e[i].defined&&(n=e[i].x-t[0])*n+(r=e[i].y-t[1])*r<(n=e[i].size||1)*n)return e[i];return null})),$g={arc:Zm,area:Jm,group:ag,image:fg,line:pg,path:gg,rect:vg,rule:wg,shape:_g,symbol:kg,text:Bg,trail:Wg};function Ug(e,t,n){var r=$g[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new Gp),e,n)}var Vg={mark:null};const qg=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function Gg(e){return Kg("string"==typeof e?JSON.parse(e):e)}function Kg(e){var t,n,r,i=e.marktype,o=e.items;if(o)for(n=0,r=o.length;n<r;++n)t=i?"mark":"group",o[n][t]=e,o[n].zindex&&(o[n][t].zdirty=!0),"group"===(i||t)&&Kg(o[n]);return i&&function(e,t,n){var r,i,o,a,s=$g[e.marktype],l=s.bound,u=e.items,c=u&&u.length;if(s.nested)return c?o=u[0]:(Vg.mark=e,o=Vg),a=Ug(o,l,n),t&&t.union(a)||a;if(t=t||e.bounds&&e.bounds.clear()||new Gp,c)for(r=0,i=u.length;r<i;++r)t.union(Ug(u[r],l,n));e.bounds=t}(e),e}function Zg(e){arguments.length?this.root=Gg(e):(this.root=Xg({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Zp(this.root)])}function Xg(e,t){const n={bounds:new Gp,clip:!!e.clip,group:t,interactive:!1!==e.interactive,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return null!=e.aria&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function Jg(e,t,n){return!e&&"undefined"!=typeof document&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function Qg(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function ey(e,t,n,r){var i,o=e.childNodes[t];return o&&o.tagName.toLowerCase()===n.toLowerCase()||(i=o||null,o=Jg(e.ownerDocument,n,r),e.insertBefore(o,i)),o}function ty(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function ny(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function ry(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function iy(e,t){this._active=null,this._handlers={},this._loader=e||yo(),this._tooltip=t||oy}function oy(e,t,n,r){e.element().setAttribute("title",r||"")}function ay(e){this._el=null,this._bgcolor=null,this._loader=new Xp(e)}Zg.prototype={toJSON(e){return function(e,t){return JSON.stringify(e,qg,t)}(this.root,e||0)},mark(e,t,n){const r=Xg(e,t=t||this.root.items[0]);return t.items[n]=r,r.zindex&&(r.group.zdirty=!0),r}},iy.prototype={initialize(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},scene(e){return arguments.length?(this._scene=e,this):this._scene},on(){},off(){},_handlerIndex(e,t,n){for(let r=e?e.length:0;--r>=0;)if(e[r].type===t&&(!n||e[r].handler===n))return r;return-1},handlers(e){const t=this._handlers,n=[];if(e)n.push(...t[this.eventName(e)]);else for(const e in t)n.push(...t[e]);return n},eventName(e){const t=e.indexOf(".");return t<0?e:e.slice(0,t)},handleHref(e,t,n){this._loader.sanitize(n,{context:"href"}).then((t=>{const n=new MouseEvent(e.type,e),r=Jg(null,"a");for(const e in t)r.setAttribute(e,t[e]);r.dispatchEvent(n)})).catch((()=>{}))},handleTooltip(e,t,n){if(t&&null!=t.tooltip){t=function(e,t,n,r){var i,o,a=e&&e.mark;if(a&&(i=$g[a.marktype]).tip){for((o=ry(t,n))[0]-=r[0],o[1]-=r[1];e=e.mark.group;)o[0]-=e.x||0,o[1]-=e.y||0;e=i.tip(a.items,o)}return e}(t,e,this.canvas(),this._origin);const r=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,r)}},getItemBoundingClientRect(e){const t=this.canvas();if(!t)return;const n=t.getBoundingClientRect(),r=this._origin,i=e.bounds,o=i.width(),a=i.height();let s=i.x1+r[0]+n.left,l=i.y1+r[1]+n.top;for(;e.mark&&(e=e.mark.group);)s+=e.x||0,l+=e.y||0;return{x:s,y:l,width:o,height:a,left:s,top:l,right:s+o,bottom:l+a}}},ay.prototype={initialize(e,t,n,r,i){return this._el=e,this.resize(t,n,r,i)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},resize(e,t,n,r){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=r||1,this},dirty(){},render(e){const t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},_render(){},renderAsync(e){const t=this.render(e);return this._ready?this._ready.then((()=>t)):Promise.resolve(t)},_load(e,t){var n=this,r=n._loader[e](t);if(!n._ready){const e=n._call;n._ready=n._loader.ready().then((t=>{t&&e(),n._ready=null}))}return r},sanitizeURL(e){return this._load("sanitizeURL",e)},loadImage(e){return this._load("loadImage",e)}};const sy="dragenter",ly="dragleave",uy="dragover",cy="mousedown",dy="mousemove",hy="mouseout",fy="mouseover",py="click",my="mousewheel",gy="touchstart",yy="touchmove",vy="touchend",by=dy,wy=hy,_y=py;function ky(e,t){iy.call(this,e,t),this._down=null,this._touch=null,this._first=!0,this._events={}}function Sy(e,t){(e=>e===gy||e===yy||e===vy?[gy,yy,vy]:[e])(t).forEach((t=>function(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?n=>e[t](n):n=>e.fire(t,n)))}(e,t)))}function My(e,t,n){return function(r){const i=this._active,o=this.pickEvent(r);o===i||(i&&i.exit||this.fire(n,r),this._active=o,this.fire(t,r)),this.fire(e,r)}}function xy(e){return function(t){this.fire(e,t),this._active=null}}ge(ky,iy,{initialize(e,t,n){return this._canvas=e&&Qg(e,"canvas"),[py,cy,dy,hy,ly].forEach((e=>Sy(this,e))),iy.prototype.initialize.call(this,e,t,n)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:["keydown","keypress","keyup",sy,ly,uy,cy,"mouseup",dy,hy,fy,py,"dblclick","wheel",my,gy,yy,vy],DOMMouseScroll(e){this.fire(my,e)},mousemove:My(dy,fy,hy),dragover:My(uy,sy,ly),mouseout:xy(hy),dragleave:xy(ly),mousedown(e){this._down=this._active,this.fire(cy,e)},click(e){this._down===this._active&&(this.fire(py,e),this._down=null)},touchstart(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(gy,e,!0)},touchmove(e){this.fire(yy,e,!0)},touchend(e){this.fire(vy,e,!0),this._touch=null},fire(e,t,n){const r=n?this._touch:this._active,i=this._handlers[e];if(t.vegaType=e,e===_y&&r&&r.href?this.handleHref(t,r,r.href):e!==by&&e!==wy||this.handleTooltip(t,r,e!==wy),i)for(let e=0,n=i.length;e<n;++e)i[e].handler.call(this._obj,t,r)},on(e,t){const n=this.eventName(e),r=this._handlers;return this._handlerIndex(r[n],e,t)<0&&(Sy(this,e),(r[n]||(r[n]=[])).push({type:e,handler:t})),this},off(e,t){const n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&r.splice(i,1),this},pickEvent(e){const t=ry(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},pick(e,t,n,r,i){const o=this.context();return $g[e.marktype].pick.call(this,o,e,t,n,r,i)}});var Oy="undefined"!=typeof window&&window.devicePixelRatio||1;function Cy(e){ay.call(this,e),this._options={},this._redraw=!1,this._dirty=new Gp,this._tempb=new Gp}const Ty=ay.prototype;function Ry(e,t){iy.call(this,e,t);const n=this;n._hrefHandler=Dy(n,((e,t)=>{t&&t.href&&n.handleHref(e,t,t.href)})),n._tooltipHandler=Dy(n,((e,t)=>{n.handleTooltip(e,t,e.type!==wy)}))}ge(Cy,ay,{initialize(e,t,n,r,i,o){return this._options=o||{},this._canvas=this._options.externalContext?null:ju(1,1,this._options.type),e&&this._canvas&&(ty(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),Ty.initialize.call(this,e,t,n,r,i)},resize(e,t,n,r){if(Ty.resize.call(this,e,t,n,r),this._canvas)!function(e,t,n,r,i,o){const a="undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,s=e.getContext("2d"),l=a?Oy:i;e.width=t*l,e.height=n*l;for(const e in o)s[e]=o[e];a&&1!==l&&(e.style.width=t+"px",e.style.height=n+"px"),s.pixelRatio=l,s.setTransform(l,0,0,l,l*r[0],l*r[1])}(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const e=this._options.externalContext;e||x("CanvasRenderer is missing a valid canvas or context"),e.scale(this._scale,this._scale),e.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(e){const t=this._tempb.clear().union(e.bounds);let n=e.mark.group;for(;n;)t.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(t)},_render(e){const t=this.context(),n=this._origin,r=this._width,i=this._height,o=this._dirty,a=((e,t,n)=>(new Gp).set(0,0,t,n).translate(-e[0],-e[1]))(n,r,i);t.save();const s=this._redraw||o.empty()?(this._redraw=!1,a.expand(1)):function(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-n[0]%1,-n[1]%1),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}(t,a.intersect(o),n);return this.clear(-n[0],-n[1],r,i),this.draw(t,e,s),t.restore(),o.clear(),this},draw(e,t,n){const r=$g[t.marktype];t.clip&&function(e,t){var n=t.clip;e.save(),ne(n)?(e.beginPath(),n(e),e.clip()):Qm(e,t.group)}(e,t),r.draw.call(this,e,t,n),t.clip&&e.restore()},clear(e,t,n,r){const i=this._options,o=this.context();"pdf"===i.type||i.externalContext||o.clearRect(e,t,n,r),null!=this._bgcolor&&(o.fillStyle=this._bgcolor,o.fillRect(e,t,n,r))}});const Dy=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)};ge(Ry,iy,{initialize(e,t,n){let r=this._svg;return r&&(r.removeEventListener(_y,this._hrefHandler),r.removeEventListener(by,this._tooltipHandler),r.removeEventListener(wy,this._tooltipHandler)),this._svg=r=e&&Qg(e,"svg"),r&&(r.addEventListener(_y,this._hrefHandler),r.addEventListener(by,this._tooltipHandler),r.addEventListener(wy,this._tooltipHandler)),iy.prototype.initialize.call(this,e,t,n)},canvas(){return this._svg},on(e,t){const n=this.eventName(e),r=this._handlers;if(this._handlerIndex(r[n],e,t)<0){const i={type:e,handler:t,listener:Dy(this,t)};(r[n]||(r[n]=[])).push(i),this._svg&&this._svg.addEventListener(n,i.listener)}return this},off(e,t){const n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&(this._svg&&this._svg.removeEventListener(n,r[i].listener),r.splice(i,1)),this}});const Ey="aria-hidden",Ay="aria-label",Ly="role",jy="aria-roledescription",Py="graphics-object",Iy="graphics-symbol",Hy=(e,t,n)=>({[Ly]:e,[jy]:t,[Ay]:n||void 0}),Ny=De(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),Fy={axis:{desc:"axis",caption:function(e){const t=e.datum,n=e.orient,r=t.title?$y(e):null,i=e.context,o=i.scales[t.scale].value,a=i.dataflow.locale(),s=o.type;return"".concat("left"===n||"right"===n?"Y":"X","-axis")+(r?" titled '".concat(r,"'"):"")+" for a ".concat(wf(s)?"discrete":s," scale")+" with ".concat(Xf(a,o,e))}},legend:{desc:"legend",caption:function(e){const t=e.datum,n=t.title?$y(e):null,r="".concat(t.type||""," legend").trim(),i=t.scales,o=Object.keys(i),a=e.context,s=a.scales[i[o[0]]].value,l=a.dataflow.locale();return((u=r).length?u[0].toUpperCase()+u.slice(1):u)+(n?" titled '".concat(n,"'"):"")+" for ".concat(function(e){return(e=e.map((e=>e+("fill"===e||"stroke"===e?" color":"")))).length<2?e[0]:e.slice(0,-1).join(", ")+" and "+B(e)}(o))+" with ".concat(Xf(l,s,e));var u}},"title-text":{desc:"title",caption:e=>"Title text '".concat(Wy(e),"'")},"title-subtitle":{desc:"subtitle",caption:e=>"Subtitle text '".concat(Wy(e),"'")}},Yy={ariaRole:Ly,ariaRoleDescription:jy,description:Ay};function zy(e,t){const n=!1===t.aria;if(e(Ey,n||void 0),n||null==t.description)for(const t in Yy)e(Yy[t],void 0);else{const n=t.mark.marktype;e(Ay,t.description),e(Ly,t.ariaRole||("group"===n?Py:Iy)),e(jy,t.ariaRoleDescription||"".concat(n," mark"))}}function By(e){return!1===e.aria?{[Ey]:!0}:Ny[e.role]?null:Fy[e.role]?function(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return Hy(t.role||Iy,t.desc,n.description||r(n))}catch(e){return null}}(e,Fy[e.role]):function(e){const t=e.marktype,n="group"===t||"text"===t||e.items.some((e=>null!=e.description&&!1!==e.aria));return Hy(n?Py:Iy,"".concat(t," mark container"),e.description)}(e)}function Wy(e){return te(e.text).join(" ")}function $y(e){try{return te(B(e.items).items[0].text).join(" ")}catch(e){return null}}const Uy=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");function Vy(){let e="",t="",n="";const r=[],i=()=>t=n="",o=(e,n)=>(null!=n&&(t+=" ".concat(e,'="').concat(Uy(n).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"),'"')),a),a={open(s){(o=>{t&&(e+="".concat(t,">").concat(n),i()),r.push(o)})(s),t="<"+s;for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];for(const e of u)for(const t in e)o(t,e[t]);return a},close(){const o=r.pop();return e+=t?t+(n?">".concat(n,"</").concat(o,">"):"/>"):"</".concat(o,">"),i(),a},attr:o,text:e=>(n+=Uy(e),a),toString:()=>e};return a}const qy=e=>Gy(Vy(),e)+"";function Gy(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let t=0;t<r;++t)e.attr(n[t].name,n[t].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const t of n)3===t.nodeType?e.text(t.nodeValue):Gy(e,t)}return e.close()}const Ky={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},Zy={blend:"mix-blend-mode"},Xy={fill:"none","stroke-miterlimit":10},Jy="http://www.w3.org/2000/xmlns/",Qy=sg.xmlns;function ev(e){ay.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}const tv=ay.prototype;function nv(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function rv(e,t,n){let r,i,o;if("radial"===t.gradient){let r=ey(e,n++,"pattern",Qy);dv(r,{id:Qf+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),r=ey(r,0,"rect",Qy),dv(r,{width:1,height:1,fill:"url(".concat(fv(),"#").concat(t.id,")")}),dv(e=ey(e,n++,"radialGradient",Qy),{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else dv(e=ey(e,n++,"linearGradient",Qy),{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)o=ey(e,r,"stop",Qy),o.setAttribute("offset",t.stops[r].offset),o.setAttribute("stop-color",t.stops[r].color);return ty(e,r),n}function iv(e,t,n){let r;return(e=ey(e,n,"clipPath",Qy)).setAttribute("id",t.id),t.path?(r=ey(e,0,"path",Qy),r.setAttribute("d",t.path)):(r=ey(e,0,"rect",Qy),dv(r,{x:0,y:0,width:t.width,height:t.height})),ty(e,1),n+1}function ov(e,t,n,r,i){let o,a=e._svg;if(!a&&(o=t.ownerDocument,a=Jg(o,r,Qy),e._svg=a,e.mark&&(a.__data__=e,a.__values__={fill:"default"},"g"===r))){const t=Jg(o,"path",Qy);a.appendChild(t),t.__data__=e;const n=Jg(o,"g",Qy);a.appendChild(n),n.__data__=e;const r=Jg(o,"path",Qy);a.appendChild(r),r.__data__=e,r.__values__={fill:"default"}}return(a.ownerSVGElement!==i||function(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}(a,n))&&t.insertBefore(a,n?n.nextSibling:t.firstChild),a}ge(ev,ay,{initialize(e,t,n,r,i){return this._defs={},this._clearDefs(),e&&(this._svg=ey(e,0,"svg",Qy),this._svg.setAttributeNS(Jy,"xmlns",Qy),this._svg.setAttributeNS(Jy,"xmlns:xlink",sg["xmlns:xlink"]),this._svg.setAttribute("version",sg.version),this._svg.setAttribute("class","marks"),ty(e,1),this._root=ey(this._svg,0,"g",Qy),dv(this._root,Xy),ty(this._svg,1)),this.background(this._bgcolor),tv.initialize.call(this,e,t,n,r,i)},background(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),tv.background.apply(this,arguments)},resize(e,t,n,r){return tv.resize.call(this,e,t,n,r),this._svg&&(dv(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}),this._root.setAttribute("transform","translate(".concat(this._origin,")"))),this._dirty=[],this},canvas(){return this._svg},svg(){const e=this._svg,t=this._bgcolor;if(!e)return null;let n;t&&(e.removeAttribute("style"),n=ey(e,0,"rect",Qy),dv(n,{width:this._width,height:this._height,fill:t}));const r=qy(e);return t&&(e.removeChild(n),this._svg.style.setProperty("background-color",t)),r},_render(e){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,e),ty(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},isDirty(e){return this._dirtyAll||!e._svg||!e._svg.ownerSVGElement||e.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const e=this._dirty;if(!e.length||!this._dirtyID)return!0;const t=++this._dirtyID;let n,r,i,o,a,s,l;for(a=0,s=e.length;a<s;++a)n=e[a],r=n.mark,r.marktype!==i&&(i=r.marktype,o=$g[i]),r.zdirty&&r.dirty!==t&&(this._dirtyAll=!1,nv(n,t),r.items.forEach((e=>{e.dirty=t}))),r.zdirty||(n.exit?(o.nested&&r.items.length?(l=r.items[0],l._svg&&this._update(o,l._svg,l)):n._svg&&(l=n._svg.parentNode,l&&l.removeChild(n._svg)),n._svg=null):(n=o.nested?r.items[0]:n,n._update!==t&&(n._svg&&n._svg.ownerSVGElement?this._update(o,n._svg,n):(this._dirtyAll=!1,nv(n,t)),n._update=t)));return!this._dirtyAll},mark(e,t,n){if(!this.isDirty(t))return t._svg;const r=this._svg,i=$g[t.marktype],o=!1===t.interactive?"none":null,a="g"===i.tag,s=ov(t,e,n,"g",r);s.setAttribute("class",ny(t));const l=By(t);for(const e in l)hv(s,e,l[e]);a||hv(s,"pointer-events",o),hv(s,"clip-path",t.clip?qp(this,t,t.group):null);let u=null,c=0;const d=e=>{const t=this.isDirty(e),n=ov(e,s,u,i.tag,r);t&&(this._update(i,n,e),a&&function(e,t,n){t=t.lastChild.previousSibling;let r,i=0;Nm(n,(n=>{r=e.mark(t,n,r),++i})),ty(t,1+i)}(this,n,e)),u=n,++c};return i.nested?t.items.length&&d(t.items[0]):Nm(t,d),ty(s,c),s},_update(e,t,n){av=t,sv=t.__values__,zy(uv,n),e.attr(uv,n,this);const r=lv[e.type];r&&r.call(this,e,t,n),av&&this.style(av,n)},style(e,t){if(null!=t){for(const n in Ky){let r="font"===n?Pg(t):t[n];if(r===sv[n])continue;const i=Ky[n];null==r?e.removeAttribute(i):(ep(r)&&(r=tp(r,this._defs.gradient,fv())),e.setAttribute(i,r+"")),sv[n]=r}for(const n in Zy)cv(e,Zy[n],t[n])}},defs(){const e=this._svg,t=this._defs;let n=t.el,r=0;for(const i in t.gradient)n||(t.el=n=ey(e,1,"defs",Qy)),r=rv(n,t.gradient[i],r);for(const i in t.clipping)n||(t.el=n=ey(e,1,"defs",Qy)),r=iv(n,t.clipping[i],r);n&&(0===r?(e.removeChild(n),t.el=null):ty(n,r))},_clearDefs(){const e=this._defs;e.gradient={},e.clipping={}}});let av=null,sv=null;const lv={group(e,t,n){const r=av=t.childNodes[2];sv=r.__values__,e.foreground(uv,n,this),sv=t.__values__,av=t.childNodes[1],e.content(uv,n,this);const i=av=t.childNodes[0];e.background(uv,n,this);const o=!1===n.mark.interactive?"none":null;if(o!==sv.events&&(hv(r,"pointer-events",o),hv(i,"pointer-events",o),sv.events=o),n.strokeForeground&&n.stroke){const e=n.fill;hv(r,"display",null),this.style(i,n),hv(i,"stroke",null),e&&(n.fill=null),sv=r.__values__,this.style(r,n),e&&(n.fill=e),av=null}else hv(r,"display","none")},image(e,t,n){!1===n.smooth?(cv(t,"image-rendering","optimizeSpeed"),cv(t,"image-rendering","pixelated")):cv(t,"image-rendering",null)},text(e,t,n){const r=Ag(n);let i,o,a,s;I(r)?(o=r.map((e=>jg(n,e))),i=o.join("\n"),i!==sv.text&&(ty(t,0),a=t.ownerDocument,s=Eg(n),o.forEach(((e,r)=>{const i=Jg(a,"tspan",Qy);i.__data__=n,i.textContent=e,r&&(i.setAttribute("x",0),i.setAttribute("dy",s)),t.appendChild(i)})),sv.text=i)):(o=jg(n,r),o!==sv.text&&(t.textContent=o,sv.text=o)),hv(t,"font-family",Pg(n)),hv(t,"font-size",Dg(n)+"px"),hv(t,"font-style",n.fontStyle),hv(t,"font-variant",n.fontVariant),hv(t,"font-weight",n.fontWeight)}};function uv(e,t,n){t!==sv[e]&&(n?function(e,t,n,r){null!=n?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}(av,e,t,n):hv(av,e,t),sv[e]=t)}function cv(e,t,n){n!==sv[t]&&(null==n?e.style.removeProperty(t):e.style.setProperty(t,n+""),sv[t]=n)}function dv(e,t){for(const n in t)hv(e,n,t[n])}function hv(e,t,n){null!=n?e.setAttribute(t,n):e.removeAttribute(t)}function fv(){let e;return"undefined"==typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function pv(e){ay.call(this,e),this._text=null,this._defs={gradient:{},clipping:{}}}ge(pv,ay,{svg(){return this._text},_render(e){const t=Vy();t.open("svg",ce({},sg,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}));const n=this._bgcolor;return n&&"transparent"!==n&&"none"!==n&&t.open("rect",{width:this._width,height:this._height,fill:n}).close(),t.open("g",Xy,{transform:"translate("+this._origin+")"}),this.mark(t,e),t.close(),this.defs(t),this._text=t.close()+"",this},mark(e,t){const n=$g[t.marktype],r=n.tag,i=[zy,n.attr];e.open("g",{class:ny(t),"clip-path":t.clip?qp(this,t,t.group):null},By(t),{"pointer-events":"g"!==r&&!1===t.interactive?"none":null});const o=o=>{const a=this.href(o);if(a&&e.open("a",a),e.open(r,this.attr(t,o,i,"g"!==r?r:null)),"text"===r){const t=Ag(o);if(I(t)){const n={x:0,dy:Eg(o)};for(let r=0;r<t.length;++r)e.open("tspan",r?n:null).text(jg(o,t[r])).close()}else e.text(jg(o,t))}else if("g"===r){const r=o.strokeForeground,i=o.fill,a=o.stroke;r&&a&&(o.stroke=null),e.open("path",this.attr(t,o,n.background,"bgrect")).close(),e.open("g",this.attr(t,o,n.content)),Nm(o,(t=>this.mark(e,t))),e.close(),r&&a?(i&&(o.fill=null),o.stroke=a,e.open("path",this.attr(t,o,n.foreground,"bgrect")).close(),i&&(o.fill=i)):e.open("path",this.attr(t,o,n.foreground,"bgfore")).close()}e.close(),a&&e.close()};return n.nested?t.items&&t.items.length&&o(t.items[0]):Nm(t,o),e.close()},href(e){const t=e.href;let n;if(t){if(n=this._hrefs&&this._hrefs[t])return n;this.sanitizeURL(t).then((e=>{e["xlink:href"]=e.href,e.href=null,(this._hrefs||(this._hrefs={}))[t]=e}))}return null},attr(e,t,n,r){const i={},o=(e,t,n,r)=>{i[r||e]=t};return Array.isArray(n)?n.forEach((e=>e(o,t,this))):n(o,t,this),r&&function(e,t,n,r,i){let o;if(null==t)return e;if("bgrect"===r&&!1===n.interactive&&(e["pointer-events"]="none"),"bgfore"===r&&(!1===n.interactive&&(e["pointer-events"]="none"),e.display="none",null!==t.fill))return e;"image"===r&&!1===t.smooth&&(o=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),"text"===r&&(e["font-family"]=Pg(t),e["font-size"]=Dg(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const n in Ky){let r=t[n];const o=Ky[n];("transparent"!==r||"fill"!==o&&"stroke"!==o)&&null!=r&&(ep(r)&&(r=tp(r,i.gradient,"")),e[o]=r)}for(const e in Zy){const n=t[e];null!=n&&(o=o||[],o.push("".concat(Zy[e],": ").concat(n,";")))}o&&(e.style=o.join(" "))}(i,t,e,r,this._defs),i},defs(e){const t=this._defs.gradient,n=this._defs.clipping;if(0!==Object.keys(t).length+Object.keys(n).length){e.open("defs");for(const n in t){const r=t[n],i=r.stops;"radial"===r.gradient?(e.open("pattern",{id:Qf+n,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),e.open("rect",{width:"1",height:"1",fill:"url(#"+n+")"}).close(),e.close(),e.open("radialGradient",{id:n,fx:r.x1,fy:r.y1,fr:r.r1,cx:r.x2,cy:r.y2,r:r.r2})):e.open("linearGradient",{id:n,x1:r.x1,x2:r.x2,y1:r.y1,y2:r.y2});for(let t=0;t<i.length;++t)e.open("stop",{offset:i[t].offset,"stop-color":i[t].color}).close();e.close()}for(const t in n){const r=n[t];e.open("clipPath",{id:t}),r.path?e.open("path",{d:r.path}).close():e.open("rect",{x:0,y:0,width:r.width,height:r.height}).close(),e.close()}e.close()}}});const mv="canvas",gv="svg",yv={};function vv(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(yv[e]=t,this):yv[e]}function bv(e,t,n,r){if(function(e,t,n){return e.bounds&&t.intersects(e.bounds)&&("group"===e.marktype||!1!==e.interactive&&(!n||n(e)))}(e,t,n)){const i=e.items,o=e.marktype,a=i.length;let s=0;if("group"===o)for(;s<a;++s)wv(i[s],t,n,r);else for(const e=$g[o].isect;s<a;++s){const n=i[s];_v(n,t,e)&&r.push(n)}}return r}function wv(e,t,n,r){n&&n(e.mark)&&_v(e,t,$g.group.isect)&&r.push(e);const i=e.items,o=i&&i.length;if(o){const a=e.x||0,s=e.y||0;t.translate(-a,-s);for(let e=0;e<o;++e)bv(i[e],t,n,r);t.translate(a,s)}return r}function _v(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}yv.canvas=yv.png={renderer:Cy,headless:Cy,handler:ky},yv.svg={renderer:ev,headless:pv,handler:Ry},yv.none={};const kv=new Gp,Sv="top",Mv="left",xv="right",Ov="bottom",Cv="start",Tv="middle",Rv="end",Dv="group",Ev="axis",Av="title",Lv="legend",jv="row-header",Pv="row-footer",Iv="row-title",Hv="column-header",Nv="column-footer",Fv="column-title",Yv="none",zv="all",Bv="each",Wv="flush",$v="column",Uv="row";function Vv(e){ta.call(this,null,e)}function qv(e,t,n){return t(e.bounds.clear(),e,n)}ge(Vv,ta,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,o=$g[i],a=o.bound;let s,l=r.bounds;if(o.nested)r.items.length&&n.dirty(r.items[0]),l=qv(r,a),r.items.forEach((e=>{e.bounds.clear().union(l)}));else if(i===Dv||e.modified())switch(t.visit(t.MOD,(e=>n.dirty(e))),l.clear(),r.items.forEach((e=>l.union(qv(e,a)))),r.role){case Ev:case Lv:case Av:t.reflow()}else s=t.changed(t.REM),t.visit(t.ADD,(e=>{l.union(qv(e,a))})),t.visit(t.MOD,(e=>{s=s||l.alignsWith(e.bounds),n.dirty(e),l.union(qv(e,a))})),s&&(l.clear(),r.items.forEach((e=>l.union(e.bounds))));return function(e){const t=e.clip;if(ne(t))t(vm(kv.clear()));else{if(!t)return;kv.set(0,0,e.group.width,e.group.height)}e.bounds.intersect(kv)}(r),t.modifies("bounds")}});const Gv=":vega_identifier:";function Kv(e){ta.call(this,0,e)}function Zv(e){ta.call(this,null,e)}function Xv(e){ta.call(this,null,e)}Kv.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},ge(Kv,ta,{transform(e,t){const n=(i=t.dataflow)._signals[Gv]||(i._signals[Gv]=i.add(0)),r=e.as;var i;let o=n.value;return t.visit(t.ADD,(e=>e[r]=e[r]||++o)),n.set(this.value=o),t}}),ge(Zv,ta,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,function(e){const t=e.groups,n=e.parent;return t&&1===t.size?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===Dv?Zp:Kp;return t.visit(t.ADD,(e=>r.call(e,n))),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});const Jv={parity:e=>e.filter(((e,t)=>t%2?e.opacity=0:1)),greedy:(e,t)=>{let n;return e.filter(((e,r)=>r&&Qv(n.bounds,e.bounds,t)?e.opacity=0:(n=e,1)))}},Qv=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),eb=(e,t)=>{for(var n,r=1,i=e.length,o=e[0].bounds;r<i;o=n,++r)if(Qv(o,n=e[r].bounds,t))return!0},tb=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},nb=e=>(e.forEach((e=>e.opacity=1)),e),rb=(e,t)=>e.reflow(t.modified()).modifies("opacity");function ib(e){ta.call(this,null,e)}ge(Xv,ta,{transform(e,t){const n=Jv[e.method]||Jv.parity,r=e.separation||0;let i,o,a=t.materialize(t.SOURCE).source;if(!a||!a.length)return;if(!e.method)return e.modified("method")&&(nb(a),t=rb(t,e)),t;if(a=a.filter(tb),!a.length)return;if(e.sort&&(a=a.slice().sort(e.sort)),i=nb(a),t=rb(t,e),i.length>=3&&eb(i,r)){do{i=n(i,r)}while(i.length>=3&&eb(i,r));i.length<3&&!B(a).opacity&&(i.length>1&&(B(i).opacity=0),B(a).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(o=((e,t,n)=>{var r=e.range(),i=new Gp;return t===Sv||t===Ov?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),e=>i.encloses(e.bounds)})(e.boundScale,e.boundOrient,+e.boundTolerance),a.forEach((e=>{o(e)||(e.opacity=0)})));const s=i[0].mark.bounds.clear();return a.forEach((e=>{e.opacity&&s.union(e.bounds)})),t}}),ge(ib,ta,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,(e=>n.dirty(e))),t.fields&&t.fields.zindex){const e=t.source&&t.source[0];e&&(e.mark.zdirty=!0)}}});const ob=new Gp;function ab(e,t,n){return e[t]===n?0:(e[t]=n,1)}function sb(e){var t=e.items[0].orient;return t===Mv||t===xv}function lb(e,t,n,r){var i,o,a=t.items[0],s=a.datum,l=null!=a.translate?a.translate:.5,u=a.orient,c=function(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}(s),d=a.range,h=a.offset,f=a.position,p=a.minExtent,m=a.maxExtent,g=s.title&&a.items[c[2]].items[0],y=a.titlePadding,v=a.bounds,b=g&&Lg(g),w=0,_=0;switch(ob.clear().union(v),v.clear(),(i=c[0])>-1&&v.union(a.items[i].bounds),(i=c[1])>-1&&v.union(a.items[i].bounds),u){case Sv:w=f||0,_=-h,o=Math.max(p,Math.min(m,-v.y1)),v.add(0,-o).add(d,0),g&&ub(e,g,o,y,b,0,-1,v);break;case Mv:w=-h,_=f||0,o=Math.max(p,Math.min(m,-v.x1)),v.add(-o,0).add(0,d),g&&ub(e,g,o,y,b,1,-1,v);break;case xv:w=n+h,_=f||0,o=Math.max(p,Math.min(m,v.x2)),v.add(0,0).add(o,d),g&&ub(e,g,o,y,b,1,1,v);break;case Ov:w=f||0,_=r+h,o=Math.max(p,Math.min(m,v.y2)),v.add(0,0).add(d,o),g&&ub(e,g,o,y,0,0,1,v);break;default:w=a.x,_=a.y}return em(v.translate(w,_),a),ab(a,"x",w+l)|ab(a,"y",_+l)&&(a.bounds=ob,e.dirty(a),a.bounds=v,e.dirty(a)),a.mark.bounds.clear().union(v)}function ub(e,t,n,r,i,o,a,s){const l=t.bounds;if(t.auto){const s=a*(n+i+r);let u=0,c=0;e.dirty(t),o?u=(t.x||0)-(t.x=s):c=(t.y||0)-(t.y=s),t.mark.bounds.clear().union(l.translate(-u,-c)),e.dirty(t)}s.union(l)}const cb=(e,t)=>Math.floor(Math.min(e,t)),db=(e,t)=>Math.ceil(Math.max(e,t));function hb(e){return(new Gp).set(0,0,e.width||0,e.height||0)}function fb(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function pb(e,t,n){const r=H(e)?e[t]:e;return null!=r?r:void 0!==n?n:0}function mb(e){return e<0?Math.ceil(-e):0}function gb(e,t,n){var r,i,o,a,s,l,u,c,d,h,f,p=!n.nodirty,m=n.bounds===Wv?hb:fb,g=ob.set(0,0,0,0),y=pb(n.align,$v),v=pb(n.align,Uv),b=pb(n.padding,$v),w=pb(n.padding,Uv),_=n.columns||t.length,k=_<=0?1:Math.ceil(t.length/_),S=t.length,M=Array(S),x=Array(_),O=0,C=Array(S),T=Array(k),R=0,D=Array(S),E=Array(S),A=Array(S);for(i=0;i<_;++i)x[i]=0;for(i=0;i<k;++i)T[i]=0;for(i=0;i<S;++i)l=t[i],s=A[i]=m(l),l.x=l.x||0,D[i]=0,l.y=l.y||0,E[i]=0,o=i%_,a=~~(i/_),O=Math.max(O,u=Math.ceil(s.x2)),R=Math.max(R,c=Math.ceil(s.y2)),x[o]=Math.max(x[o],u),T[a]=Math.max(T[a],c),M[i]=b+mb(s.x1),C[i]=w+mb(s.y1),p&&e.dirty(t[i]);for(i=0;i<S;++i)i%_==0&&(M[i]=0),i<_&&(C[i]=0);if(y===Bv)for(o=1;o<_;++o){for(f=0,i=o;i<S;i+=_)f<M[i]&&(f=M[i]);for(i=o;i<S;i+=_)M[i]=f+x[o-1]}else if(y===zv){for(f=0,i=0;i<S;++i)i%_&&f<M[i]&&(f=M[i]);for(i=0;i<S;++i)i%_&&(M[i]=f+O)}else for(y=!1,o=1;o<_;++o)for(i=o;i<S;i+=_)M[i]+=x[o-1];if(v===Bv)for(a=1;a<k;++a){for(f=0,r=(i=a*_)+_;i<r;++i)f<C[i]&&(f=C[i]);for(i=a*_;i<r;++i)C[i]=f+T[a-1]}else if(v===zv){for(f=0,i=_;i<S;++i)f<C[i]&&(f=C[i]);for(i=_;i<S;++i)C[i]=f+R}else for(v=!1,a=1;a<k;++a)for(r=(i=a*_)+_;i<r;++i)C[i]+=T[a-1];for(d=0,i=0;i<S;++i)d=M[i]+(i%_?d:0),D[i]+=d-t[i].x;for(o=0;o<_;++o)for(h=0,i=o;i<S;i+=_)h+=C[i],E[i]+=h-t[i].y;if(y&&pb(n.center,$v)&&k>1)for(i=0;i<S;++i)(d=(s=y===zv?O:x[i%_])-A[i].x2-t[i].x-D[i])>0&&(D[i]+=d/2);if(v&&pb(n.center,Uv)&&1!==_)for(i=0;i<S;++i)(h=(s=v===zv?R:T[~~(i/_)])-A[i].y2-t[i].y-E[i])>0&&(E[i]+=h/2);for(i=0;i<S;++i)g.union(A[i].translate(D[i],E[i]));switch(d=pb(n.anchor,"x"),h=pb(n.anchor,"y"),pb(n.anchor,$v)){case Rv:d-=g.width();break;case Tv:d-=g.width()/2}switch(pb(n.anchor,Uv)){case Rv:h-=g.height();break;case Tv:h-=g.height()/2}for(d=Math.round(d),h=Math.round(h),g.clear(),i=0;i<S;++i)t[i].mark.bounds.clear();for(i=0;i<S;++i)(l=t[i]).x+=D[i]+=d,l.y+=E[i]+=h,g.union(l.mark.bounds.union(l.bounds.translate(D[i],E[i]))),p&&e.dirty(l);return g}function yb(e,t){return"x1"===t?e.x||0:"y1"===t?e.y||0:"x2"===t?(e.x||0)+(e.width||0):"y2"===t?(e.y||0)+(e.height||0):void 0}function vb(e,t){return e.bounds[t]}function bb(e,t,n,r,i,o,a,s,l,u,c,d,h,f){var p,m,g,y,v,b,w,_,k,S=n.length,M=0,x=0;if(!S)return M;for(p=c;p<S;p+=d)n[p]&&(M=a(M,l(n[p],u)));if(!t.length)return M;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),M+=o,m=0,y=t.length;m<y;++m)e.dirty(t[m]),t[m].mark.bounds.clear();for(p=c,m=0,y=t.length;m<y;++m,p+=d){for(v=(b=t[m]).mark.bounds,g=p;g>=0&&null==(w=n[g]);g-=h);s?(_=null==f?w.x:Math.round(w.bounds.x1+f*w.bounds.width()),k=M):(_=M,k=null==f?w.y:Math.round(w.bounds.y1+f*w.bounds.height())),v.union(b.bounds.translate(_-(b.x||0),k-(b.y||0))),b.x=_,b.y=k,e.dirty(b),x=a(x,v[u])}return x}function wb(e,t,n,r,i,o){if(t){e.dirty(t);var a=n,s=n;r?a=Math.round(i.x1+o*i.width()):s=Math.round(i.y1+o*i.height()),t.bounds.translate(a-(t.x||0),s-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=a,t.y=s,e.dirty(t)}}function _b(e,t,n,r,i,o,a){const s=function(e,t){const n=e[t]||{};return(t,r)=>null!=n[t]?n[t]:null!=e[t]?e[t]:r}(n,t),l=function(e,t){let n=-1/0;return e.forEach((e=>{null!=e.offset&&(n=Math.max(n,e.offset))})),n>-1/0?n:t}(e,s("offset",0)),u=s("anchor",Cv),c=u===Rv?1:u===Tv?.5:0,d={align:Bv,bounds:s("bounds",Wv),columns:"vertical"===s("direction")?1:e.length,padding:s("margin",8),center:s("center"),nodirty:!0};switch(t){case Mv:d.anchor={x:Math.floor(r.x1)-l,column:Rv,y:c*(a||r.height()+2*r.y1),row:u};break;case xv:d.anchor={x:Math.ceil(r.x2)+l,y:c*(a||r.height()+2*r.y1),row:u};break;case Sv:d.anchor={y:Math.floor(i.y1)-l,row:Rv,x:c*(o||i.width()+2*i.x1),column:u};break;case Ov:d.anchor={y:Math.ceil(i.y2)+l,x:c*(o||i.width()+2*i.x1),column:u};break;case"top-left":d.anchor={x:l,y:l};break;case"top-right":d.anchor={x:o-l,y:l,column:Rv};break;case"bottom-left":d.anchor={x:l,y:a-l,row:Rv};break;case"bottom-right":d.anchor={x:o-l,y:a-l,column:Rv,row:Rv}}return d}function kb(e,t){var n,r,i=t.items[0],o=i.datum,a=i.orient,s=i.bounds,l=i.x,u=i.y;return i._bounds?i._bounds.clear().union(s):i._bounds=s.clone(),s.clear(),function(e,t,n){var r=t.padding,i=r-n.x,o=r-n.y;if(t.datum.title){var a=t.items[1].items[0],s=a.anchor,l=t.titlePadding||0,u=r-a.x,c=r-a.y;switch(a.orient){case Mv:i+=Math.ceil(a.bounds.width())+l;break;case xv:case Ov:break;default:o+=a.bounds.height()+l}switch((i||o)&&Mb(e,n,i,o),a.orient){case Mv:c+=Sb(t,n,a,s,1,1);break;case xv:u+=Sb(t,n,a,Rv,0,0)+l,c+=Sb(t,n,a,s,1,1);break;case Ov:u+=Sb(t,n,a,s,0,0),c+=Sb(t,n,a,Rv,-1,0,1)+l;break;default:u+=Sb(t,n,a,s,0,0)}(u||c)&&Mb(e,a,u,c),(u=Math.round(a.bounds.x1-r))<0&&(Mb(e,n,-u,0),Mb(e,a,-u,0))}else(i||o)&&Mb(e,n,i,o)}(e,i,i.items[0].items[0]),s=function(e,t){return e.items.forEach((e=>t.union(e.bounds))),t.x1=e.padding,t.y1=e.padding,t}(i,s),n=2*i.padding,r=2*i.padding,s.empty()||(n=Math.ceil(s.width()+n),r=Math.ceil(s.height()+r)),"symbol"===o.type&&function(e){const t=e.reduce(((e,t)=>(e[t.column]=Math.max(t.bounds.x2-t.x,e[t.column]||0),e)),{});e.forEach((e=>{e.width=t[e.column],e.height=e.bounds.y2-e.y}))}(i.items[0].items[0].items[0].items),a!==Yv&&(i.x=l=0,i.y=u=0),i.width=n,i.height=r,em(s.set(l,u,l+n,u+r),i),i.mark.bounds.clear().union(s),i}function Sb(e,t,n,r,i,o,a){const s="symbol"!==e.datum.type,l=n.datum.vgrad,u=(!s||!o&&l||a?t:t.items[0]).bounds[i?"y2":"x2"]-e.padding,c=l&&o?u:0,d=l&&o?0:u,h=i<=0?0:Lg(n);return Math.round(r===Cv?c:r===Rv?d-h:.5*(u-h))}function Mb(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function xb(e){ta.call(this,null,e)}function Ob(e,t){let n=0;if(void 0===t)for(let t of e)(t=+t)&&(n+=t);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function Cb(e){ta.call(this,null,e)}function Tb(e){ta.call(this,null,e)}function Rb(){return xo({})}function Db(e){ta.call(this,null,e)}function Eb(e){ta.call(this,[],e)}ge(xb,ta,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach((t=>{e.layout&&function(e,t,n){var r,i,o,a,s,l,u,c=function(e){var t,n,r=e.items,i=r.length,o=0;const a={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;o<i;++o)if(n=(t=r[o]).items,t.marktype===Dv)switch(t.role){case Ev:case Lv:case Av:break;case jv:a.rowheaders.push(...n);break;case Pv:a.rowfooters.push(...n);break;case Hv:a.colheaders.push(...n);break;case Nv:a.colfooters.push(...n);break;case Iv:a.rowtitle=n[0];break;case Fv:a.coltitle=n[0];break;default:a.marks.push(...n)}return a}(t),d=c.marks,h=n.bounds===Wv?yb:vb,f=n.offset,p=n.columns||d.length,m=p<=0?1:Math.ceil(d.length/p),g=m*p;const y=gb(e,d,n);y.empty()&&y.set(0,0,0,0),c.rowheaders&&(l=pb(n.headerBand,Uv,null),r=bb(e,c.rowheaders,d,0,m,-pb(f,"rowHeader"),cb,0,h,"x1",0,p,1,l)),c.colheaders&&(l=pb(n.headerBand,$v,null),i=bb(e,c.colheaders,d,0,p,-pb(f,"columnHeader"),cb,1,h,"y1",0,1,p,l)),c.rowfooters&&(l=pb(n.footerBand,Uv,null),o=bb(e,c.rowfooters,d,0,m,pb(f,"rowFooter"),db,0,h,"x2",p-1,p,1,l)),c.colfooters&&(l=pb(n.footerBand,$v,null),a=bb(e,c.colfooters,d,0,p,pb(f,"columnFooter"),db,1,h,"y2",g-p,1,p,l)),c.rowtitle&&(s=pb(n.titleAnchor,Uv),u=pb(f,"rowTitle"),u=s===Rv?o+u:r-u,l=pb(n.titleBand,Uv,.5),wb(e,c.rowtitle,u,0,y,l)),c.coltitle&&(s=pb(n.titleAnchor,$v),u=pb(f,"columnTitle"),u=s===Rv?a+u:i-u,l=pb(n.titleBand,$v,.5),wb(e,c.coltitle,u,1,y,l))}(n,t,e.layout),function(e,t,n){var r,i,o,a,s,l=t.items,u=Math.max(0,t.width||0),c=Math.max(0,t.height||0),d=(new Gp).set(0,0,u,c),h=d.clone(),f=d.clone(),p=[];for(a=0,s=l.length;a<s;++a)switch((i=l[a]).role){case Ev:(sb(i)?h:f).union(lb(e,i,u,c));break;case Av:r=i;break;case Lv:p.push(kb(e,i));break;case"frame":case"scope":case jv:case Pv:case Iv:case Hv:case Nv:case Fv:h.union(i.bounds),f.union(i.bounds);break;default:d.union(i.bounds)}if(p.length){const t={};p.forEach((e=>{(o=e.orient||xv)!==Yv&&(t[o]||(t[o]=[])).push(e)}));for(const r in t){const i=t[r];gb(e,i,_b(i,r,n.legends,h,f,u,c))}p.forEach((t=>{const r=t.bounds;if(r.equals(t._bounds)||(t.bounds=t._bounds,e.dirty(t),t.bounds=r,e.dirty(t)),n.autosize&&"fit"===n.autosize.type)switch(t.orient){case Mv:case xv:d.add(r.x1,0).add(r.x2,0);break;case Sv:case Ov:d.add(0,r.y1).add(0,r.y2)}else d.union(r)}))}d.union(h).union(f),r&&d.union(function(e,t,n,r,i){var o,a=t.items[0],s=a.frame,l=a.orient,u=a.anchor,c=a.offset,d=a.padding,h=a.items[0].items[0],f=a.items[1]&&a.items[1].items[0],p=l===Mv||l===xv?r:n,m=0,g=0,y=0,v=0,b=0;if(s!==Dv?l===Mv?(m=i.y2,p=i.y1):l===xv?(m=i.y1,p=i.y2):(m=i.x1,p=i.x2):l===Mv&&(m=r,p=0),o=u===Cv?m:u===Rv?p:(m+p)/2,f&&f.text){switch(l){case Sv:case Ov:b=h.bounds.height()+d;break;case Mv:v=h.bounds.width()+d;break;case xv:v=-h.bounds.width()-d}ob.clear().union(f.bounds),ob.translate(v-(f.x||0),b-(f.y||0)),ab(f,"x",v)|ab(f,"y",b)&&(e.dirty(f),f.bounds.clear().union(ob),f.mark.bounds.clear().union(ob),e.dirty(f)),ob.clear().union(f.bounds)}else ob.clear();switch(ob.union(h.bounds),l){case Sv:g=o,y=i.y1-ob.height()-c;break;case Mv:g=i.x1-ob.width()-c,y=o;break;case xv:g=i.x2+ob.width()+c,y=o;break;case Ov:g=o,y=i.y2+c;break;default:g=a.x,y=a.y}return ab(a,"x",g)|ab(a,"y",y)&&(ob.translate(g,y),e.dirty(a),a.bounds.clear().union(ob),t.bounds.clear().union(ob),e.dirty(a)),a.bounds}(e,r,u,c,d)),t.clip&&d.set(0,0,t.width||0,t.height||0),function(e,t,n,r){const i=r.autosize||{},o=i.type;if(e._autosize<1||!o)return;let a=e._width,s=e._height,l=Math.max(0,t.width||0),u=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,t.height||0),d=Math.max(0,Math.ceil(-n.y1));const h=Math.max(0,Math.ceil(n.x2-l)),f=Math.max(0,Math.ceil(n.y2-c));if("padding"===i.contains){const t=e.padding();a-=t.left+t.right,s-=t.top+t.bottom}o===Yv?(u=0,d=0,l=a,c=s):"fit"===o?(l=Math.max(0,a-u-h),c=Math.max(0,s-d-f)):"fit-x"===o?(l=Math.max(0,a-u-h),s=c+d+f):"fit-y"===o?(a=l+u+h,c=Math.max(0,s-d-f)):"pad"===o&&(a=l+u+h,s=c+d+f),e._resizeView(a,s,l,c,[u,d],i.resize)}(e,t,d,n)}(n,t,e)})),function(e){return e&&"legend-entry"!==e.mark.role}(e.mark.group)?t.reflow():t}}),ge(Cb,ta,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.scale,a=Hf(o,null==e.count?e.values?e.values.length:10:e.count,e.minstep),s=e.format||Yf(n,o,a,e.formatSpecifier,e.formatType,!!e.values),l=e.values?Nf(o,e.values,a):Ff(o,a);return i&&(r.rem=i),i=l.map(((e,t)=>xo({index:t/(l.length-1||1),value:e,label:s(e)}))),e.extra&&i.length&&i.push(xo({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}}),ge(Tb,ta,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||Rb,o=e.key||So,a=this.value;return I(r.encode)&&(r.encode=null),a&&(e.modified("key")||t.modified(o))&&x("DataJoin does not support modified key function or fields."),a||(t=t.addAll(),this.value=a=function(e){const t=me().test((e=>e.exit));return t.lookup=n=>t.get(e(n)),t}(o)),t.visit(t.ADD,(e=>{const t=o(e);let n=a.get(t);n?n.exit?(a.empty--,r.add.push(n)):r.mod.push(n):(n=i(e),a.set(t,n),r.add.push(n)),n.datum=e,n.exit=!1})),t.visit(t.MOD,(e=>{const t=o(e),n=a.get(t);n&&(n.datum=e,r.mod.push(n))})),t.visit(t.REM,(e=>{const t=o(e),n=a.get(t);e!==n.datum||n.exit||(r.rem.push(n),n.exit=!0,++a.empty)})),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&a.empty>n.cleanThreshold)&&n.runAfter(a.clean),r}}),ge(Db,ta,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,o=t.encode;if(I(o)){if(!n.changed()&&!o.every((e=>i[e])))return t.StopPropagation;o=o[0],n.encode=null}var a="enter"===o,s=i.update||L,l=i.enter||L,u=i.exit||L,c=(o&&!a?i[o]:s)||L;if(t.changed(t.ADD)&&(t.visit(t.ADD,(t=>{l(t,e),s(t,e)})),n.modifies(l.output),n.modifies(s.output),c!==L&&c!==s&&(t.visit(t.ADD,(t=>{c(t,e)})),n.modifies(c.output))),t.changed(t.REM)&&u!==L&&(t.visit(t.REM,(t=>{u(t,e)})),n.modifies(u.output)),a||c!==L){const i=t.MOD|(e.modified()?t.REFLOW:0);a?(t.visit(i,(t=>{const i=l(t,e)||r;(c(t,e)||i)&&n.mod.push(t)})),n.mod.length&&n.modifies(l.output)):t.visit(i,(t=>{(c(t,e)||r)&&n.mod.push(t)})),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}}),ge(Eb,ta,{transform(e,t){if(null!=this.value&&!e.modified())return t.StopPropagation;var n,r,i,o,a,s=t.dataflow.locale(),l=t.fork(t.NO_SOURCE|t.NO_FIELDS),u=this.value,c=e.type||Lf,d=e.scale,h=+e.limit,f=Hf(d,null==e.count?5:e.count,e.minstep),p=!!e.values||c===Lf,m=e.format||Uf(s,d,f,c,e.formatSpecifier,e.formatType,p),g=e.values||$f(d,f);return u&&(l.rem=u),c===Lf?(h&&g.length>h?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),u=g.slice(0,h-1),a=!0):u=g,ne(i=e.size)?(e.values||0!==d(u[0])||(u=u.slice(1)),o=u.reduce(((t,n)=>Math.max(t,i(n,e))),0)):i=le(o=i||8),u=u.map(((t,n)=>xo({index:n,label:m(t,n,u),value:t,offset:o,size:i(t,e)}))),a&&(a=g[u.length],u.push(xo({index:u.length,label:"…".concat(g.length-u.length," entries"),value:a,offset:o,size:i(a,e)})))):"gradient"===c?(n=d.domain(),r=Cf(d,n[0],B(n)),g.length<3&&!e.values&&n[0]!==B(n)&&(g=[n[0],B(n)]),u=g.map(((e,t)=>xo({index:t,label:m(e,t,g),value:e,perc:r(e)})))):(i=g.length-1,r=function(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+B(t),o=i-r;if(e.type===Jh){const e=n?o/n:.1;r-=e,i+=e,o=i-r}return e=>(e-r)/o}(d),u=g.map(((e,t)=>xo({index:t,label:m(e,t,g),value:e,perc:t?r(e):0,perc2:t===i?1:r(g[t+1])})))),l.source=u,l.add=u,this.value=u,l}});const Ab=e=>e.source.x,Lb=e=>e.source.y,jb=e=>e.target.x,Pb=e=>e.target.y;function Ib(e){ta.call(this,{},e)}Ib.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},ge(Ib,ta,{transform(e,t){var n=e.sourceX||Ab,r=e.sourceY||Lb,i=e.targetX||jb,o=e.targetY||Pb,a=e.as||"path",s=e.orient||"vertical",l=e.shape||"line",u=Yb.get(l+"-"+s)||Yb.get(l);return u||x("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,(e=>{e[a]=u(n(e),r(e),i(e),o(e))})),t.reflow(e.modified()).modifies(a)}});const Hb=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,Nb=(e,t,n,r)=>{var i=n-e,o=r-t,a=Math.sqrt(i*i+o*o)/2;return"M"+e+","+t+"A"+a+","+a+" "+180*Math.atan2(o,i)/Math.PI+" 0 1 "+n+","+r},Fb=(e,t,n,r)=>{const i=n-e,o=r-t,a=.2*(i+o),s=.2*(o-i);return"M"+e+","+t+"C"+(e+a)+","+(t+s)+" "+(n+s)+","+(r-a)+" "+n+","+r},Yb=me({line:Hb,"line-radial":(e,t,n,r)=>Hb(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),arc:Nb,"arc-radial":(e,t,n,r)=>Nb(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),curve:Fb,"curve-radial":(e,t,n,r)=>Fb(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),"orthogonal-horizontal":(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,"orthogonal-vertical":(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,"orthogonal-radial":(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),a=Math.cos(n),s=Math.sin(n);return"M"+t*i+","+t*o+"A"+t+","+t+" 0 0,"+((Math.abs(n-e)>Math.PI?n<=e:n>e)?1:0)+" "+t*a+","+t*s+"L"+r*a+","+r*s},"diagonal-horizontal":(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},"diagonal-vertical":(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},"diagonal-radial":(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),a=Math.cos(n),s=Math.sin(n),l=(t+r)/2;return"M"+t*i+","+t*o+"C"+l*i+","+l*o+" "+l*a+","+l*s+" "+r*a+","+r*s}});function zb(e){ta.call(this,null,e)}function Bb(e){return bf(e)&&e!==Gh}zb.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},ge(zb,ta,{transform(e,t){var n,r,i,o=e.as||["startAngle","endAngle"],a=o[0],s=o[1],l=e.field||E,u=e.startAngle||0,c=null!=e.endAngle?e.endAngle:2*Math.PI,d=t.source,h=d.map(l),f=h.length,p=u,m=(c-u)/Ob(h),g=Ga(f);for(e.sort&&g.sort(((e,t)=>h[e]-h[t])),n=0;n<f;++n)i=h[g[n]],(r=d[g[n]])[a]=p,r[s]=p+=i*m;return this.value=h,t.reflow(e.modified()).modifies(o)}});const Wb=De(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function $b(e){ta.call(this,null,e),this.modified(!0)}function Ub(e,t,n){kf(e)&&(Math.abs(t.reduce(((e,t)=>e+(t<0?-1:t>0?1:0)),0))!==t.length&&n.warn("Log scale domain includes zero: "+xe(t)));return t}function Vb(e,t,n){return ne(e)&&(t||n)?function(e,t){const n=t[0],r=B(t)-n;return function(t){return e(n+t*r)}}(e,qb(t||[0,1],n)):e}function qb(e,t){return t?e.slice().reverse():e}function Gb(e){ta.call(this,null,e)}ge($b,ta,{transform(e,t){var n=t.dataflow,r=this.value,i=function(e){var t,n=e.type,r="";return n===Gh?"sequential-linear":(function(e){const t=e.type;return bf(t)&&t!==Vh&&t!==qh&&(e.scheme||e.range&&e.range.length&&e.range.every(_e))}(e)&&(r=2===(t=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(null!=e.domainMid):0)?"sequential-":3===t?"diverging-":""),(r+n||zh).toLowerCase())}(e);for(i in r&&i===r.type||(this.value=r=gf(i)()),e)if(!Wb[i]){if("padding"===i&&Bb(r.type))continue;ne(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return function(e,t,n){var r=e.type,i=t.round||!1,o=t.range;if(null!=t.rangeStep)o=function(e,t,n){e!==tf&&e!==ef&&x("Only band and point scales support rangeStep.");var r=(null!=t.paddingOuter?t.paddingOuter:t.padding)||0,i=e===ef?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0;return[0,t.rangeStep*Yh(n,i,r)]}(r,t,n);else if(t.scheme&&(o=function(e,t,n){var r,i=t.schemeExtent;return I(t.scheme)?r=Of(t.scheme,t.interpolate,t.interpolateGamma):(r=Af(t.scheme.toLowerCase()))||x("Unrecognized scheme name: ".concat(t.scheme)),n=e===Jh?n+1:e===nf?n-1:e===Zh||e===Xh?+t.schemeCount||5:n,Sf(e)?Vb(r,i,t.reverse):ne(r)?function(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}(Vb(r,i),n):e===Qh?r:r.slice(0,n)}(r,t,n),ne(o))){if(e.interpolator)return e.interpolator(o);x("Scale type ".concat(r," does not support interpolating color schemes."))}if(o&&Sf(r))return e.interpolator(Of(qb(o,t.reverse),t.interpolate,t.interpolateGamma));o&&t.interpolate&&e.interpolate?e.interpolate(Tf(t.interpolate,t.interpolateGamma)):ne(e.round)?e.round(i):ne(e.rangeRound)&&e.interpolate(i?$c:Wc),o&&e.range(qb(o,t.reverse))}(r,e,function(e,t,n){let r=t.bins;if(r&&!I(r)){const t=e.domain(),n=t[0],i=B(t),o=r.step;let a=null==r.start?n:r.start,s=null==r.stop?i:r.stop;o||x("Scale bins parameter missing step property."),a<n&&(a=o*Math.ceil(n/o)),s>i&&(s=o*Math.floor(i/o)),r=Ga(a,s+o/2,o)}return r?e.bins=r:e.bins&&delete e.bins,e.type===nf&&(r?t.domain||t.domainRaw||(e.domain(r),n=r.length):e.bins=e.domain()),n}(r,e,function(e,t,n){const r=function(e,t,n){return t?(e.domain(Ub(e.type,t,n)),t.length):-1}(e,t.domainRaw,n);if(r>-1)return r;var i,o,a=t.domain,s=e.type,l=t.zero||void 0===t.zero&&function(e){const t=e.type;return!e.bins&&(t===zh||t===Wh||t===$h)}(e);if(!a)return 0;if(Bb(s)&&t.padding&&a[0]!==B(a)&&(a=function(e,t,n,r,i,o){var a=Math.abs(B(n)-n[0]),s=a/(a-2*r),l=e===Bh?J(t,null,s):e===$h?Q(t,null,s,.5):e===Wh?Q(t,null,s,i||1):e===Uh?ee(t,null,s,o||1):X(t,null,s);return(t=t.slice())[0]=l[0],t[t.length-1]=l[1],t}(s,a,t.range,t.padding,t.exponent,t.constant)),(l||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(i=(a=a.slice()).length-1||1,l&&(a[0]>0&&(a[0]=0),a[i]<0&&(a[i]=0)),null!=t.domainMin&&(a[0]=t.domainMin),null!=t.domainMax&&(a[i]=t.domainMax),null!=t.domainMid)){const e=(o=t.domainMid)>a[i]?i+1:o<a[0]?0:i;e!==i&&n.warn("Scale domainMid exceeds domain min or max.",o),a.splice(e,0,o)}return e.domain(Ub(s,a,n)),s===Qh&&e.unknown(t.domainImplicit?zd:void 0),t.nice&&e.nice&&e.nice(!0!==t.nice&&Hf(e,t.nice)||null),a.length}(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),ge(Gb,ta,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(Ro(e.sort)),this.modified(n),t}});const Kb="zero",Zb="center",Xb="normalize",Jb=["y0","y1"];function Qb(e){ta.call(this,null,e)}function ew(e,t,n,r,i){for(var o,a=(t-e.sum)/2,s=e.length,l=0;l<s;++l)(o=e[l])[r]=a,o[i]=a+=Math.abs(n(o))}function tw(e,t,n,r,i){for(var o,a=1/e.sum,s=0,l=e.length,u=0,c=0;u<l;++u)(o=e[u])[r]=s,o[i]=s=a*(c+=Math.abs(n(o)))}function nw(e,t,n,r,i){for(var o,a,s=0,l=0,u=e.length,c=0;c<u;++c)(o=+n(a=e[c]))<0?(a[r]=l,a[i]=l+=o):(a[r]=s,a[i]=s+=o)}Qb.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:Kb,values:[Kb,Zb,Xb]},{name:"as",type:"string",array:!0,length:2,default:Jb}]},ge(Qb,ta,{transform(e,t){var n,r,i,o,a=e.as||Jb,s=a[0],l=a[1],u=Ro(e.sort),c=e.field||E,d=e.offset===Zb?ew:e.offset===Xb?tw:nw;for(n=function(e,t,n,r){var i,o,a,s,l,u,c,d,h,f=[],p=e=>e(l);if(null==t)f.push(e.slice());else for(i={},o=0,a=e.length;o<a;++o)l=e[o],(c=i[u=t.map(p)])||(i[u]=c=[],f.push(c)),c.push(l);for(u=0,h=0,s=f.length;u<s;++u){for(o=0,d=0,a=(c=f[u]).length;o<a;++o)d+=Math.abs(r(c[o]));c.sum=d,d>h&&(h=d),n&&c.sort(n)}return f.max=h,f}(t.source,e.groupby,u,c),r=0,i=n.length,o=n.max;r<i;++r)d(n[r],o,c,s,l);return t.reflow(e.modified()).modifies(a)}});const rw=e=>e;function iw(e,t){e&&aw.hasOwnProperty(e.type)&&aw[e.type](e,t)}var ow={Feature:function(e,t){iw(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)iw(n[r].geometry,t)}},aw={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){sw(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)sw(n[r],t,0)},Polygon:function(e,t){lw(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)lw(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)iw(n[r],t)}};function sw(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function lw(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)sw(e[n],t,1);t.polygonEnd()}function uw(e,t){e&&ow.hasOwnProperty(e.type)?ow[e.type](e,t):iw(e,t)}class cw{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const i=t[r],o=e+i,a=Math.abs(e)<Math.abs(i)?e-(o-i):i-(o-e);a&&(t[n++]=a),e=o}return t[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let t,n,r,i=this._n,o=0;if(i>0){for(o=e[--i];i>0&&(t=o,n=e[--i],o=t+n,r=n-(o-t),!r););i>0&&(r<0&&e[i-1]<0||r>0&&e[i-1]>0)&&(n=2*r,t=o+n,n==t-o&&(o=t))}return o}}var dw=1e-6,hw=1e-12,fw=Math.PI,pw=fw/2,mw=fw/4,gw=2*fw,yw=180/fw,vw=fw/180,bw=Math.abs,ww=Math.atan,_w=Math.atan2,kw=Math.cos,Sw=Math.ceil,Mw=Math.exp,xw=(Math.floor,Math.hypot),Ow=Math.log,Cw=Math.pow,Tw=Math.sin,Rw=Math.sign||function(e){return e>0?1:e<0?-1:0},Dw=Math.sqrt,Ew=Math.tan;function Aw(e){return e>1?0:e<-1?fw:Math.acos(e)}function Lw(e){return e>1?pw:e<-1?-pw:Math.asin(e)}function jw(){}var Pw,Iw,Hw,Nw,Fw=new cw,Yw=new cw,zw={point:jw,lineStart:jw,lineEnd:jw,polygonStart:function(){zw.lineStart=Bw,zw.lineEnd=Uw},polygonEnd:function(){zw.lineStart=zw.lineEnd=zw.point=jw,Fw.add(bw(Yw)),Yw=new cw},result:function(){var e=Fw/2;return Fw=new cw,e}};function Bw(){zw.point=Ww}function Ww(e,t){zw.point=$w,Pw=Hw=e,Iw=Nw=t}function $w(e,t){Yw.add(Nw*e-Hw*t),Hw=e,Nw=t}function Uw(){$w(Pw,Iw)}const Vw=zw;var qw=1/0,Gw=qw,Kw=-qw,Zw=Kw,Xw={point:function(e,t){e<qw&&(qw=e),e>Kw&&(Kw=e),t<Gw&&(Gw=t),t>Zw&&(Zw=t)},lineStart:jw,lineEnd:jw,polygonStart:jw,polygonEnd:jw,result:function(){var e=[[qw,Gw],[Kw,Zw]];return Kw=Zw=-(Gw=qw=1/0),e}};const Jw=Xw;var Qw,e_,t_,n_,r_=0,i_=0,o_=0,a_=0,s_=0,l_=0,u_=0,c_=0,d_=0,h_={point:f_,lineStart:p_,lineEnd:y_,polygonStart:function(){h_.lineStart=v_,h_.lineEnd=b_},polygonEnd:function(){h_.point=f_,h_.lineStart=p_,h_.lineEnd=y_},result:function(){var e=d_?[u_/d_,c_/d_]:l_?[a_/l_,s_/l_]:o_?[r_/o_,i_/o_]:[NaN,NaN];return r_=i_=o_=a_=s_=l_=u_=c_=d_=0,e}};function f_(e,t){r_+=e,i_+=t,++o_}function p_(){h_.point=m_}function m_(e,t){h_.point=g_,f_(t_=e,n_=t)}function g_(e,t){var n=e-t_,r=t-n_,i=Dw(n*n+r*r);a_+=i*(t_+e)/2,s_+=i*(n_+t)/2,l_+=i,f_(t_=e,n_=t)}function y_(){h_.point=f_}function v_(){h_.point=w_}function b_(){__(Qw,e_)}function w_(e,t){h_.point=__,f_(Qw=t_=e,e_=n_=t)}function __(e,t){var n=e-t_,r=t-n_,i=Dw(n*n+r*r);a_+=i*(t_+e)/2,s_+=i*(n_+t)/2,l_+=i,u_+=(i=n_*e-t_*t)*(t_+e),c_+=i*(n_+t),d_+=3*i,f_(t_=e,n_=t)}const k_=h_;function S_(e){this._context=e}S_.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,gw)}},result:jw};var M_,x_,O_,C_,T_,R_=new cw,D_={point:jw,lineStart:function(){D_.point=E_},lineEnd:function(){M_&&A_(x_,O_),D_.point=jw},polygonStart:function(){M_=!0},polygonEnd:function(){M_=null},result:function(){var e=+R_;return R_=new cw,e}};function E_(e,t){D_.point=A_,x_=C_=e,O_=T_=t}function A_(e,t){C_-=e,T_-=t,R_.add(Dw(C_*C_+T_*T_)),C_=e,T_=t}const L_=D_;function j_(){this._string=[]}function P_(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function I_(e,t){var n,r,i=4.5;function o(e){return e&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),uw(e,n(r))),r.result()}return o.area=function(e){return uw(e,n(Vw)),Vw.result()},o.measure=function(e){return uw(e,n(L_)),L_.result()},o.bounds=function(e){return uw(e,n(Jw)),Jw.result()},o.centroid=function(e){return uw(e,n(k_)),k_.result()},o.projection=function(t){return arguments.length?(n=null==t?(e=null,rw):(e=t).stream,o):e},o.context=function(e){return arguments.length?(r=null==e?(t=null,new j_):new S_(t=e),"function"!=typeof i&&r.pointRadius(i),o):t},o.pointRadius=function(e){return arguments.length?(i="function"==typeof e?e:(r.pointRadius(+e),+e),o):i},o.projection(e).context(t)}function H_(){var e,t=[];return{point:function(t,n,r){e.push([t,n,r])},lineStart:function(){t.push(e=[])},lineEnd:jw,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function N_(e,t){return bw(e[0]-t[0])<dw&&bw(e[1]-t[1])<dw}function F_(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Y_(e,t,n,r,i){var o,a,s=[],l=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],a=e[t];if(N_(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<t;++o)i.point((r=e[o])[0],r[1]);return void i.lineEnd()}a[0]+=2e-6}s.push(n=new F_(r,e,null,!0)),l.push(n.o=new F_(r,null,n,!1)),s.push(n=new F_(a,e,null,!1)),l.push(n.o=new F_(a,null,n,!0))}})),s.length){for(l.sort(t),z_(s),z_(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;for(var u,c,d=s[0];;){for(var h=d,f=!0;h.v;)if((h=h.n)===d)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(f)for(o=0,a=u.length;o<a;++o)i.point((c=u[o])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(f)for(u=h.p.z,o=u.length-1;o>=0;--o)i.point((c=u[o])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}u=(h=h.o).z,f=!f}while(!h.v);i.lineEnd()}}}function z_(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function B_(e){return[_w(e[1],e[0]),Lw(e[2])]}function W_(e){var t=e[0],n=e[1],r=kw(n);return[r*kw(t),r*Tw(t),Tw(n)]}function $_(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function U_(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function V_(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function q_(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function G_(e){var t=Dw(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function K_(e){return bw(e[0])<=fw?e[0]:Rw(e[0])*((bw(e[0])+fw)%gw-fw)}function Z_(e){return Array.from(function*(e){for(const t of e)yield*t}(e))}function X_(e,t,n,r){return function(i){var o,a,s,l=t(i),u=H_(),c=t(u),d=!1,h={point:f,lineStart:m,lineEnd:g,polygonStart:function(){h.point=y,h.lineStart=v,h.lineEnd=b,a=[],o=[]},polygonEnd:function(){h.point=f,h.lineStart=m,h.lineEnd=g,a=Z_(a);var e=function(e,t){var n=K_(t),r=t[1],i=Tw(r),o=[Tw(n),-kw(n),0],a=0,s=0,l=new cw;1===i?r=pw+dw:-1===i&&(r=-pw-dw);for(var u=0,c=e.length;u<c;++u)if(h=(d=e[u]).length)for(var d,h,f=d[h-1],p=K_(f),m=f[1]/2+mw,g=Tw(m),y=kw(m),v=0;v<h;++v,p=w,g=k,y=S,f=b){var b=d[v],w=K_(b),_=b[1]/2+mw,k=Tw(_),S=kw(_),M=w-p,x=M>=0?1:-1,O=x*M,C=O>fw,T=g*k;if(l.add(_w(T*x*Tw(O),y*S+T*kw(O))),a+=C?M+x*gw:M,C^p>=n^w>=n){var R=U_(W_(f),W_(b));G_(R);var D=U_(o,R);G_(D);var E=(C^M>=0?-1:1)*Lw(D[2]);(r>E||r===E&&(R[0]||R[1]))&&(s+=C^M>=0?1:-1)}}return(a<-1e-6||a<dw&&l<-1e-12)^1&s}(o,r);a.length?(d||(i.polygonStart(),d=!0),Y_(a,Q_,e,n,i)):e&&(d||(i.polygonStart(),d=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),d&&(i.polygonEnd(),d=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function f(t,n){e(t,n)&&i.point(t,n)}function p(e,t){l.point(e,t)}function m(){h.point=p,l.lineStart()}function g(){h.point=f,l.lineEnd()}function y(e,t){s.push([e,t]),c.point(e,t)}function v(){c.lineStart(),s=[]}function b(){y(s[0][0],s[0][1]),c.lineEnd();var e,t,n,r,l=c.clean(),h=u.result(),f=h.length;if(s.pop(),o.push(s),s=null,f)if(1&l){if((t=(n=h[0]).length-1)>0){for(d||(i.polygonStart(),d=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}}else f>1&&2&l&&h.push(h.pop().concat(h.shift())),a.push(h.filter(J_))}return h}}function J_(e){return e.length>1}function Q_(e,t){return((e=e.x)[0]<0?e[1]-pw-dw:pw-e[1])-((t=t.x)[0]<0?t[1]-pw-dw:pw-t[1])}j_.prototype={_radius:4.5,_circle:P_(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=P_(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};const ek=X_((function(){return!0}),(function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?fw:-fw,l=bw(o-n);bw(l-fw)<dw?(e.point(n,r=(r+a)/2>0?pw:-pw),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(o,r),t=0):i!==s&&l>=fw&&(bw(n-i)<dw&&(n-=i*dw),bw(o-s)<dw&&(o-=s*dw),r=function(e,t,n,r){var i,o,a=Tw(e-n);return bw(a)>dw?ww((Tw(t)*(o=kw(r))*Tw(n)-Tw(r)*(i=kw(t))*Tw(e))/(i*o*a)):(t+r)/2}(n,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=o,r=a),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var i;if(null==e)i=n*pw,r.point(-fw,i),r.point(0,i),r.point(fw,i),r.point(fw,0),r.point(fw,-i),r.point(0,-i),r.point(-fw,-i),r.point(-fw,0),r.point(-fw,i);else if(bw(e[0]-t[0])>dw){var o=e[0]<t[0]?fw:-fw;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}),[-fw,-pw]);function tk(e,t){(t=W_(t))[0]-=e,G_(t);var n=Aw(-t[1]);return((-t[2]<0?-n:n)+gw-dw)%gw}function nk(e){var t=kw(e),n=6*vw,r=t>0,i=bw(t)>dw;function o(e,n){return kw(e)*kw(n)>t}function a(e,n,r){var i=[1,0,0],o=U_(W_(e),W_(n)),a=$_(o,o),s=o[0],l=a-s*s;if(!l)return!r&&e;var u=t*a/l,c=-t*s/l,d=U_(i,o),h=q_(i,u);V_(h,q_(o,c));var f=d,p=$_(h,f),m=$_(f,f),g=p*p-m*($_(h,h)-1);if(!(g<0)){var y=Dw(g),v=q_(f,(-p-y)/m);if(V_(v,h),v=B_(v),!r)return v;var b,w=e[0],_=n[0],k=e[1],S=n[1];_<w&&(b=w,w=_,_=b);var M=_-w,x=bw(M-fw)<dw;if(!x&&S<k&&(b=k,k=S,S=b),x||M<dw?x?k+S>0^v[1]<(bw(v[0]-w)<dw?k:S):k<=v[1]&&v[1]<=S:M>fw^(w<=v[0]&&v[0]<=_)){var O=q_(f,(-p+y)/m);return V_(O,h),[v,B_(O)]}}}function s(t,n){var i=r?e:fw-e,o=0;return t<-i?o|=1:t>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return X_(o,(function(e){var t,n,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(d,h){var f,p=[d,h],m=o(d,h),g=r?m?0:s(d,h):m?s(d+(d<0?fw:-fw),h):0;if(!t&&(u=l=m)&&e.lineStart(),m!==l&&(!(f=a(t,p))||N_(t,f)||N_(p,f))&&(p[2]=1),m!==l)c=0,m?(e.lineStart(),f=a(p,t),e.point(f[0],f[1])):(f=a(t,p),e.point(f[0],f[1],2),e.lineEnd()),t=f;else if(i&&t&&r^m){var y;g&n||!(y=a(p,t,!0))||(c=0,r?(e.lineStart(),e.point(y[0][0],y[0][1]),e.point(y[1][0],y[1][1]),e.lineEnd()):(e.point(y[1][0],y[1][1]),e.lineEnd(),e.lineStart(),e.point(y[0][0],y[0][1],3)))}!m||t&&N_(t,p)||e.point(p[0],p[1]),t=p,l=m,n=g},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return c|(u&&l)<<1}}}),(function(t,r,i,o){!function(e,t,n,r,i,o){if(n){var a=kw(t),s=Tw(t),l=r*n;null==i?(i=t+r*gw,o=t-l/2):(i=tk(a,i),o=tk(a,o),(r>0?i<o:i>o)&&(i+=r*gw));for(var u,c=i;r>0?c>o:c<o;c-=l)u=B_([a,-s*kw(c),-s*Tw(c)]),e.point(u[0],u[1])}}(o,e,n,i,t,r)}),r?[0,-e]:[-fw,e-fw])}var rk=1e9,ik=-rk;function ok(e,t,n,r){function i(i,o){return e<=i&&i<=n&&t<=o&&o<=r}function o(i,o,s,u){var c=0,d=0;if(null==i||(c=a(i,s))!==(d=a(o,s))||l(i,o)<0^s>0)do{u.point(0===c||3===c?e:n,c>1?r:t)}while((c=(c+s+4)%4)!==d);else u.point(o[0],o[1])}function a(r,i){return bw(r[0]-e)<dw?i>0?0:3:bw(r[0]-n)<dw?i>0?2:1:bw(r[1]-t)<dw?i>0?1:0:i>0?3:2}function s(e,t){return l(e.x,t.x)}function l(e,t){var n=a(e,1),r=a(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){var l,u,c,d,h,f,p,m,g,y,v,b=a,w=H_(),_={point:k,lineStart:function(){_.point=S,u&&u.push(c=[]),y=!0,g=!1,p=m=NaN},lineEnd:function(){l&&(S(d,h),f&&g&&w.rejoin(),l.push(w.result())),_.point=k,g&&b.lineEnd()},polygonStart:function(){b=w,l=[],u=[],v=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=u.length;n<i;++n)for(var o,a,s=u[n],l=1,c=s.length,d=s[0],h=d[0],f=d[1];l<c;++l)o=h,a=f,h=(d=s[l])[0],f=d[1],a<=r?f>r&&(h-o)*(r-a)>(f-a)*(e-o)&&++t:f<=r&&(h-o)*(r-a)<(f-a)*(e-o)&&--t;return t}(),n=v&&t,i=(l=Z_(l)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&Y_(l,s,t,o,a),a.polygonEnd()),b=a,l=u=c=null}};function k(e,t){i(e,t)&&b.point(e,t)}function S(o,a){var s=i(o,a);if(u&&c.push([o,a]),y)d=o,h=a,f=s,y=!1,s&&(b.lineStart(),b.point(o,a));else if(s&&g)b.point(o,a);else{var l=[p=Math.max(ik,Math.min(rk,p)),m=Math.max(ik,Math.min(rk,m))],w=[o=Math.max(ik,Math.min(rk,o)),a=Math.max(ik,Math.min(rk,a))];!function(e,t,n,r,i,o){var a,s=e[0],l=e[1],u=0,c=1,d=t[0]-s,h=t[1]-l;if(a=n-s,d||!(a>0)){if(a/=d,d<0){if(a<u)return;a<c&&(c=a)}else if(d>0){if(a>c)return;a>u&&(u=a)}if(a=i-s,d||!(a<0)){if(a/=d,d<0){if(a>c)return;a>u&&(u=a)}else if(d>0){if(a<u)return;a<c&&(c=a)}if(a=r-l,h||!(a>0)){if(a/=h,h<0){if(a<u)return;a<c&&(c=a)}else if(h>0){if(a>c)return;a>u&&(u=a)}if(a=o-l,h||!(a<0)){if(a/=h,h<0){if(a>c)return;a>u&&(u=a)}else if(h>0){if(a<u)return;a<c&&(c=a)}return u>0&&(e[0]=s+u*d,e[1]=l+u*h),c<1&&(t[0]=s+c*d,t[1]=l+c*h),!0}}}}}(l,w,e,t,n,r)?s&&(b.lineStart(),b.point(o,a),v=!1):(g||(b.lineStart(),b.point(l[0],l[1])),b.point(w[0],w[1]),s||b.lineEnd(),v=!1)}p=o,m=a,g=s}return _}}function ak(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function sk(e,t){return[bw(e)>fw?e+Math.round(-e/gw)*gw:e,t]}function lk(e,t,n){return(e%=gw)?t||n?ak(ck(e),dk(t,n)):ck(e):t||n?dk(t,n):sk}function uk(e){return function(t,n){return[(t+=e)>fw?t-gw:t<-fw?t+gw:t,n]}}function ck(e){var t=uk(e);return t.invert=uk(-e),t}function dk(e,t){var n=kw(e),r=Tw(e),i=kw(t),o=Tw(t);function a(e,t){var a=kw(t),s=kw(e)*a,l=Tw(e)*a,u=Tw(t),c=u*n+s*r;return[_w(l*i-c*o,s*n-u*r),Lw(c*i+l*o)]}return a.invert=function(e,t){var a=kw(t),s=kw(e)*a,l=Tw(e)*a,u=Tw(t),c=u*i-l*o;return[_w(l*i+u*o,s*n+c*r),Lw(c*n-s*r)]},a}function hk(e){return function(t){var n=new fk;for(var r in e)n[r]=e[r];return n.stream=t,n}}function fk(){}function pk(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),uw(n,e.stream(Jw)),t(Jw.result()),null!=r&&e.clipExtent(r),e}function mk(e,t,n){return pk(e,(function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+t[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+t[0][1]+(i-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([a,s])}),n)}function gk(e,t,n){return mk(e,[[0,0],t],n)}function yk(e,t,n){return pk(e,(function(n){var r=+t,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];e.scale(150*i).translate([o,a])}),n)}function vk(e,t,n){return pk(e,(function(n){var r=+t,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([o,a])}),n)}sk.invert=sk,fk.prototype={constructor:fk,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var bk=kw(30*vw);function wk(e,t){return+t?function(e,t){function n(r,i,o,a,s,l,u,c,d,h,f,p,m,g){var y=u-r,v=c-i,b=y*y+v*v;if(b>4*t&&m--){var w=a+h,_=s+f,k=l+p,S=Dw(w*w+_*_+k*k),M=Lw(k/=S),x=bw(bw(k)-1)<dw||bw(o-d)<dw?(o+d)/2:_w(_,w),O=e(x,M),C=O[0],T=O[1],R=C-r,D=T-i,E=v*R-y*D;(E*E/b>t||bw((y*R+v*D)/b-.5)>.3||a*h+s*f+l*p<bk)&&(n(r,i,o,a,s,l,C,T,x,w/=S,_/=S,k,m,g),g.point(C,T),n(C,T,x,w,_,k,u,c,d,h,f,p,m,g))}}return function(t){var r,i,o,a,s,l,u,c,d,h,f,p,m={point:g,lineStart:y,lineEnd:b,polygonStart:function(){t.polygonStart(),m.lineStart=w},polygonEnd:function(){t.polygonEnd(),m.lineStart=y}};function g(n,r){n=e(n,r),t.point(n[0],n[1])}function y(){c=NaN,m.point=v,t.lineStart()}function v(r,i){var o=W_([r,i]),a=e(r,i);n(c,d,u,h,f,p,c=a[0],d=a[1],u=r,h=o[0],f=o[1],p=o[2],16,t),t.point(c,d)}function b(){m.point=g,t.lineEnd()}function w(){y(),m.point=_,m.lineEnd=k}function _(e,t){v(r=e,t),i=c,o=d,a=h,s=f,l=p,m.point=v}function k(){n(c,d,u,h,f,p,i,o,r,a,s,l,16,t),m.lineEnd=b,b()}return m}}(e,t):function(e){return hk({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var _k=hk({point:function(e,t){this.stream.point(e*vw,t*vw)}});function kk(e,t,n,r,i,o){if(!o)return function(e,t,n,r,i){function o(o,a){return[t+e*(o*=r),n-e*(a*=i)]}return o.invert=function(o,a){return[(o-t)/e*r,(n-a)/e*i]},o}(e,t,n,r,i);var a=kw(o),s=Tw(o),l=a*e,u=s*e,c=a/e,d=s/e,h=(s*n-a*t)/e,f=(s*t+a*n)/e;function p(e,o){return[l*(e*=r)-u*(o*=i)+t,n-u*e-l*o]}return p.invert=function(e,t){return[r*(c*e-d*t+h),i*(f-d*e-c*t)]},p}function Sk(e){return Mk((function(){return e}))()}function Mk(e){var t,n,r,i,o,a,s,l,u,c,d=150,h=480,f=250,p=0,m=0,g=0,y=0,v=0,b=0,w=1,_=1,k=null,S=ek,M=null,x=rw,O=.5;function C(e){return l(e[0]*vw,e[1]*vw)}function T(e){return(e=l.invert(e[0],e[1]))&&[e[0]*yw,e[1]*yw]}function R(){var e=kk(d,0,0,w,_,b).apply(null,t(p,m)),r=kk(d,h-e[0],f-e[1],w,_,b);return n=lk(g,y,v),s=ak(t,r),l=ak(n,s),a=wk(s,O),D()}function D(){return u=c=null,C}return C.stream=function(e){return u&&c===e?u:u=_k(function(e){return hk({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(n)(S(a(x(c=e)))))},C.preclip=function(e){return arguments.length?(S=e,k=void 0,D()):S},C.postclip=function(e){return arguments.length?(x=e,M=r=i=o=null,D()):x},C.clipAngle=function(e){return arguments.length?(S=+e?nk(k=e*vw):(k=null,ek),D()):k*yw},C.clipExtent=function(e){return arguments.length?(x=null==e?(M=r=i=o=null,rw):ok(M=+e[0][0],r=+e[0][1],i=+e[1][0],o=+e[1][1]),D()):null==M?null:[[M,r],[i,o]]},C.scale=function(e){return arguments.length?(d=+e,R()):d},C.translate=function(e){return arguments.length?(h=+e[0],f=+e[1],R()):[h,f]},C.center=function(e){return arguments.length?(p=e[0]%360*vw,m=e[1]%360*vw,R()):[p*yw,m*yw]},C.rotate=function(e){return arguments.length?(g=e[0]%360*vw,y=e[1]%360*vw,v=e.length>2?e[2]%360*vw:0,R()):[g*yw,y*yw,v*yw]},C.angle=function(e){return arguments.length?(b=e%360*vw,R()):b*yw},C.reflectX=function(e){return arguments.length?(w=e?-1:1,R()):w<0},C.reflectY=function(e){return arguments.length?(_=e?-1:1,R()):_<0},C.precision=function(e){return arguments.length?(a=wk(s,O=e*e),D()):Dw(O)},C.fitExtent=function(e,t){return mk(C,e,t)},C.fitSize=function(e,t){return gk(C,e,t)},C.fitWidth=function(e,t){return yk(C,e,t)},C.fitHeight=function(e,t){return vk(C,e,t)},function(){return t=e.apply(this,arguments),C.invert=t.invert&&T,R()}}function xk(e){var t=0,n=fw/3,r=Mk(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*vw,n=e[1]*vw):[t*yw,n*yw]},i}function Ok(e,t){var n=Tw(e),r=(n+Tw(t))/2;if(bw(r)<dw)return function(e){var t=kw(e);function n(e,n){return[e*t,Tw(n)/t]}return n.invert=function(e,n){return[e/t,Lw(n*t)]},n}(e);var i=1+n*(2*r-n),o=Dw(i)/r;function a(e,t){var n=Dw(i-2*r*Tw(t))/r;return[n*Tw(e*=r),o-n*kw(e)]}return a.invert=function(e,t){var n=o-t,a=_w(e,bw(n))*Rw(n);return n*r<0&&(a-=fw*Rw(e)*Rw(n)),[a/r,Lw((i-(e*e+n*n)*r*r)/(2*r))]},a}function Ck(){return xk(Ok).scale(155.424).center([0,33.6442])}function Tk(){return Ck().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Rk(e){return function(t,n){var r=kw(t),i=kw(n),o=e(r*i);return o===1/0?[2,0]:[o*i*Tw(t),o*Tw(n)]}}function Dk(e){return function(t,n){var r=Dw(t*t+n*n),i=e(r),o=Tw(i),a=kw(i);return[_w(t*o,r*a),Lw(r&&n*o/r)]}}var Ek=Rk((function(e){return Dw(2/(1+e))}));Ek.invert=Dk((function(e){return 2*Lw(e/2)}));var Ak=Rk((function(e){return(e=Aw(e))&&e/Tw(e)}));function Lk(e,t){return[e,Ow(Ew((pw+t)/2))]}function jk(e){var t,n,r,i=Sk(e),o=i.center,a=i.scale,s=i.translate,l=i.clipExtent,u=null;function c(){var o=fw*a(),s=i(function(e){function t(t){return(t=e(t[0]*vw,t[1]*vw))[0]*=yw,t[1]*=yw,t}return e=lk(e[0]*vw,e[1]*vw,e.length>2?e[2]*vw:0),t.invert=function(t){return(t=e.invert(t[0]*vw,t[1]*vw))[0]*=yw,t[1]*=yw,t},t}(i.rotate()).invert([0,0]));return l(null==u?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:e===Lk?[[Math.max(s[0]-o,u),t],[Math.min(s[0]+o,n),r]]:[[u,Math.max(s[1]-o,t)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(e){return arguments.length?(a(e),c()):a()},i.translate=function(e){return arguments.length?(s(e),c()):s()},i.center=function(e){return arguments.length?(o(e),c()):o()},i.clipExtent=function(e){return arguments.length?(null==e?u=t=n=r=null:(u=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),c()):null==u?null:[[u,t],[n,r]]},c()}function Pk(e){return Ew((pw+e)/2)}function Ik(e,t){var n=kw(e),r=e===t?Tw(e):Ow(n/kw(t))/Ow(Pk(t)/Pk(e)),i=n*Cw(Pk(e),r)/r;if(!r)return Lk;function o(e,t){i>0?t<-pw+dw&&(t=-pw+dw):t>pw-dw&&(t=pw-dw);var n=i/Cw(Pk(t),r);return[n*Tw(r*e),i-n*kw(r*e)]}return o.invert=function(e,t){var n=i-t,o=Rw(r)*Dw(e*e+n*n),a=_w(e,bw(n))*Rw(n);return n*r<0&&(a-=fw*Rw(e)*Rw(n)),[a/r,2*ww(Cw(i/o,1/r))-pw]},o}function Hk(e,t){return[e,t]}function Nk(e,t){var n=kw(e),r=e===t?Tw(e):(n-kw(t))/(t-e),i=n/r+e;if(bw(r)<dw)return Hk;function o(e,t){var n=i-t,o=r*e;return[n*Tw(o),i-n*kw(o)]}return o.invert=function(e,t){var n=i-t,o=_w(e,bw(n))*Rw(n);return n*r<0&&(o-=fw*Rw(e)*Rw(n)),[o/r,i-Rw(r)*Dw(e*e+n*n)]},o}Ak.invert=Dk((function(e){return e})),Lk.invert=function(e,t){return[e,2*ww(Mw(t))-pw]},Hk.invert=Hk;var Fk=1.340264,Yk=-.081106,zk=893e-6,Bk=.003796,Wk=Dw(3)/2;function $k(e,t){var n=Lw(Wk*Tw(t)),r=n*n,i=r*r*r;return[e*kw(n)/(Wk*(Fk+3*Yk*r+i*(7*zk+9*Bk*r))),n*(Fk+Yk*r+i*(zk+Bk*r))]}function Uk(e,t){var n=kw(t),r=kw(e)*n;return[n*Tw(e)/r,Tw(t)/r]}function Vk(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function qk(e,t){return[kw(t)*Tw(e),Tw(t)]}function Gk(e,t){var n=kw(t),r=1+kw(e)*n;return[n*Tw(e)/r,Tw(t)/r]}function Kk(e,t){return[Ow(Ew((pw+t)/2)),-e]}$k.invert=function(e,t){for(var n,r=t,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(Fk+Yk*i+o*(zk+Bk*i))-t)/(Fk+3*Yk*i+o*(7*zk+9*Bk*i)))*r)*i*i,!(bw(n)<hw));++a);return[Wk*e*(Fk+3*Yk*i+o*(7*zk+9*Bk*i))/kw(r),Lw(Tw(r)/Wk)]},Uk.invert=Dk(ww),Vk.invert=function(e,t){var n,r=t,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-t)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(bw(n)>dw&&--i>0);return[e/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},qk.invert=Dk(Lw),Gk.invert=Dk((function(e){return 2*ww(e)})),Kk.invert=function(e,t){return[-t,2*ww(Mw(e))-pw]};var Zk=Math.abs,Xk=(Math.atan,Math.atan2,Math.ceil,Math.cos),Jk=(Math.exp,Math.floor,Math.log,Math.max,Math.min,Math.pow,Math.round,Math.sign,Math.sin),Qk=(Math.tan,Math.PI),eS=Qk/2,tS=(Math.SQRT1_2,rS(2));function nS(e){return e>1?eS:e<-1?-eS:Math.asin(e)}function rS(e){return e>0?Math.sqrt(e):0}function iS(e,t){var n,r=e*Jk(t),i=30;do{t-=n=(t+Jk(t)-r)/(1+Xk(t))}while(Zk(n)>1e-6&&--i>0);return t/2}rS(Qk);var oS=function(e,t,n){function r(r,i){return[e*r*Xk(i=iS(n,i)),t*Jk(i)]}return r.invert=function(r,i){return i=nS(i/t),[r/(e*Xk(i)),nS((2*i+Jk(2*i))/n)]},r}(tS/eS,tS,Qk);const aS=I_(),sS=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function lS(e,t){return function n(){const r=t();return r.type=e,r.path=I_().projection(r),r.copy=r.copy||function(){const e=n();return sS.forEach((t=>{r[t]&&e[t](r[t]())})),e.path.pointRadius(r.path.pointRadius()),e},r}}function uS(e,t){if(!e||"string"!=typeof e)throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(dS[e]=lS(e,t),this):dS[e]||null}function cS(e){return e&&e.path||aS}const dS={albers:Tk,albersusa:function(){var e,t,n,r,i,o,a=Tk(),s=Ck().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=Ck().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(e,t){o=[e,t]}};function c(e){var t=e[0],a=e[1];return o=null,n.point(t,a),o||(r.point(t,a),o)||(i.point(t,a),o)}function d(){return e=t=null,c}return c.invert=function(e){var t=a.scale(),n=a.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:a).invert(e)},c.stream=function(n){return e&&t===n?e:(r=[a.stream(t=n),s.stream(n),l.stream(n)],i=r.length,e={point:function(e,t){for(var n=-1;++n<i;)r[n].point(e,t)},sphere:function(){for(var e=-1;++e<i;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<i;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<i;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<i;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<i;)r[e].polygonEnd()}});var r,i},c.precision=function(e){return arguments.length?(a.precision(e),s.precision(e),l.precision(e),d()):a.precision()},c.scale=function(e){return arguments.length?(a.scale(e),s.scale(.35*e),l.scale(e),c.translate(a.translate())):a.scale()},c.translate=function(e){if(!arguments.length)return a.translate();var t=a.scale(),o=+e[0],c=+e[1];return n=a.translate(e).clipExtent([[o-.455*t,c-.238*t],[o+.455*t,c+.238*t]]).stream(u),r=s.translate([o-.307*t,c+.201*t]).clipExtent([[o-.425*t+dw,c+.12*t+dw],[o-.214*t-dw,c+.234*t-dw]]).stream(u),i=l.translate([o-.205*t,c+.212*t]).clipExtent([[o-.214*t+dw,c+.166*t+dw],[o-.115*t-dw,c+.234*t-dw]]).stream(u),d()},c.fitExtent=function(e,t){return mk(c,e,t)},c.fitSize=function(e,t){return gk(c,e,t)},c.fitWidth=function(e,t){return yk(c,e,t)},c.fitHeight=function(e,t){return vk(c,e,t)},c.scale(1070)},azimuthalequalarea:function(){return Sk(Ek).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return Sk(Ak).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return xk(Ik).scale(109.5).parallels([30,30])},conicequalarea:Ck,conicequidistant:function(){return xk(Nk).scale(131.154).center([0,13.9389])},equalEarth:function(){return Sk($k).scale(177.158)},equirectangular:function(){return Sk(Hk).scale(152.63)},gnomonic:function(){return Sk(Uk).scale(144.049).clipAngle(60)},identity:function(){var e,t,n,r,i,o,a,s=1,l=0,u=0,c=1,d=1,h=0,f=null,p=1,m=1,g=hk({point:function(e,t){var n=b([e,t]);this.stream.point(n[0],n[1])}}),y=rw;function v(){return p=s*c,m=s*d,o=a=null,b}function b(n){var r=n[0]*p,i=n[1]*m;if(h){var o=i*e-r*t;r=r*e+i*t,i=o}return[r+l,i+u]}return b.invert=function(n){var r=n[0]-l,i=n[1]-u;if(h){var o=i*e+r*t;r=r*e-i*t,i=o}return[r/p,i/m]},b.stream=function(e){return o&&a===e?o:o=g(y(a=e))},b.postclip=function(e){return arguments.length?(y=e,f=n=r=i=null,v()):y},b.clipExtent=function(e){return arguments.length?(y=null==e?(f=n=r=i=null,rw):ok(f=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),v()):null==f?null:[[f,n],[r,i]]},b.scale=function(e){return arguments.length?(s=+e,v()):s},b.translate=function(e){return arguments.length?(l=+e[0],u=+e[1],v()):[l,u]},b.angle=function(n){return arguments.length?(t=Tw(h=n%360*vw),e=kw(h),v()):h*yw},b.reflectX=function(e){return arguments.length?(c=e?-1:1,v()):c<0},b.reflectY=function(e){return arguments.length?(d=e?-1:1,v()):d<0},b.fitExtent=function(e,t){return mk(b,e,t)},b.fitSize=function(e,t){return gk(b,e,t)},b.fitWidth=function(e,t){return yk(b,e,t)},b.fitHeight=function(e,t){return vk(b,e,t)},b},mercator:function(){return jk(Lk).scale(961/gw)},mollweide:function(){return Sk(oS).scale(169.529)},naturalEarth1:function(){return Sk(Vk).scale(175.295)},orthographic:function(){return Sk(qk).scale(249.5).clipAngle(90.000001)},stereographic:function(){return Sk(Gk).scale(250).clipAngle(142)},transversemercator:function(){var e=jk(Kk),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)}};for(const e in dS)uS(e,dS[e]);function hS(e,t,n){var r=Ga(e,t-dw,n).concat(t);return function(e){return r.map((function(t){return[e,t]}))}}function fS(e,t,n){var r=Ga(e,t-dw,n).concat(t);return function(e){return r.map((function(t){return[t,e]}))}}function pS(){}const mS=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function gS(){var e=1,t=1,n=a;function r(e,t){return t.map((t=>i(e,t)))}function i(r,i){var a=[],s=[];return function(n,r,i){var a,s,l,u,c,d,h=new Array,f=new Array;for(a=s=-1,u=n[0]>=r,mS[u<<1].forEach(p);++a<e-1;)l=u,u=n[a+1]>=r,mS[l|u<<1].forEach(p);for(mS[u<<0].forEach(p);++s<t-1;){for(a=-1,u=n[s*e+e]>=r,c=n[s*e]>=r,mS[u<<1|c<<2].forEach(p);++a<e-1;)l=u,u=n[s*e+e+a+1]>=r,d=c,c=n[s*e+a+1]>=r,mS[l|u<<1|c<<2|d<<3].forEach(p);mS[u|c<<3].forEach(p)}for(a=-1,c=n[s*e]>=r,mS[c<<2].forEach(p);++a<e-1;)d=c,c=n[s*e+a+1]>=r,mS[c<<2|d<<3].forEach(p);function p(e){var t,n,r=[e[0][0]+a,e[0][1]+s],l=[e[1][0]+a,e[1][1]+s],u=o(r),c=o(l);(t=f[u])?(n=h[c])?(delete f[t.end],delete h[n.start],t===n?(t.ring.push(l),i(t.ring)):h[t.start]=f[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete f[t.end],t.ring.push(l),f[t.end=c]=t):(t=h[c])?(n=f[u])?(delete h[t.start],delete f[n.end],t===n?(t.ring.push(l),i(t.ring)):h[n.start]=f[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete h[t.start],t.ring.unshift(r),h[t.start=u]=t):h[u]=f[c]={start:u,end:c,ring:[r,l]}}mS[c<<3].forEach(p)}(r,i,(e=>{n(e,r,i),function(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}(e)>0?a.push([e]):s.push(e)})),s.forEach((e=>{for(var t,n=0,r=a.length;n<r;++n)if(-1!==yS((t=a[n])[0],e))return void t.push(e)})),{type:"MultiPolygon",value:i,coordinates:a}}function o(t){return 2*t[0]+t[1]*(e+1)*4}function a(n,r,i){n.forEach((n=>{var o,a=n[0],s=n[1],l=0|a,u=0|s,c=r[u*e+l];a>0&&a<e&&l===a&&(o=r[u*e+l-1],n[0]=a+(i-o)/(c-o)-.5),s>0&&s<t&&u===s&&(o=r[(u-1)*e+l],n[1]=s+(i-o)/(c-o)-.5)}))}return r.contour=i,r.size=function(n){if(!arguments.length)return[e,t];var i=Math.floor(n[0]),o=Math.floor(n[1]);return i>=0&&o>=0||x("invalid size"),e=i,t=o,r},r.smooth=function(e){return arguments.length?(n=e?a:pS,r):n===a},r}function yS(e,t){for(var n,r=-1,i=t.length;++r<i;)if(n=vS(e,t[r]))return n;return 0}function vS(e,t){for(var n=t[0],r=t[1],i=-1,o=0,a=e.length,s=a-1;o<a;s=o++){var l=e[o],u=l[0],c=l[1],d=e[s],h=d[0],f=d[1];if(bS(l,d,t))return 0;c>r!=f>r&&n<(h-u)*(r-c)/(f-c)+u&&(i=-i)}return i}function bS(e,t,n){var r,i,o,a;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])==(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&(i=e[r=+(e[0]===t[0])],o=n[r],a=t[r],i<=o&&o<=a||a<=o&&o<=i)}function wS(e,t,n){return function(r){var i=de(r),o=n?Math.min(i[0],0):i[0],a=i[1],s=a-o,l=t?Xe(o,a,e):s/(e+1);return Ga(o+l,a,l)}}function _S(e){ta.call(this,null,e)}function kS(e,t,n,r,i){const o=e.x1||0,a=e.y1||0,s=t*n<0;function l(e){e.forEach(u)}function u(e){s&&e.reverse(),e.forEach(c)}function c(e){e[0]=(e[0]-o)*t+r,e[1]=(e[1]-a)*n+i}return function(e){return e.coordinates.forEach(l),e}}function SS(e,t,n){const r=e>=0?e:ga(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function MS(e){return ne(e)?e:le(+e)}function xS(){var e=e=>e[0],t=e=>e[1],n=E,r=[-1,-1],i=960,o=500,a=2;function s(s,l){const u=SS(r[0],s,e)>>a,c=SS(r[1],s,t)>>a,d=u?u+2:0,h=c?c+2:0,f=2*d+(i>>a),p=2*h+(o>>a),m=new Float32Array(f*p),g=new Float32Array(f*p);let y=m;s.forEach((r=>{const i=d+(+e(r)>>a),o=h+(+t(r)>>a);i>=0&&i<f&&o>=0&&o<p&&(m[i+o*f]+=+n(r))})),u>0&&c>0?(OS(f,p,m,g,u),CS(f,p,g,m,c),OS(f,p,m,g,u),CS(f,p,g,m,c),OS(f,p,m,g,u),CS(f,p,g,m,c)):u>0?(OS(f,p,m,g,u),OS(f,p,g,m,u),OS(f,p,m,g,u),y=g):c>0&&(CS(f,p,m,g,c),CS(f,p,g,m,c),CS(f,p,m,g,c),y=g);const v=l?Math.pow(2,-2*a):1/Ob(y);for(let e=0,t=f*p;e<t;++e)y[e]*=v;return{values:y,scale:1<<a,width:f,height:p,x1:d,y1:h,x2:d+(i>>a),y2:h+(o>>a)}}return s.x=function(t){return arguments.length?(e=MS(t),s):e},s.y=function(e){return arguments.length?(t=MS(e),s):t},s.weight=function(e){return arguments.length?(n=MS(e),s):n},s.size=function(e){if(!arguments.length)return[i,o];var t=+e[0],n=+e[1];return t>=0&&n>=0||x("invalid size"),i=t,o=n,s},s.cellSize=function(e){return arguments.length?((e=+e)>=1||x("invalid cell size"),a=Math.floor(Math.log(e)/Math.LN2),s):1<<a},s.bandwidth=function(e){return arguments.length?(1===(e=te(e)).length&&(e=[+e[0],+e[0]]),2!==e.length&&x("invalid bandwidth"),r=e,s):r},s}function OS(e,t,n,r,i){const o=1+(i<<1);for(let a=0;a<t;++a)for(let t=0,s=0;t<e+i;++t)t<e&&(s+=n[t+a*e]),t>=i&&(t>=o&&(s-=n[t-o+a*e]),r[t-i+a*e]=s/Math.min(t+1,e-1+o-t,o))}function CS(e,t,n,r,i){const o=1+(i<<1);for(let a=0;a<e;++a)for(let s=0,l=0;s<t+i;++s)s<t&&(l+=n[a+s*e]),s>=i&&(s>=o&&(l-=n[a+(s-o)*e]),r[a+(s-i)*e]=l/Math.min(s+1,t-1+o-s,o))}function TS(e){ta.call(this,null,e)}_S.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},ge(_S,ta,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||R,o=gS().smooth(!1!==e.smooth),a=e.thresholds||function(e,t,n){const r=wS(n.levels||10,n.nice,!1!==n.zero);return"shared"!==n.resolve?r:r(e.map((e=>ra(t(e).values))))}(r,i,e),s=null===e.as?null:e.as||"contour",l=[];return r.forEach((t=>{const n=i(t),r=o.size([n.width,n.height])(n.values,I(a)?a:a(n.values));!function(e,t,n,r){let i=r.scale||t.scale,o=r.translate||t.translate;if(ne(i)&&(i=i(n,r)),ne(o)&&(o=o(n,r)),(1===i||null==i)&&!o)return;const a=(we(i)?i:i[0])||1,s=(we(i)?i:i[1])||1,l=o&&o[0]||0,u=o&&o[1]||0;e.forEach(kS(t,a,s,l,u))}(r,n,t,e),r.forEach((e=>{l.push(Co(t,xo(null!=s?{[s]:e}:e)))}))})),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}}),TS.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const RS=["x","y","weight","size","cellSize","bandwidth"];function DS(e,t){return RS.forEach((n=>null!=t[n]?e[n](t[n]):0)),e}function ES(e){ta.call(this,null,e)}ge(TS,ta,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=function(e,t){var n,r,i,o,a,s,l=[],u=e=>e(o);if(null==t)l.push(e);else for(n={},r=0,i=e.length;r<i;++r)o=e[r],(s=n[a=t.map(u)])||(n[a]=s=[],s.dims=a,l.push(s)),s.push(o);return l}(t.materialize(t.SOURCE).source,e.groupby),o=(e.groupby||[]).map(w),a=DS(xS(),e),s=e.as||"grid";return n=i.map((t=>xo(function(e,t){for(let n=0;n<o.length;++n)e[o[n]]=t[n];return e}({[s]:a(t,e.counts)},t.dims)))),this.value&&(r.rem=this.value),this.value=r.source=r.add=n,r}}),ES.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},ge(ES,ta,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,r,i=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=gS().smooth(!1!==e.smooth),a=e.values,s=e.thresholds||wS(e.count||10,e.nice,!!a),l=e.size;return a||(a=t.materialize(t.SOURCE).source,r=kS(n=DS(xS(),e)(a,!0),n.scale||1,n.scale||1,0,0),l=[n.width,n.height],a=n.values),s=I(s)?s:s(a),a=o.size(l)(a,s),r&&a.forEach(r),this.value&&(i.rem=this.value),this.value=i.source=i.add=(a||[]).map(xo),i}});const AS="Feature",LS="FeatureCollection";function jS(e){ta.call(this,null,e)}function PS(e){ta.call(this,null,e)}function IS(e){ta.call(this,null,e)}function HS(e){ta.call(this,null,e)}function NS(e){ta.call(this,[],e),this.generator=function(){var e,t,n,r,i,o,a,s,l,u,c,d,h=10,f=h,p=90,m=360,g=2.5;function y(){return{type:"MultiLineString",coordinates:v()}}function v(){return Ga(Sw(r/p)*p,n,p).map(c).concat(Ga(Sw(s/m)*m,a,m).map(d)).concat(Ga(Sw(t/h)*h,e,h).filter((function(e){return bw(e%p)>dw})).map(l)).concat(Ga(Sw(o/f)*f,i,f).filter((function(e){return bw(e%m)>dw})).map(u))}return y.lines=function(){return v().map((function(e){return{type:"LineString",coordinates:e}}))},y.outline=function(){return{type:"Polygon",coordinates:[c(r).concat(d(a).slice(1),c(n).reverse().slice(1),d(s).reverse().slice(1))]}},y.extent=function(e){return arguments.length?y.extentMajor(e).extentMinor(e):y.extentMinor()},y.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),y.precision(g)):[[r,s],[n,a]]},y.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],o=+n[0][1],i=+n[1][1],t>e&&(n=t,t=e,e=n),o>i&&(n=o,o=i,i=n),y.precision(g)):[[t,o],[e,i]]},y.step=function(e){return arguments.length?y.stepMajor(e).stepMinor(e):y.stepMinor()},y.stepMajor=function(e){return arguments.length?(p=+e[0],m=+e[1],y):[p,m]},y.stepMinor=function(e){return arguments.length?(h=+e[0],f=+e[1],y):[h,f]},y.precision=function(h){return arguments.length?(g=+h,l=hS(o,i,90),u=fS(t,e,g),c=hS(s,a,90),d=fS(r,n,g),y):g},y.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}()}function FS(e){ta.call(this,null,e)}function YS(e){if(!ne(e))return!1;const t=De(_(e));return t.$x||t.$y||t.$value||t.$max}function zS(e){ta.call(this,null,e),this.modified(!0)}function BS(e,t,n){ne(e[t])&&e[t](n)}function WS(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,a,s,l,u,c,d,h,f=e._root,p={data:r},m=e._x0,g=e._y0,y=e._x1,v=e._y1;if(!f)return e._root=p,e;for(;f.length;)if((u=t>=(o=(m+y)/2))?m=o:y=o,(c=n>=(a=(g+v)/2))?g=a:v=a,i=f,!(f=f[d=c<<1|u]))return i[d]=p,e;if(s=+e._x.call(null,f.data),l=+e._y.call(null,f.data),t===s&&n===l)return p.next=f,i?i[d]=p:e._root=p,e;do{i=i?i[d]=new Array(4):e._root=new Array(4),(u=t>=(o=(m+y)/2))?m=o:y=o,(c=n>=(a=(g+v)/2))?g=a:v=a}while((d=c<<1|u)==(h=(l>=a)<<1|s>=o));return i[h]=f,i[d]=p,e}function $S(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function US(e){return e[0]}function VS(e){return e[1]}function qS(e,t,n){var r=new GS(null==t?US:t,null==n?VS:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function GS(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function KS(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}jS.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},ge(jS,ta,{transform(e,t){var n,r=this._features,i=this._points,o=e.fields,a=o&&o[0],s=o&&o[1],l=e.geojson||!o&&R,u=t.ADD;n=e.modified()||t.changed(t.REM)||t.modified(_(l))||a&&t.modified(_(a))||s&&t.modified(_(s)),this.value&&!n||(u=t.SOURCE,this._features=r=[],this._points=i=[]),l&&t.visit(u,(e=>r.push(l(e)))),a&&s&&(t.visit(u,(e=>{var t=a(e),n=s(e);null!=t&&null!=n&&(t=+t)===t&&(n=+n)===n&&i.push([t,n])})),r=r.concat({type:AS,geometry:{type:"MultiPoint",coordinates:i}})),this.value={type:LS,features:r}}}),PS.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},ge(PS,ta,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||R,o=e.as||"path",a=n.SOURCE;!r||e.modified()?(this.value=r=cS(e.projection),n.materialize().reflow()):a=i===R||t.modified(i.fields)?n.ADD_MOD:n.ADD;const s=function(e,t){const n=e.pointRadius();return e.context(null),null!=t&&e.pointRadius(t),n}(r,e.pointRadius);return n.visit(a,(e=>e[o]=r(i(e)))),r.pointRadius(s),n.modifies(o)}}),IS.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},ge(IS,ta,{transform(e,t){var n,r=e.projection,i=e.fields[0],o=e.fields[1],a=e.as||["x","y"],s=a[0],l=a[1];function u(e){const t=r([i(e),o(e)]);t?(e[s]=t[0],e[l]=t[1]):(e[s]=void 0,e[l]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,u):(n=t.modified(i.fields)||t.modified(o.fields),t.visit(n?t.ADD_MOD:t.ADD,u)),t.modifies(a)}}),HS.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},ge(HS,ta,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",o=n.ADD;return r&&!e.modified()||(this.value=r=function(e,t,n){const r=null==n?n=>e(t(n)):r=>{var i=e.pointRadius(),o=e.pointRadius(n)(t(r));return e.pointRadius(i),o};return r.context=t=>(e.context(t),r),r}(cS(e.projection),e.field||C("datum"),e.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,(e=>e[i]=r)),n.modifies(i)}}),NS.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},ge(NS,ta,{transform(e,t){var n,r=this.value,i=this.generator;if(!r.length||e.modified())for(const t in e)ne(i[t])&&i[t](e[t]);return n=i(),r.length?t.mod.push(To(r[0],n)):t.add.push(xo(n)),r[0]=n,t}}),FS.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},ge(FS,ta,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r="shared"===e.resolve,i=e.field||R,o=function(e,t){let n;return ne(e)?(n=n=>e(n,t),n.dep=YS(e)):e?n=le(e):(n=e=>e.$value/e.$max||0,n.dep=!0),n}(e.opacity,e),a=function(e,t){let n;return ne(e)?(n=n=>lc(e(n,t)),n.dep=YS(e)):n=le(lc(e||"#888")),n}(e.color,e),s=e.as||"image",l={$x:0,$y:0,$value:0,$max:r?ra(n.map((e=>ra(i(e).values)))):0};return n.forEach((e=>{const t=i(e),n=ce({},e,l);r||(n.$max=ra(t.values||[])),e[s]=function(e,t,n,r){const i=e.width,o=e.height,a=e.x1||0,s=e.y1||0,l=e.x2||i,u=e.y2||o,c=e.values,d=c?e=>c[e]:D,h=ju(l-a,u-s),f=h.getContext("2d"),p=f.getImageData(0,0,l-a,u-s),m=p.data;for(let e=s,o=0;e<u;++e){t.$y=e-s;for(let s=a,u=e*i;s<l;++s,o+=4){t.$x=s-a,t.$value=d(s+u);const e=n(t);m[o+0]=e.r,m[o+1]=e.g,m[o+2]=e.b,m[o+3]=~~(255*r(t))}}return f.putImageData(p,0,0),h}(t,n,a.dep?a:le(a(n)),o.dep?o:le(o(n)))})),t.reflow(!0).modifies(s)}}),ge(zS,ta,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=function(e){const t=uS((e||"mercator").toLowerCase());return t||x("Unrecognized projection type: "+e),t()}(e.type),sS.forEach((t=>{null!=e[t]&&BS(n,t,e[t])}))):sS.forEach((t=>{e.modified(t)&&BS(n,t,e[t])})),null!=e.pointRadius&&n.path.pointRadius(e.pointRadius),e.fit&&function(e,t){const n=function(e){return 1===(e=te(e)).length?e[0]:{type:LS,features:e.reduce(((e,t)=>e.concat(function(e){return e.type===LS?e.features:te(e).filter((e=>null!=e)).map((e=>e.type===AS?e:{type:AS,geometry:e}))}(t))),[])}}(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});var ZS=qS.prototype=GS.prototype;function XS(e){return function(){return e}}function JS(e){return 1e-6*(e()-.5)}function QS(e){return e.x+e.vx}function eM(e){return e.y+e.vy}ZS.copy=function(){var e,t,n=new GS(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=KS(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=KS(t));return n},ZS.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return WS(this.cover(t,n),t,n,e)},ZS.addAll=function(e){var t,n,r,i,o=e.length,a=new Array(o),s=new Array(o),l=1/0,u=1/0,c=-1/0,d=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(a[n]=r,s[n]=i,r<l&&(l=r),r>c&&(c=r),i<u&&(u=i),i>d&&(d=i));if(l>c||u>d)return this;for(this.cover(l,u).cover(c,d),n=0;n<o;++n)WS(this,a[n],s[n],e[n]);return this},ZS.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var a,s,l=i-n||1,u=this._root;n>e||e>=i||r>t||t>=o;)switch(s=(t<r)<<1|e<n,(a=new Array(4))[s]=u,u=a,l*=2,s){case 0:i=n+l,o=r+l;break;case 1:n=i-l,o=r+l;break;case 2:i=n+l,r=o-l;break;case 3:n=i-l,r=o-l}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},ZS.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},ZS.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ZS.find=function(e,t,n){var r,i,o,a,s,l,u,c=this._x0,d=this._y0,h=this._x1,f=this._y1,p=[],m=this._root;for(m&&p.push(new $S(m,c,d,h,f)),null==n?n=1/0:(c=e-n,d=t-n,h=e+n,f=t+n,n*=n);l=p.pop();)if(!(!(m=l.node)||(i=l.x0)>h||(o=l.y0)>f||(a=l.x1)<c||(s=l.y1)<d))if(m.length){var g=(i+a)/2,y=(o+s)/2;p.push(new $S(m[3],g,y,a,s),new $S(m[2],i,y,g,s),new $S(m[1],g,o,a,y),new $S(m[0],i,o,g,y)),(u=(t>=y)<<1|e>=g)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-u],p[p.length-1-u]=l)}else{var v=e-+this._x.call(null,m.data),b=t-+this._y.call(null,m.data),w=v*v+b*b;if(w<n){var _=Math.sqrt(n=w);c=e-_,d=t-_,h=e+_,f=t+_,r=m.data}}return r},ZS.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,i,o,a,s,l,u,c,d,h,f=this._root,p=this._x0,m=this._y0,g=this._x1,y=this._y1;if(!f)return this;if(f.length)for(;;){if((u=o>=(s=(p+g)/2))?p=s:g=s,(c=a>=(l=(m+y)/2))?m=l:y=l,t=f,!(f=f[d=c<<1|u]))return this;if(!f.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(n=t,h=d)}for(;f.data!==e;)if(r=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,r?(i?r.next=i:delete r.next,this):t?(i?t[d]=i:delete t[d],(f=t[0]||t[1]||t[2]||t[3])&&f===(t[3]||t[2]||t[1]||t[0])&&!f.length&&(n?n[h]=f:this._root=f),this):(this._root=i,this)},ZS.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},ZS.root=function(){return this._root},ZS.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},ZS.visit=function(e){var t,n,r,i,o,a,s=[],l=this._root;for(l&&s.push(new $S(l,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(l=t.node,r=t.x0,i=t.y0,o=t.x1,a=t.y1)&&l.length){var u=(r+o)/2,c=(i+a)/2;(n=l[3])&&s.push(new $S(n,u,c,o,a)),(n=l[2])&&s.push(new $S(n,r,c,u,a)),(n=l[1])&&s.push(new $S(n,u,i,o,c)),(n=l[0])&&s.push(new $S(n,r,i,u,c))}return this},ZS.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new $S(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var o,a=t.x0,s=t.y0,l=t.x1,u=t.y1,c=(a+l)/2,d=(s+u)/2;(o=i[0])&&n.push(new $S(o,a,s,c,d)),(o=i[1])&&n.push(new $S(o,c,s,l,d)),(o=i[2])&&n.push(new $S(o,a,d,c,u)),(o=i[3])&&n.push(new $S(o,c,d,l,u))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},ZS.x=function(e){return arguments.length?(this._x=e,this):this._x},ZS.y=function(e){return arguments.length?(this._y=e,this):this._y};var tM={value:()=>{}};function nM(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new rM(r)}function rM(e){this._=e}function iM(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function oM(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function aM(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=tM,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}rM.prototype=nM.prototype={constructor:rM,on:function(e,t){var n,r=this._,i=iM(e+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<a;)if(n=(e=i[o]).type)r[n]=aM(r[n],e.name,t);else if(null==t)for(n in r)r[n]=aM(r[n],e.name,null);return this}for(;++o<a;)if((n=(e=i[o]).type)&&(n=oM(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new rM(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};const sM=nM;var lM,uM,cM=0,dM=0,hM=0,fM=0,pM=0,mM=0,gM="object"==typeof performance&&performance.now?performance:Date,yM="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function vM(){return pM||(yM(bM),pM=gM.now()+mM)}function bM(){pM=0}function wM(){this._call=this._time=this._next=null}function _M(e,t,n){var r=new wM;return r.restart(e,t,n),r}function kM(){pM=(fM=gM.now())+mM,cM=dM=0;try{!function(){vM(),++cM;for(var e,t=lM;t;)(e=pM-t._time)>=0&&t._call.call(void 0,e),t=t._next;--cM}()}finally{cM=0,function(){for(var e,t,n=lM,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:lM=t);uM=e,MM(r)}(),pM=0}}function SM(){var e=gM.now(),t=e-fM;t>1e3&&(mM-=t,fM=e)}function MM(e){cM||(dM&&(dM=clearTimeout(dM)),e-pM>24?(e<1/0&&(dM=setTimeout(kM,e-gM.now()-mM)),hM&&(hM=clearInterval(hM))):(hM||(fM=gM.now(),hM=setInterval(SM,1e3)),cM=1,yM(kM)))}wM.prototype=_M.prototype={constructor:wM,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?vM():+n)+(null==t?0:+t),this._next||uM===this||(uM?uM._next=this:lM=this,uM=this),this._call=e,this._time=n,MM()},stop:function(){this._call&&(this._call=null,this._time=1/0,MM())}};const xM=4294967296;function OM(e){return e.x}function CM(e){return e.y}var TM=Math.PI*(3-Math.sqrt(5));function RM(e){return e.index}function DM(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}const EM={center:function(e,t){var n,r=1;function i(){var i,o,a=n.length,s=0,l=0;for(i=0;i<a;++i)s+=(o=n[i]).x,l+=o.y;for(s=(s/a-e)*r,l=(l/a-t)*r,i=0;i<a;++i)(o=n[i]).x-=s,o.y-=l}return null==e&&(e=0),null==t&&(t=0),i.initialize=function(e){n=e},i.x=function(t){return arguments.length?(e=+t,i):e},i.y=function(e){return arguments.length?(t=+e,i):t},i.strength=function(e){return arguments.length?(r=+e,i):r},i},collide:function(e){var t,n,r,i=1,o=1;function a(){for(var e,a,l,u,c,d,h,f=t.length,p=0;p<o;++p)for(a=qS(t,QS,eM).visitAfter(s),e=0;e<f;++e)l=t[e],d=n[l.index],h=d*d,u=l.x+l.vx,c=l.y+l.vy,a.visit(m);function m(e,t,n,o,a){var s=e.data,f=e.r,p=d+f;if(!s)return t>u+p||o<u-p||n>c+p||a<c-p;if(s.index>l.index){var m=u-s.x-s.vx,g=c-s.y-s.vy,y=m*m+g*g;y<p*p&&(0===m&&(y+=(m=JS(r))*m),0===g&&(y+=(g=JS(r))*g),y=(p-(y=Math.sqrt(y)))/y*i,l.vx+=(m*=y)*(p=(f*=f)/(h+f)),l.vy+=(g*=y)*p,s.vx-=m*(p=1-p),s.vy-=g*p)}}}function s(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function l(){if(t){var r,i,o=t.length;for(n=new Array(o),r=0;r<o;++r)i=t[r],n[i.index]=+e(i,r,t)}}return"function"!=typeof e&&(e=XS(null==e?1:+e)),a.initialize=function(e,n){t=e,r=n,l()},a.iterations=function(e){return arguments.length?(o=+e,a):o},a.strength=function(e){return arguments.length?(i=+e,a):i},a.radius=function(t){return arguments.length?(e="function"==typeof t?t:XS(+t),l(),a):e},a},nbody:function(){var e,t,n,r,i,o=XS(-30),a=1,s=1/0,l=.81;function u(n){var i,o=e.length,a=qS(e,OM,CM).visitAfter(d);for(r=n,i=0;i<o;++i)t=e[i],a.visit(h)}function c(){if(e){var t,n,r=e.length;for(i=new Array(r),t=0;t<r;++t)n=e[t],i[n.index]=+o(n,t,e)}}function d(e){var t,n,r,o,a,s=0,l=0;if(e.length){for(r=o=a=0;a<4;++a)(t=e[a])&&(n=Math.abs(t.value))&&(s+=t.value,l+=n,r+=n*t.x,o+=n*t.y);e.x=r/l,e.y=o/l}else{(t=e).x=t.data.x,t.y=t.data.y;do{s+=i[t.data.index]}while(t=t.next)}e.value=s}function h(e,o,u,c){if(!e.value)return!0;var d=e.x-t.x,h=e.y-t.y,f=c-o,p=d*d+h*h;if(f*f/l<p)return p<s&&(0===d&&(p+=(d=JS(n))*d),0===h&&(p+=(h=JS(n))*h),p<a&&(p=Math.sqrt(a*p)),t.vx+=d*e.value*r/p,t.vy+=h*e.value*r/p),!0;if(!(e.length||p>=s)){(e.data!==t||e.next)&&(0===d&&(p+=(d=JS(n))*d),0===h&&(p+=(h=JS(n))*h),p<a&&(p=Math.sqrt(a*p)));do{e.data!==t&&(f=i[e.data.index]*r/p,t.vx+=d*f,t.vy+=h*f)}while(e=e.next)}}return u.initialize=function(t,r){e=t,n=r,c()},u.strength=function(e){return arguments.length?(o="function"==typeof e?e:XS(+e),c(),u):o},u.distanceMin=function(e){return arguments.length?(a=e*e,u):Math.sqrt(a)},u.distanceMax=function(e){return arguments.length?(s=e*e,u):Math.sqrt(s)},u.theta=function(e){return arguments.length?(l=e*e,u):Math.sqrt(l)},u},link:function(e){var t,n,r,i,o,a,s=RM,l=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},u=XS(30),c=1;function d(r){for(var i=0,s=e.length;i<c;++i)for(var l,u,d,h,f,p,m,g=0;g<s;++g)u=(l=e[g]).source,h=(d=l.target).x+d.vx-u.x-u.vx||JS(a),f=d.y+d.vy-u.y-u.vy||JS(a),h*=p=((p=Math.sqrt(h*h+f*f))-n[g])/p*r*t[g],f*=p,d.vx-=h*(m=o[g]),d.vy-=f*m,u.vx+=h*(m=1-m),u.vy+=f*m}function h(){if(r){var a,l,u=r.length,c=e.length,d=new Map(r.map(((e,t)=>[s(e,t,r),e])));for(a=0,i=new Array(u);a<c;++a)(l=e[a]).index=a,"object"!=typeof l.source&&(l.source=DM(d,l.source)),"object"!=typeof l.target&&(l.target=DM(d,l.target)),i[l.source.index]=(i[l.source.index]||0)+1,i[l.target.index]=(i[l.target.index]||0)+1;for(a=0,o=new Array(c);a<c;++a)l=e[a],o[a]=i[l.source.index]/(i[l.source.index]+i[l.target.index]);t=new Array(c),f(),n=new Array(c),p()}}function f(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+l(e[n],n,e)}function p(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+u(e[t],t,e)}return null==e&&(e=[]),d.initialize=function(e,t){r=e,a=t,h()},d.links=function(t){return arguments.length?(e=t,h(),d):e},d.id=function(e){return arguments.length?(s=e,d):s},d.iterations=function(e){return arguments.length?(c=+e,d):c},d.strength=function(e){return arguments.length?(l="function"==typeof e?e:XS(+e),f(),d):l},d.distance=function(e){return arguments.length?(u="function"==typeof e?e:XS(+e),p(),d):u},d},x:function(e){var t,n,r,i=XS(.1);function o(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vx+=(r[o]-i.x)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!=typeof e&&(e=XS(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(i="function"==typeof e?e:XS(+e),a(),o):i},o.x=function(t){return arguments.length?(e="function"==typeof t?t:XS(+t),a(),o):e},o},y:function(e){var t,n,r,i=XS(.1);function o(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vy+=(r[o]-i.y)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!=typeof e&&(e=XS(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(i="function"==typeof e?e:XS(+e),a(),o):i},o.y=function(t){return arguments.length?(e="function"==typeof t?t:XS(+t),a(),o):e},o}},AM="forces",LM=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],jM=["static","iterations"],PM=["x","y","vx","vy"];function IM(e){ta.call(this,null,e)}function HM(e,t,n,r){var i,o,a,s,l=te(t.forces);for(i=0,o=LM.length;i<o;++i)(a=LM[i])!==AM&&t.modified(a)&&e[a](t[a]);for(i=0,o=l.length;i<o;++i)s=AM+i,(a=n||t.modified(AM,i)?FM(l[i]):r&&NM(l[i],r)?e.force(s):null)&&e.force(s,a);for(o=e.numForces||0;i<o;++i)e.force(AM+i,null);return e.numForces=l.length,e}function NM(e,t){var n,r;for(n in e)if(ne(r=e[n])&&t.modified(_(r)))return 1;return 0}function FM(e){var t,n;for(n in fe(EM,e.force)||x("Unrecognized force: "+e.force),t=EM[e.force](),e)ne(t[n])&&YM(t[n],e[n],e);return t}function YM(e,t,n){e(ne(t)?e=>t(e,n):t)}function zM(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function BM(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=$M)):void 0===t&&(t=WM);for(var n,r,i,o,a,s=new qM(e),l=[s];n=l.pop();)if((i=t(n.data))&&(a=(i=Array.from(i)).length))for(n.children=i,o=a-1;o>=0;--o)l.push(r=i[o]=new qM(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(VM)}function WM(e){return e.children}function $M(e){return Array.isArray(e)?e[1]:null}function UM(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function VM(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function qM(e){this.data=e,this.depth=this.height=0,this.parent=null}function GM(e){return null==e?null:KM(e)}function KM(e){if("function"!=typeof e)throw new Error;return e}function ZM(){return 0}function XM(e){return function(){return e}}IM.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:PM}]},ge(IM,ta,{transform(e,t){var n,r,i=this.value,o=t.changed(t.ADD_REM),a=e.modified(LM),s=e.iterations||300;if(i?(o&&(t.modifies("index"),i.nodes(t.source)),(a||t.changed(t.MOD))&&HM(i,e,0,t)):(this.value=i=function(e,t){const n=function(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,l=_M(d),u=sM("tick","end"),c=function(){let e=1;return()=>(e=(1664525*e+1013904223)%xM)/xM}();function d(){h(),u.call("tick",t),n<r&&(l.stop(),u.call("end",t))}function h(r){var l,u,c=e.length;void 0===r&&(r=1);for(var d=0;d<r;++d)for(n+=(o-n)*i,s.forEach((function(e){e(n)})),l=0;l<c;++l)null==(u=e[l]).fx?u.x+=u.vx*=a:(u.x=u.fx,u.vx=0),null==u.fy?u.y+=u.vy*=a:(u.y=u.fy,u.vy=0);return t}function f(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(.5+n),o=n*TM;t.x=i*Math.cos(o),t.y=i*Math.sin(o)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(e,c),t}return null==e&&(e=[]),f(),t={tick:h,restart:function(){return l.restart(d),t},stop:function(){return l.stop(),t},nodes:function(n){return arguments.length?(e=n,f(),s.forEach(p),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(o=+e,t):o},velocityDecay:function(e){return arguments.length?(a=1-e,t):1-a},randomSource:function(e){return arguments.length?(c=e,s.forEach(p),t):c},force:function(e,n){return arguments.length>1?(null==n?s.delete(e):s.set(e,p(n)),t):s.get(e)},find:function(t,n,r){var i,o,a,s,l,u=0,c=e.length;for(null==r?r=1/0:r*=r,u=0;u<c;++u)(a=(i=t-(s=e[u]).x)*i+(o=n-s.y)*o)<r&&(l=s,r=a);return l},on:function(e,n){return arguments.length>1?(u.on(e,n),t):u.on(e)}}}(e),r=n.stop,i=n.restart;let o=!1;return n.stopped=()=>o,n.restart=()=>(o=!1,i()),n.stop=()=>(o=!0,r()),HM(n,t,!0).on("end",(()=>o=!0))}(t.source,e),i.on("tick",(n=t.dataflow,r=this,()=>n.touch(r).run())),e.static||(o=!0,i.tick()),t.modifies("index")),a||o||e.modified(jM)||t.changed()&&e.restart)if(i.alpha(Math.max(i.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(i.alphaMin(),1/s)),e.static)for(i.stop();--s>=0;)i.tick();else if(i.stopped()&&i.restart(),!o)return t.StopPropagation;return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let e,t=this._argops,s=0,l=t.length;s<l;++s)if(e=t[s],e.name===AM&&"link"===e.op._argval.force)for(var r,i=e.op._argops,o=0,a=i.length;o<a;++o)if("links"===i[o].name&&(r=i[o].op.source)){n.pulse(r,n.changeset().reflow());break}return t.reflow(e.modified()).modifies(PM)}}),qM.prototype=BM.prototype={constructor:qM,count:function(){return this.eachAfter(zM)},each:function(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this},eachAfter:function(e,t){for(var n,r,i,o=this,a=[o],s=[],l=-1;o=a.pop();)if(s.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);for(;o=s.pop();)e.call(t,o,++l,this);return this},eachBefore:function(e,t){for(var n,r,i=this,o=[i],a=-1;i=o.pop();)if(e.call(t,i,++a,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this},find:function(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return BM(this).eachBefore(UM)},[Symbol.iterator]:function*(){var e,t,n,r,i=this,o=[i];do{for(e=o.reverse(),o=[];i=e.pop();)if(yield i,t=i.children)for(n=0,r=t.length;n<r;++n)o.push(t[n])}while(o.length)}};const JM=4294967296;function QM(e,t){var n,r;if(nx(t,e))return[t];for(n=0;n<e.length;++n)if(ex(t,e[n])&&nx(ix(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(ex(ix(e[n],e[r]),t)&&ex(ix(e[n],t),e[r])&&ex(ix(e[r],t),e[n])&&nx(ox(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function ex(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function tx(e,t){var n=e.r-t.r+1e-9*Math.max(e.r,t.r,1),r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function nx(e,t){for(var n=0;n<t.length;++n)if(!tx(e,t[n]))return!1;return!0}function rx(e){switch(e.length){case 1:return{x:(t=e[0]).x,y:t.y,r:t.r};case 2:return ix(e[0],e[1]);case 3:return ox(e[0],e[1],e[2])}var t}function ix(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,a=t.y,s=t.r,l=o-n,u=a-r,c=s-i,d=Math.sqrt(l*l+u*u);return{x:(n+o+l/d*c)/2,y:(r+a+u/d*c)/2,r:(d+i+s)/2}}function ox(e,t,n){var r=e.x,i=e.y,o=e.r,a=t.x,s=t.y,l=t.r,u=n.x,c=n.y,d=n.r,h=r-a,f=r-u,p=i-s,m=i-c,g=l-o,y=d-o,v=r*r+i*i-o*o,b=v-a*a-s*s+l*l,w=v-u*u-c*c+d*d,_=f*p-h*m,k=(p*w-m*b)/(2*_)-r,S=(m*g-p*y)/_,M=(f*b-h*w)/(2*_)-i,x=(h*y-f*g)/_,O=S*S+x*x-1,C=2*(o+k*S+M*x),T=k*k+M*M-o*o,R=-(Math.abs(O)>1e-6?(C+Math.sqrt(C*C-4*O*T))/(2*O):T/C);return{x:r+k+S*R,y:i+M+x*R,r:R}}function ax(e,t,n){var r,i,o,a,s=e.x-t.x,l=e.y-t.y,u=s*s+l*l;u?(i=t.r+n.r,i*=i,a=e.r+n.r,i>(a*=a)?(r=(u+a-i)/(2*u),o=Math.sqrt(Math.max(0,a/u-r*r)),n.x=e.x-r*s-o*l,n.y=e.y-r*l+o*s):(r=(u+i-a)/(2*u),o=Math.sqrt(Math.max(0,i/u-r*r)),n.x=t.x+r*s-o*l,n.y=t.y+r*l+o*s)):(n.x=t.x+n.r,n.y=t.y)}function sx(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function lx(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function ux(e){this._=e,this.next=null,this.previous=null}function cx(e,t){if(!(a=(n=e,e="object"==typeof n&&"length"in n?n:Array.from(n)).length))return 0;var n,r,i,o,a,s,l,u,c,d,h,f;if((r=e[0]).x=0,r.y=0,!(a>1))return r.r;if(i=e[1],r.x=-i.r,i.x=r.r,i.y=0,!(a>2))return r.r+i.r;ax(i,r,o=e[2]),r=new ux(r),i=new ux(i),o=new ux(o),r.next=o.previous=i,i.next=r.previous=o,o.next=i.previous=r;e:for(u=3;u<a;++u){ax(r._,i._,o=e[u]),o=new ux(o),c=i.next,d=r.previous,h=i._.r,f=r._.r;do{if(h<=f){if(sx(c._,o._)){i=c,r.next=i,i.previous=r,--u;continue e}h+=c._.r,c=c.next}else{if(sx(d._,o._)){(r=d).next=i,i.previous=r,--u;continue e}f+=d._.r,d=d.previous}}while(c!==d.next);for(o.previous=r,o.next=i,r.next=i.previous=i=o,s=lx(r);(o=o.next)!==i;)(l=lx(o))<s&&(r=o,s=l);i=r.next}for(r=[i._],o=i;(o=o.next)!==i;)r.push(o._);for(o=function(e,t){for(var n,r,i=0,o=(e=function(e,t){let n,r,i=e.length;for(;i;)r=t()*i--|0,n=e[i],e[i]=e[r],e[r]=n;return e}(Array.from(e),t)).length,a=[];i<o;)n=e[i],r&&tx(r,n)?++i:(r=rx(a=QM(a,n)),i=0);return r}(r,t),u=0;u<a;++u)(r=e[u]).x-=o.x,r.y-=o.y;return o.r}function dx(e){return Math.sqrt(e.value)}function hx(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function fx(e,t,n){return function(r){if(i=r.children){var i,o,a,s=i.length,l=e(r)*t||0;if(l)for(o=0;o<s;++o)i[o].r+=l;if(a=cx(i,n),l)for(o=0;o<s;++o)i[o].r-=l;r.r=a+l}}}function px(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function mx(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function gx(e,t,n,r,i){for(var o,a=e.children,s=-1,l=a.length,u=e.value&&(r-t)/e.value;++s<l;)(o=a[s]).y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*u}var yx={depth:-1},vx={},bx={};function wx(e){return e.id}function _x(e){return e.parentId}function kx(){var e,t=wx,n=_x;function r(r){var i,o,a,s,l,u,c,d,h=Array.from(r),f=t,p=n,m=new Map;if(null!=e){const t=h.map(((t,n)=>function(e){let t=(e=`${e}`).length;return Mx(e,t-1)&&!Mx(e,t-2)&&(e=e.slice(0,-1)),"/"===e[0]?e:`/${e}`}(e(t,n,r)))),n=t.map(Sx),i=new Set(t).add("");for(const e of n)i.has(e)||(i.add(e),t.push(e),n.push(Sx(e)),h.push(bx));f=(e,n)=>t[n],p=(e,t)=>n[t]}for(a=0,i=h.length;a<i;++a)o=h[a],u=h[a]=new qM(o),null!=(c=f(o,a,r))&&(c+="")&&(d=u.id=c,m.set(d,m.has(d)?vx:u)),null!=(c=p(o,a,r))&&(c+="")&&(u.parent=c);for(a=0;a<i;++a)if(c=(u=h[a]).parent){if(!(l=m.get(c)))throw new Error("missing: "+c);if(l===vx)throw new Error("ambiguous: "+c);l.children?l.children.push(u):l.children=[u],u.parent=l}else{if(s)throw new Error("multiple roots");s=u}if(!s)throw new Error("no root");if(null!=e){for(;s.data===bx&&1===s.children.length;)s=s.children[0],--i;for(let e=h.length-1;e>=0&&(u=h[e],u.data===bx);--e)u.data=null}if(s.parent=yx,s.eachBefore((function(e){e.depth=e.parent.depth+1,--i})).eachBefore(VM),s.parent=null,i>0)throw new Error("cycle");return s}return r.id=function(e){return arguments.length?(t=GM(e),r):t},r.parentId=function(e){return arguments.length?(n=GM(e),r):n},r.path=function(t){return arguments.length?(e=GM(t),r):e},r}function Sx(e){let t=e.length;if(t<2)return"";for(;--t>1&&!Mx(e,t););return e.slice(0,t)}function Mx(e,t){if("/"===e[t]){let n=0;for(;t>0&&"\\"===e[--t];)++n;if(0==(1&n))return!0}return!1}function xx(e,t){return e.parent===t.parent?1:2}function Ox(e){var t=e.children;return t?t[0]:e.t}function Cx(e){var t=e.children;return t?t[t.length-1]:e.t}function Tx(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Rx(e,t,n){return e.a.parent===t.parent?e.a:n}function Dx(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function Ex(e,t){return e.parent===t.parent?1:2}function Ax(e,t){return e+t.x}function Lx(e,t){return Math.max(e,t.y)}function jx(e,t,n,r,i){for(var o,a=e.children,s=-1,l=a.length,u=e.value&&(i-n)/e.value;++s<l;)(o=a[s]).x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*u}Dx.prototype=Object.create(qM.prototype);var Px=(1+Math.sqrt(5))/2;function Ix(e,t,n,r,i,o){for(var a,s,l,u,c,d,h,f,p,m,g,y=[],v=t.children,b=0,w=0,_=v.length,k=t.value;b<_;){l=i-n,u=o-r;do{c=v[w++].value}while(!c&&w<_);for(d=h=c,g=c*c*(m=Math.max(u/l,l/u)/(k*e)),p=Math.max(h/g,g/d);w<_;++w){if(c+=s=v[w].value,s<d&&(d=s),s>h&&(h=s),g=c*c*m,(f=Math.max(h/g,g/d))>p){c-=s;break}p=f}y.push(a={value:c,dice:l<u,children:v.slice(b,w)}),a.dice?gx(a,n,r,i,k?r+=u*c/k:o):jx(a,n,r,k?n+=l*c/k:i,o),k-=c,b=w}return y}const Hx=function e(t){function n(e,n,r,i,o){Ix(t,e,n,r,i,o)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(Px),Nx=function e(t){function n(e,n,r,i,o){if((a=e._squarify)&&a.ratio===t)for(var a,s,l,u,c,d=-1,h=a.length,f=e.value;++d<h;){for(l=(s=a[d]).children,u=s.value=0,c=l.length;u<c;++u)s.value+=l[u].value;s.dice?gx(s,n,r,i,f?r+=(o-r)*s.value/f:o):jx(s,n,r,f?n+=(i-n)*s.value/f:i,o),f-=s.value}else e._squarify=a=Ix(t,e,n,r,i,o),a.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(Px);function Fx(e,t,n){const r={};return e.each((e=>{const i=e.data;n(i)&&(r[t(i)]=e)})),e.lookup=r,e}function Yx(e){ta.call(this,null,e)}Yx.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const zx=e=>e.values;function Bx(){const e=[],t={entries:e=>r(n(e,0),0),key:n=>(e.push(n),t)};function n(t,r){if(r>=e.length)return t;const i=t.length,o=e[r++],a={},s={};let l,u,c,d=-1;for(;++d<i;)l=o(u=t[d])+"",(c=a[l])?c.push(u):a[l]=[u];for(l in a)s[l]=n(a[l],r);return s}function r(t,n){if(++n>e.length)return t;const i=[];for(const e in t)i.push({key:e,values:r(t[e],n)});return i}return t}function Wx(e){ta.call(this,null,e)}ge(Yx,ta,{transform(e,t){t.source||x("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),o=this.value;return(!o||r||t.changed())&&(o&&o.each((e=>{e.children&&ko(e.data)&&i.rem.push(e.data)})),this.value=o=BM({values:te(e.keys).reduce(((e,t)=>(e.key(t),e)),Bx()).entries(i.source)},zx),n&&o.each((e=>{e.children&&(e=xo(e.data),i.add.push(e),i.source.push(e))})),Fx(o,So,So)),i.source.root=o,i}});const $x=(e,t)=>e.parent===t.parent?1:2;ge(Wx,ta,{transform(e,t){t.source&&t.source.root||x(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,o=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(Ro(e.sort,(e=>e.data))),function(e,t,n){for(let r,i=0,o=t.length;i<o;++i)r=t[i],r in n&&e[r](n[r])}(n,this.params,e),n.separation&&n.separation(!1!==e.separation?$x:E);try{this.value=n(i)}catch(e){x(e)}return i.each((e=>function(e,t,n){const r=e.data,i=t.length-1;for(let o=0;o<i;++o)r[n[o]]=e[t[o]];r[n[i]]=e.children?e.children.length:0}(e,r,o))),t.reflow(e.modified()).modifies(o).modifies("leaf")}});const Ux=["x","y","r","depth","children"];function Vx(e){Wx.call(this,e)}Vx.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Ux.length,default:Ux}]},ge(Vx,Wx,{layout:function(){var e=null,t=1,n=1,r=ZM;function i(i){const o=function(){let e=1;return()=>(e=(1664525*e+1013904223)%JM)/JM}();return i.x=t/2,i.y=n/2,e?i.eachBefore(hx(e)).eachAfter(fx(r,.5,o)).eachBefore(px(1)):i.eachBefore(hx(dx)).eachAfter(fx(ZM,1,o)).eachAfter(fx(r,i.r/Math.min(t,n),o)).eachBefore(px(Math.min(t,n)/(2*i.r))),i}return i.radius=function(t){return arguments.length?(e=GM(t),i):e},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(e){return arguments.length?(r="function"==typeof e?e:XM(+e),i):r},i},params:["radius","size","padding"],fields:Ux});const qx=["x0","y0","x1","y1","depth","children"];function Gx(e){Wx.call(this,e)}function Kx(e){ta.call(this,null,e)}Gx.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:qx.length,default:qx}]},ge(Gx,Wx,{layout:function(){var e=1,t=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/o,i.eachBefore(function(e,t){return function(r){r.children&&gx(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var i=r.x0,o=r.y0,a=r.x1-n,s=r.y1-n;a<i&&(i=a=(i+a)/2),s<o&&(o=s=(o+s)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=s}}(t,o)),r&&i.eachBefore(mx),i}return i.round=function(e){return arguments.length?(r=!!e,i):r},i.size=function(n){return arguments.length?(e=+n[0],t=+n[1],i):[e,t]},i.padding=function(e){return arguments.length?(n=+e,i):n},i},params:["size","round","padding"],fields:qx}),Kx.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},ge(Kx,ta,{transform(e,t){t.source||x("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),o=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),o&&(n=i.source.length?Fx(kx().id(e.key).parentId(e.parentKey)(i.source),e.key,A):Fx(kx()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const Zx={tidy:function(){var e=xx,t=1,n=1,r=null;function i(i){var l=function(e){for(var t,n,r,i,o,a=new Dx(e,0),s=[a];t=s.pop();)if(r=t._.children)for(t.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=t.children[i]=new Dx(r[i],i)),n.parent=t;return(a.parent=new Dx(null,0)).children=[a],a}(i);if(l.eachAfter(o),l.parent.m=-l.z,l.eachBefore(a),r)i.eachBefore(s);else{var u=i,c=i,d=i;i.eachBefore((function(e){e.x<u.x&&(u=e),e.x>c.x&&(c=e),e.depth>d.depth&&(d=e)}));var h=u===c?1:e(u,c)/2,f=h-u.x,p=t/(c.x+h+f),m=n/(d.depth||1);i.eachBefore((function(e){e.x=(e.x+f)*p,e.y=e.depth*m}))}return i}function o(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n){!function(e){for(var t,n=0,r=0,i=e.children,o=i.length;--o>=0;)(t=i[o]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(t);var o=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,o=t,a=t,s=n,l=o.parent.children[0],u=o.m,c=a.m,d=s.m,h=l.m;s=Cx(s),o=Ox(o),s&&o;)l=Ox(l),(a=Cx(a)).a=t,(i=s.z+d-o.z-u+e(s._,o._))>0&&(Tx(Rx(s,t,r),t,i),u+=i,c+=i),d+=s.m,u+=o.m,h+=l.m,c+=a.m;s&&!Cx(a)&&(a.t=s,a.m+=d-c),o&&!Ox(l)&&(l.t=o,l.m+=u-h,r=t)}return r}(t,i,t.parent.A||r[0])}function a(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function s(e){e.x*=t,e.y=e.depth*n}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i},cluster:function(){var e=Ex,t=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter((function(t){var n=t.children;n?(t.x=function(e){return e.reduce(Ax,0)/e.length}(n),t.y=function(e){return 1+e.reduce(Lx,0)}(n)):(t.x=o?a+=e(t,o):0,t.y=0,o=t)}));var s=function(e){for(var t;t=e.children;)e=t[0];return e}(i),l=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(i),u=s.x-e(s,l)/2,c=l.x+e(l,s)/2;return i.eachAfter(r?function(e){e.x=(e.x-i.x)*t,e.y=(i.y-e.y)*n}:function(e){e.x=(e.x-u)/(c-u)*t,e.y=(1-(i.y?e.y/i.y:1))*n})}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i}},Xx=["x","y","depth","children"];function Jx(e){Wx.call(this,e)}function Qx(e){ta.call(this,[],e)}Jx.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:Xx.length,default:Xx}]},ge(Jx,Wx,{layout(e){const t=e||"tidy";if(fe(Zx,t))return Zx[t]();x("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:Xx}),Qx.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},ge(Qx,ta,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),o={};return r||x("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,(e=>o[So(e)]=1)),r.each((e=>{const t=e.data,n=e.parent&&e.parent.data;n&&o[So(t)]&&o[So(n)]&&i.add.push(xo({source:n,target:t}))})),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,(e=>o[So(e)]=1)),n.forEach((e=>{(o[So(e.source)]||o[So(e.target)])&&i.mod.push(e)}))),i}});const eO={binary:function(e,t,n,r,i){var o,a,s=e.children,l=s.length,u=new Array(l+1);for(u[0]=a=o=0;o<l;++o)u[o+1]=a+=s[o].value;!function e(t,n,r,i,o,a,l){if(t>=n-1){var c=s[t];return c.x0=i,c.y0=o,c.x1=a,void(c.y1=l)}for(var d=u[t],h=r/2+d,f=t+1,p=n-1;f<p;){var m=f+p>>>1;u[m]<h?f=m+1:p=m}h-u[f-1]<u[f]-h&&t+1<f&&--f;var g=u[f]-d,y=r-g;if(a-i>l-o){var v=r?(i*y+a*g)/r:a;e(t,f,g,i,o,v,l),e(f,n,y,v,o,a,l)}else{var b=r?(o*y+l*g)/r:l;e(t,f,g,i,o,a,b),e(f,n,y,i,b,a,l)}}(0,l,e.value,t,n,r,i)},dice:gx,slice:jx,slicedice:function(e,t,n,r,i){(1&e.depth?jx:gx)(e,t,n,r,i)},squarify:Hx,resquarify:Nx},tO=["x0","y0","x1","y1","depth","children"];function nO(e){Wx.call(this,e)}nO.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:tO.length,default:tO}]},ge(nO,Wx,{layout(){const e=function(){var e=Hx,t=!1,n=1,r=1,i=[0],o=ZM,a=ZM,s=ZM,l=ZM,u=ZM;function c(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(d),i=[0],t&&e.eachBefore(mx),e}function d(t){var n=i[t.depth],r=t.x0+n,c=t.y0+n,d=t.x1-n,h=t.y1-n;d<r&&(r=d=(r+d)/2),h<c&&(c=h=(c+h)/2),t.x0=r,t.y0=c,t.x1=d,t.y1=h,t.children&&(n=i[t.depth+1]=o(t)/2,r+=u(t)-n,c+=a(t)-n,(d-=s(t)-n)<r&&(r=d=(r+d)/2),(h-=l(t)-n)<c&&(c=h=(c+h)/2),e(t,r,c,d,h))}return c.round=function(e){return arguments.length?(t=!!e,c):t},c.size=function(e){return arguments.length?(n=+e[0],r=+e[1],c):[n,r]},c.tile=function(t){return arguments.length?(e=KM(t),c):e},c.padding=function(e){return arguments.length?c.paddingInner(e).paddingOuter(e):c.paddingInner()},c.paddingInner=function(e){return arguments.length?(o="function"==typeof e?e:XM(+e),c):o},c.paddingOuter=function(e){return arguments.length?c.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):c.paddingTop()},c.paddingTop=function(e){return arguments.length?(a="function"==typeof e?e:XM(+e),c):a},c.paddingRight=function(e){return arguments.length?(s="function"==typeof e?e:XM(+e),c):s},c.paddingBottom=function(e){return arguments.length?(l="function"==typeof e?e:XM(+e),c):l},c.paddingLeft=function(e){return arguments.length?(u="function"==typeof e?e:XM(+e),c):u},c}();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{fe(eO,t)?e.tile(eO[t]):x("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:tO});const rO=4278190080;function iO(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function oO(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;"group"===r?t.forEach((t=>{t.items.forEach((t=>oO(e,t.items,n)))})):$g[r].draw(e,{items:n?t.map(aO):t})}function aO(e){const t=Co(e,{});return t.stroke&&0!==t.strokeOpacity||t.fill&&0!==t.fillOpacity?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const sO=31,lO=new Uint32Array(33),uO=new Uint32Array(33);uO[0]=0,lO[0]=~uO[0];for(let e=1;e<=32;++e)uO[e]=uO[e-1]<<1|1,lO[e]=~uO[e];function cO(e,t,n,r,i,o){let a=n/2;return e-a<0||e+a>i||t-(a=r/2)<0||t+a>o}function dO(e,t,n,r,i,o,a,s){const l=i*o/(2*r),u=e(t-l),c=e(t+l),d=e(n-(o/=2)),h=e(n+o);return a.outOfBounds(u,d,c,h)||a.getRange(u,d,c,h)||s&&s.getRange(u,d,c,h)}const hO=[-1,-1,1,1],fO=[-1,1,-1,1],pO=["right","center","left"],mO=["bottom","middle","top"];function gO(e,t,n,r,i,o,a,s,l,u,c,d){return!(i.outOfBounds(e,n,t,r)||(d&&o||i).getRange(e,n,t,r))}const yO={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},vO={naive:function(e,t,n,r){const i=e.width,o=e.height;return function(e){const t=e.datum.datum.items[r].items,n=t.length,a=e.datum.fontSize,s=Mg.width(e.datum,e.datum.text);let l,u,c,d,h,f,p,m=0;for(let r=0;r<n;++r)l=t[r].x,c=t[r].y,u=void 0===t[r].x2?l:t[r].x2,d=void 0===t[r].y2?c:t[r].y2,h=(l+u)/2,f=(c+d)/2,p=Math.abs(u-l+d-c),p>=m&&(m=p,e.x=h,e.y=f);return h=s/2,f=a/2,l=e.x-h,u=e.x+h,c=e.y-f,d=e.y+f,e.align="center",l<0&&u<=i?e.align="left":0<=l&&i<u&&(e.align="right"),e.baseline="middle",c<0&&d<=o?e.baseline="top":0<=c&&o<d&&(e.baseline="bottom"),!0}},"reduced-search":function(e,t,n,r){const i=e.width,o=e.height,a=t[0],s=t[1];function l(t,n,r,l,u){const c=e.invert(t),d=e.invert(n);let h,f=r,p=o;if(!cO(c,d,l,u,i,o)&&!dO(e,c,d,u,l,f,a,s)&&!dO(e,c,d,u,l,u,a,null)){for(;p-f>=1;)h=(f+p)/2,dO(e,c,d,u,l,h,a,s)?p=h:f=h;if(f>r)return[c,d,f,!0]}}return function(t){const s=t.datum.datum.items[r].items,u=s.length,c=t.datum.fontSize,d=Mg.width(t.datum,t.datum.text);let h,f,p,m,g,y,v,b,w,_,k,S,M,x,O,C,T,R=n?c:0,D=!1,E=!1,A=0;for(let r=0;r<u;++r){for(h=s[r].x,p=s[r].y,f=void 0===s[r].x2?h:s[r].x2,m=void 0===s[r].y2?p:s[r].y2,h>f&&(T=h,h=f,f=T),p>m&&(T=p,p=m,m=T),w=e(h),k=e(f),_=~~((w+k)/2),S=e(p),x=e(m),M=~~((S+x)/2),v=_;v>=w;--v)for(b=M;b>=S;--b)C=l(v,b,R,d,c),C&&([t.x,t.y,R,D]=C);for(v=_;v<=k;++v)for(b=M;b<=x;++b)C=l(v,b,R,d,c),C&&([t.x,t.y,R,D]=C);D||n||(O=Math.abs(f-h+m-p),g=(h+f)/2,y=(p+m)/2,O>=A&&!cO(g,y,d,c,i,o)&&!dO(e,g,y,c,d,c,a,null)&&(A=O,t.x=g,t.y=y,E=!0))}return!(!D&&!E||(g=d/2,y=c/2,a.setRange(e(t.x-g),e(t.y-y),e(t.x+g),e(t.y+y)),t.align="center",t.baseline="middle",0))}},floodfill:function(e,t,n,r){const i=e.width,o=e.height,a=t[0],s=t[1],l=e.bitmap();return function(t){const u=t.datum.datum.items[r].items,c=u.length,d=t.datum.fontSize,h=Mg.width(t.datum,t.datum.text),f=[];let p,m,g,y,v,b,w,_,k,S,M,x,O=n?d:0,C=!1,T=!1,R=0;for(let r=0;r<c;++r){for(p=u[r].x,g=u[r].y,m=void 0===u[r].x2?p:u[r].x2,y=void 0===u[r].y2?g:u[r].y2,f.push([e((p+m)/2),e((g+y)/2)]);f.length;)if([w,_]=f.pop(),!(a.get(w,_)||s.get(w,_)||l.get(w,_))){l.set(w,_);for(let e=0;e<4;++e)v=w+hO[e],b=_+fO[e],l.outOfBounds(v,b,v,b)||f.push([v,b]);if(v=e.invert(w),b=e.invert(_),k=O,S=o,!cO(v,b,h,d,i,o)&&!dO(e,v,b,d,h,k,a,s)&&!dO(e,v,b,d,h,d,a,null)){for(;S-k>=1;)M=(k+S)/2,dO(e,v,b,d,h,M,a,s)?S=M:k=M;k>O&&(t.x=v,t.y=b,O=k,C=!0)}}C||n||(x=Math.abs(m-p+y-g),v=(p+m)/2,b=(g+y)/2,x>=R&&!cO(v,b,h,d,i,o)&&!dO(e,v,b,d,h,d,a,null)&&(R=x,t.x=v,t.y=b,T=!0))}return!(!C&&!T||(v=h/2,b=d/2,a.setRange(e(t.x-v),e(t.y-b),e(t.x+v),e(t.y+b)),t.align="center",t.baseline="middle",0))}}};function bO(e,t,n,r,i,o,a,s,l,u,c){if(!e.length)return e;const d=Math.max(r.length,i.length),h=function(e,t){const n=new Float64Array(t),r=e.length;for(let t=0;t<r;++t)n[t]=e[t]||0;for(let e=r;e<t;++e)n[e]=n[r-1];return n}(r,d),f=function(e,t){const n=new Int8Array(t),r=e.length;for(let t=0;t<r;++t)n[t]|=yO[e[t]];for(let e=r;e<t;++e)n[e]=n[r-1];return n}(i,d),p=(w=e[0].datum)&&w.mark&&w.mark.marktype,m="group"===p&&e[0].datum.items[l].marktype,g="area"===m,y=function(e,t,n,r){const i=e=>[e.x,e.x,e.x,e.y,e.y,e.y];return e?"line"===e||"area"===e?e=>i(e.datum):"line"===t?e=>{const t=e.datum.items[r].items;return i(t.length?t["start"===n?0:t.length-1]:{x:NaN,y:NaN})}:e=>{const t=e.datum.bounds;return[t.x1,(t.x1+t.x2)/2,t.x2,t.y1,(t.y1+t.y2)/2,t.y2]}:i}(p,m,s,l),v=null===u||u===1/0,b=g&&"naive"===c;var w;let _=-1,k=-1;const S=e.map((e=>{const t=v?Mg.width(e,e.text):void 0;return _=Math.max(_,t),k=Math.max(k,e.fontSize),{datum:e,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:y(e),textWidth:t}}));u=null===u||u===1/0?Math.max(_,k)+Math.max(...r):u;const M=function(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),o=~~((t+2*n+r)/r),a=e=>~~((e+n)/r);return a.invert=e=>e*r-n,a.bitmap=()=>function(e,t){const n=new Uint32Array(~~((e*t+32)/32));function r(e,t){n[e]|=t}function i(e,t){n[e]&=t}return{array:n,get:(t,r)=>{const i=r*e+t;return n[i>>>5]&1<<(i&sO)},set:(t,n)=>{const i=n*e+t;r(i>>>5,1<<(i&sO))},clear:(t,n)=>{const r=n*e+t;i(r>>>5,~(1<<(r&sO)))},getRange:(t,r,i,o)=>{let a,s,l,u,c=o;for(;c>=r;--c)if(a=c*e+t,s=c*e+i,l=a>>>5,u=s>>>5,l===u){if(n[l]&lO[a&sO]&uO[1+(s&sO)])return!0}else{if(n[l]&lO[a&sO])return!0;if(n[u]&uO[1+(s&sO)])return!0;for(let e=l+1;e<u;++e)if(n[e])return!0}return!1},setRange:(t,n,i,o)=>{let a,s,l,u,c;for(;n<=o;++n)if(a=n*e+t,s=n*e+i,l=a>>>5,u=s>>>5,l===u)r(l,lO[a&sO]&uO[1+(s&sO)]);else for(r(l,lO[a&sO]),r(u,uO[1+(s&sO)]),c=l+1;c<u;++c)r(c,4294967295)},clearRange:(t,n,r,o)=>{let a,s,l,u,c;for(;n<=o;++n)if(a=n*e+t,s=n*e+r,l=a>>>5,u=s>>>5,l===u)i(l,uO[a&sO]|lO[1+(s&sO)]);else for(i(l,uO[a&sO]),i(u,lO[1+(s&sO)]),c=l+1;c<u;++c)i(c,0)},outOfBounds:(n,r,i,o)=>n<0||r<0||o>=t||i>=e}}(i,o),a.ratio=r,a.padding=n,a.width=e,a.height=t,a}(t[0],t[1],u);let x;if(!b){n&&S.sort(((e,t)=>n(e.datum,t.datum)));let t=!1;for(let e=0;e<f.length&&!t;++e)t=5===f[e]||h[e]<0;const r=(p&&a||g)&&e.map((e=>e.datum));x=o.length||r?function(e,t,n,r,i){const o=e.width,a=e.height,s=r||i,l=ju(o,a).getContext("2d"),u=ju(o,a).getContext("2d"),c=s&&ju(o,a).getContext("2d");n.forEach((e=>oO(l,e,!1))),oO(u,t,!1),s&&oO(c,t,!0);const d=iO(l,o,a),h=iO(u,o,a),f=s&&iO(c,o,a),p=e.bitmap(),m=s&&e.bitmap();let g,y,v,b,w,_,k,S;for(y=0;y<a;++y)for(g=0;g<o;++g)w=y*o+g,_=d[w]&rO,S=h[w]&rO,k=s&&f[w]&rO,(_||k||S)&&(v=e(g),b=e(y),i||!_&&!S||p.set(v,b),s&&(_||k)&&m.set(v,b));return[p,m]}(M,r||[],o,t,g):function(e,t){const n=e.bitmap();return(t||[]).forEach((t=>n.set(e(t.boundary[0]),e(t.boundary[3])))),[n,void 0]}(M,a&&S)}const O=g?vO[c](M,x,a,l):function(e,t,n,r){const i=e.width,o=e.height,a=t[0],s=t[1],l=r.length;return function(t){var u;const c=t.boundary,d=t.datum.fontSize;if(c[2]<0||c[5]<0||c[0]>i||c[3]>o)return!1;let h,f,p,m,g,y,v,b,w,_,k,S,M,x,O,C=null!==(u=t.textWidth)&&void 0!==u?u:0;for(let i=0;i<l;++i){if(h=(3&n[i])-1,f=(n[i]>>>2&3)-1,p=0===h&&0===f||r[i]<0,m=h&&f?Math.SQRT1_2:1,g=r[i]<0?-1:1,y=c[1+h]+r[i]*h*m,k=c[4+f]+g*d*f/2+r[i]*f*m,b=k-d/2,w=k+d/2,S=e(y),x=e(b),O=e(w),!C){if(!gO(S,S,x,O,a,s,0,0,0,0,0,p))continue;C=Mg.width(t.datum,t.datum.text)}if(_=y+g*C*h/2,y=_-C/2,v=_+C/2,S=e(y),M=e(v),gO(S,M,x,O,a,s,0,0,0,0,0,p))return t.x=h?h*g<0?v:y:_,t.y=f?f*g<0?w:b:k,t.align=pO[h*g+1],t.baseline=mO[f*g+1],a.setRange(S,x,M,O),!0}return!1}}(M,x,f,h);return S.forEach((e=>e.opacity=+O(e))),S}const wO=["x","y","opacity","align","baseline"],_O=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function kO(e){ta.call(this,null,e)}function SO(e,t){var n,r,i,o,a,s,l=[],u=function(e){return e(o)};if(null==t)l.push(e);else for(n={},r=0,i=e.length;r<i;++r)o=e[r],(s=n[a=t.map(u)])||(n[a]=s=[],s.dims=a,l.push(s)),s.push(o);return l}function MO(e){ta.call(this,null,e)}kO.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:_O},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:wO.length,default:wO}]},ge(kO,ta,{transform(e,t){const n=e.modified();if(!(n||t.changed(t.ADD_REM)||function(n){const r=e.sort;return ne(r)&&t.modified(r.fields)}()))return;e.size&&2===e.size.length||x("Size parameter should be specified as a [width, height] array.");const r=e.as||wO;return bO(t.materialize(t.SOURCE).source||[],e.size,e.sort,te(null==e.offset?1:e.offset),te(e.anchor||_O),e.avoidMarks||[],!1!==e.avoidBaseMark,e.lineAnchor||"end",e.markIndex||0,void 0===e.padding?0:e.padding,e.method||"naive").forEach((e=>{const t=e.datum;t[r[0]]=e.x,t[r[1]]=e.y,t[r[2]]=e.opacity,t[r[3]]=e.align,t[r[4]]=e.baseline})),t.reflow(n).modifies(r)}}),MO.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},ge(MO,ta,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=SO(t.materialize(t.SOURCE).source,e.groupby),i=(e.groupby||[]).map(w),o=i.length,a=e.as||[w(e.x),w(e.y)],s=[];r.forEach((t=>{(function(e,t,n,r){const[i,o,a,s]=Ha(e,t,n,!0),l=i.length,u=Math.max(2,~~(r*l)),c=new Float64Array(l),d=new Float64Array(l),h=new Float64Array(l).fill(1);for(let e=-1;++e<=2;){const t=[0,u-1];for(let e=0;e<l;++e){const n=i[e],r=t[0],a=t[1],s=n-i[r]>i[a]-n?r:a;let l=0,u=0,f=0,p=0,m=0;const g=1/Math.abs(i[s]-n||1);for(let e=r;e<=a;++e){const t=i[e],r=o[e],a=Wa(Math.abs(n-t)*g)*h[e],s=t*a;l+=a,u+=s,f+=r*a,p+=r*s,m+=t*s}const[y,v]=Ia(u/l,f/l,p/l,m/l);c[e]=y+v*n,d[e]=Math.abs(o[e]-c[e]),$a(i,e+1,t)}if(2===e)break;const n=ha(d);if(Math.abs(n)<1e-12)break;for(let e,t,r=0;r<l;++r)e=d[r]/(6*n),h[r]=e>=1?1e-12:(t=1-e*e)*t}return function(e,t,n,r){const i=e.length,o=[];let a,s=0,l=0,u=[];for(;s<i;++s)a=e[s]+n,u[0]===a?u[1]+=(t[s]-u[1])/++l:(l=0,u[1]+=r,u=[a,t[s]],o.push(u));return u[1]+=r,o}(i,c,a,s)})(t,e.x,e.y,e.bandwidth||.3).forEach((e=>{const n={};for(let e=0;e<o;++e)n[i[e]]=t.dims[e];n[a[0]]=e[0],n[a[1]]=e[1],s.push(xo(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=s}return n}});const xO={linear:Ya,log:function(e,t,n){let r=0,i=0,o=0,a=0,s=0;Na(e,t,n,((e,t)=>{++s,e=Math.log(e),r+=(e-r)/s,i+=(t-i)/s,o+=(e*t-o)/s,a+=(e*e-a)/s}));const l=Ia(r,i,o,a),u=e=>l[0]+l[1]*Math.log(e);return{coef:l,predict:u,rSquared:Fa(e,t,n,i,u)}},exp:function(e,t,n){const[r,i,o,a]=Ha(e,t,n);let s,l,u,c=0,d=0,h=0,f=0,p=0;Na(e,t,n,((e,t)=>{s=r[p++],l=Math.log(t),u=s*t,c+=(t*l-c)/p,d+=(u-d)/p,h+=(u*l-h)/p,f+=(s*u-f)/p}));const[m,g]=Ia(d/a,c/a,h/a,f/a),y=e=>Math.exp(m+g*(e-o));return{coef:[Math.exp(m-g*o),g],predict:y,rSquared:Fa(e,t,n,a,y)}},pow:function(e,t,n){let r=0,i=0,o=0,a=0,s=0,l=0;Na(e,t,n,((e,t)=>{const n=Math.log(e),u=Math.log(t);++l,r+=(n-r)/l,i+=(u-i)/l,o+=(n*u-o)/l,a+=(n*n-a)/l,s+=(t-s)/l}));const u=Ia(r,i,o,a),c=e=>u[0]*Math.pow(e,u[1]);return u[0]=Math.exp(u[0]),{coef:u,predict:c,rSquared:Fa(e,t,n,s,c)}},quad:za,poly:function(e,t,n,r){if(1===r)return Ya(e,t,n);if(2===r)return za(e,t,n);const[i,o,a,s]=Ha(e,t,n),l=i.length,u=[],c=[],d=r+1;let h,f,p,m,g;for(h=0;h<d;++h){for(p=0,m=0;p<l;++p)m+=Math.pow(i[p],h)*o[p];for(u.push(m),g=new Float64Array(d),f=0;f<d;++f){for(p=0,m=0;p<l;++p)m+=Math.pow(i[p],h+f);g[f]=m}c.push(g)}c.push(u);const y=function(e){const t=e.length-1,n=[];let r,i,o,a,s;for(r=0;r<t;++r){for(a=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][a])&&(a=i);for(o=r;o<t+1;++o)s=e[o][r],e[o][r]=e[o][a],e[o][a]=s;for(i=r+1;i<t;++i)for(o=t;o>=r;o--)e[o][i]-=e[o][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(s=0,o=i+1;o<t;++o)s+=e[o][i]*n[o];n[i]=(e[t][i]-s)/e[i][i]}return n}(c),v=e=>{e-=a;let t=s+y[0]+y[1]*e+y[2]*e*e;for(h=3;h<d;++h)t+=y[h]*Math.pow(e,h);return t};return{coef:Ba(d,y,-a,s),predict:v,rSquared:Fa(e,t,n,s,v)}}};function OO(e){ta.call(this,null,e)}OO.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(xO)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},ge(OO,ta,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=SO(t.materialize(t.SOURCE).source,e.groupby),i=(e.groupby||[]).map(w),o=e.method||"linear",a=e.order||3,s=((e,t)=>"poly"===e?t:"quad"===e?2:1)(o,a),l=e.as||[w(e.x),w(e.y)],u=xO[o],c=[];let d=e.extent;fe(xO,o)||x("Invalid regression method: "+o),null!=d&&"log"===o&&d[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),d=null),r.forEach((n=>{if(n.length<=s)return void t.dataflow.warn("Skipping regression with more parameters than data points.");const r=u(n,e.x,e.y,a);if(e.params)return void c.push(xo({keys:n.dims,coef:r.coef,rSquared:r.rSquared}));const h=d||de(n,e.x),f=e=>{const t={};for(let e=0;e<i.length;++e)t[i[e]]=n.dims[e];t[l[0]]=e[0],t[l[1]]=e[1],c.push(xo(t))};"linear"===o?h.forEach((e=>f([e,r.predict(e)]))):Va(r.predict,h,25,200).forEach(f)})),this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n}});const CO=134217729;function TO(e,t,n,r,i){let o,a,s,l,u=t[0],c=r[0],d=0,h=0;c>u==c>-u?(o=u,u=t[++d]):(o=c,c=r[++h]);let f=0;if(d<e&&h<n)for(c>u==c>-u?(a=u+o,s=o-(a-u),u=t[++d]):(a=c+o,s=o-(a-c),c=r[++h]),o=a,0!==s&&(i[f++]=s);d<e&&h<n;)c>u==c>-u?(a=o+u,l=a-o,s=o-(a-l)+(u-l),u=t[++d]):(a=o+c,l=a-o,s=o-(a-l)+(c-l),c=r[++h]),o=a,0!==s&&(i[f++]=s);for(;d<e;)a=o+u,l=a-o,s=o-(a-l)+(u-l),u=t[++d],o=a,0!==s&&(i[f++]=s);for(;h<n;)a=o+c,l=a-o,s=o-(a-l)+(c-l),c=r[++h],o=a,0!==s&&(i[f++]=s);return 0===o&&0!==f||(i[f++]=o),f}function RO(e){return new Float64Array(e)}const DO=RO(4),EO=RO(8),AO=RO(12),LO=RO(16),jO=RO(4);function PO(e,t,n,r,i,o){const a=(t-o)*(n-i),s=(e-i)*(r-o),l=a-s;if(0===a||0===s||a>0!=s>0)return l;const u=Math.abs(a+s);return Math.abs(l)>=33306690738754716e-32*u?l:-function(e,t,n,r,i,o,a){let s,l,u,c,d,h,f,p,m,g,y,v,b,w,_,k,S,M;const x=e-i,O=n-i,C=t-o,T=r-o;w=x*T,h=CO*x,f=h-(h-x),p=x-f,h=CO*T,m=h-(h-T),g=T-m,_=p*g-(w-f*m-p*m-f*g),k=C*O,h=CO*C,f=h-(h-C),p=C-f,h=CO*O,m=h-(h-O),g=O-m,S=p*g-(k-f*m-p*m-f*g),y=_-S,d=_-y,DO[0]=_-(y+d)+(d-S),v=w+y,d=v-w,b=w-(v-d)+(y-d),y=b-k,d=b-y,DO[1]=b-(y+d)+(d-k),M=v+y,d=M-v,DO[2]=v-(M-d)+(y-d),DO[3]=M;let R=function(e,t){let n=t[0];for(let e=1;e<4;e++)n+=t[e];return n}(0,DO),D=22204460492503146e-32*a;if(R>=D||-R>=D)return R;if(d=e-x,s=e-(x+d)+(d-i),d=n-O,u=n-(O+d)+(d-i),d=t-C,l=t-(C+d)+(d-o),d=r-T,c=r-(T+d)+(d-o),0===s&&0===l&&0===u&&0===c)return R;if(D=11093356479670487e-47*a+33306690738754706e-32*Math.abs(R),R+=x*c+T*s-(C*u+O*l),R>=D||-R>=D)return R;w=s*T,h=CO*s,f=h-(h-s),p=s-f,h=CO*T,m=h-(h-T),g=T-m,_=p*g-(w-f*m-p*m-f*g),k=l*O,h=CO*l,f=h-(h-l),p=l-f,h=CO*O,m=h-(h-O),g=O-m,S=p*g-(k-f*m-p*m-f*g),y=_-S,d=_-y,jO[0]=_-(y+d)+(d-S),v=w+y,d=v-w,b=w-(v-d)+(y-d),y=b-k,d=b-y,jO[1]=b-(y+d)+(d-k),M=v+y,d=M-v,jO[2]=v-(M-d)+(y-d),jO[3]=M;const E=TO(4,DO,4,jO,EO);w=x*c,h=CO*x,f=h-(h-x),p=x-f,h=CO*c,m=h-(h-c),g=c-m,_=p*g-(w-f*m-p*m-f*g),k=C*u,h=CO*C,f=h-(h-C),p=C-f,h=CO*u,m=h-(h-u),g=u-m,S=p*g-(k-f*m-p*m-f*g),y=_-S,d=_-y,jO[0]=_-(y+d)+(d-S),v=w+y,d=v-w,b=w-(v-d)+(y-d),y=b-k,d=b-y,jO[1]=b-(y+d)+(d-k),M=v+y,d=M-v,jO[2]=v-(M-d)+(y-d),jO[3]=M;const A=TO(E,EO,4,jO,AO);w=s*c,h=CO*s,f=h-(h-s),p=s-f,h=CO*c,m=h-(h-c),g=c-m,_=p*g-(w-f*m-p*m-f*g),k=l*u,h=CO*l,f=h-(h-l),p=l-f,h=CO*u,m=h-(h-u),g=u-m,S=p*g-(k-f*m-p*m-f*g),y=_-S,d=_-y,jO[0]=_-(y+d)+(d-S),v=w+y,d=v-w,b=w-(v-d)+(y-d),y=b-k,d=b-y,jO[1]=b-(y+d)+(d-k),M=v+y,d=M-v,jO[2]=v-(M-d)+(y-d),jO[3]=M;const L=TO(A,AO,4,jO,LO);return LO[L-1]}(e,t,n,r,i,o,u)}RO(4),RO(4),RO(4),RO(4),RO(4),RO(4),RO(4),RO(4),RO(4),RO(8),RO(8),RO(8),RO(4),RO(8),RO(8),RO(8),RO(12),RO(192),RO(192),RO(4),RO(4),RO(4),RO(4),RO(4),RO(4),RO(4),RO(4),RO(8),RO(8),RO(8),RO(8),RO(8),RO(8),RO(8),RO(8),RO(8),RO(4),RO(4),RO(4),RO(8),RO(16),RO(16),RO(16),RO(32),RO(32),RO(48),RO(64),RO(1152),RO(1152),RO(4),RO(4),RO(4),RO(4),RO(4),RO(4),RO(4),RO(4),RO(4),RO(4),RO(24),RO(24),RO(24),RO(24),RO(24),RO(24),RO(24),RO(24),RO(24),RO(24),RO(1152),RO(1152),RO(1152),RO(1152),RO(1152),RO(2304),RO(2304),RO(3456),RO(5760),RO(8),RO(8),RO(8),RO(16),RO(24),RO(48),RO(48),RO(96),RO(192),RO(384),RO(384),RO(384),RO(768),RO(96),RO(96),RO(96),RO(1152);const IO=Math.pow(2,-52),HO=new Uint32Array(512);class NO{static from(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$O,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:UO;const r=e.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=e[o];i[2*o]=t(r),i[2*o+1]=n(r)}return new NO(i)}constructor(e){const t=e.length>>1;if(t>0&&"number"!=typeof e[0])throw new Error("Expected coords to contain numbers.");this.coords=e;const n=Math.max(2*t-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:n,_hullTri:r,_hullHash:i}=this,o=e.length>>1;let a=1/0,s=1/0,l=-1/0,u=-1/0;for(let t=0;t<o;t++){const n=e[2*t],r=e[2*t+1];n<a&&(a=n),r<s&&(s=r),n>l&&(l=n),r>u&&(u=r),this._ids[t]=t}const c=(a+l)/2,d=(s+u)/2;let h,f,p,m=1/0;for(let t=0;t<o;t++){const n=FO(c,d,e[2*t],e[2*t+1]);n<m&&(h=t,m=n)}const g=e[2*h],y=e[2*h+1];m=1/0;for(let t=0;t<o;t++){if(t===h)continue;const n=FO(g,y,e[2*t],e[2*t+1]);n<m&&n>0&&(f=t,m=n)}let v=e[2*f],b=e[2*f+1],w=1/0;for(let t=0;t<o;t++){if(t===h||t===f)continue;const n=zO(g,y,v,b,e[2*t],e[2*t+1]);n<w&&(p=t,w=n)}let _=e[2*p],k=e[2*p+1];if(w===1/0){for(let t=0;t<o;t++)this._dists[t]=e[2*t]-e[0]||e[2*t+1]-e[1];BO(this._ids,this._dists,0,o-1);const t=new Uint32Array(o);let n=0;for(let e=0,r=-1/0;e<o;e++){const i=this._ids[e];this._dists[i]>r&&(t[n++]=i,r=this._dists[i])}return this.hull=t.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(PO(g,y,v,b,_,k)<0){const e=f,t=v,n=b;f=p,v=_,b=k,p=e,_=t,k=n}const S=function(e,t,n,r,i,o){const a=n-e,s=r-t,l=i-e,u=o-t,c=a*a+s*s,d=l*l+u*u,h=.5/(a*u-s*l);return{x:e+(u*c-s*d)*h,y:t+(a*d-l*c)*h}}(g,y,v,b,_,k);this._cx=S.x,this._cy=S.y;for(let t=0;t<o;t++)this._dists[t]=FO(e[2*t],e[2*t+1],S.x,S.y);BO(this._ids,this._dists,0,o-1),this._hullStart=h;let M=3;n[h]=t[p]=f,n[f]=t[h]=p,n[p]=t[f]=h,r[h]=0,r[f]=1,r[p]=2,i.fill(-1),i[this._hashKey(g,y)]=h,i[this._hashKey(v,b)]=f,i[this._hashKey(_,k)]=p,this.trianglesLen=0,this._addTriangle(h,f,p,-1,-1,-1);for(let o,a,s=0;s<this._ids.length;s++){const l=this._ids[s],u=e[2*l],c=e[2*l+1];if(s>0&&Math.abs(u-o)<=IO&&Math.abs(c-a)<=IO)continue;if(o=u,a=c,l===h||l===f||l===p)continue;let d=0;for(let e=0,t=this._hashKey(u,c);e<this._hashSize&&(d=i[(t+e)%this._hashSize],-1===d||d===n[d]);e++);d=t[d];let m,g=d;for(;m=n[g],PO(u,c,e[2*g],e[2*g+1],e[2*m],e[2*m+1])>=0;)if(g=m,g===d){g=-1;break}if(-1===g)continue;let y=this._addTriangle(g,l,n[g],-1,-1,r[g]);r[l]=this._legalize(y+2),r[g]=y,M++;let v=n[g];for(;m=n[v],PO(u,c,e[2*v],e[2*v+1],e[2*m],e[2*m+1])<0;)y=this._addTriangle(v,l,m,r[l],-1,r[v]),r[l]=this._legalize(y+2),n[v]=v,M--,v=m;if(g===d)for(;m=t[g],PO(u,c,e[2*m],e[2*m+1],e[2*g],e[2*g+1])<0;)y=this._addTriangle(m,l,g,-1,r[g],r[m]),this._legalize(y+2),r[m]=y,n[g]=g,M--,g=m;this._hullStart=t[l]=g,n[g]=t[v]=l,n[l]=v,i[this._hashKey(u,c)]=l,i[this._hashKey(e[2*g],e[2*g+1])]=g}this.hull=new Uint32Array(M);for(let e=0,t=this._hullStart;e<M;e++)this.hull[e]=t,t=n[t];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(function(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:n,coords:r}=this;let i=0,o=0;for(;;){const a=n[e],s=e-e%3;if(o=s+(e+2)%3,-1===a){if(0===i)break;e=HO[--i];continue}const l=a-a%3,u=s+(e+1)%3,c=l+(a+2)%3,d=t[o],h=t[e],f=t[u],p=t[c];if(YO(r[2*d],r[2*d+1],r[2*h],r[2*h+1],r[2*f],r[2*f+1],r[2*p],r[2*p+1])){t[e]=p,t[a]=d;const r=n[c];if(-1===r){let t=this._hullStart;do{if(this._hullTri[t]===c){this._hullTri[t]=e;break}t=this._hullPrev[t]}while(t!==this._hullStart)}this._link(e,r),this._link(a,n[o]),this._link(o,c);const s=l+(a+1)%3;i<HO.length&&(HO[i++]=s)}else{if(0===i)break;e=HO[--i]}}return o}_link(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}_addTriangle(e,t,n,r,i,o){const a=this.trianglesLen;return this._triangles[a]=e,this._triangles[a+1]=t,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}function FO(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}function YO(e,t,n,r,i,o,a,s){const l=e-a,u=t-s,c=n-a,d=r-s,h=i-a,f=o-s,p=c*c+d*d,m=h*h+f*f;return l*(d*m-p*f)-u*(c*m-p*h)+(l*l+u*u)*(c*f-d*h)<0}function zO(e,t,n,r,i,o){const a=n-e,s=r-t,l=i-e,u=o-t,c=a*a+s*s,d=l*l+u*u,h=.5/(a*u-s*l),f=(u*c-s*d)*h,p=(a*d-l*c)*h;return f*f+p*p}function BO(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=e[i],o=t[r];let a=i-1;for(;a>=n&&t[e[a]]>o;)e[a+1]=e[a--];e[a+1]=r}else{let i=n+1,o=r;WO(e,n+r>>1,i),t[e[n]]>t[e[r]]&&WO(e,n,r),t[e[i]]>t[e[r]]&&WO(e,i,r),t[e[n]]>t[e[i]]&&WO(e,n,i);const a=e[i],s=t[a];for(;;){do{i++}while(t[e[i]]<s);do{o--}while(t[e[o]]>s);if(o<i)break;WO(e,i,o)}e[n+1]=e[o],e[o]=a,r-i+1>=o-n?(BO(e,t,i,r),BO(e,t,n,o-1)):(BO(e,t,n,o-1),BO(e,t,i,r))}}function WO(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function $O(e){return e[0]}function UO(e){return e[1]}const VO=1e-6;class qO{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,t){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,t){this._+=`L${this._x1=+e},${this._y1=+t}`}arc(e,t,n){const r=(e=+e)+(n=+n),i=t=+t;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>VO||Math.abs(this._y1-i)>VO)&&(this._+="L"+r+","+i),n&&(this._+=`A${n},${n},0,1,1,${e-n},${t}A${n},${n},0,1,1,${this._x1=r},${this._y1=i}`)}rect(e,t,n,r){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${+n}v${+r}h${-n}Z`}value(){return this._||null}}class GO{constructor(){this._=[]}moveTo(e,t){this._.push([e,t])}closePath(){this._.push(this._[0].slice())}lineTo(e,t){this._.push([e,t])}value(){return this._.length?this._:null}}class KO{constructor(e){let[t,n,r,i]=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500];if(!((r=+r)>=(t=+t)&&(i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(2*e.points.length),this.vectors=new Float64Array(2*e.points.length),this.xmax=r,this.xmin=t,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:t,triangles:n},vectors:r}=this,i=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let t,r,o=0,a=0,s=n.length;o<s;o+=3,a+=2){const s=2*n[o],l=2*n[o+1],u=2*n[o+2],c=e[s],d=e[s+1],h=e[l],f=e[l+1],p=e[u],m=e[u+1],g=h-c,y=f-d,v=p-c,b=m-d,w=2*(g*b-y*v);if(Math.abs(w)<1e-9){let i=1e9;const o=2*n[0];i*=Math.sign((e[o]-c)*b-(e[o+1]-d)*v),t=(c+p)/2-i*b,r=(d+m)/2+i*v}else{const e=1/w,n=g*g+y*y,i=v*v+b*b;t=c+(b*n-y*i)*e,r=d+(g*i-v*n)*e}i[a]=t,i[a+1]=r}let o,a,s,l=t[t.length-1],u=4*l,c=e[2*l],d=e[2*l+1];r.fill(0);for(let n=0;n<t.length;++n)l=t[n],o=u,a=c,s=d,u=4*l,c=e[2*l],d=e[2*l+1],r[o+2]=r[u]=s-d,r[o+3]=r[u+1]=c-a}render(e){const t=null==e?e=new qO:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:o,vectors:a}=this;if(i.length<=1)return null;for(let t=0,r=n.length;t<r;++t){const r=n[t];if(r<t)continue;const i=2*Math.floor(t/3),a=2*Math.floor(r/3),s=o[i],l=o[i+1],u=o[a],c=o[a+1];this._renderSegment(s,l,u,c,e)}let s,l=i[i.length-1];for(let t=0;t<i.length;++t){s=l,l=i[t];const n=2*Math.floor(r[l]/3),u=o[n],c=o[n+1],d=4*s,h=this._project(u,c,a[d+2],a[d+3]);h&&this._renderSegment(u,c,h[0],h[1],e)}return t&&t.value()}renderBounds(e){const t=null==e?e=new qO:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(e,t){const n=null==t?t=new qO:void 0,r=this._clip(e);if(null===r||!r.length)return;t.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let e=2;e<i;e+=2)r[e]===r[e-2]&&r[e+1]===r[e-1]||t.lineTo(r[e],r[e+1]);return t.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let t=0,n=e.length/2;t<n;++t){const e=this.cellPolygon(t);e&&(e.index=t,yield e)}}cellPolygon(e){const t=new GO;return this.renderCell(e,t),t.value()}_renderSegment(e,t,n,r,i){let o;const a=this._regioncode(e,t),s=this._regioncode(n,r);0===a&&0===s?(i.moveTo(e,t),i.lineTo(n,r)):(o=this._clipSegment(e,t,n,r,a,s))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(e,t,n){return(t=+t)==t&&(n=+n)==n&&this.delaunay._step(e,t,n)===e}*neighbors(e){const t=this._clip(e);if(t)for(const n of this.delaunay.neighbors(e)){const e=this._clip(n);if(e)e:for(let r=0,i=t.length;r<i;r+=2)for(let o=0,a=e.length;o<a;o+=2)if(t[r]==e[o]&&t[r+1]==e[o+1]&&t[(r+2)%i]==e[(o+a-2)%a]&&t[(r+3)%i]==e[(o+a-1)%a]){yield n;break e}}}_cell(e){const{circumcenters:t,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,o=n[e];if(-1===o)return null;const a=[];let s=o;do{const n=Math.floor(s/3);if(a.push(t[2*n],t[2*n+1]),s=s%3==2?s-2:s+1,i[s]!==e)break;s=r[s]}while(s!==o&&-1!==s);return a}_clip(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const t=this._cell(e);if(null===t)return null;const{vectors:n}=this,r=4*e;return n[r]||n[r+1]?this._clipInfinite(e,t,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(e,t)}_clipFinite(e,t){const n=t.length;let r,i,o,a,s=null,l=t[n-2],u=t[n-1],c=this._regioncode(l,u),d=0;for(let h=0;h<n;h+=2)if(r=l,i=u,l=t[h],u=t[h+1],o=c,c=this._regioncode(l,u),0===o&&0===c)a=d,d=0,s?s.push(l,u):s=[l,u];else{let t,n,h,f,p;if(0===o){if(null===(t=this._clipSegment(r,i,l,u,o,c)))continue;[n,h,f,p]=t}else{if(null===(t=this._clipSegment(l,u,r,i,c,o)))continue;[f,p,n,h]=t,a=d,d=this._edgecode(n,h),a&&d&&this._edge(e,a,d,s,s.length),s?s.push(n,h):s=[n,h]}a=d,d=this._edgecode(f,p),a&&d&&this._edge(e,a,d,s,s.length),s?s.push(f,p):s=[f,p]}if(s)a=d,d=this._edgecode(s[0],s[1]),a&&d&&this._edge(e,a,d,s,s.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}_clipSegment(e,t,n,r,i,o){for(;;){if(0===i&&0===o)return[e,t,n,r];if(i&o)return null;let a,s,l=i||o;8&l?(a=e+(n-e)*(this.ymax-t)/(r-t),s=this.ymax):4&l?(a=e+(n-e)*(this.ymin-t)/(r-t),s=this.ymin):2&l?(s=t+(r-t)*(this.xmax-e)/(n-e),a=this.xmax):(s=t+(r-t)*(this.xmin-e)/(n-e),a=this.xmin),i?(e=a,t=s,i=this._regioncode(e,t)):(n=a,r=s,o=this._regioncode(n,r))}}_clipInfinite(e,t,n,r,i,o){let a,s=Array.from(t);if((a=this._project(s[0],s[1],n,r))&&s.unshift(a[0],a[1]),(a=this._project(s[s.length-2],s[s.length-1],i,o))&&s.push(a[0],a[1]),s=this._clipFinite(e,s))for(let t,n=0,r=s.length,i=this._edgecode(s[r-2],s[r-1]);n<r;n+=2)t=i,i=this._edgecode(s[n],s[n+1]),t&&i&&(n=this._edge(e,t,i,s,n),r=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(e,t,n,r,i){for(;t!==n;){let n,o;switch(t){case 5:t=4;continue;case 4:t=6,n=this.xmax,o=this.ymin;break;case 6:t=2;continue;case 2:t=10,n=this.xmax,o=this.ymax;break;case 10:t=8;continue;case 8:t=9,n=this.xmin,o=this.ymax;break;case 9:t=1;continue;case 1:t=5,n=this.xmin,o=this.ymin}r[i]===n&&r[i+1]===o||!this.contains(e,n,o)||(r.splice(i,0,n,o),i+=2)}if(r.length>4)for(let e=0;e<r.length;e+=2){const t=(e+2)%r.length,n=(e+4)%r.length;(r[e]===r[t]&&r[t]===r[n]||r[e+1]===r[t+1]&&r[t+1]===r[n+1])&&(r.splice(t,2),e-=2)}return i}_project(e,t,n,r){let i,o,a,s=1/0;if(r<0){if(t<=this.ymin)return null;(i=(this.ymin-t)/r)<s&&(a=this.ymin,o=e+(s=i)*n)}else if(r>0){if(t>=this.ymax)return null;(i=(this.ymax-t)/r)<s&&(a=this.ymax,o=e+(s=i)*n)}if(n>0){if(e>=this.xmax)return null;(i=(this.xmax-e)/n)<s&&(o=this.xmax,a=t+(s=i)*r)}else if(n<0){if(e<=this.xmin)return null;(i=(this.xmin-e)/n)<s&&(o=this.xmin,a=t+(s=i)*r)}return[o,a]}_edgecode(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}}const ZO=2*Math.PI,XO=Math.pow;function JO(e){return e[0]}function QO(e){return e[1]}function eC(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class tC{static from(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:JO,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:QO,r=arguments.length>3?arguments[3]:void 0;return new tC("length"in e?function(e,t,n,r){const i=e.length,o=new Float64Array(2*i);for(let a=0;a<i;++a){const i=e[a];o[2*a]=t.call(r,i,a,e),o[2*a+1]=n.call(r,i,a,e)}return o}(e,t,n,r):Float64Array.from(function*(e,t,n,r){let i=0;for(const o of e)yield t.call(r,o,i,e),yield n.call(r,o,i,e),++i}(e,t,n,r)))}constructor(e){this._delaunator=new NO(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){const{triangles:t,coords:n}=e;for(let e=0;e<t.length;e+=3){const r=2*t[e],i=2*t[e+1],o=2*t[e+2];if((n[o]-n[r])*(n[i+1]-n[r+1])-(n[i]-n[r])*(n[o+1]-n[r+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},((e,t)=>t)).sort(((e,n)=>t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]));const e=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[t[2*e],t[2*e+1],t[2*n],t[2*n+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let e=0,n=t.length/2;e<n;++e){const n=eC(t[2*e],t[2*e+1],i);t[2*e]=n[0],t[2*e+1]=n[1]}this._delaunator=new NO(t)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let e=0,t=n.length;e<t;++e){const t=i[e%3==2?e-2:e+1];-1!==n[e]&&-1!==o[t]||(o[t]=e)}for(let e=0,t=r.length;e<t;++e)a[r[e]]=e;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],o[r[0]]=1,2===r.length&&(o[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(e){return new KO(this,e)}*neighbors(e){const{inedges:t,hull:n,_hullIndex:r,halfedges:i,triangles:o,collinear:a}=this;if(a){const t=a.indexOf(e);return t>0&&(yield a[t-1]),void(t<a.length-1&&(yield a[t+1]))}const s=t[e];if(-1===s)return;let l=s,u=-1;do{if(yield u=o[l],l=l%3==2?l-2:l+1,o[l]!==e)return;if(l=i[l],-1===l){const t=n[(r[e]+1)%n.length];return void(t!==u&&(yield t))}}while(l!==s)}find(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((e=+e)!=e||(t=+t)!=t)return-1;const r=n;let i;for(;(i=this._step(n,e,t))>=0&&i!==n&&i!==r;)n=i;return i}_step(e,t,n){const{inedges:r,hull:i,_hullIndex:o,halfedges:a,triangles:s,points:l}=this;if(-1===r[e]||!l.length)return(e+1)%(l.length>>1);let u=e,c=XO(t-l[2*e],2)+XO(n-l[2*e+1],2);const d=r[e];let h=d;do{let r=s[h];const d=XO(t-l[2*r],2)+XO(n-l[2*r+1],2);if(d<c&&(c=d,u=r),h=h%3==2?h-2:h+1,s[h]!==e)break;if(h=a[h],-1===h){if(h=i[(o[e]+1)%i.length],h!==r&&XO(t-l[2*h],2)+XO(n-l[2*h+1],2)<c)return h;break}}while(h!==d);return u}render(e){const t=null==e?e=new qO:void 0,{points:n,halfedges:r,triangles:i}=this;for(let t=0,o=r.length;t<o;++t){const o=r[t];if(o<t)continue;const a=2*i[t],s=2*i[o];e.moveTo(n[a],n[a+1]),e.lineTo(n[s],n[s+1])}return this.renderHull(e),t&&t.value()}renderPoints(e,t){void 0!==t||e&&"function"==typeof e.moveTo||(t=e,e=null),t=null==t?2:+t;const n=null==e?e=new qO:void 0,{points:r}=this;for(let n=0,i=r.length;n<i;n+=2){const i=r[n],o=r[n+1];e.moveTo(i+t,o),e.arc(i,o,t,0,ZO)}return n&&n.value()}renderHull(e){const t=null==e?e=new qO:void 0,{hull:n,points:r}=this,i=2*n[0],o=n.length;e.moveTo(r[i],r[i+1]);for(let t=1;t<o;++t){const i=2*n[t];e.lineTo(r[i],r[i+1])}return e.closePath(),t&&t.value()}hullPolygon(){const e=new GO;return this.renderHull(e),e.value()}renderTriangle(e,t){const n=null==t?t=new qO:void 0,{points:r,triangles:i}=this,o=2*i[e*=3],a=2*i[e+1],s=2*i[e+2];return t.moveTo(r[o],r[o+1]),t.lineTo(r[a],r[a+1]),t.lineTo(r[s],r[s+1]),t.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:e}=this;for(let t=0,n=e.length/3;t<n;++t)yield this.trianglePolygon(t)}trianglePolygon(e){const t=new GO;return this.renderTriangle(e,t),t.value()}}function nC(e){ta.call(this,null,e)}nC.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const rC=[-1e5,-1e5,1e5,1e5];function iC(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}ge(nC,ta,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:rC;const o=this.value=tC.from(r,e.x,e.y).voronoi(i);for(let e=0,t=r.length;e<t;++e){const t=o.cellPolygon(e);r[e][n]=t?iC(t):null}return t.reflow(e.modified()).modifies(n)}});var oC=Math.PI/180,aC=2048;function sC(e,t,n,r){if(!t.sprite){var i=e.context,o=e.ratio;i.clearRect(0,0,2048/o,aC/o);var a,s,l,u,c,d=0,h=0,f=0,p=n.length;for(--r;++r<p;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font,a=i.measureText(t.text+"m").width*o,l=t.size<<1,t.rotate){var m=Math.sin(t.rotate*oC),g=Math.cos(t.rotate*oC),y=a*g,v=a*m,b=l*g,w=l*m;a=Math.max(Math.abs(y+w),Math.abs(y-w))+31>>5<<5,l=~~Math.max(Math.abs(v+b),Math.abs(v-b))}else a=a+31>>5<<5;if(l>f&&(f=l),d+a>=2048&&(d=0,h+=f,f=0),h+l>=aC)break;i.translate((d+(a>>1))/o,(h+(l>>1))/o),t.rotate&&i.rotate(t.rotate*oC),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=a,t.height=l,t.xoff=d,t.yoff=h,t.x1=a>>1,t.y1=l>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,d+=a}for(var _=i.getImageData(0,0,2048/o,aC/o).data,k=[];--r>=0;)if((t=n[r]).hasText){for(s=(a=t.width)>>5,l=t.y1-t.y0,u=0;u<l*s;u++)k[u]=0;if(null==(d=t.xoff))return;h=t.yoff;var S=0,M=-1;for(c=0;c<l;c++){for(u=0;u<a;u++){var x=s*c+(u>>5),O=_[2048*(h+c)+(d+u)<<2]?1<<31-u%32:0;k[x]|=O,S|=O}S?M=c:(t.y0++,l--,c--,h++)}t.y1=t.y0+M,t.sprite=k.slice(0,(t.y1-t.y0)*s)}}}function lC(e,t,n){n>>=5;for(var r,i=e.sprite,o=e.width>>5,a=e.x-(o<<4),s=127&a,l=32-s,u=e.y1-e.y0,c=(e.y+e.y0)*n+(a>>5),d=0;d<u;d++){r=0;for(var h=0;h<=o;h++)if((r<<l|(h<o?(r=i[d*o+h])>>>s:0))&t[c+h])return!0;c+=n}return!1}function uC(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function cC(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function dC(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function hC(e){return"function"==typeof e?e:function(){return e}}var fC={archimedean:dC,rectangular:function(e){var t=4*e[0]/e[1],n=0,r=0;return function(e){var i=e<0?-1:1;switch(Math.sqrt(1+4*i*e)-i&3){case 0:n+=t;break;case 1:r+=4;break;case 2:n-=t;break;default:r-=4}return[n,r]}}};const pC=["x","y","font","fontSize","fontStyle","fontWeight","angle"],mC=["text","font","rotate","fontSize","fontStyle","fontWeight"];function gC(e){ta.call(this,function(){var e,t,n,r,i,o,a,s=[256,256],l=dC,u=[],c=Math.random,d={};function h(e,t,n){for(var r,i,o,a=t.x,u=t.y,d=Math.sqrt(s[0]*s[0]+s[1]*s[1]),h=l(s),f=c()<.5?1:-1,p=-f;(r=h(p+=f))&&(i=~~r[0],o=~~r[1],!(Math.min(Math.abs(i),Math.abs(o))>=d));)if(t.x=a+i,t.y=u+o,!(t.x+t.x0<0||t.y+t.y0<0||t.x+t.x1>s[0]||t.y+t.y1>s[1])&&(!n||!lC(t,e,s[0]))&&(!n||cC(t,n))){for(var m,g=t.sprite,y=t.width>>5,v=s[0]>>5,b=t.x-(y<<4),w=127&b,_=32-w,k=t.y1-t.y0,S=(t.y+t.y0)*v+(b>>5),M=0;M<k;M++){m=0;for(var x=0;x<=y;x++)e[S+x]|=m<<_|(x<y?(m=g[M*y+x])>>>w:0);S+=v}return t.sprite=null,!0}return!1}return d.layout=function(){for(var l=function(e){e.width=e.height=1;var t=Math.sqrt(e.getContext("2d").getImageData(0,0,1,1).data.length>>2);e.width=2048/t,e.height=aC/t;var n=e.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:t}}(ju()),d=function(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}((s[0]>>5)*s[1]),f=null,p=u.length,m=-1,g=[],y=u.map((s=>({text:e(s),font:t(s),style:r(s),weight:i(s),rotate:o(s),size:~~(n(s)+1e-14),padding:a(s),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:s}))).sort(((e,t)=>t.size-e.size));++m<p;){var v=y[m];v.x=s[0]*(c()+.5)>>1,v.y=s[1]*(c()+.5)>>1,sC(l,v,y,m),v.hasText&&h(d,v,f)&&(g.push(v),f?uC(f,v):f=[{x:v.x+v.x0,y:v.y+v.y0},{x:v.x+v.x1,y:v.y+v.y1}],v.x-=s[0]>>1,v.y-=s[1]>>1)}return g},d.words=function(e){return arguments.length?(u=e,d):u},d.size=function(e){return arguments.length?(s=[+e[0],+e[1]],d):s},d.font=function(e){return arguments.length?(t=hC(e),d):t},d.fontStyle=function(e){return arguments.length?(r=hC(e),d):r},d.fontWeight=function(e){return arguments.length?(i=hC(e),d):i},d.rotate=function(e){return arguments.length?(o=hC(e),d):o},d.text=function(t){return arguments.length?(e=hC(t),d):e},d.spiral=function(e){return arguments.length?(l=fC[e]||e,d):l},d.fontSize=function(e){return arguments.length?(n=hC(e),d):n},d.padding=function(e){return arguments.length?(a=hC(e),d):a},d.random=function(e){return arguments.length?(c=e,d):c},d}(),e)}gC.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:pC}]},ge(gC,ta,{transform(e,t){!e.size||e.size[0]&&e.size[1]||x("Wordcloud size dimensions must be non-zero.");const n=e.modified();if(!(n||t.changed(t.ADD_REM)||mC.some((function(n){const r=e[n];return ne(r)&&t.modified(r.fields)}))))return;const r=t.materialize(t.SOURCE).source,i=this.value,o=e.as||pC;let a,s=e.fontSize||14;if(ne(s)?a=e.fontSizeRange:s=le(s),a){const e=s,t=gf("sqrt")().domain(de(r,e)).range(a);s=n=>t(e(n))}r.forEach((e=>{e[o[0]]=NaN,e[o[1]]=NaN,e[o[3]]=0}));const l=i.words(r).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(s).random(ya).layout(),u=i.size(),c=u[0]>>1,d=u[1]>>1,h=l.length;for(let e,t,n=0;n<h;++n)e=l[n],t=e.datum,t[o[0]]=e.x+c,t[o[1]]=e.y+d,t[o[2]]=e.font,t[o[3]]=e.size,t[o[4]]=e.style,t[o[5]]=e.weight,t[o[6]]=e.rotate;return t.reflow(n).modifies(o)}});const yC=e=>new Uint8Array(e),vC=e=>new Uint16Array(e),bC=e=>new Uint32Array(e);function wC(e,t,n){const r=(t<257?yC:t<65537?vC:bC)(e);return n&&r.set(n),r}function _C(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(e,t){const n=this,i=n.bisect(n.range,e.value),o=e.index,a=i[0],s=i[1],l=o.length;let u;for(u=0;u<a;++u)t[o[u]]|=r;for(u=s;u<l;++u)t[o[u]]|=r;return n}}}function kC(){let e=bC(0),t=[],n=0;return{insert:function(r,i,o){if(!i.length)return[];const a=n,s=i.length,l=bC(s);let u,c,d,h=Array(s);for(d=0;d<s;++d)h[d]=r(i[d]),l[d]=d;if(h=function(e,t){return e.sort.call(t,((t,n)=>{const r=e[t],i=e[n];return r<i?-1:r>i?1:0})),function(e,t){return Array.from(t,(t=>e[t]))}(e,t)}(h,l),a)u=t,c=e,t=Array(a+s),e=bC(a+s),function(e,t,n,r,i,o,a,s,l){let u,c=0,d=0;for(u=0;c<r&&d<a;++u)t[c]<i[d]?(s[u]=t[c],l[u]=n[c++]):(s[u]=i[d],l[u]=o[d++]+e);for(;c<r;++c,++u)s[u]=t[c],l[u]=n[c];for(;d<a;++d,++u)s[u]=i[d],l[u]=o[d]+e}(o,u,c,a,h,l,s,t,e);else{if(o>0)for(d=0;d<s;++d)l[d]+=o;t=h,e=l}return n=a+s,{index:l,value:h}},remove:function(r,i){const o=n;let a,s,l;for(s=0;!i[e[s]]&&s<o;++s);for(l=s;s<o;++s)i[a=e[s]]||(e[l]=a,t[l]=t[s],++l);n=o-r},bisect:function(e,r){let i;return r?i=r.length:(r=t,i=n),[Nu(r,e[0],0,i),Hu(r,e[1],0,i)]},reindex:function(t){for(let r=0,i=n;r<i;++r)e[r]=t[e[r]]},index:()=>e,size:()=>n}}function SC(e){ta.call(this,function(){let e=8,t=[],n=bC(0),r=wC(0,e),i=wC(0,e);return{data:()=>t,seen:()=>n=function(e,t,n){return e.length>=t?e:((n=n||new e.constructor(t)).set(e),n)}(n,t.length),add(e){for(let n,r=0,i=t.length,o=e.length;r<o;++r)n=e[r],n._index=i++,t.push(n)},remove(e,n){const o=t.length,a=Array(o-e),s=t;let l,u,c;for(u=0;!n[u]&&u<o;++u)a[u]=t[u],s[u]=u;for(c=u;u<o;++u)l=t[u],n[u]?s[u]=-1:(s[u]=c,r[c]=r[u],i[c]=i[u],a[c]=l,l._index=c++),r[u]=0;return t=a,s},size:()=>t.length,curr:()=>r,prev:()=>i,reset:e=>i[e]=r[e],all:()=>e<257?255:e<65537?65535:4294967295,set(e,t){r[e]|=t},clear(e,t){r[e]&=~t},resize(t,n){(t>r.length||n>e)&&(e=Math.max(n,e),r=wC(t,e,r),i=wC(t,e))}}}(),e),this._indices=null,this._dims=null}function MC(e){ta.call(this,null,e)}SC.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},ge(SC,ta,{transform(e,t){return this._dims?e.modified("fields")||e.fields.some((e=>t.modified(e.fields)))?this.reinit(e,t):this.eval(e,t):this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},o=this._dims=[],a=r.length;let s,l,u=0;for(;u<a;++u)s=n[u].fname,l=i[s]||(i[s]=kC()),o.push(_C(l,u,r[u]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,o=this._indices,a=this._dims,s=this.value,l=s.curr(),u=s.prev(),c=s.all(),d=n.rem=n.add,h=n.mod,f=i.length,p={};let m,g,y,v,b,w,_,k,S;if(u.set(l),t.rem.length&&(b=this.remove(e,t,n)),t.add.length&&s.add(t.add),t.mod.length)for(w={},v=t.mod,_=0,k=v.length;_<k;++_)w[v[_]._index]=1;for(_=0;_<f;++_)S=r[_],(!a[_]||e.modified("fields",_)||t.modified(S.fields))&&(y=S.fname,(m=p[y])||(o[y]=g=kC(),p[y]=m=g.insert(S,t.source,0)),a[_]=_C(g,_,i[_]).onAdd(m,l));for(_=0,k=s.data().length;_<k;++_)b[_]||(u[_]!==l[_]?d.push(_):w[_]&&l[_]!==c&&h.push(_));return s.mask=(1<<f)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,o=this._dims,a=this._indices,s=e.fields,l={},u=n.add,c=i.size()+r.length,d=o.length;let h,f,p,m=i.size();i.resize(c,d),i.add(r);const g=i.curr(),y=i.prev(),v=i.all();for(h=0;h<d;++h)f=s[h].fname,p=l[f]||(l[f]=a[f].insert(s[h],r,m)),o[h].onAdd(p,g);for(;m<c;++m)y[m]=v,g[m]!==v&&u.push(m)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),o=r.all(),a=e.mod;let s,l,u;for(s=0,l=a.length;s<l;++s)u=a[s]._index,i[u]!==o&&n.push(u)},remove(e,t,n){const r=this._indices,i=this.value,o=i.curr(),a=i.prev(),s=i.all(),l={},u=n.rem,c=t.rem;let d,h,f,p;for(d=0,h=c.length;d<h;++d)f=c[d]._index,l[f]=1,a[f]=p=o[f],o[f]=s,p!==s&&u.push(f);for(f in r)r[f].remove(h,l);return this.reindex(t,h,l),l},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter((()=>{const e=i.remove(t,n);for(const t in r)r[t].reindex(e)}))},update(e,t,n){const r=this._dims,i=e.query,o=t.stamp,a=r.length;let s,l,u=0;for(n.filters=0,l=0;l<a;++l)e.modified("query",l)&&(s=l,++u);if(1===u)u=r[s].one,this.incrementOne(r[s],i[s],n.add,n.rem);else for(l=0,u=0;l<a;++l)e.modified("query",l)&&(u|=r[l].one,this.incrementAll(r[l],i[l],o,n.add),n.rem=n.add);return u},incrementAll(e,t,n,r){const i=this.value,o=i.seen(),a=i.curr(),s=i.prev(),l=e.index(),u=e.bisect(e.range),c=e.bisect(t),d=c[0],h=c[1],f=u[0],p=u[1],m=e.one;let g,y,v;if(d<f)for(g=d,y=Math.min(f,h);g<y;++g)v=l[g],o[v]!==n&&(s[v]=a[v],o[v]=n,r.push(v)),a[v]^=m;else if(d>f)for(g=f,y=Math.min(d,p);g<y;++g)v=l[g],o[v]!==n&&(s[v]=a[v],o[v]=n,r.push(v)),a[v]^=m;if(h>p)for(g=Math.max(d,p),y=h;g<y;++g)v=l[g],o[v]!==n&&(s[v]=a[v],o[v]=n,r.push(v)),a[v]^=m;else if(h<p)for(g=Math.max(f,h),y=p;g<y;++g)v=l[g],o[v]!==n&&(s[v]=a[v],o[v]=n,r.push(v)),a[v]^=m;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value.curr(),o=e.index(),a=e.bisect(e.range),s=e.bisect(t),l=s[0],u=s[1],c=a[0],d=a[1],h=e.one;let f,p,m;if(l<c)for(f=l,p=Math.min(c,u);f<p;++f)m=o[f],i[m]^=h,n.push(m);else if(l>c)for(f=c,p=Math.min(l,d);f<p;++f)m=o[f],i[m]^=h,r.push(m);if(u>d)for(f=Math.max(l,d),p=u;f<p;++f)m=o[f],i[m]^=h,n.push(m);else if(u<d)for(f=Math.max(c,u),p=d;f<p;++f)m=o[f],i[m]^=h,r.push(m);e.range=t.slice()}}),MC.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},ge(MC,ta,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if(0==(i&n))return t.StopPropagation;const o=t.fork(t.ALL),a=r.data(),s=r.curr(),l=r.prev(),u=e=>s[e]&n?null:a[e];return o.filter(o.MOD,u),i&i-1?(o.filter(o.ADD,(e=>{const t=s[e]&n;return!t&&t^l[e]&n?a[e]:null})),o.filter(o.REM,(e=>{const t=s[e]&n;return!t||t^t^l[e]&n?null:a[e]}))):(o.filter(o.ADD,u),o.filter(o.REM,(e=>(s[e]&n)===i?a[e]:null))),o.filter(o.SOURCE,(e=>u(e._index)))}});const xC="Literal",OC="CallExpression";function CC(e){this.type=e}var TC,RC,DC,EC,AC;CC.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=function(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case OC:return[e.callee].concat(e.arguments);case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];default:return[]}}(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1},(TC={})[1]="Boolean",TC[2]="<end>",TC[3]="Identifier",TC[4]="Keyword",TC[5]="Null",TC[6]="Numeric",TC[7]="Punctuator",TC[8]="String",TC[9]="RegularExpression";var LC="Identifier",jC="Unexpected token %0",PC="Invalid regular expression",IC="Invalid regular expression: missing /",HC="Octal literals are not allowed in strict mode.",NC="ILLEGAL",FC="Disabled.",YC=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),zC=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function BC(e,t){if(!e)throw new Error("ASSERT: "+t)}function WC(e){return e>=48&&e<=57}function $C(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function UC(e){return"01234567".indexOf(e)>=0}function VC(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function qC(e){return 10===e||13===e||8232===e||8233===e}function GC(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&YC.test(String.fromCharCode(e))}function KC(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&zC.test(String.fromCharCode(e))}const ZC={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function XC(){for(;DC<EC;){const e=RC.charCodeAt(DC);if(!VC(e)&&!qC(e))break;++DC}}function JC(e){var t,n,r,i=0;for(n="u"===e?4:2,t=0;t<n;++t)DC<EC&&$C(RC[DC])?(r=RC[DC++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())):hT({},jC,NC);return String.fromCharCode(i)}function QC(){var e,t,n,r;for(t=0,"}"===(e=RC[DC])&&hT({},jC,NC);DC<EC&&$C(e=RC[DC++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&hT({},jC,NC),t<=65535?String.fromCharCode(t):(n=55296+(t-65536>>10),r=56320+(t-65536&1023),String.fromCharCode(n,r))}function eT(){var e,t;for(e=RC.charCodeAt(DC++),t=String.fromCharCode(e),92===e&&(117!==RC.charCodeAt(DC)&&hT({},jC,NC),++DC,(e=JC("u"))&&"\\"!==e&&GC(e.charCodeAt(0))||hT({},jC,NC),t=e);DC<EC&&KC(e=RC.charCodeAt(DC));)++DC,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==RC.charCodeAt(DC)&&hT({},jC,NC),++DC,(e=JC("u"))&&"\\"!==e&&KC(e.charCodeAt(0))||hT({},jC,NC),t+=e);return t}function tT(){var e,t,n,r,i=DC,o=RC.charCodeAt(DC),a=RC[DC];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++DC,{type:7,value:String.fromCharCode(o),start:i,end:DC};default:if(61===(e=RC.charCodeAt(DC+1)))switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return DC+=2,{type:7,value:String.fromCharCode(o)+String.fromCharCode(e),start:i,end:DC};case 33:case 61:return DC+=2,61===RC.charCodeAt(DC)&&++DC,{type:7,value:RC.slice(i,DC),start:i,end:DC}}}return">>>="===(r=RC.substr(DC,4))?{type:7,value:r,start:i,end:DC+=4}:">>>"===(n=r.substr(0,3))||"<<="===n||">>="===n?{type:7,value:n,start:i,end:DC+=3}:a===(t=n.substr(0,2))[1]&&"+-<>&|".indexOf(a)>=0||"=>"===t?{type:7,value:t,start:i,end:DC+=2}:("//"===t&&hT({},jC,NC),"<>=!+-*%&|^/".indexOf(a)>=0?{type:7,value:a,start:i,end:++DC}:void hT({},jC,NC))}function nT(){var e,t,n;if(BC(WC((n=RC[DC]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=DC,e="","."!==n){if(e=RC[DC++],n=RC[DC],"0"===e){if("x"===n||"X"===n)return++DC,function(e){let t="";for(;DC<EC&&$C(RC[DC]);)t+=RC[DC++];return 0===t.length&&hT({},jC,NC),GC(RC.charCodeAt(DC))&&hT({},jC,NC),{type:6,value:parseInt("0x"+t,16),start:e,end:DC}}(t);if(UC(n))return function(e){let t="0"+RC[DC++];for(;DC<EC&&UC(RC[DC]);)t+=RC[DC++];return(GC(RC.charCodeAt(DC))||WC(RC.charCodeAt(DC)))&&hT({},jC,NC),{type:6,value:parseInt(t,8),octal:!0,start:e,end:DC}}(t);n&&WC(n.charCodeAt(0))&&hT({},jC,NC)}for(;WC(RC.charCodeAt(DC));)e+=RC[DC++];n=RC[DC]}if("."===n){for(e+=RC[DC++];WC(RC.charCodeAt(DC));)e+=RC[DC++];n=RC[DC]}if("e"===n||"E"===n)if(e+=RC[DC++],"+"!==(n=RC[DC])&&"-"!==n||(e+=RC[DC++]),WC(RC.charCodeAt(DC)))for(;WC(RC.charCodeAt(DC));)e+=RC[DC++];else hT({},jC,NC);return GC(RC.charCodeAt(DC))&&hT({},jC,NC),{type:6,value:parseFloat(e),start:t,end:DC}}function rT(){if(XC(),DC>=EC)return{type:2,start:DC,end:DC};const e=RC.charCodeAt(DC);return GC(e)?function(){var e,t;return e=DC,t=92===RC.charCodeAt(DC)?eT():function(){var e,t;for(e=DC++;DC<EC;){if(92===(t=RC.charCodeAt(DC)))return DC=e,eT();if(!KC(t))break;++DC}return RC.slice(e,DC)}(),{type:1===t.length?3:ZC.hasOwnProperty(t)?4:"null"===t?5:"true"===t||"false"===t?1:3,value:t,start:e,end:DC}}():40===e||41===e||59===e?tT():39===e||34===e?function(){var e,t,n,r,i="",o=!1;for(BC("'"===(e=RC[DC])||'"'===e,"String literal must starts with a quote"),t=DC,++DC;DC<EC;){if((n=RC[DC++])===e){e="";break}if("\\"===n)if((n=RC[DC++])&&qC(n.charCodeAt(0)))"\r"===n&&"\n"===RC[DC]&&++DC;else switch(n){case"u":case"x":"{"===RC[DC]?(++DC,i+=QC()):i+=JC(n);break;case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:UC(n)?(0!==(r="01234567".indexOf(n))&&(o=!0),DC<EC&&UC(RC[DC])&&(o=!0,r=8*r+"01234567".indexOf(RC[DC++]),"0123".indexOf(n)>=0&&DC<EC&&UC(RC[DC])&&(r=8*r+"01234567".indexOf(RC[DC++]))),i+=String.fromCharCode(r)):i+=n}else{if(qC(n.charCodeAt(0)))break;i+=n}}return""!==e&&hT({},jC,NC),{type:8,value:i,octal:o,start:t,end:DC}}():46===e?WC(RC.charCodeAt(DC+1))?nT():tT():WC(e)?nT():tT()}function iT(){const e=AC;return DC=e.end,AC=rT(),DC=e.end,e}function oT(){const e=DC;AC=rT(),DC=e}function aT(e,t,n){const r=new CC("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return r.operator=e,r.left=t,r.right=n,r}function sT(e,t){const n=new CC("CallExpression");return n.callee=e,n.arguments=t,n}function lT(e){const t=new CC(LC);return t.name=e,t}function uT(e){const t=new CC("Literal");return t.value=e.value,t.raw=RC.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function cT(e,t,n){const r=new CC("MemberExpression");return r.computed="["===e,r.object=t,r.property=n,r.computed||(n.member=!0),r}function dT(e,t,n){const r=new CC("Property");return r.key=t,r.value=n,r.kind=e,r}function hT(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,((e,t)=>(BC(t<r.length,"Message reference must be in range"),r[t])));throw(n=new Error(i)).index=DC,n.description=i,n}function fT(e){2===e.type&&hT(e,"Unexpected end of input"),6===e.type&&hT(e,"Unexpected number"),8===e.type&&hT(e,"Unexpected string"),3===e.type&&hT(e,"Unexpected identifier"),4===e.type&&hT(e,"Unexpected reserved word"),hT(e,jC,e.value)}function pT(e){const t=iT();7===t.type&&t.value===e||fT(t)}function mT(e){return 7===AC.type&&AC.value===e}function gT(e){return 4===AC.type&&AC.value===e}function yT(){DC=AC.start;const e=iT();return 8===e.type||6===e.type?(e.octal&&hT(e,HC),uT(e)):lT(e.value)}function vT(){var e,t,n;return DC=AC.start,3===(e=AC).type?(n=yT(),pT(":"),dT("init",n,OT())):2!==e.type&&7!==e.type?(t=yT(),pT(":"),dT("init",t,OT())):void fT(e)}const bT={if:1};function wT(){var e,t,n;if(mT("("))return function(){pT("(");const e=CT();return pT(")"),e}();if(mT("["))return function(){const e=[];for(DC=AC.start,pT("[");!mT("]");)mT(",")?(iT(),e.push(null)):(e.push(OT()),mT("]")||pT(","));return iT(),function(e){const t=new CC("ArrayExpression");return t.elements=e,t}(e)}();if(mT("{"))return function(){var e,t,n=[],r={},i=String;for(DC=AC.start,pT("{");!mT("}");)t="$"+((e=vT()).key.type===LC?e.key.name:i(e.key.value)),Object.prototype.hasOwnProperty.call(r,t)?hT({},"Duplicate data property in object literal not allowed in strict mode"):r[t]=!0,n.push(e),mT("}")||pT(",");return pT("}"),function(e){const t=new CC("ObjectExpression");return t.properties=e,t}(n)}();if(e=AC.type,DC=AC.start,3===e||bT[AC.value])n=lT(iT().value);else if(8===e||6===e)AC.octal&&hT(AC,HC),n=uT(iT());else{if(4===e)throw new Error(FC);1===e?((t=iT()).value="true"===t.value,n=uT(t)):5===e?((t=iT()).value=null,n=uT(t)):mT("/")||mT("/=")?(n=uT(function(){var e,t,n,r;return AC=null,XC(),e=DC,t=function(){var e,t,n,r;for(BC("/"===(e=RC[DC]),"Regular expression literal must start with a slash"),t=RC[DC++],n=!1,r=!1;DC<EC;)if(t+=e=RC[DC++],"\\"===e)qC((e=RC[DC++]).charCodeAt(0))&&hT({},IC),t+=e;else if(qC(e.charCodeAt(0)))hT({},IC);else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||hT({},IC),{value:t.substr(1,t.length-2),literal:t}}(),n=function(){var e,t,n;for(t="",n="";DC<EC&&KC((e=RC[DC]).charCodeAt(0));)++DC,"\\"===e&&DC<EC?hT({},jC,NC):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&hT({},PC,n),{value:n,literal:t}}(),r=function(e,t){let n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,((e,t)=>{if(parseInt(t,16)<=1114111)return"x";hT({},PC)})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(e){hT({},PC)}try{return new RegExp(e,t)}catch(e){return null}}(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:DC}}()),oT()):fT(iT())}return n}function _T(){const e=[];if(pT("("),!mT(")"))for(;DC<EC&&(e.push(OT()),!mT(")"));)pT(",");return pT(")"),e}function kT(){pT("[");const e=CT();return pT("]"),e}function ST(){const e=function(){var e;for(e=wT();;)if(mT("."))e=cT(".",e,(pT("."),function(){DC=AC.start;const e=iT();return function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e)||fT(e),lT(e.value)}()));else if(mT("("))e=sT(e,_T());else{if(!mT("["))break;e=cT("[",e,kT())}return e}();if(7===AC.type&&(mT("++")||mT("--")))throw new Error(FC);return e}function MT(){var e,t;if(7!==AC.type&&4!==AC.type)t=ST();else{if(mT("++")||mT("--"))throw new Error(FC);if(mT("+")||mT("-")||mT("~")||mT("!"))e=iT(),t=MT(),t=function(e,t){const n=new CC("UnaryExpression");return n.operator=e,n.argument=t,n.prefix=!0,n}(e.value,t);else{if(gT("delete")||gT("void")||gT("typeof"))throw new Error(FC);t=ST()}}return t}function xT(e){let t=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function OT(){var e,t;return e=function(){var e,t,n,r,i,o,a,s,l,u;if(e=AC,l=MT(),0===(i=xT(r=AC)))return l;for(r.prec=i,iT(),t=[e,AC],o=[l,r,a=MT()];(i=xT(AC))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)a=o.pop(),s=o.pop().value,l=o.pop(),t.pop(),n=aT(s,l,a),o.push(n);(r=iT()).prec=i,o.push(r),t.push(AC),n=MT(),o.push(n)}for(n=o[u=o.length-1],t.pop();u>1;)t.pop(),n=aT(o[u-1].value,o[u-2],n),u-=2;return n}(),mT("?")&&(iT(),t=OT(),pT(":"),e=function(e,t,n){const r=new CC("ConditionalExpression");return r.test=e,r.consequent=t,r.alternate=n,r}(e,t,OT())),e}function CT(){const e=OT();if(mT(","))throw new Error(FC);return e}function TT(e){DC=0,EC=(RC=e).length,AC=null,oT();const t=CT();if(2!==AC.type)throw new Error("Unexpect token after expression.");return t}var RT={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function DT(e){function t(t,n,r){return i=>function(t,n,r,i){let o=e(n[0]);return r&&(o=r+"("+o+")",0===r.lastIndexOf("new ",0)&&(o="("+o+")")),o+"."+t+(i<0?"":0===i?"()":"("+n.slice(1).map(e).join(",")+")")}(t,i,n,r)}const n="new Date",r="String",i="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(t){t.length<3&&x("Missing arguments to clamp function."),t.length>3&&x("Too many arguments to clamp function.");const n=t.map(e);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:n,date:t("getDate",n,0),day:t("getDay",n,0),year:t("getFullYear",n,0),month:t("getMonth",n,0),hours:t("getHours",n,0),minutes:t("getMinutes",n,0),seconds:t("getSeconds",n,0),milliseconds:t("getMilliseconds",n,0),time:t("getTime",n,0),timezoneoffset:t("getTimezoneOffset",n,0),utcdate:t("getUTCDate",n,0),utcday:t("getUTCDay",n,0),utcyear:t("getUTCFullYear",n,0),utcmonth:t("getUTCMonth",n,0),utchours:t("getUTCHours",n,0),utcminutes:t("getUTCMinutes",n,0),utcseconds:t("getUTCSeconds",n,0),utcmilliseconds:t("getUTCMilliseconds",n,0),length:t("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:t("toUpperCase",r,0),lower:t("toLowerCase",r,0),substring:t("substring",r),split:t("split",r),trim:t("trim",r,0),regexp:i,test:t("test",i),if:function(t){t.length<3&&x("Missing arguments to if function."),t.length>3&&x("Too many arguments to if function.");const n=t.map(e);return"("+n[0]+"?"+n[1]+":"+n[2]+")"}}}var ET,AT,LT,jT,PT,IT,HT,NT,FT,YT,zT,BT,WT,$T,UT,VT,qT=new cw,GT=new cw,KT={point:jw,lineStart:jw,lineEnd:jw,polygonStart:function(){qT=new cw,KT.lineStart=ZT,KT.lineEnd=XT},polygonEnd:function(){var e=+qT;GT.add(e<0?gw+e:e),this.lineStart=this.lineEnd=this.point=jw},sphere:function(){GT.add(gw)}};function ZT(){KT.point=JT}function XT(){QT(ET,AT)}function JT(e,t){KT.point=QT,ET=e,AT=t,LT=e*=vw,jT=kw(t=(t*=vw)/2+mw),PT=Tw(t)}function QT(e,t){var n=(e*=vw)-LT,r=n>=0?1:-1,i=r*n,o=kw(t=(t*=vw)/2+mw),a=Tw(t),s=PT*a,l=jT*o+s*kw(i),u=s*r*Tw(i);qT.add(_w(u,l)),LT=e,jT=o,PT=a}var eR,tR,nR,rR,iR,oR,aR,sR,lR,uR,cR,dR,hR,fR,pR,mR,gR={point:yR,lineStart:bR,lineEnd:wR,polygonStart:function(){gR.point=_R,gR.lineStart=kR,gR.lineEnd=SR,$T=new cw,KT.polygonStart()},polygonEnd:function(){KT.polygonEnd(),gR.point=yR,gR.lineStart=bR,gR.lineEnd=wR,qT<0?(IT=-(NT=180),HT=-(FT=90)):$T>dw?FT=90:$T<-1e-6&&(HT=-90),VT[0]=IT,VT[1]=NT},sphere:function(){IT=-(NT=180),HT=-(FT=90)}};function yR(e,t){UT.push(VT=[IT=e,NT=e]),t<HT&&(HT=t),t>FT&&(FT=t)}function vR(e,t){var n=W_([e*vw,t*vw]);if(WT){var r=U_(WT,n),i=U_([r[1],-r[0],0],r);G_(i),i=B_(i);var o,a=e-YT,s=a>0?1:-1,l=i[0]*yw*s,u=bw(a)>180;u^(s*YT<l&&l<s*e)?(o=i[1]*yw)>FT&&(FT=o):u^(s*YT<(l=(l+360)%360-180)&&l<s*e)?(o=-i[1]*yw)<HT&&(HT=o):(t<HT&&(HT=t),t>FT&&(FT=t)),u?e<YT?MR(IT,e)>MR(IT,NT)&&(NT=e):MR(e,NT)>MR(IT,NT)&&(IT=e):NT>=IT?(e<IT&&(IT=e),e>NT&&(NT=e)):e>YT?MR(IT,e)>MR(IT,NT)&&(NT=e):MR(e,NT)>MR(IT,NT)&&(IT=e)}else UT.push(VT=[IT=e,NT=e]);t<HT&&(HT=t),t>FT&&(FT=t),WT=n,YT=e}function bR(){gR.point=vR}function wR(){VT[0]=IT,VT[1]=NT,gR.point=yR,WT=null}function _R(e,t){if(WT){var n=e-YT;$T.add(bw(n)>180?n+(n>0?360:-360):n)}else zT=e,BT=t;KT.point(e,t),vR(e,t)}function kR(){KT.lineStart()}function SR(){_R(zT,BT),KT.lineEnd(),bw($T)>dw&&(IT=-(NT=180)),VT[0]=IT,VT[1]=NT,WT=null}function MR(e,t){return(t-=e)<0?t+360:t}function xR(e,t){return e[0]-t[0]}function OR(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var CR={sphere:jw,point:TR,lineStart:DR,lineEnd:LR,polygonStart:function(){CR.lineStart=jR,CR.lineEnd=PR},polygonEnd:function(){CR.lineStart=DR,CR.lineEnd=LR}};function TR(e,t){e*=vw;var n=kw(t*=vw);RR(n*kw(e),n*Tw(e),Tw(t))}function RR(e,t,n){++eR,nR+=(e-nR)/eR,rR+=(t-rR)/eR,iR+=(n-iR)/eR}function DR(){CR.point=ER}function ER(e,t){e*=vw;var n=kw(t*=vw);fR=n*kw(e),pR=n*Tw(e),mR=Tw(t),CR.point=AR,RR(fR,pR,mR)}function AR(e,t){e*=vw;var n=kw(t*=vw),r=n*kw(e),i=n*Tw(e),o=Tw(t),a=_w(Dw((a=pR*o-mR*i)*a+(a=mR*r-fR*o)*a+(a=fR*i-pR*r)*a),fR*r+pR*i+mR*o);tR+=a,oR+=a*(fR+(fR=r)),aR+=a*(pR+(pR=i)),sR+=a*(mR+(mR=o)),RR(fR,pR,mR)}function LR(){CR.point=TR}function jR(){CR.point=IR}function PR(){HR(dR,hR),CR.point=TR}function IR(e,t){dR=e,hR=t,e*=vw,t*=vw,CR.point=HR;var n=kw(t);fR=n*kw(e),pR=n*Tw(e),mR=Tw(t),RR(fR,pR,mR)}function HR(e,t){e*=vw;var n=kw(t*=vw),r=n*kw(e),i=n*Tw(e),o=Tw(t),a=pR*o-mR*i,s=mR*r-fR*o,l=fR*i-pR*r,u=xw(a,s,l),c=Lw(u),d=u&&-c/u;lR.add(d*a),uR.add(d*s),cR.add(d*l),tR+=c,oR+=c*(fR+(fR=r)),aR+=c*(pR+(pR=i)),sR+=c*(mR+(mR=o)),RR(fR,pR,mR)}function NR(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function FR(e){return e instanceof Id?e:new Id(e)}const YR="intersect",zR="union",BR="_vgsid_",WR=C(BR),$R="index:unit";function UR(e,t){for(var n,r,i=t.fields,o=t.values,a=i.length,s=0;s<a;++s)if((r=i[s]).getter=C.getter||C(r.field),be(n=r.getter(e))&&(n=W(n)),be(o[s])&&(o[s]=W(o[s])),be(o[s][0])&&(o[s]=o[s].map(W)),"E"===r.type){if(I(o[s])?o[s].indexOf(n)<0:n!==o[s])return!1}else if("R"===r.type){if(!ye(n,o[s]))return!1}else if("R-RE"===r.type){if(!ye(n,o[s],!0,!1))return!1}else if("R-E"===r.type){if(!ye(n,o[s],!1,!1))return!1}else if("R-LE"===r.type&&!ye(n,o[s],!1,!0))return!1;return!0}const VR=function(e){let t=e,n=e,r=e;function i(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==n(t,t))return o;do{const n=i+o>>>1;r(e[n],t)<0?i=n+1:o=n}while(i<o)}return i}return 2!==e.length&&(t=(t,n)=>e(t)-n,n=NR,r=(t,n)=>NR(e(t),n)),{left:i,center:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;const a=i(e,n,r,o-1);return a>r&&t(e[a-1],n)>-t(e[a],n)?a-1:a},right:function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==n(t,t))return o;do{const n=i+o>>>1;r(e[n],t)<=0?i=n+1:o=n}while(i<o)}return i}}}(WR),qR=VR.left,GR=VR.right;var KR={["".concat(BR,"_union")]:function(){const e=new Id;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const t of n)for(const n of t)e.add(n);return e},["".concat(BR,"_intersect")]:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=new Id(e),n=n.map(FR);e:for(const t of e)for(const r of n)if(!r.has(t)){e.delete(t);continue e}return e},E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter((e=>t.indexOf(e)>=0)):t},R_union:function(e,t){var n=W(t[0]),r=W(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=W(t[0]),r=W(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};function ZR(e,t,n,r){t[0].type!==xC&&x("First argument to selection functions must be a string literal.");const i=t[0].value,o=":"+i;(t.length>=2&&B(t).value)!==YR||fe(r,"@unit")||(r["@unit"]=n.getData(i).indataRef(n,"unit")),fe(r,o)||(r[o]=n.getData(i).tuplesRef())}function XR(e){const t=this.context.data[e];return t?t.values.value:[]}const JR=e=>function(t,n){return this.context.dataflow.locale()[e](n)(t)},QR=JR("format"),eD=JR("timeFormat"),tD=JR("utcFormat"),nD=JR("timeParse"),rD=JR("utcParse"),iD=new Date(2e3,0,1);function oD(e,t,n){return Number.isInteger(e)&&Number.isInteger(t)?(iD.setYear(2e3),iD.setMonth(e),iD.setDate(t),eD.call(this,iD,n)):""}function aD(e,t,n,r){t[0].type!==xC&&x("First argument to data functions must be a string literal.");const i=t[0].value,o=":"+i;if(!fe(o,r))try{r[o]=n.getData(i).tuplesRef()}catch(e){}}function sD(e,t,n,r){if(t[0].type===xC)lD(n,r,t[0].value);else for(e in n.scales)lD(n,r,e)}function lD(e,t,n){const r="%"+n;if(!fe(t,r))try{t[r]=e.scaleRef(n)}catch(e){}}function uD(e,t){let n;return ne(e)?e:_e(e)?(n=t.scales[e])&&n.value:void 0}function cD(e,t){return function(n,r,i){if(n){const t=uD(n,(i||this).context);return t&&t.path[e](r)}return t(r)}}const dD=cD("area",(function(e){return GT=new cw,uw(e,KT),2*GT})),hD=cD("bounds",(function(e){var t,n,r,i,o,a,s;if(FT=NT=-(IT=HT=1/0),UT=[],uw(e,gR),n=UT.length){for(UT.sort(xR),t=1,o=[r=UT[0]];t<n;++t)OR(r,(i=UT[t])[0])||OR(r,i[1])?(MR(r[0],i[1])>MR(r[0],r[1])&&(r[1]=i[1]),MR(i[0],r[1])>MR(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,t=0,r=o[n=o.length-1];t<=n;r=i,++t)i=o[t],(s=MR(r[1],i[0]))>a&&(a=s,IT=i[0],NT=r[1])}return UT=VT=null,IT===1/0||HT===1/0?[[NaN,NaN],[NaN,NaN]]:[[IT,HT],[NT,FT]]})),fD=cD("centroid",(function(e){eR=tR=nR=rR=iR=oR=aR=sR=0,lR=new cw,uR=new cw,cR=new cw,uw(e,CR);var t=+lR,n=+uR,r=+cR,i=xw(t,n,r);return i<hw&&(t=oR,n=aR,r=sR,tR<dw&&(t=nR,n=rR,r=iR),(i=xw(t,n,r))<hw)?[NaN,NaN]:[_w(n,t)*yw,Lw(r/i)*yw]}));function pD(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(t){e.warn(t)}return n[n.length-1]}function mD(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function gD(e){const t=lc(e);return.2126*mD(t.r)+.7152*mD(t.g)+.0722*mD(t.b)}function yD(e,t){return e===t||e!=e&&t!=t||(I(e)?!(!I(t)||e.length!==t.length)&&function(e,t){for(let n=0,r=e.length;n<r;++n)if(!yD(e[n],t[n]))return!1;return!0}(e,t):!(!H(e)||!H(t))&&vD(e,t))}function vD(e,t){for(const n in e)if(!yD(e[n],t[n]))return!1;return!0}function bD(e){return t=>vD(e,t)}const wD={};function _D(e){return I(e)||ArrayBuffer.isView(e)?e:null}function kD(e){return _D(e)||(_e(e)?e:null)}const SD=e=>e.data;function MD(e,t){const n=XR.call(t,e);return n.root&&n.root.lookup||{}}const xD=()=>"undefined"!=typeof window&&window||null;function OD(e,t,n){if(!e)return[];const[r,i]=e,o=(new Gp).set(r[0],r[1],i[0],i[1]);return function(e,t,n){const r=[],i=(new Gp).union(t),o=e.marktype;return o?bv(e,i,n,r):"group"===o?wv(e,i,n,r):x("Intersect scene must be mark node or group item.")}(n||this.context.dataflow.scenegraph().root,o,function(e){let t=null;if(e){const n=te(e.marktype),r=te(e.markname);t=e=>(!n.length||n.some((t=>e.marktype===t)))&&(!r.length||r.some((t=>e.name===t)))}return t}(t))}const CD={random:()=>ya(),cumulativeNormal:Ma,cumulativeLogNormal:Da,cumulativeUniform:ja,densityNormal:Sa,densityLogNormal:Ra,densityUniform:La,quantileNormal:xa,quantileLogNormal:Ea,quantileUniform:Pa,sampleNormal:ka,sampleLogNormal:Ta,sampleUniform:Aa,isArray:I,isBoolean:ve,isDate:be,isDefined:e=>void 0!==e,isNumber:we,isObject:H,isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},isString:_e,isTuple:ko,isValid:e=>null!=e&&e==e,toBoolean:Oe,toDate:e=>Te(e),toNumber:W,toString:Re,indexof:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return kD(e).indexOf(...n)},join:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return _D(e).join(...n)},lastindexof:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return kD(e).lastIndexOf(...n)},replace:function(e,t,n){return ne(n)&&x("Function argument passed to replace."),String(e).replace(t,n)},reverse:function(e){return _D(e).slice().reverse()},slice:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return kD(e).slice(...n)},flush:function(e,t,n,r,i,o){if(!n&&0!==n)return o;const a=+n;let s,l=e[0],u=B(e);u<l&&(s=l,l=u,u=s),s=Math.abs(t-l);const c=Math.abs(u-t);return s<c&&s<=a?r:c<=a?i:o},lerp:function(e,t){const n=e[0],r=B(e),i=+t;return i?1===i?r:n+i*(r-n):n},merge:function(){const e=[].slice.call(arguments);return e.unshift({}),ce(...e)},pad:function(e,t,n,r){const i=n||" ",o=e+"",a=t-o.length;return a<=0?o:"left"===r?Se(i,a)+o:"center"===r?Se(i,~~(a/2))+o+Se(i,Math.ceil(a/2)):o+Se(i,a)},peek:B,pluck:function(e,t){const n=wD[t]||(wD[t]=C(t));return I(e)?e.map(n):n(e)},span:Me,inrange:ye,truncate:function(e,t,n,r){const i=null!=r?r:"…",o=e+"",a=o.length,s=Math.max(0,t-i.length);return a<=t?o:"left"===n?i+o.slice(a-s):"center"===n?o.slice(0,Math.ceil(s/2))+i+o.slice(a-~~(s/2)):o.slice(0,s)+i},rgb:lc,lab:dh,hcl:vh,hsl:yc,luminance:gD,contrast:function(e,t){const n=gD(e),r=gD(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},sequence:Ga,format:QR,utcFormat:tD,utcParse:rD,utcOffset:function(e,t,n){return Qn(Jn(e),t,n)},utcSequence:function(e,t,n,r){return er(Jn(e),t,n,r)},timeFormat:eD,timeParse:nD,timeOffset:function(e,t,n){return Qn(Xn(e),t,n)},timeSequence:function(e,t,n,r){return er(Xn(e),t,n,r)},timeUnitSpecifier:function(e,t){const n=ce({},Dn,t),r=Rn(e),i=r.length;let o,a,s="",l=0;for(l=0;l<i;)for(o=r.length;o>l;--o)if(a=r.slice(l,o).join("-"),null!=n[a]){s+=n[a],l=o;break}return s.trim()},monthFormat:function(e){return oD.call(this,e,1,"%B")},monthAbbrevFormat:function(e){return oD.call(this,e,1,"%b")},dayFormat:function(e){return oD.call(this,0,2+e,"%A")},dayAbbrevFormat:function(e){return oD.call(this,0,2+e,"%a")},quarter:function(e){return 1+~~(new Date(e).getMonth()/3)},utcquarter:function(e){return 1+~~(new Date(e).getUTCMonth()/3)},week:function(e){return jn(new Date(e))},utcweek:function(e){return Nn(new Date(e))},dayofyear:function(e){return Ln(new Date(e))},utcdayofyear:function(e){return Hn(new Date(e))},warn:function(){return pD(this.context.dataflow,"warn",arguments)},info:function(){return pD(this.context.dataflow,"info",arguments)},debug:function(){return pD(this.context.dataflow,"debug",arguments)},extent:e=>de(e),inScope:function(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n},intersect:OD,clampRange:function(e,t,n){let r,i=e[0],o=e[1];return o<i&&(r=o,o=i,i=r),r=o-i,r>=n-t?[t,n]:[i=Math.min(Math.max(i,t),n-r),i+r]},pinchDistance:function(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+r*r)},pinchAngle:function(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)},screen:function(){const e=xD();return e?e.screen:{}},containerSize:function(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]},windowSize:function(){const e=xD();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]},bandspace:function(e,t,n){return Yh(e||0,t||0,n||0)},setdata:function(e,t){const n=this.context.dataflow,r=this.context.data[e].input;return n.pulse(r,n.changeset().remove(A).insert(t)),1},pathShape:function(e){let t=null;return function(n){return n?_p(n,t=t||cp(e)):e}},panLinear:function(e,t){return K(e,t,W,R)},panLog:function(e,t){var n=Math.sign(e[0]);return K(e,t,U(n),$(n))},panPow:function(e,t,n){return K(e,t,G(n),G(1/n))},panSymlog:function(e,t,n){return K(e,t,V(n),q(n))},zoomLinear:X,zoomLog:J,zoomPow:Q,zoomSymlog:ee,encode:function(e,t,n){if(e){const n=this.context.dataflow,r=e.mark.source;n.pulse(r,n.changeset().encode(e,t))}return void 0!==n?n:e},modify:function(e,t,n,r,i,o){const a=this.context.dataflow,s=this.context.data[e],l=s.input,u=a.stamp();let c,d,h=s.changes;if(!1===a._trigger||!(l.value.length||t||r))return 0;if((!h||h.stamp<u)&&(s.changes=h=a.changeset(),h.stamp=u,a.runAfter((()=>{s.modified=!0,a.pulse(l,h).run()}),!0,1)),n&&(c=!0===n?A:I(n)||ko(n)?n:bD(n),h.remove(c)),t&&h.insert(t),r&&(c=bD(r),l.value.some(c)?h.remove(c):h.insert(r)),i)for(d in o)h.modify(i,d,o[d]);return 1},lassoAppend:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;const i=e[e.length-1];return void 0===i||Math.sqrt((i[0]-t)**2+(i[1]-n)**2)>r?(e.push([t,n]),[...e]):e},lassoPath:function(e){return(null!=e?e:[]).reduce(((t,n,r)=>{let[i,o]=n;return t+(0==r?"M ".concat(i,",").concat(o," "):r===e.length-1?" Z":"L ".concat(i,",").concat(o," "))}),"")},intersectLasso:function(e,t,n){const{x:r,y:i,mark:o}=n,a=(new Gp).set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[e,n]of t)e<a.x1&&(a.x1=e),e>a.x2&&(a.x2=e),n<a.y1&&(a.y1=n),n>a.y2&&(a.y2=n);return a.translate(r,i),OD([[a.x1,a.y1],[a.x2,a.y2]],e,o).filter((e=>function(e,t,n){let r=0;for(let i=0,o=n.length-1;i<n.length;o=i++){const[a,s]=n[o],[l,u]=n[i];u>t!=s>t&&e<(a-l)*(t-u)/(s-u)+l&&r++}return 1&r}(e.x,e.y,t)))}},TD=["view","item","group","xy","x","y"],RD="this.",DD={},ED={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>"_[".concat(xe("$"+e),"]"),functions:function(e){const t=DT(e);TD.forEach((e=>t[e]="event.vega."+e));for(const e in CD)t[e]=RD+e;return ce(t,function(e,t,n){t.__bandwidth=e=>e&&e.bandwidth?e.bandwidth():0,n._bandwidth=sD,n._range=sD,n._scale=sD;const r=t=>"_["+(t.type===xC?xe("%"+t.value):xe("%")+"+"+e(t))+"]";return{_bandwidth:e=>"this.__bandwidth(".concat(r(e[0]),")"),_range:e=>"".concat(r(e[0]),".range()"),_scale:t=>"".concat(r(t[0]),"(").concat(e(t[1]),")")}}(e,CD,DD)),t},constants:RT,visitors:DD},AD=function(e){const t=(e=e||{}).allowed?De(e.allowed):{},n=e.forbidden?De(e.forbidden):{},r=e.constants||RT,i=(e.functions||DT)(d),o=e.globalvar,a=e.fieldvar,s=ne(o)?o:e=>`${o}["${e}"]`;let l={},u={},c=0;function d(e){if(_e(e))return e;const t=h[e.type];return null==t&&x("Unsupported type: "+e.type),t(e)}const h={Literal:e=>e.raw,Identifier:e=>{const i=e.name;return c>0?i:fe(n,i)?x("Illegal identifier: "+i):fe(r,i)?r[i]:fe(t,i)?i:(l[i]=1,s(i))},MemberExpression:e=>{const t=!e.computed,n=d(e.object);t&&(c+=1);const r=d(e.property);return n===a&&(u[function(e){const t=e&&e.length-1;return t&&('"'===e[0]&&'"'===e[t]||"'"===e[0]&&"'"===e[t])?e.slice(1,-1):e}(r)]=1),t&&(c-=1),n+(t?"."+r:"["+r+"]")},CallExpression:e=>{"Identifier"!==e.callee.type&&x("Illegal callee type: "+e.callee.type);const t=e.callee.name,n=e.arguments,r=fe(i,t)&&i[t];return r||x("Unrecognized function: "+t),ne(r)?r(n):r+"("+n.map(d).join(",")+")"},ArrayExpression:e=>"["+e.elements.map(d).join(",")+"]",BinaryExpression:e=>"("+d(e.left)+" "+e.operator+" "+d(e.right)+")",UnaryExpression:e=>"("+e.operator+d(e.argument)+")",ConditionalExpression:e=>"("+d(e.test)+"?"+d(e.consequent)+":"+d(e.alternate)+")",LogicalExpression:e=>"("+d(e.left)+e.operator+d(e.right)+")",ObjectExpression:e=>"{"+e.properties.map(d).join(",")+"}",Property:e=>{c+=1;const t=d(e.key);return c-=1,t+":"+d(e.value)}};function f(e){const t={code:d(e),globals:Object.keys(l),fields:Object.keys(u)};return l={},u={},t}return f.functions=i,f.constants=r,f}(ED);function LD(e,t,n){return 1===arguments.length?CD[e]:(CD[e]=t,n&&(DD[e]=n),AD&&(AD.functions[e]=RD+e),this)}function jD(e,t){const n={};let r;try{r=TT(e=_e(e)?e:xe(e)+"")}catch(t){x("Expression parse error: "+e)}r.visit((e=>{if(e.type!==OC)return;const r=e.callee.name,i=ED.visitors[r];i&&i(r,e.arguments,t,n)}));const i=AD(r);return i.globals.forEach((e=>{const r="$"+e;!fe(n,r)&&t.getSignal(e)&&(n[r]=t.signalRef(e))})),{$expr:ce({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}LD("bandwidth",(function(e,t){const n=uD(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}),sD),LD("copy",(function(e,t){const n=uD(e,(t||this).context);return n?n.copy():void 0}),sD),LD("domain",(function(e,t){const n=uD(e,(t||this).context);return n?n.domain():[]}),sD),LD("range",(function(e,t){const n=uD(e,(t||this).context);return n&&n.range?n.range():[]}),sD),LD("invert",(function(e,t,n){const r=uD(e,(n||this).context);return r?I(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}),sD),LD("scale",(function(e,t,n){const r=uD(e,(n||this).context);return r?r(t):void 0}),sD),LD("gradient",(function(e,t,n,r,i){e=uD(e,(i||this).context);const o=function(e,t){var n,r=[];return n={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:r,stop:function(e,t){return r.push({offset:e,color:t}),n}}}(t,n);let a=e.domain(),s=a[0],l=B(a),u=R;return l-s?u=Cf(e,s,l):e=(e.interpolator?gf("sequential")().interpolator(e.interpolator()):gf("linear")().interpolate(e.interpolate()).range(e.range())).domain([s=0,l=1]),e.ticks&&(a=e.ticks(+r||15),s!==a[0]&&a.unshift(s),l!==B(a)&&a.push(l)),a.forEach((t=>o.stop(u(t),e(t)))),o}),sD),LD("geoArea",dD,sD),LD("geoBounds",hD,sD),LD("geoCentroid",fD,sD),LD("geoShape",(function(e,t,n){const r=uD(e,(n||this).context);return function(e){return r?r.path.context(e)(t):""}}),sD),LD("indata",(function(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i?i.count:i}),(function(e,t,n,r){t[0].type!==xC&&x("First argument to indata must be a string literal."),t[1].type!==xC&&x("Second argument to indata must be a string literal.");const i=t[0].value,o=t[1].value,a="@"+o;fe(a,r)||(r[a]=n.getData(i).indataRef(n,o))})),LD("data",XR,aD),LD("treePath",(function(e,t,n){const r=MD(e,this),i=r[t],o=r[n];return i&&o?i.path(o).map(SD):void 0}),aD),LD("treeAncestors",(function(e,t){const n=MD(e,this)[t];return n?n.ancestors().map(SD):void 0}),aD),LD("vlSelectionTest",(function(e,t,n){for(var r,i,o,a,s,l=this.context.data[e],u=l?l.values.value:[],c=l?l[$R]&&l[$R].value:void 0,d=n===YR,h=u.length,f=0;f<h;++f)if(r=u[f],c&&d){if(-1===(o=(i=i||{})[a=r.unit]||0))continue;if(s=UR(t,r),i[a]=s?-1:++o,s&&1===c.size)return!0;if(!s&&o===c.get(a).count)return!1}else if(d^(s=UR(t,r)))return s;return h&&d}),ZR),LD("vlSelectionIdTest",(function(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],o=r?r[$R]&&r[$R].value:void 0,a=n===YR,s=WR(t),l=qR(i,s);if(l===i.length)return!1;if(WR(i[l])!==s)return!1;if(o&&a){if(1===o.size)return!0;if(GR(i,s)-l<o.size)return!1}return!0}),ZR),LD("vlSelectionResolve",(function(e,t,n,r){for(var i,o,a,s,l,u,c,d,h,f,p,m,g=this.context.data[e],y=g?g.values.value:[],v={},b={},w={},_=y.length,k=0;k<_;++k)if(s=(i=y[k]).unit,o=i.fields,a=i.values,o&&a){for(p=0,m=o.length;p<m;++p)l=o[p],d=(c=v[l.field]||(v[l.field]={}))[s]||(c[s]=[]),w[l.field]=h=l.type.charAt(0),f=KR["".concat(h,"_union")],c[s]=f(d,te(a[p]));n&&(d=b[s]||(b[s]=[])).push(te(a).reduce(((e,t,n)=>(e[o[n].field]=t,e)),{}))}else l=BR,u=WR(i),(d=(c=v[l]||(v[l]={}))[s]||(c[s]=[])).push(u),n&&(d=b[s]||(b[s]=[])).push({[BR]:u});return t=t||zR,v._vgsid_?v._vgsid_=KR["".concat(BR,"_").concat(t)](...Object.values(v._vgsid_)):Object.keys(v).forEach((e=>{v[e]=Object.keys(v[e]).map((t=>v[e][t])).reduce(((n,r)=>void 0===n?r:KR["".concat(w[e],"_").concat(t)](n,r)))})),y=Object.keys(b),n&&y.length&&(v[r?"vlPoint":"vlMulti"]=t===zR?{or:y.reduce(((e,t)=>(e.push(...b[t]),e)),[])}:{and:y.map((e=>({or:b[e]})))}),v}),ZR),LD("vlSelectionTuples",(function(e,t){return e.map((e=>ce(t.fields?{values:t.fields.map((t=>(t.getter||(t.getter=C(t.field)))(e.datum)))}:{[BR]:WR(e.datum)},t)))}));const PD=De(["rule"]),ID=De(["group","image","rect"]);function HD(e){return(e+"").toLowerCase()}function ND(e,t,n){";"!==n[n.length-1]&&(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}var FD={operator:(e,t)=>ND(e,["_"],t.code),parameter:(e,t)=>ND(e,["datum","_"],t.code),event:(e,t)=>ND(e,["event"],t.code),handler:(e,t)=>ND(e,["_","event"],"var datum=event.item&&event.item.datum;return ".concat(t.code,";")),encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const e in r){const t="o["+xe(e)+"]";i+="$=".concat(r[e].code,";if(").concat(t,"!==$)").concat(t,"=$,m=1;")}return i+=function(e,t){let n="";return PD[t]||(e.x2&&(e.x?(ID[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(ID[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}(r,n),i+="return m;",ND(e,["item","_"],i)},codegen:{get(e){const t="[".concat(e.map(xe).join("]["),"]"),n=Function("_","return _".concat(t,";"));return n.path=t,n},comparator(e,t){let n;const r=Function("a","b","var u, v; return "+e.map(((e,r)=>{const i=t[r];let o,a;return e.path?(o="a".concat(e.path),a="b".concat(e.path)):((n=n||{})["f"+r]=e,o="this.f".concat(r,"(a)"),a="this.f".concat(r,"(b)")),function(e,t,n,r){return"((u = ".concat(e,") < (v = ").concat(t,") || u == null) && v != null ? ").concat(n,"\n  : (u > v || v == null) && u != null ? ").concat(r,"\n  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ").concat(n,"\n  : v !== v && u === u ? ").concat(r," : ")}(o,a,-i,i)})).join("")+"0;");return n?r.bind(n):r}}};function YD(e,t,n){if(!e||!H(e))return e;for(let r,i=0,o=zD.length;i<o;++i)if(r=zD[i],fe(e,r.key))return r.parse(e,t,n);return e}var zD=[{key:"$ref",parse:function(e,t){return t.get(e.$ref)||x("Operator not defined: "+e.$ref)}},{key:"$key",parse:function(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=ke(e.$key,e.$flat,t.expr.codegen))}},{key:"$expr",parse:function(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code+"_"+e.$name;return t.fn[r]||(t.fn[r]=b(t.parameterExpression(e.$expr),e.$fields,e.$name))}},{key:"$field",parse:function(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=C(e.$field,e.$name,t.expr.codegen))}},{key:"$encode",parse:function(e,t){const n=e.$encode,r={};for(const e in n){const i=n[e];r[e]=b(t.encodeExpression(i.$expr),i.$fields),r[e].output=i.$output}return r}},{key:"$compare",parse:function(e,t){const n="c:"+e.$compare+"_"+e.$order,r=te(e.$compare).map((e=>e&&e.$tupleid?So:e));return t.fn[n]||(t.fn[n]=re(r,e.$order,t.expr.codegen))}},{key:"$context",parse:function(e,t){return t}},{key:"$subflow",parse:function(e,t){const n=e.$subflow;return function(e,r,i){const o=t.fork().parse(n),a=o.get(n.operators[0].id),s=o.signals.parent;return s&&s.set(i),a.detachSubflow=()=>t.detach(o),a}}},{key:"$tupleid",parse:function(){return So}}];const BD={skip:!0};function WD(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||FD,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function $D(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}function UD(e,t){e&&(null==t?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}WD.prototype=$D.prototype={fork(){const e=new $D(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter((t=>t!==e));const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),"collect"===HD(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let i=n.get(e.parent.$ref);i?(r.connect(i,[t]),t.targets().add(i)):(n.unresolved=n.unresolved||[]).push((()=>{i=n.get(e.parent.$ref),r.connect(i,[t]),t.targets().add(i)}))}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const r in e.data){const i=n.data[r]||(n.data[r]={});e.data[r].forEach((e=>i[e]=t))}},resolve(){return(this.unresolved||[]).forEach((e=>e())),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[HD(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:function(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach((e=>t.parseOperator(e))),n.forEach((e=>t.parseOperatorParameters(e))),(e.streams||[]).forEach((e=>t.parseStream(e))),(e.updates||[]).forEach((e=>t.parseUpdate(e))),t.resolve()},parseOperator:function(e){const t=this;"operator"!==HD(e.type)&&e.type?t.transform(e,e.type):t.operator(e,e.update?t.operatorExpression(e.update):null)},parseOperatorParameters:function(e){const t=this;if(e.params){const n=t.get(e.id);n||x("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}},parseParameters:function(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=I(i)?i.map((e=>YD(e,n,t))):YD(i,n,t)}return t},parseStream:function(e){var t,n=this,r=null!=e.filter?n.eventExpression(e.filter):void 0,i=null!=e.stream?n.get(e.stream):void 0;e.source?i=n.events(e.source,e.type,r):e.merge&&(i=(t=e.merge.map((e=>n.get(e))))[0].merge.apply(t[0],t.slice(1))),e.between&&(t=e.between.map((e=>n.get(e))),i=i.between(t[0],t[1])),e.filter&&(i=i.filter(r)),null!=e.throttle&&(i=i.throttle(+e.throttle)),null!=e.debounce&&(i=i.debounce(+e.debounce)),null==i&&x("Invalid stream definition: "+JSON.stringify(e)),e.consume&&i.consume(!0),n.stream(e,i)},parseUpdate:function(e){var t,n=this,r=H(r=e.source)?r.$ref:r,i=n.get(r),o=e.update,a=void 0;i||x("Source not defined: "+e.source),t=e.target&&e.target.$expr?n.eventExpression(e.target.$expr):n.get(e.target),o&&o.$expr&&(o.$params&&(a=n.parseParameters(o.$params)),o=n.handlerExpression(o.$expr)),n.update(e,i,t,o,a)},getState:function(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach((n=>{const i=t.signals[n];e.signals(n,i)&&(r[n]=i.value)}))}if(e.data){var i=n.data={};Object.keys(t.data).forEach((n=>{const r=t.data[n];e.data(n,r)&&(i[n]=r.input.value)}))}return t.subcontext&&!1!==e.recurse&&(n.subcontext=t.subcontext.map((t=>t.getState(e)))),n},setState:function(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach((e=>{n.update(t.signals[e],i[e],BD)})),Object.keys(r||{}).forEach((e=>{n.pulse(t.data[e].input,n.changeset().remove(A).insert(r[e]))})),(e.subcontext||[]).forEach(((e,n)=>{const r=t.subcontext[n];r&&r.setState(e)}))}};const VD="default";function qD(e,t){const n=e.globalCursor()?"undefined"!=typeof document&&document.body:e.container();if(n)return null==t?n.style.removeProperty("cursor"):n.style.cursor=t}function GD(e,t){var n=e._runtime.data;return fe(n,t)||x("Unrecognized data set: "+t),n[t]}function KD(e,t){Do(t)||x("Second argument to changes must be a changeset.");const n=GD(this,e);return n.modified=!0,this.pulse(n.input,t)}function ZD(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function XD(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function JD(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}const QD="view",eE={trap:!1};function tE(e,t,n,r){e._eventListeners.push({type:n,sources:te(t),handler:r})}function nE(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return!(!1===r||H(r)&&!r[n])||(e.warn("Blocked ".concat(t," ").concat(n," event listener.")),!1)}function rE(e){return e.item}function iE(e){return e.item.mark.source}function oE(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function aE(e,t,n){const r=document.createElement(e);for(const e in t)r.setAttribute(e,t[e]);return null!=n&&(r.textContent=n),r}function sE(e,t,n,r){const i=n.event||"input",o=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,o),tE(r,t,i,o),e.set=e=>{t.value=e,t.dispatchEvent(function(e){return"undefined"!=typeof Event?new Event(e):{type:e}}(i))}}function lE(e,t,n,r){const i=r.signal(n.signal),o=aE("div",{class:"vega-bind"}),a="radio"===n.input?o:o.appendChild(aE("label"));a.appendChild(aE("span",{class:"vega-bind-name"},n.name||n.signal)),t.appendChild(o);let s=uE;switch(n.input){case"checkbox":s=cE;break;case"select":s=dE;break;case"radio":s=hE;break;case"range":s=fE}s(e,a,n,i)}function uE(e,t,n,r){const i=aE("input");for(const e in n)"signal"!==e&&"element"!==e&&i.setAttribute("input"===e?"type":e,n[e]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",(()=>e.update(i.value))),e.elements=[i],e.set=e=>i.value=e}function cE(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const o=aE("input",i);t.appendChild(o),o.addEventListener("change",(()=>e.update(o.checked))),e.elements=[o],e.set=e=>o.checked=!!e||null}function dE(e,t,n,r){const i=aE("select",{name:n.signal}),o=n.labels||[];n.options.forEach(((e,t)=>{const n={value:e};pE(e,r)&&(n.selected=!0),i.appendChild(aE("option",n,(o[t]||e)+""))})),t.appendChild(i),i.addEventListener("change",(()=>{e.update(n.options[i.selectedIndex])})),e.elements=[i],e.set=e=>{for(let t=0,r=n.options.length;t<r;++t)if(pE(n.options[t],e))return void(i.selectedIndex=t)}}function hE(e,t,n,r){const i=aE("span",{class:"vega-bind-radio"}),o=n.labels||[];t.appendChild(i),e.elements=n.options.map(((t,a)=>{const s={type:"radio",name:n.signal,value:t};pE(t,r)&&(s.checked=!0);const l=aE("input",s);l.addEventListener("change",(()=>e.update(t)));const u=aE("label",{},(o[a]||t)+"");return u.prepend(l),i.appendChild(u),l})),e.set=t=>{const n=e.elements,r=n.length;for(let e=0;e<r;++e)pE(n[e].value,t)&&(n[e].checked=!0)}}function fE(e,t,n,r){r=void 0!==r?r:(+n.max+ +n.min)/2;const i=null!=n.max?n.max:Math.max(100,+r)||100,o=n.min||Math.min(0,i,+r)||0,a=n.step||Xe(o,i,100),s=aE("input",{type:"range",name:n.signal,min:o,max:i,step:a});s.value=r;const l=aE("span",{},+r);t.appendChild(s),t.appendChild(l);const u=()=>{l.textContent=s.value,e.update(+s.value)};s.addEventListener("input",u),s.addEventListener("change",u),e.elements=[s],e.set=e=>{s.value=e,l.textContent=e}}function pE(e,t){return e===t||e+""==t+""}function mE(e,t,n,r,i,o){return(t=t||new r(e.loader())).initialize(n,ZD(e),XD(e),JD(e),i,o).background(e.background())}function gE(e,t){return t?function(){try{t.apply(this,arguments)}catch(t){e.error(t)}}:null}function yE(e,t,n){if("string"==typeof t){if("undefined"==typeof document)return e.error("DOM document instance not found."),null;if(!(t=document.querySelector(t)))return e.error("Signal bind element not found: "+t),null}if(t&&n)try{t.textContent=""}catch(n){t=null,e.error(n)}return t}const vE=e=>+e||0;function bE(e){return H(e)?{top:vE(e.top),bottom:vE(e.bottom),left:vE(e.left),right:vE(e.right)}:(e=>({top:e,bottom:e,left:e,right:e}))(vE(e))}async function wE(e,t,n,r){const i=vv(t),o=i&&i.headless;return o||x("Unrecognized renderer type: "+t),await e.runAsync(),mE(e,null,null,o,n,r).renderAsync(e._scenegraph.root)}var _E="padding",kE={skip:!0};function SE(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===_E?r.left+r.right:0)}function ME(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===_E?r.top+r.bottom:0)}function xE(e,t){return t.modified&&I(t.input.value)&&e.indexOf("_:vega:_")}function OE(e,t){return!("parent"===e||t instanceof na.proxy)}function CE(e,t,n,r){const i=e.element();i&&i.setAttribute("title",function(e){return null==e?"":I(e)?TE(e):H(e)&&!be(e)?(t=e,Object.keys(t).map((e=>{const n=t[e];return e+": "+(I(n)?TE(n):RE(n))})).join("\n")):e+"";var t}(r))}function TE(e){return"["+e.map(RE).join(", ")+"]"}function RE(e){return I(e)?"[…]":H(e)&&!be(e)?"{…}":e}function DE(e,t){const n=this;if(t=t||{},Qo.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),null!=t.logLevel&&n.logLevel(t.logLevel),t.locale||e.locale){const r=ce({},e.locale,t.locale);n.locale(function(e,t){const n=e?Yi(e):zi(),r=t?$i(t):Ui();return Vi(n,r)}(r.number,r.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||mv,n._scenegraph=new Zg;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||CE,n._redraw=!0,n._handler=(new ky).scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=function(e){const t=ce({defaults:{}},e),n=(e,t)=>{t.forEach((t=>{I(e[t])&&(e[t]=De(e[t]))}))};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=function(e,t,n){return function(e,t,n,r){return new WD(e,t,n,r)}(e,na,CD,n).parse(t)}(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map((e=>({state:null,param:ce({},e)}))),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=SE(n,n._width),n._viewHeight=ME(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,function(e){var t=e._signals,n=t.width,r=t.height,i=t.padding;function o(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,(t=>{e._width=t.size,e._viewWidth=SE(e,t.size),o()}),{size:n}),e._resizeHeight=e.add(null,(t=>{e._height=t.size,e._viewHeight=ME(e,t.size),o()}),{size:r});const a=e.add(null,o,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,a.rank=i.rank+1}(n),function(e){e.add(null,(t=>(e._background=t.bg,e._resize=1,t.bg)),{bg:e._signals.background})}(n),function(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:VD,item:null}));e.on(e.events("view","mousemove"),t,((e,n)=>{const r=t.value,i=r?_e(r)?r:r.user:VD,o=n.item&&n.item.cursor||null;return r&&i===r.user&&o==r.item?r:{user:i,item:o}})),e.add(null,(function(t){let n=t.cursor,r=this.value;return _e(n)||(r=n.item,n=n.user),qD(e,n&&n!==VD?n:r||n),r}),{cursor:t})}(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind)}function EE(e,t){return fe(e._signals,t)?e._signals[t]:x("Unrecognized signal name: "+xe(t))}function AE(e,t){const n=(e._targets||[]).filter((e=>e._update&&e._update.handler===t));return n.length?n[0]:null}function LE(e,t,n,r){let i=AE(n,r);return i||(i=gE(e,(()=>r(t,n.value))),i.handler=r,e.on(n,null,i)),e}function jE(e,t,n){const r=AE(t,n);return r&&t._targets.remove(r),e}ge(DE,Qo,{async evaluate(e,t,n){if(await Qo.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,i=JD(r=this),o=ZD(r),a=XD(r),r._renderer.background(r.background()),r._renderer.resize(o,a,i),r._handler.origin(i),r._resizeListeners.forEach((e=>{try{e(o,a)}catch(e){r.error(e)}}))),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(e){this.error(e)}var r,i,o,a;return n&&bo(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=null!=e?e+"":null;return t!==this._desc&&UD(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=EE(this,e);return 1===arguments.length?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",bE(e)):bE(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(vv(e)||x("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(Qo.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(EE(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(e,t,n,r,i,o){this.runAfter((a=>{let s=0;a._autosize=0,a.width()!==n&&(s=1,a.signal("width",n,kE),a._resizeWidth.skip(!0)),a.height()!==r&&(s=1,a.signal("height",r,kE),a._resizeHeight.skip(!0)),a._viewWidth!==e&&(a._resize=1,a._viewWidth=e),a._viewHeight!==t&&(a._resize=1,a._viewHeight=t),a._origin[0]===i[0]&&a._origin[1]===i[1]||(a._resize=1,a._origin=i),s&&a.run("enter"),o&&a.runAfter((e=>e.resize()))}),!1,1)},addEventListener(e,t,n){let r=t;return n&&!1===n.trap||(r=gE(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n,r,i=this._handler.handlers(e),o=i.length;--o>=0;)if(r=i[o].type,n=i[o].handler,e===r&&(t===n||t===n.raw)){this._handler.off(r,n);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return LE(this,e,EE(this,e),t)},removeSignalListener(e,t){return jE(this,EE(this,e),t)},addDataListener(e,t){return LE(this,e,GD(this,e).values,t)},removeDataListener(e,t){return jE(this,GD(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=qD(this,null);this._globalCursor=!!e,t&&qD(this,t)}return this}return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:function(e,t){this._timers.push(function(e,t,n){var r=new wM,i=t;return null==t?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(e,t,n){t=+t,n=null==n?vM():+n,r._restart((function o(a){a+=i,r._restart(o,i+=t,n),e(a)}),t,n)},r.restart(e,t,n),r)}((function(t){e({timestamp:Date.now(),elapsed:t})}),t))},events:function(e,t,n){var r,i=this,o=new Fo(n),a=function(n,r){i.runAsync(null,(()=>{e===QD&&function(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return!1!==r&&!0!==i&&(!0===r||!1===i||(r?r[t]:i?!i[t]:e.preventDefault()))}(i,t)&&n.preventDefault(),o.receive(function(e,t,n){var r,i,o=e._renderer,a=o&&o.canvas();return a&&(i=JD(e),(r=ry(t.changedTouches?t.changedTouches[0]:t,a))[0]-=i[0],r[1]-=i[1]),t.dataflow=e,t.item=n,t.vega=function(e,t,n){const r=t?"group"===t.mark.marktype?t:t.mark.group:null;function i(e){var n,i=r;if(e)for(n=t;n;n=n.mark.group)if(n.mark.name===e){i=n;break}return i&&i.mark&&i.mark.interactive?i:{}}function o(e){if(!e)return n;_e(e)&&(e=i(e));const t=n.slice();for(;e;)t[0]-=e.x||0,t[1]-=e.y||0,e=e.mark&&e.mark.group;return t}return{view:le(e),item:le(t||{}),group:i,xy:o,x:e=>o(e)[0],y:e=>o(e)[1]}}(e,n,r),t}(i,n,r))}))};if("timer"===e)nE(i,"timer",t)&&i.timer(a,t);else if(e===QD)nE(i,"view",t)&&i.addEventListener(t,a,eE);else if("window"===e?nE(i,"window",t)&&"undefined"!=typeof window&&(r=[window]):"undefined"!=typeof document&&nE(i,"selector",t)&&(r=document.querySelectorAll(e)),r){for(var s=0,l=r.length;s<l;++s)r[s].addEventListener(t,a);tE(i,r,t,a)}else i.warn("Can not resolve event source: "+e);return o},finalize:function(){var e,t,n,r=this._tooltip,i=this._timers,o=this._eventListeners;for(e=i.length;--e>=0;)i[e].stop();for(e=o.length;--e>=0;)for(t=(n=o[e]).sources.length;--t>=0;)n.sources[t].removeEventListener(n.type,n.handler);return r&&r.call(this,this._handler,null,null,null),this},hover:function(e,t){return t=[t||"update",(e=[e||"hover"])[0]],this.on(this.events("view","mouseover",rE),iE,oE(e)),this.on(this.events("view","mouseout",rE),iE,oE(t)),this},data:function(e,t){return arguments.length<2?GD(this,e).values.value:KD.call(this,e,Eo().remove(A).insert(t))},change:KD,insert:function(e,t){return KD.call(this,e,Eo().insert(t))},remove:function(e,t){return KD.call(this,e,Eo().remove(t))},scale:function(e){var t=this._runtime.scales;return fe(t,e)||x("Unrecognized scale or projection: "+e),t[e].value},initialize:function(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,o=vv(r);e=n._el=e?yE(n,e,!0):null,function(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),UD(t,e.description()))}(n),o||n.error("Unrecognized renderer type: "+r);const a=o.handler||ky,s=e?o.renderer:o.headless;return n._renderer=s?mE(n,n._renderer,e,s):null,n._handler=function(e,t,n,r){const i=new r(e.loader(),gE(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,JD(e),e);return t&&t.handlers().forEach((e=>{i.on(e.type,e.handler)})),i}(n,n._handler,e,a),n._redraw=!0,e&&"none"!==i&&(t=t?n._elBind=yE(n,t,!0):e.appendChild(aE("form",{class:"vega-bindings"})),n._bind.forEach((e=>{e.param.element&&"container"!==i&&(e.element=yE(n,e.param.element,!!e.param.input))})),n._bind.forEach((e=>{!function(e,t,n){if(!t)return;const r=n.param;let i=n.state;i||(i=n.state={elements:null,active:!1,set:null,update:t=>{t!=e.signal(r.signal)&&e.runAsync(null,(()=>{i.source=!0,e.signal(r.signal,t)}))}},r.debounce&&(i.update=ue(r.debounce,i.update))),(null==r.input&&r.element?sE:lE)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,(()=>{i.source?i.source=!1:i.set(e.signal(r.signal))})),i.active=!0)}(n,e.element||t,e)}))),n},toImageURL:async function(e,t){e!==mv&&e!==gv&&"png"!==e&&x("Unrecognized image type: "+e);const n=await wE(this,e,t);return e===gv?function(e,t){const n=new Blob([e],{type:"image/svg+xml"});return window.URL.createObjectURL(n)}(n.svg()):n.canvas().toDataURL("image/png")},toCanvas:async function(e,t){return(await wE(this,mv,e,t)).canvas()},toSVG:async function(e){return(await wE(this,gv,e)).svg()},getState:function(e){return this._runtime.getState(e||{data:xE,signals:OE,recurse:!0})},setState:function(e){return this.runAsync(null,(t=>{t._trigger=!1,t._runtime.setState(e)}),(e=>{e._trigger=!0})),this}});const PE=/[[\]{}]/,IE={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let HE,NE;function FE(e,t,n){return HE=t||"view",NE=n||IE,zE(e.trim()).map(BE)}function YE(e,t,n,r,i){const o=e.length;let a,s=0;for(;t<o;++t){if(a=e[t],!s&&a===n)return t;i&&i.indexOf(a)>=0?--s:r&&r.indexOf(a)>=0&&++s}return t}function zE(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=YE(e,i,",","[{","]}"),t.push(e.substring(r,i).trim()),r=++i;if(0===t.length)throw"Empty event selector: "+e;return t}function BE(e){return"["===e[0]?function(e){const t=e.length;let n,r=1;if(r=YE(e,r,"]","[","]"),r===t)throw"Empty between selector: "+e;if(n=zE(e.substring(1,r)),2!==n.length)throw"Between selector must have two elements: "+e;if(">"!==(e=e.slice(r+1).trim())[0])throw"Expected '>' after between selector: "+e;n=n.map(BE);const i=BE(e.slice(1).trim());return i.between?{between:n,stream:i}:(i.between=n,i)}(e):function(e){const t={source:HE},n=[];let r,i,o=[0,0],a=0,s=0,l=e.length,u=0;if("}"===e[l-1]){if(u=e.lastIndexOf("{"),!(u>=0))throw"Unmatched right brace: "+e;try{o=function(e){const t=e.split(",");if(!e.length||t.length>2)throw e;return t.map((t=>{const n=+t;if(n!=n)throw e;return n}))}(e.substring(u+1,l-1))}catch(t){throw"Invalid throttle specification: "+e}l=(e=e.slice(0,u).trim()).length,u=0}if(!l)throw e;if("@"===e[0]&&(a=++u),r=YE(e,u,":"),r<l&&(n.push(e.substring(s,r).trim()),s=u=++r),u=YE(e,u,"["),u===l)n.push(e.substring(s,l).trim());else if(n.push(e.substring(s,u).trim()),i=[],s=++u,s===l)throw"Unmatched left bracket: "+e;for(;u<l;){if(u=YE(e,u,"]"),u===l)throw"Unmatched left bracket: "+e;if(i.push(e.substring(s,u).trim()),u<l-1&&"["!==e[++u])throw"Expected left bracket: "+e;s=++u}if(!(l=n.length)||PE.test(n[l-1]))throw"Invalid event selector: "+e;var c;return l>1?(t.type=n[1],a?t.markname=n[0].slice(1):(c=n[0],NE[c]?t.marktype=n[0]:t.source=n[0])):t.type=n[0],"!"===t.type.slice(-1)&&(t.consume=!0,t.type=t.type.slice(0,-1)),null!=i&&(t.filter=i),o[0]&&(t.throttle=o[0]),o[1]&&(t.debounce=o[1]),t}(e)}function WE(e){return H(e)?e:{type:e||"pad"}}const $E=e=>+e||0;function UE(e){return H(e)?e.signal?e:{top:$E(e.top),bottom:$E(e.bottom),left:$E(e.left),right:$E(e.right)}:{top:t=$E(e),bottom:t,left:t,right:t};var t}const VE=e=>H(e)&&!I(e)?ce({},e):{value:e};function qE(e,t,n,r){return null!=n?(H(n)&&!I(n)||I(n)&&n.length&&H(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function GE(e,t,n){for(const n in t)qE(e,n,t[n]);for(const t in n)qE(e,t,n[t],"update")}function KE(e,t,n){for(const r in t)n&&fe(n,r)||(e[r]=ce(e[r]||{},t[r]));return e}function ZE(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const XE="mark",JE="frame",QE="scope",eA="legend-label";function tA(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const nA=e=>_e(e)?xe(e):e.signal?`(${e.signal})`:aA(e);function rA(e){if(null!=e.gradient)return function(e){const t=[e.start,e.stop,e.count].map((e=>null==e?null:xe(e)));for(;t.length&&null==B(t);)t.pop();return t.unshift(nA(e.gradient)),`gradient(${t.join(",")})`}(e);let t=e.signal?`(${e.signal})`:e.color?function(e){return e.c?iA("hcl",e.h,e.c,e.l):e.h||e.s?iA("hsl",e.h,e.s,e.l):e.l||e.a?iA("lab",e.l,e.a,e.b):e.r||e.g||e.b?iA("rgb",e.r,e.g,e.b):null}(e.color):null!=e.field?aA(e.field):void 0!==e.value?xe(e.value):void 0;return null!=e.scale&&(t=function(e,t){const n=nA(e.scale);return null!=e.range?t=`lerp(_range(${n}), ${+e.range})`:(void 0!==t&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(1==+e.band?"":"*"+oA(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),null==t&&(t="0")),t}(e,t)),void 0===t&&(t=null),null!=e.exponent&&(t=`pow(${t},${oA(e.exponent)})`),null!=e.mult&&(t+=`*${oA(e.mult)}`),null!=e.offset&&(t+=`+${oA(e.offset)}`),e.round&&(t=`round(${t})`),t}const iA=(e,t,n,r)=>`(${e}(${[t,n,r].map(rA).join(",")})+'')`;function oA(e){return H(e)?"("+rA(e)+")":e}function aA(e){return sA(H(e)?e:{datum:e})}function sA(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):x("Invalid field reference: "+xe(e));return e.signal||(r=_e(r)?O(r).map(xe).join("]["):sA(r)),t+"["+r+"]"}function lA(e,t,n,r,i,o){const a={};(o=o||{}).encoders={$encode:a},e=function(e,t,n,r,i){const o={},a={};let s,l,u,c;for(l in l="lineBreak","text"!==t||null==i[l]||ZE(l,e)||tA(o,l,i[l]),("legend"==n||String(n).startsWith("axis"))&&(n=null),c=n===JE?i.group:n===XE?ce({},i.mark,i[t]):null,c)u=ZE(l,e)||("fill"===l||"stroke"===l)&&(ZE("fill",e)||ZE("stroke",e)),u||tA(o,l,c[l]);for(l in te(r).forEach((t=>{const n=i.style&&i.style[t];for(const t in n)ZE(t,e)||tA(o,t,n[t])})),e=ce({},e),o)c=o[l],c.signal?(s=s||{})[l]=c:a[l]=c;return e.enter=ce(a,e.enter),s&&(e.update=ce(s,e.update)),e}(e,t,n,r,i.config);for(const n in e)a[n]=uA(e[n],t,o,i);return o}function uA(e,t,n,r){const i={},o={};for(const t in e)null!=e[t]&&(i[t]=cA((a=e[t],I(a)?function(e){let t="";return e.forEach((e=>{const n=rA(e);t+=e.test?`(${e.test})?${n}:`:n})),":"===B(t)&&(t+="null"),t}(a):rA(a)),r,n,o));var a;return{$expr:{marktype:t,channels:i},$fields:Object.keys(o),$output:Object.keys(e)}}function cA(e,t,n,r){const i=jD(e,t);return i.$fields.forEach((e=>r[e]=1)),ce(n,i.$params),i.$expr}const dA=["value","update","init","react","bind"];function hA(e,t){x(e+' for "outer" push: '+xe(t))}function fA(e,t){const n=e.name;if("outer"===e.push)t.signals[n]||hA("No prior signal definition",n),dA.forEach((t=>{void 0!==e[t]&&hA("Invalid property ",t)}));else{const r=t.addSignal(n,e.value);!1===e.react&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function pA(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function mA(e,t,n,r){return new pA(e,t,n,r)}function gA(e,t){return mA("operator",e,t)}function yA(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function vA(e,t){return t?{$field:e,$name:t}:{$field:e}}const bA=vA("key");function wA(e,t){return{$compare:e,$order:t}}function _A(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const kA="scope",SA="view";function MA(e){return e&&e.signal}function xA(e){if(MA(e))return!0;if(H(e))for(const t in e)if(xA(e[t]))return!0;return!1}function OA(e,t){return null!=e?e:t}function CA(e){return e&&e.signal||e}const TA="timer";function RA(e,t){return(e.merge?DA:e.stream?EA:e.type?AA:x("Invalid stream specification: "+xe(e)))(e,t)}function DA(e,t){const n=LA({merge:e.merge.map((e=>RA(e,t)))},e,t);return t.addStream(n).id}function EA(e,t){const n=LA({stream:RA(e.stream,t)},e,t);return t.addStream(n).id}function AA(e,t){let n;var r;e.type===TA?(n=t.event(TA,e.throttle),e={between:e.between,filter:e.filter}):n=t.event((r=e.source)===kA?SA:r||SA,e.type);const i=LA({stream:n},e,t);return 1===Object.keys(i).length?n:t.addStream(i).id}function LA(e,t,n){let r=t.between;return r&&(2!==r.length&&x('Stream "between" parameter must have 2 entries: '+xe(t)),e.between=[RA(r[0],n),RA(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(function(e,t,n){const r="event.item";return r+(e&&"*"!==e?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}(t.marktype,t.markname,t.markrole)),t.source===kA&&r.push("inScope(event.item)"),r.length&&(e.filter=jD("("+r.join(")&&(")+")",n).$expr),null!=(r=t.throttle)&&(e.throttle=+r),null!=(r=t.debounce)&&(e.debounce=+r),t.consume&&(e.consume=!0),e}const jA={code:"_.$value",ast:{type:"Identifier",value:"value"}};function PA(e){return{signal:"["+e.map((e=>e.scale?'scale("'+e.scale+'")':e.signal))+"]"}}const IA=e=>(t,n,r)=>mA(e,n,t||void 0,r),HA=IA("aggregate"),NA=IA("axisticks"),FA=IA("bound"),YA=IA("collect"),zA=IA("compare"),BA=IA("datajoin"),WA=IA("encode"),$A=IA("expression"),UA=IA("facet"),VA=IA("field"),qA=IA("key"),GA=IA("legendentries"),KA=IA("load"),ZA=IA("mark"),XA=IA("multiextent"),JA=IA("multivalues"),QA=IA("overlap"),eL=IA("params"),tL=IA("prefacet"),nL=IA("projection"),rL=IA("proxy"),iL=IA("relay"),oL=IA("render"),aL=IA("scale"),sL=IA("sieve"),lL=IA("sortitems"),uL=IA("viewlayout"),cL=IA("values");let dL=0;const hL={min:"min",max:"max",count:"sum"};function fL(e,t){const n=t.getScale(e.name).params;let r;for(r in n.domain=yL(e.domain,e,t),null!=e.range&&(n.range=xL(e,t,n)),null!=e.interpolate&&function(e,t){t.interpolate=pL(e.type||e),null!=e.gamma&&(t.interpolateGamma=pL(e.gamma))}(e.interpolate,n),null!=e.nice&&(n.nice=function(e){return H(e)?{interval:pL(e.interval),step:pL(e.step)}:pL(e)}(e.nice)),null!=e.bins&&(n.bins=function(e,t){return e.signal||I(e)?mL(e,t):t.objectProperty(e)}(e.bins,t)),e)fe(n,r)||"name"===r||(n[r]=pL(e[r],t))}function pL(e,t){return H(e)?e.signal?t.signalRef(e.signal):x("Unsupported object: "+xe(e)):e}function mL(e,t){return e.signal?t.signalRef(e.signal):e.map((e=>pL(e,t)))}function gL(e){x("Can not find data set: "+xe(e))}function yL(e,t,n){if(e)return e.signal?n.signalRef(e.signal):(I(e)?vL:e.fields?wL:bL)(e,t,n);null==t.domainMin&&null==t.domainMax||x("No scale domain defined for domainMin/domainMax to override.")}function vL(e,t,n){return e.map((e=>pL(e,n)))}function bL(e,t,n){const r=n.getData(e.data);return r||gL(e.data),wf(t.type)?r.valuesRef(n,e.field,kL(e.sort,!1)):Mf(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function wL(e,t,n){const r=e.data,i=e.fields.reduce(((e,t)=>(t=_e(t)?{data:r,field:t}:I(t)||t.signal?function(e,t){const n="_:vega:_"+dL++,r=YA({});if(I(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+xe(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,sL({})]),{data:n,field:"data"}}(t,n):t,e.push(t),e)),[]);return(wf(t.type)?_L:Mf(t.type)?SL:ML)(e,n,i)}function _L(e,t,n){const r=kL(e.sort,!0);let i,o;const a=n.map((e=>{const n=t.getData(e.data);return n||gL(e.data),n.countsRef(t,e.field,r)})),s={groupby:bA,pulse:a};r&&(i=r.op||"count",o=r.field?_A(i,r.field):"count",s.ops=[hL[i]],s.fields=[t.fieldRef(o)],s.as=[o]),i=t.add(HA(s));const l=t.add(YA({pulse:yA(i)}));return o=t.add(cL({field:bA,sort:t.sortRef(r),pulse:yA(l)})),yA(o)}function kL(e,t){return e&&(e.field||e.op?e.field||"count"===e.op?t&&e.field&&e.op&&!hL[e.op]&&x("Multiple domain scales can not be sorted using "+e.op):x("No field provided for sort aggregate op: "+e.op):H(e)?e.field="key":e={field:"key"}),e}function SL(e,t,n){const r=n.map((e=>{const n=t.getData(e.data);return n||gL(e.data),n.domainRef(t,e.field)}));return yA(t.add(JA({values:r})))}function ML(e,t,n){const r=n.map((e=>{const n=t.getData(e.data);return n||gL(e.data),n.extentRef(t,e.field)}));return yA(t.add(XA({extents:r})))}function xL(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(_e(i)){if(r&&fe(r,i))return xL(e=ce({},e,{range:r[i]}),t,n);"width"===i?i=[0,{signal:"width"}]:"height"===i?i=wf(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:x("Unrecognized scale range value: "+xe(i))}else{if(i.scheme)return n.scheme=I(i.scheme)?mL(i.scheme,t):pL(i.scheme,t),i.extent&&(n.schemeExtent=mL(i.extent,t)),void(i.count&&(n.schemeCount=pL(i.count,t)));if(i.step)return void(n.rangeStep=pL(i.step,t));if(wf(e.type)&&!I(i))return yL(i,e,t);I(i)||x("Unsupported range type: "+xe(i))}return i.map((e=>(I(e)?mL:pL)(e,t)))}function OL(e,t,n){return I(e)?e.map((e=>OL(e,t,n))):H(e)?e.signal?n.signalRef(e.signal):"fit"===t?e:x("Unsupported parameter object: "+xe(e)):e}const CL="top",TL="left",RL="right",DL="bottom",EL="label",AL="perc",LL="value",jL="guide-label",PL="guide-title",IL="symbol",HL="gradient",NL="discrete",FL="size",YL=[FL,"shape","fill","stroke","strokeWidth","strokeDash","opacity"],zL={name:1,style:1,interactive:1},BL={value:0},WL={value:1},$L="group",UL="rect",VL="rule",qL="text";function GL(e){return e.type=$L,e.interactive=e.interactive||!1,e}function KL(e,t){const n=(n,r)=>OA(e[n],OA(t[n],r));return n.isVertical=n=>"vertical"===OA(e.direction,t.direction||(n?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>OA(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>OA(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>OA(e.columns,OA(t.columns,+n.isVertical(!0))),n}function ZL(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function XL(e,t,n){return`item.anchor === 'start' ? ${e} : item.anchor === 'end' ? ${t} : ${n}`}const JL=XL(xe(TL),xe(RL),xe("center"));function QL(e,t){return t?e?H(e)?Object.assign({},e,{offset:QL(e.offset,t)}):{value:e,offset:t}:t:e}function ej(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=KE(e.encode,t,zL)):e.interactive=!1,e}function tj(e,t,n,r){const i=KL(e,n),o=i.isVertical(),a=i.gradientThickness(),s=i.gradientLength();let l,u,c,d,h;o?(u=[0,1],c=[0,0],d=a,h=s):(u=[0,0],c=[1,0],d=s,h=a);const f={enter:l={opacity:BL,x:BL,y:BL,width:VE(d),height:VE(h)},update:ce({},l,{opacity:WL,fill:{gradient:t,start:u,stop:c}}),exit:{opacity:BL}};return GE(f,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),ej({type:UL,role:"legend-gradient",encode:f},r)}function nj(e,t,n,r,i){const o=KL(e,n),a=o.isVertical(),s=o.gradientThickness(),l=o.gradientLength();let u,c,d,h,f="";a?(u="y",d="y2",c="x",h="width",f="1-"):(u="x",d="x2",c="y",h="height");const p={opacity:BL,fill:{scale:t,field:LL}};p[u]={signal:f+"datum."+AL,mult:l},p[c]=BL,p[d]={signal:f+"datum.perc2",mult:l},p[h]=VE(s);const m={enter:p,update:ce({},p,{opacity:WL}),exit:{opacity:BL}};return GE(m,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),ej({type:UL,role:"legend-band",key:LL,from:i,encode:m},r)}function rj(e,t,n,r){const i=KL(e,t),o=i.isVertical(),a=VE(i.gradientThickness()),s=i.gradientLength();let l,u,c,d,h=i("labelOverlap"),f="";const p={enter:l={opacity:BL},update:u={opacity:WL,text:{field:EL}},exit:{opacity:BL}};return GE(p,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:OA(e.labelLimit,t.gradientLabelLimit)}),o?(l.align={value:"left"},l.baseline=u.baseline={signal:'datum.perc<=0?"bottom":datum.perc>=1?"top":"middle"'},c="y",d="x",f="1-"):(l.align=u.align={signal:'datum.perc<=0?"left":datum.perc>=1?"right":"center"'},l.baseline={value:"top"},c="x",d="y"),l[c]=u[c]={signal:f+"datum."+AL,mult:s},l[d]=u[d]=a,a.offset=OA(e.labelOffset,t.gradientLabelOffset)||0,h=h?{separation:i("labelSeparation"),method:h,order:"datum.index"}:void 0,ej({type:qL,role:eA,style:jL,key:LL,from:r,encode:p,overlap:h},n)}function ij(e,t,n,r,i){const o=KL(e,t),a=n.entries,s=!(!a||!a.interactive),l=a?a.name:void 0,u=o("clipHeight"),c=o("symbolOffset"),d={data:"value"},h=`(${i}) ? datum.offset : datum.size`,f=u?VE(u):{field:FL},p="datum.index",m=`max(1, ${i})`;let g,y,v,b,w;f.mult=.5,g={enter:y={opacity:BL,x:{signal:h,mult:.5,offset:c},y:f},update:v={opacity:WL,x:y.x,y:y.y},exit:{opacity:BL}};let _=null,k=null;e.fill||(_=t.symbolBaseFillColor,k=t.symbolBaseStrokeColor),GE(g,{fill:o("symbolFillColor",_),shape:o("symbolType"),size:o("symbolSize"),stroke:o("symbolStrokeColor",k),strokeDash:o("symbolDash"),strokeDashOffset:o("symbolDashOffset"),strokeWidth:o("symbolStrokeWidth")},{opacity:o("symbolOpacity")}),YL.forEach((t=>{e[t]&&(v[t]=y[t]={scale:e[t],field:LL})}));const S=ej({type:"symbol",role:"legend-symbol",key:LL,from:d,clip:!!u||void 0,encode:g},n.symbols),M=VE(c);M.offset=o("labelOffset"),g={enter:y={opacity:BL,x:{signal:h,offset:M},y:f},update:v={opacity:WL,text:{field:EL},x:y.x,y:y.y},exit:{opacity:BL}},GE(g,{align:o("labelAlign"),baseline:o("labelBaseline"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontStyle:o("labelFontStyle"),fontWeight:o("labelFontWeight"),limit:o("labelLimit")});const x=ej({type:qL,role:eA,style:jL,key:LL,from:d,encode:g},n.labels);return g={enter:{noBound:{value:!u},width:BL,height:u?VE(u):BL,opacity:BL},exit:{opacity:BL},update:v={opacity:WL,row:{signal:null},column:{signal:null}}},o.isVertical(!0)?(b=`ceil(item.mark.items.length / ${m})`,v.row.signal=`${p}%${b}`,v.column.signal=`floor(${p} / ${b})`,w={field:["row",p]}):(v.row.signal=`floor(${p} / ${m})`,v.column.signal=`${p} % ${m}`,w={field:p}),v.column.signal=`(${i})?${v.column.signal}:${p}`,GL({role:QE,from:r={facet:{data:r,name:"value",groupby:"index"}},encode:KE(g,a,zL),marks:[S,x],name:l,interactive:s,sort:w})}const oj='item.orient === "left"',aj='item.orient === "right"',sj=`(${oj} || ${aj})`,lj=`datum.vgrad && ${sj}`,uj=XL('"top"','"bottom"','"middle"'),cj=`datum.vgrad && ${aj} ? (${XL('"right"','"left"','"center"')}) : (${sj} && !(datum.vgrad && ${oj})) ? "left" : ${JL}`,dj=`item._anchor || (${sj} ? "middle" : "start")`,hj=`${lj} ? (${oj} ? -90 : 90) : 0`,fj=`${sj} ? (datum.vgrad ? (${aj} ? "bottom" : "top") : ${uj}) : "top"`;function pj(e,t){let n;return H(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+mj(e.path)+")":e.sphere&&(n="geoShape("+mj(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function mj(e){return H(e)&&e.signal?e.signal:xe(e)}function gj(e){const t=e.role||"";return t.indexOf("axis")&&t.indexOf("legend")&&t.indexOf("title")?e.type===$L?QE:t||XE:t}function yj(e){return{marktype:e.type,name:e.name||void 0,role:e.role||gj(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function vj(e,t){return e&&e.signal?t.signalRef(e.signal):!1!==e}function bj(e,t){const n=function(e){const t=function(e){return e=e&&e.toLowerCase(),fe(na,e)?na[e]:null}(e);return t&&t.Definition||null}(e.type);n||x("Unrecognized transform type: "+xe(e.type));const r=mA(n.type.toLowerCase(),null,wj(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function wj(e,t,n){const r={},i=e.params.length;for(let o=0;o<i;++o){const i=e.params[o];r[i.name]=_j(i,t,n)}return r}function _j(e,t,n){const r=e.type,i=t[e.name];return"index"===r?function(e,t,n){return _e(t.from)||x('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}(0,t,n):void 0!==i?"param"===r?function(e,t,n){const r=t[e.name];return e.array?(I(r)||x("Expected an array of sub-parameters. Instead: "+xe(r)),r.map((t=>Sj(e,t,n)))):Sj(e,r,n)}(e,t,n):"projection"===r?n.projectionRef(t[e.name]):e.array&&!MA(i)?i.map((t=>kj(e,t,n))):kj(e,i,n):void(e.required&&x("Missing required "+xe(t.type)+" parameter: "+xe(e.name)))}function kj(e,t,n){const r=e.type;if(MA(t))return Cj(r)?x("Expression references can not be signals."):Tj(r)?n.fieldRef(t):Rj(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||Tj(r);return i&&Mj(t)?n.exprRef(t.expr,t.as):i&&xj(t)?vA(t.field,t.as):Cj(r)?jD(t,n):Oj(r)?yA(n.getData(t).values):Tj(r)?vA(t):Rj(r)?n.compareRef(t):t}}function Sj(e,t,n){const r=e.params.length;let i;for(let n=0;n<r;++n){i=e.params[n];for(const e in i.key)if(i.key[e]!==t[e]){i=null;break}if(i)break}i||x("Unsupported parameter: "+xe(t));const o=ce(wj(i,t,n),i.key);return yA(n.add(eL(o)))}const Mj=e=>e&&e.expr,xj=e=>e&&e.field,Oj=e=>"data"===e,Cj=e=>"expr"===e,Tj=e=>"field"===e,Rj=e=>"compare"===e;function Dj(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:yA(t.getData(e.data).output)}function Ej(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}function Aj(e){return _e(e)?e:null}function Lj(e,t,n){const r=_A(n.op,n.field);let i;if(t.ops){for(let e=0,n=t.as.length;e<n;++e)if(t.as[e]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function jj(e,t,n,r,i,o,a){const s=t[n]||(t[n]={}),l=function(e){return H(e)?("descending"===e.order?"-":"+")+_A(e.op,e.field):""}(o);let u,c,d=Aj(i);if(null!=d&&(e=t.scope,d+=l?"|"+l:"",u=s[d]),!u){const n=o?{field:bA,pulse:t.countsRef(e,i,o)}:{field:e.fieldRef(i),pulse:yA(t.output)};l&&(n.sort=e.sortRef(o)),c=e.add(mA(r,void 0,n)),a&&(t.index[i]=c),u=yA(c),null!=d&&(s[d]=u)}return u}function Pj(e,t,n){const r=e.remove,i=e.insert,o=e.toggle,a=e.modify,s=e.values,l=t.add(gA()),u=jD("if("+e.trigger+',modify("'+n+'",'+[i,r,o,a,s].map((e=>null==e?"null":e)).join(",")+"),0)",t);l.update=u.$expr,l.params=u.$params}function Ij(e,t){const n=gj(e),r=e.type===$L,i=e.from&&e.from.facet,o=e.overlap;let a,s,l,u,c,d,h,f=e.layout||n===QE||n===JE;const p=n===XE||f||i,m=function(e,t,n){let r,i,o,a,s;return e?(r=e.facet)&&(t||x("Only group marks can be faceted."),null!=r.field?a=s=Dj(r,n):(e.data?s=yA(n.getData(e.data).aggregate):(o=bj(ce({type:"aggregate",groupby:te(r.groupby)},r.aggregate),n),o.params.key=n.keyRef(r.groupby),o.params.pulse=Dj(r,n),a=s=yA(n.add(o))),i=n.keyRef(r.groupby,!0))):a=yA(n.add(YA(null,[{}]))),a||(a=Dj(e,n)),{key:i,pulse:a,parent:s}}(e.from,r,t);s=t.add(BA({key:m.key||(e.key?vA(e.key):void 0),pulse:m.pulse,clean:!r}));const g=yA(s);s=l=t.add(YA({pulse:g})),s=t.add(ZA({markdef:yj(e),interactive:vj(e.interactive,t),clip:pj(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:yA(s)}));const y=yA(s);s=u=t.add(WA(lA(e.encode,e.type,n,e.style,t,{mod:!1,pulse:y}))),s.params.parent=t.encode(),e.transform&&e.transform.forEach((e=>{const n=bj(e,t),r=n.metadata;(r.generates||r.changes)&&x("Mark transforms should not generate new data."),r.nomod||(u.params.mod=!0),n.params.pulse=yA(s),t.add(s=n)})),e.sort&&(s=t.add(lL({sort:t.compareRef(e.sort),pulse:yA(s)})));const v=yA(s);(i||f)&&(f=t.add(uL({layout:t.objectProperty(e.layout),legends:t.legends,mark:y,pulse:v})),d=yA(f));const b=t.add(FA({mark:y,pulse:d||v}));h=yA(b),r&&(p&&(a=t.operators,a.pop(),f&&a.pop()),t.pushState(v,d||h,g),i?function(e,t,n){const r=e.from.facet,i=r.name,o=Dj(r,t);let a;r.name||x("Facet must have a name: "+xe(r)),r.data||x("Facet must reference a data set: "+xe(r)),r.field?a=t.add(tL({field:t.fieldRef(r.field),pulse:o})):r.groupby?a=t.add(UA({key:t.keyRef(r.groupby),group:yA(t.proxy(n.parent)),pulse:o})):x("Facet must specify groupby or field: "+xe(r));const s=t.fork(),l=s.add(YA()),u=s.add(sL({pulse:yA(l)}));s.addData(i,new Ej(s,l,l,u)),s.addSignal("parent",null),a.params.subflow={$subflow:s.parse(e).toRuntime()}}(e,t,m):p?function(e,t,n){const r=t.add(tL({pulse:n.pulse})),i=t.fork();i.add(sL()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}(e,t,m):t.parse(e),t.popState(),p&&(f&&a.push(f),a.push(b))),o&&(h=function(e,t,n){const r=e.method,i=e.bound,o=e.separation,a={separation:MA(o)?n.signalRef(o.signal):o,method:MA(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(a.sort=n.compareRef({field:e.order})),i){const e=i.tolerance;a.boundTolerance=MA(e)?n.signalRef(e.signal):+e,a.boundScale=n.scaleRef(i.scale),a.boundOrient=i.orient}return yA(n.add(QA(a)))}(o,h,t));const w=t.add(oL({pulse:h})),_=t.add(sL({pulse:yA(w)},void 0,t.parent()));null!=e.name&&(c=e.name,t.addData(c,new Ej(t,l,w,_)),e.on&&e.on.forEach((e=>{(e.insert||e.remove||e.toggle)&&x("Marks only support modify triggers."),Pj(e,t,c)})))}function Hj(e,t,n){const r={enter:{},update:{}};return GE(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function Nj(e,t,n){return t[e]?`scale("${t[e]}",datum)`:ZL(e,n[0].encode)}function Fj(e,t){const n={enter:{},update:{}};return GE(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:JL},angle:{signal:'item.orient==="left"?-90:item.orient==="right"?90:0'},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),KE(n,t,zL)}function Yj(e){const t=YA({},e);return t.metadata={source:!0},t}function zj(e,t){return KA({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}Ej.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let o=t[0],a=null,s=1;for(o&&"load"===o.type&&(o=t[1]),e.add(t[0]);s<n;++s)t[s].params.pulse=yA(t[s-1]),e.add(t[s]),"aggregate"===t[s].type&&(a=t[s]);return new Ej(e,o,i,r,a)},Ej.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),o=Aj(t);let a,s,l;return null!=o&&(e=r.scope,a=i[o]),a?n&&n.field&&Lj(e,a.agg.params,n):(l={groupby:e.fieldRef(t,"key"),pulse:yA(r.output)},n&&n.field&&Lj(e,l,n),s=e.add(HA(l)),a=e.add(YA({pulse:yA(s)})),a={agg:s,ref:yA(a)},null!=o&&(i[o]=a)),a.ref},tuplesRef(){return yA(this.values)},extentRef(e,t){return jj(e,this,"extent","extent",t,!1)},domainRef(e,t){return jj(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return jj(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return jj(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return jj(e,this,"indata","tupleindex",t,!0,!0)}};const Bj=e=>e===DL||e===CL,Wj=(e,t,n)=>MA(e)?Kj(e.signal,t,n):e===TL||e===CL?t:n,$j=(e,t,n)=>MA(e)?qj(e.signal,t,n):Bj(e)?t:n,Uj=(e,t,n)=>MA(e)?Gj(e.signal,t,n):Bj(e)?n:t,Vj=(e,t,n)=>MA(e)?Zj(e.signal,t,n):e===CL?{value:t}:{value:n},qj=(e,t,n)=>Xj(`${e} === 'top' || ${e} === 'bottom'`,t,n),Gj=(e,t,n)=>Xj(`${e} !== 'top' && ${e} !== 'bottom'`,t,n),Kj=(e,t,n)=>Qj(`${e} === 'left' || ${e} === 'top'`,t,n),Zj=(e,t,n)=>Qj(`${e} === 'top'`,t,n),Xj=(e,t,n)=>(t=null!=t?VE(t):t,n=null!=n?VE(n):n,Jj(t)&&Jj(n)?{signal:`${e} ? (${t=t?t.signal||xe(t.value):null}) : (${n=n?n.signal||xe(n.value):null})`}:[ce({test:e},t)].concat(n||[])),Jj=e=>null==e||1===Object.keys(e).length,Qj=(e,t,n)=>({signal:`${e} ? (${tP(t)}) : (${tP(n)})`}),eP=(e,t,n,r,i)=>({signal:(null!=r?`${e} === 'left' ? (${tP(r)}) : `:"")+(null!=n?`${e} === 'bottom' ? (${tP(n)}) : `:"")+(null!=i?`${e} === 'right' ? (${tP(i)}) : `:"")+(null!=t?`${e} === 'top' ? (${tP(t)}) : `:"")+"(null)"}),tP=e=>MA(e)?e.signal:null==e?null:xe(e),nP=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function rP(e,t,n,r){let i;if(t&&fe(t,e))return t[e];if(fe(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r["guide-title"][i]}if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r["guide-label"][i]}return null}function iP(e){const t={};for(const n of e)if(n)for(const e in n)t[e]=1;return Object.keys(t)}function oP(e,t){return{scale:e.scale,range:t}}function aP(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function sP(e,t,n,r,i,o){const a=KL(e,t),s=e.orient,l=e.scale,u=Wj(s,-1,1),c=CA(a("labelFlush")),d=CA(a("labelFlushOffset")),h=a("labelAlign"),f=a("labelBaseline");let p,m=0===c||!!c;const g=VE(i);g.mult=u,g.offset=VE(a("labelPadding")||0),g.offset.mult=u;const y={scale:l,field:LL,band:.5,offset:QL(o.offset,a("labelOffset"))},v=$j(s,m?aP(l,c,'"left"','"right"','"center"'):{value:"center"},((e,t,n)=>MA(e)?((e,t,n)=>Qj(`${e} === 'right'`,t,n))(e.signal,t,n):e===RL?{value:t}:{value:n})(s,"left","right")),b=$j(s,Vj(s,"bottom","top"),m?aP(l,c,'"top"','"bottom"','"middle"'):{value:"middle"}),w=aP(l,c,`-(${d})`,d,0);m=m&&d;const _={opacity:BL,x:$j(s,y,g),y:Uj(s,y,g)},k={enter:_,update:p={opacity:WL,text:{field:EL},x:_.x,y:_.y,align:v,baseline:b},exit:{opacity:BL,x:_.x,y:_.y}};GE(k,{dx:!h&&m?$j(s,w):null,dy:!f&&m?Uj(s,w):null}),GE(k,{angle:a("labelAngle"),fill:a("labelColor"),fillOpacity:a("labelOpacity"),font:a("labelFont"),fontSize:a("labelFontSize"),fontWeight:a("labelFontWeight"),fontStyle:a("labelFontStyle"),limit:a("labelLimit"),lineHeight:a("labelLineHeight")},{align:h,baseline:f});const S=a("labelBound");let M=a("labelOverlap");return M=M||S?{separation:a("labelSeparation"),method:M,order:"datum.index",bound:S?{scale:l,orient:s,tolerance:S}:null}:void 0,p.align!==v&&(p.align=nP(p.align,v)),p.baseline!==b&&(p.baseline=nP(p.baseline,b)),ej({type:qL,role:"axis-label",style:jL,key:LL,from:r,encode:k,overlap:M},n)}function lP(e,t){const n=function(e,t){var n,r,i,o=t.config,a=o.style,s=o.axis,l="band"===t.scaleType(e.scale)&&o.axisBand,u=e.orient;if(MA(u)){const e=iP([o.axisX,o.axisY]),t=iP([o.axisTop,o.axisBottom,o.axisLeft,o.axisRight]);for(i of(n={},e))n[i]=$j(u,rP(i,o.axisX,s,a),rP(i,o.axisY,s,a));for(i of(r={},t))r[i]=eP(u.signal,rP(i,o.axisTop,s,a),rP(i,o.axisBottom,s,a),rP(i,o.axisLeft,s,a),rP(i,o.axisRight,s,a))}else n=u===CL||u===DL?o.axisX:o.axisY,r=o["axis"+u[0].toUpperCase()+u.slice(1)];return n||r||l?ce({},s,n,r,l):s}(e,t),r=e.encode||{},i=r.axis||{},o=i.name||void 0,a=i.interactive,s=i.style,l=KL(e,n),u=function(e){const t=e("tickBand");let n,r,i=e("tickOffset");return t?t.signal?(n={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},r={signal:`(${t.signal}) === 'extent'`},H(i)||(i={signal:`(${t.signal}) === 'extent' ? 0 : ${i}`})):"extent"===t?(n=1,r=!0,i=0):(n=.5,r=!1):(n=e("bandPosition"),r=e("tickExtra")),{extra:r,band:n,offset:i}}(l),c={scale:e.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:null!=e.title},d=yA(t.add(YA({},[c]))),h=yA(t.add(NA({scale:t.scaleRef(e.scale),extra:t.property(u.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),f=[];let p;return c.grid&&f.push(function(e,t,n,r,i){const o=KL(e,t),a=e.orient,s=e.gridScale,l=Wj(a,1,-1),u=function(e,t){if(1===t);else if(H(e)){let n=e=ce({},e);for(;null!=n.mult;){if(!H(n.mult))return n.mult=MA(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n=n.mult=ce({},n.mult)}n.mult=t}else e=MA(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);return e}(e.offset,l);let c,d,h;const f={enter:c={opacity:BL},update:h={opacity:WL},exit:d={opacity:BL}};GE(f,{stroke:o("gridColor"),strokeCap:o("gridCap"),strokeDash:o("gridDash"),strokeDashOffset:o("gridDashOffset"),strokeOpacity:o("gridOpacity"),strokeWidth:o("gridWidth")});const p={scale:e.scale,field:LL,band:i.band,extra:i.extra,offset:i.offset,round:o("tickRound")},m=$j(a,{signal:"height"},{signal:"width"}),g=s?{scale:s,range:0,mult:l,offset:u}:{value:0,offset:u},y=s?{scale:s,range:1,mult:l,offset:u}:ce(m,{mult:l,offset:u});return c.x=h.x=$j(a,p,g),c.y=h.y=Uj(a,p,g),c.x2=h.x2=Uj(a,y),c.y2=h.y2=$j(a,y),d.x=$j(a,p),d.y=Uj(a,p),ej({type:VL,role:"axis-grid",key:LL,from:r,encode:f},n)}(e,n,r.grid,h,u)),c.ticks&&(p=l("tickSize"),f.push(function(e,t,n,r,i,o){const a=KL(e,t),s=e.orient,l=Wj(s,-1,1);let u,c,d;const h={enter:u={opacity:BL},update:d={opacity:WL},exit:c={opacity:BL}};GE(h,{stroke:a("tickColor"),strokeCap:a("tickCap"),strokeDash:a("tickDash"),strokeDashOffset:a("tickDashOffset"),strokeOpacity:a("tickOpacity"),strokeWidth:a("tickWidth")});const f=VE(i);f.mult=l;const p={scale:e.scale,field:LL,band:o.band,extra:o.extra,offset:o.offset,round:a("tickRound")};return d.y=u.y=$j(s,BL,p),d.y2=u.y2=$j(s,f),c.x=$j(s,p),d.x=u.x=Uj(s,BL,p),d.x2=u.x2=Uj(s,f),c.y=Uj(s,p),ej({type:VL,role:"axis-tick",key:LL,from:r,encode:h},n)}(e,n,r.ticks,h,p,u))),c.labels&&(p=c.ticks?p:0,f.push(sP(e,n,r.labels,h,p,u))),c.domain&&f.push(function(e,t,n,r){const i=KL(e,t),o=e.orient;let a,s;const l={enter:a={opacity:BL},update:s={opacity:WL},exit:{opacity:BL}};GE(l,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const u=oP(e,0),c=oP(e,1);return a.x=s.x=$j(o,u,BL),a.x2=s.x2=$j(o,c),a.y=s.y=Uj(o,u,BL),a.y2=s.y2=Uj(o,c),ej({type:VL,role:"axis-domain",from:r,encode:l},n)}(e,n,r.domain,d)),c.title&&f.push(function(e,t,n,r){const i=KL(e,t),o=e.orient,a=Wj(o,-1,1);let s,l;const u={enter:s={opacity:BL,anchor:VE(i("titleAnchor",null)),align:{signal:JL}},update:l=ce({},s,{opacity:WL,text:VE(e.title)}),exit:{opacity:BL}},c={signal:`lerp(range("${e.scale}"), ${XL(0,1,.5)})`};return l.x=$j(o,c),l.y=Uj(o,c),s.angle=$j(o,BL,((e,t)=>MA(e)?{signal:`(${e.signal}) * 90`}:{value:90*e})(a)),s.baseline=$j(o,Vj(o,DL,CL),{value:DL}),l.angle=s.angle,l.baseline=s.baseline,GE(u,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),function(e,t,n,r){const i=(e,t)=>null!=e?(n.update[t]=nP(VE(e),n.update[t]),!1):!ZE(t,r),o=i(e("titleX"),"x"),a=i(e("titleY"),"y");n.enter.auto=a===o?VE(a):$j(t,VE(a),VE(o))}(i,o,u,n),u.update.align=nP(u.update.align,s.align),u.update.angle=nP(u.update.angle,s.angle),u.update.baseline=nP(u.update.baseline,s.baseline),ej({type:qL,role:"axis-title",style:PL,from:r,encode:u},n)}(e,n,r.title,d)),Ij(GL({role:"axis",from:d,encode:KE(uP(l,e),i,zL),marks:f,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:o,interactive:a,style:s}),t)}function uP(e,t){const n={enter:{},update:{}};return GE(n,{orient:e("orient"),offset:e("offset")||0,position:OA(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function cP(e,t,n){const r=te(e.signals),i=te(e.scales);return n||r.forEach((e=>fA(e,t))),te(e.projections).forEach((e=>function(e,t){const n=t.config.projection||{},r={};for(const n in e)"name"!==n&&(r[n]=OL(e[n],n,t));for(const e in n)null==r[e]&&(r[e]=OL(n[e],e,t));t.addProjection(e.name,r)}(e,t))),i.forEach((e=>function(e,t){const n=e.type||"linear";yf(n)||x("Unrecognized scale type: "+xe(n)),t.addScale(e.name,{type:n,domain:void 0})}(e,t))),te(e.data).forEach((e=>function(e,t){const n=[];e.transform&&e.transform.forEach((e=>{n.push(bj(e,t))})),e.on&&e.on.forEach((n=>{Pj(n,t,e.name)})),t.addDataPipeline(e.name,function(e,t,n){const r=[];let i,o,a,s,l,u=null,c=!1,d=!1;for(e.values?MA(e.values)||xA(e.format)?(r.push(zj(t,e)),r.push(u=Yj())):r.push(u=Yj({$ingest:e.values,$format:e.format})):e.url?xA(e.url)||xA(e.format)?(r.push(zj(t,e)),r.push(u=Yj())):r.push(u=Yj({$request:e.url,$format:e.format})):e.source&&(u=i=te(e.source).map((e=>yA(t.getData(e).output))),r.push(null)),o=0,a=n.length;o<a;++o)s=n[o],l=s.metadata,u||l.source||r.push(u=Yj()),r.push(s),l.generates&&(d=!0),l.modifies&&!d&&(c=!0),l.source?u=s:l.changes&&(u=null);return i&&(a=i.length-1,r[0]=iL({derive:c,pulse:a?i:i[0]}),(c||a)&&r.splice(1,0,Yj())),u||r.push(Yj()),r.push(sL({})),r}(e,t,n))}(e,t))),i.forEach((e=>fL(e,t))),(n||r).forEach((e=>function(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?x("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=jD(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach((e=>function(e,t,n){const r=e.encode,i={target:n};let o=e.events,a=e.update,s=[];o||x("Signal update missing events specification."),_e(o)&&(o=FE(o,t.isSubscope()?kA:SA)),o=te(o).filter((e=>e.signal||e.scale?(s.push(e),0):1)),s.length>1&&(s=[PA(s)]),o.length&&s.push(o.length>1?{merge:o}:o[0]),null!=r&&(a&&x("Signal encode and update are mutually exclusive."),a="encode(item(),"+xe(r)+")"),i.update=_e(a)?jD(a,t):null!=a.expr?jD(a.expr,t):null!=a.value?a.value:null!=a.signal?{$expr:jA,$params:{$value:t.signalRef(a.signal)}}:x("Invalid signal update specification."),e.force&&(i.options={force:!0}),s.forEach((e=>t.addUpdate(ce(function(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):RA(e,t)}}(e,t),i))))}(e,t,n.id)))}(e,t))),te(e.axes).forEach((e=>lP(e,t))),te(e.marks).forEach((e=>Ij(e,t))),te(e.legends).forEach((e=>function(e,t){const n=t.config.legend,r=e.encode||{},i=KL(e,n),o=r.legend||{},a=o.name||void 0,s=o.interactive,l=o.style,u={};let c,d,h,f=0;YL.forEach((t=>e[t]?(u[t]=e[t],f=f||e[t]):0)),f||x("Missing valid scale for legend.");const p=function(e,t){let n=e.type||IL;return e.type||1!==function(e){return YL.reduce(((t,n)=>t+(e[n]?1:0)),0)}(e)||!e.fill&&!e.stroke||(n=bf(t)?HL:_f(t)?NL:IL),n!==HL?n:_f(t)?NL:HL}(e,t.scaleType(f)),m={title:null!=e.title,scales:u,type:p,vgrad:"symbol"!==p&&i.isVertical()},g=yA(t.add(YA(null,[m]))),y=yA(t.add(GA(d={type:p,scale:t.scaleRef(f),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return p===HL?(h=[tj(e,f,n,r.gradient),rj(e,n,r.labels,y)],d.count=d.count||t.signalRef(`max(2,2*floor((${CA(i.gradientLength())})/100))`)):p===NL?h=[nj(e,f,n,r.gradient,y),rj(e,n,r.labels,y)]:(c=function(e,t){const n=KL(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}(e,n),h=[ij(e,n,r,y,CA(c.columns))],d.size=function(e,t,n){const r=CA(Nj("size",e,n)),i=CA(Nj("strokeWidth",e,n)),o=CA(function(e,t,n){return ZL("fontSize",e)||function(e,t,n){const r=t.config.style["guide-label"];return r&&r.fontSize}(0,t)}(n[1].encode,t));return jD(`max(ceil(sqrt(${r})+${i}),${o})`,t)}(e,t,h[0].marks)),h=[GL({role:"legend-entry",from:g,encode:{enter:{x:{value:0},y:{value:0}}},marks:h,layout:c,interactive:s})],m.title&&h.push(function(e,t,n,r){const i=KL(e,t),o={enter:{opacity:BL},update:{opacity:WL,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:BL}};return GE(o,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:dj},angle:{signal:hj},align:{signal:cj},baseline:{signal:fj},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),ej({type:qL,role:"legend-title",style:PL,from:r,encode:o},n)}(e,n,r.title,g)),Ij(GL({role:"legend",from:g,encode:KE(Hj(i,e,n),o,zL),marks:h,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:a,interactive:s,style:l}),t)}(e,t))),e.title&&function(e,t){const n=KL(e=_e(e)?{text:e}:e,t.config.title),r=e.encode||{},i=r.group||{},o=i.name||void 0,a=i.interactive,s=i.style,l=[],u=yA(t.add(YA(null,[{}])));l.push(function(e,t,n,r){const i={value:0},o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return GE(o,{text:e.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),ej({type:qL,role:"title-text",style:"group-title",from:r,encode:o},n)}(e,n,function(e){const t=e.encode;return t&&t.title||ce({name:e.name,interactive:e.interactive,style:e.style},t)}(e),u)),e.subtitle&&l.push(function(e,t,n,r){const i={value:0},o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return GE(o,{text:e.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),ej({type:qL,role:"title-subtitle",style:"group-subtitle",from:r,encode:o},n)}(e,n,r.subtitle,u)),Ij(GL({role:"title",from:u,encode:Fj(n,i),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:o,interactive:a,style:s}),t)}(e.title,t),t.parseLambdas(),t}function dP(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function hP(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function fP(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}function pP(e){return(I(e)?mP:gP)(e)}function mP(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const t=e[r];n+=(r>0?",":"")+(H(t)?t.signal||pP(t):xe(t))}return n+"]"}function gP(e){let t,n,r="{",i=0;for(t in e)n=e[t],r+=(++i>1?",":"")+xe(t)+":"+(H(n)?n.signal||pP(n):xe(n));return r+"}"}hP.prototype=fP.prototype={parse(e){return cP(e,this)},fork(){return new fP(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach((t=>{t.$ref=e.id})),e.refs=null),e},proxy(e){const t=e instanceof pA?yA(e):e;return this.add(rL({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;for(e in this.root&&(this.root.root=!0),this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(e,t,n){let r,i;e&&(r=e.data||(e.data={}),i=r[t]||(r[t]=[]),i.push(n))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(yA(this.add(sL({pulse:e})))),this._parent.push(t),this._lookup.push(n?yA(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return B(this._parent)},encode(){return B(this._encode)},lookup(){return B(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(_e(e))return vA(e,t);e.signal||x("Unsupported field reference: "+xe(e));const n=e.signal;let r=this.field[n];if(!r){const e={name:this.signalRef(n)};t&&(e.as=t),this.field[n]=r=yA(this.add(VA(e)))}return r},compareRef(e){let t=!1;const n=e=>MA(e)?(t=!0,this.signalRef(e.signal)):function(e){return e&&e.expr}(e)?(t=!0,this.exprRef(e.expr)):e,r=te(e.field).map(n),i=te(e.order).map(n);return t?yA(this.add(zA({fields:r,orders:i}))):wA(r,i)},keyRef(e,t){let n=!1;const r=this.signals;return e=te(e).map((e=>MA(e)?(n=!0,yA(r[e.signal])):e)),n?yA(this.add(qA({fields:e,flat:t}))):function(e,t){const n={$key:e};return t&&(n.$flat=!0),n}(e,t)},sortRef(e){if(!e)return e;const t=_A(e.op,e.field),n=e.order||"ascending";return n.signal?yA(this.add(zA({fields:t,orders:this.signalRef(n.signal)}))):wA(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return fe(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&x("Duplicate signal name: "+xe(e));const n=t instanceof pA?t:this.add(gA(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||x("Unrecognized signal name: "+xe(e)),this.signals[e]},signalRef(e){return this.signals[e]?yA(this.signals[e]):(fe(this.lambdas,e)||(this.lambdas[e]=this.add(gA(null))),yA(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const n=e[t],r=jD(n,this),i=this.lambdas[n];i.params=r.$params,i.update=r.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return e&&H(e)?this.signalRef(e.signal||pP(e)):e},exprRef(e,t){const n={expr:jD(e,this)};return t&&(n.expr.$name=t),yA(this.add($A(n)))},addBinding(e,t){this.bindings||x("Nested signals do not support binding: "+xe(e)),this.bindings.push(ce({signal:e},t))},addScaleProj(e,t){fe(this.scales,e)&&x("Duplicate scale or projection name: "+xe(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,aL(t))},addProjection(e,t){this.addScaleProj(e,nL(t))},getScale(e){return this.scales[e]||x("Unrecognized scale name: "+xe(e)),this.scales[e]},scaleRef(e){return yA(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return fe(this.data,e)&&x("Duplicate data set name: "+xe(e)),this.data[e]=t},getData(e){return this.data[e]||x("Undefined data set name: "+xe(e)),this.data[e]},addDataPipeline(e,t){return fe(this.data,e)&&x("Duplicate data set name: "+xe(e)),this.addData(e,Ej.fromEntries(this,t))}},ce(na,r,o,a,s,l,c,u,d,h,f,p),Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function e(){var t=isNaN(arguments[0])?1:Number(arguments[0]);return t?Array.prototype.reduce.call(this,(function(n,r){return Array.isArray(r)?n.push.apply(n,e.call(r,t-1)):n.push(r),n}),[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(e){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var yP=n(54069),vP=n.n(yP),bP=n(15232),wP=n.n(bP),_P=n(74556),kP=n.n(_P);function SP(e){return!!e.or}function MP(e){return!!e.and}function xP(e){return!!e.not}function OP(e,t){if(xP(e))OP(e.not,t);else if(MP(e))for(const n of e.and)OP(n,t);else if(SP(e))for(const n of e.or)OP(n,t);else t(e)}function CP(e,t){return xP(e)?{not:CP(e.not,t)}:MP(e)?{and:e.and.map((e=>CP(e,t)))}:SP(e)?{or:e.or.map((e=>CP(e,t)))}:t(e)}const TP=wP(),RP=vP();function DP(e,t){const n={};for(const r of t)fe(e,r)&&(n[r]=e[r]);return n}function EP(e,t){const n=Object.assign({},e);for(const e of t)delete n[e];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map((e=>kP()(e))).join(",")})`};const AP=kP();function LP(e){if(we(e))return e;const t=_e(e)?e:kP()(e);if(t.length<250)return t;let n=0;for(let e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n&=n;return n}function jP(e){return!1===e||null===e}function PP(e,t){return e.includes(t)}function IP(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function HP(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function NP(e,t){for(const n of $P(t))Y(e,n,t[n],!0)}function FP(e,t){const n=[],r={};let i;for(const o of e)i=t(o),i in r||(r[i]=1,n.push(o));return n}function YP(e,t){for(const n of e)if(t.has(n))return!0;return!1}function zP(e){const t=new Set;for(const n of e){const e=O(n).map(((e,t)=>0===t?e:`[${e}]`)),r=e.map(((t,n)=>e.slice(0,n+1).join("")));for(const e of r)t.add(e)}return t}function BP(e,t){return void 0===e||void 0===t||YP(zP(e),zP(t))}function WP(e){return 0===$P(e).length}const $P=Object.keys,UP=Object.values,VP=Object.entries;function qP(e){return!0===e||!1===e}function GP(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function KP(e,t){return xP(e)?`!(${KP(e.not,t)})`:MP(e)?`(${e.and.map((e=>KP(e,t))).join(") && (")})`:SP(e)?`(${e.or.map((e=>KP(e,t))).join(") || (")})`:t(e)}function ZP(e,t){if(0===t.length)return!0;const n=t.shift();return n in e&&ZP(e[n],t)&&delete e[n],WP(e)}function XP(e){return e.charAt(0).toUpperCase()+e.substr(1)}function JP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum";const n=O(e),r=[];for(let e=1;e<=n.length;e++){const i=`[${n.slice(0,e).map(xe).join("][")}]`;r.push(`${t}${i}`)}return r.join(" && ")}function QP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum";return`${t}[${xe(O(e).join("."))}]`}function eI(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function tI(e){return`${O(e).map(eI).join("\\.")}`}function nI(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function rI(e){return`${O(e).join(".")}`}function iI(e){return e?O(e).length:0}function oI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const e of t)if(void 0!==e)return e}let aI=42;function sI(e){return function(e){return e.startsWith("__")}(e)?e:`__${e}`}function lI(e){if(void 0!==e)return(e%360+360)%360}function uI(e){return!!we(e)||!isNaN(e)&&!isNaN(parseFloat(e))}var cI=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const dI="row",hI="column",fI="facet",pI="x",mI="y",gI="x2",yI="y2",vI="xOffset",bI="yOffset",wI="radius",_I="radius2",kI="theta",SI="theta2",MI="latitude",xI="longitude",OI="latitude2",CI="longitude2",TI="color",RI="fill",DI="stroke",EI="shape",AI="size",LI="angle",jI="opacity",PI="fillOpacity",II="strokeOpacity",HI="strokeWidth",NI="strokeDash",FI="text",YI="order",zI="detail",BI="key",WI="tooltip",$I="href",UI="url",VI="description",qI={theta:1,theta2:1,radius:1,radius2:1};function GI(e){return e in qI}const KI={longitude:1,longitude2:1,latitude:1,latitude2:1},ZI=$P(KI),XI=Object.assign(Object.assign(Object.assign(Object.assign({},{x:1,y:1,x2:1,y2:1}),qI),KI),{xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1});function JI(e){return e===TI||e===RI||e===DI}const QI={row:1,column:1,facet:1},eH=$P(QI),tH=Object.assign(Object.assign({},XI),QI),nH=$P(tH),{order:rH,detail:iH,tooltip:oH}=tH,aH=cI(tH,["order","detail","tooltip"]),{row:sH,column:lH,facet:uH}=aH,cH=cI(aH,["row","column","facet"]);function dH(e){return!!tH[e]}$P(aH),$P(cH);const hH=[gI,yI,OI,CI,SI,_I];function fH(e){return pH(e)!==e}function pH(e){switch(e){case gI:return pI;case yI:return mI;case OI:return MI;case CI:return xI;case SI:return kI;case _I:return wI}return e}function mH(e){if(GI(e))switch(e){case kI:return"startAngle";case SI:return"endAngle";case wI:return"outerRadius";case _I:return"innerRadius"}return e}function gH(e){switch(e){case pI:return gI;case mI:return yI;case MI:return OI;case xI:return CI;case kI:return SI;case wI:return _I}}function yH(e){switch(e){case pI:case gI:return"width";case mI:case yI:return"height"}}function vH(e){switch(e){case pI:return"xOffset";case mI:return"yOffset"}}function bH(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const wH=$P(XI),{x:_H,y:kH,x2:SH,y2:MH,xOffset:xH,yOffset:OH,latitude:CH,longitude:TH,latitude2:RH,longitude2:DH,theta:EH,theta2:AH,radius:LH,radius2:jH}=XI,PH=cI(XI,["x","y","x2","y2","xOffset","yOffset","latitude","longitude","latitude2","longitude2","theta","theta2","radius","radius2"]),IH=$P(PH),HH={x:1,y:1},NH=$P(HH);function FH(e){return e in HH}const YH={theta:1,radius:1},zH=$P(YH);function BH(e){return"width"===e?pI:mI}const WH={xOffset:1,yOffset:1};function $H(e){return e in WH}$P(WH);const{text:UH,tooltip:VH,href:qH,url:GH,description:KH,detail:ZH,key:XH,order:JH}=PH,QH=cI(PH,["text","tooltip","href","url","description","detail","key","order"]),eN=$P(QH),tN=Object.assign(Object.assign(Object.assign(Object.assign({},HH),YH),WH),QH),nN=$P(tN);function rN(e){return!!tN[e]}const iN={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:oN}=iN,aN=cI(iN,["geoshape"]);function sN(e){switch(e){case pI:case mI:case kI:case wI:case vI:case bI:case AI:case LI:case HI:case jI:case PI:case II:case gI:case yI:case SI:case _I:return;case fI:case dI:case hI:case EI:case NI:case FI:case WI:case $I:case UI:case VI:return"discrete";case TI:case RI:case DI:return"flexible";case MI:case xI:case OI:case CI:case zI:case BI:case YI:return}}const lN={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},uN={count:1,min:1,max:1};function cN(e){return!!e&&!!e.argmin}function dN(e){return!!e&&!!e.argmax}function hN(e){return _e(e)&&!!lN[e]}const fN=new Set(["count","valid","missing","distinct"]);function pN(e){return _e(e)&&fN.has(e)}const mN=new Set(["count","sum","distinct","valid","missing"]),gN=new Set(["mean","average","median","q1","q3","min","max"]);function yN(e){return ve(e)&&(e=YB(e,void 0)),"bin"+$P(e).map((t=>_N(e[t])?GP(`_${t}_${VP(e[t])}`):GP(`_${t}_${e[t]}`))).join("")}function vN(e){return!0===e||wN(e)&&!e.binned}function bN(e){return"binned"===e||wN(e)&&!0===e.binned}function wN(e){return H(e)}function _N(e){return null==e?void 0:e.param}function kN(e){switch(e){case dI:case hI:case AI:case TI:case RI:case DI:case HI:case jI:case PI:case II:case EI:return 6;case NI:return 4;default:return 10}}function SN(e){return!!(null==e?void 0:e.expr)}function MN(e){const t=$P(e||{}),n={};for(const r of t)n[r]=PN(e[r]);return n}function xN(e){const{anchor:t,frame:n,offset:r,orient:i,angle:o,limit:a,color:s,subtitleColor:l,subtitleFont:u,subtitleFontSize:c,subtitleFontStyle:d,subtitleFontWeight:h,subtitleLineHeight:f,subtitlePadding:p}=e,m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["anchor","frame","offset","orient","angle","limit","color","subtitleColor","subtitleFont","subtitleFontSize","subtitleFontStyle","subtitleFontWeight","subtitleLineHeight","subtitlePadding"]),g=Object.assign(Object.assign({},m),s?{fill:s}:{}),y=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t?{anchor:t}:{}),n?{frame:n}:{}),r?{offset:r}:{}),i?{orient:i}:{}),void 0!==o?{angle:o}:{}),void 0!==a?{limit:a}:{}),v=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},l?{subtitleColor:l}:{}),u?{subtitleFont:u}:{}),c?{subtitleFontSize:c}:{}),d?{subtitleFontStyle:d}:{}),h?{subtitleFontWeight:h}:{}),f?{subtitleLineHeight:f}:{}),p?{subtitlePadding:p}:{});return{titleMarkConfig:g,subtitleMarkConfig:DP(e,["align","baseline","dx","dy","limit"]),nonMarkTitleProperties:y,subtitle:v}}function ON(e){return _e(e)||I(e)&&_e(e[0])}function CN(e){return!!(null==e?void 0:e.signal)}function TN(e){return!!e.step}function RN(e){return!I(e)&&"field"in e&&"data"in e}const DN=$P({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),EN={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},AN=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];var LN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function jN(e){const t=I(e.condition)?e.condition.map(IN):IN(e.condition);return Object.assign(Object.assign({},PN(e)),{condition:t})}function PN(e){if(SN(e)){const{expr:t}=e,n=LN(e,["expr"]);return Object.assign({signal:t},n)}return e}function IN(e){if(SN(e)){const{expr:t}=e,n=LN(e,["expr"]);return Object.assign({signal:t},n)}return e}function HN(e){if(SN(e)){const{expr:t}=e,n=LN(e,["expr"]);return Object.assign({signal:t},n)}return CN(e)?e:void 0!==e?{value:e}:void 0}function NN(e){return CN(e)?e.signal:xe(e)}function FN(e){return CN(e)?e.signal:xe(e.value)}function YN(e){return CN(e)?e.signal:null==e?null:xe(e)}function zN(e){var t;return[].concat(e.type,null!==(t=e.style)&&void 0!==t?t:[])}function BN(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{vgChannel:i,ignoreVgConfig:o}=r;return i&&void 0!==t[i]?t[i]:void 0!==t[e]?t[e]:!o||i&&i!==e?WN(e,t,n,r):void 0}function WN(e,t,n){let{vgChannel:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return oI(r?$N(e,t,n.style):void 0,$N(e,t,n.style),r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function $N(e,t,n){return UN(e,zN(t),n)}function UN(e,t,n){let r;t=te(t);for(const i of t){const t=n[i];t&&void 0!==t[e]&&(r=t[e])}return r}function VN(e,t){return te(e).reduce(((e,n)=>{var r;return e.field.push(SB(n,t)),e.order.push(null!==(r=n.sort)&&void 0!==r?r:"ascending"),e}),{field:[],order:[]})}function qN(e,t){const n=[...e];return t.forEach((e=>{for(const t of n)if(TP(t,e))return;n.push(e)})),n}function GN(e,t){return TP(e,t)||!t?e:e?[...te(e),...te(t)].join(", "):t}function KN(e,t){const n=e.value,r=t.value;if(null==n||null===r)return{explicit:e.explicit,value:null};if((ON(n)||CN(n))&&(ON(r)||CN(r)))return{explicit:e.explicit,value:GN(n,r)};if(ON(n)||CN(n))return{explicit:e.explicit,value:n};if(ON(r)||CN(r))return{explicit:e.explicit,value:r};if(!(ON(n)||CN(n)||ON(r)||CN(r)))return{explicit:e.explicit,value:qN(n,r)};throw new Error("It should never reach here")}function ZN(e){return`Invalid specification ${AP(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}function XN(e){return("width"==e?"Width":"Height")+' "container" only works for single views and layered views.'}function JN(e){return`${"width"==e?"Width":"Height"} "container" only works well with autosize "fit" or "fit-${"width"==e?"x":"y"}".`}function QN(e){return e?`Dropping "fit-${e}" because spec has discrete ${yH(e)}.`:'Dropping "fit" because spec has discrete size.'}function eF(e){return`Unknown field for ${e}. Cannot calculate view size.`}function tF(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function nF(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function rF(e){return`Selection not supported for ${e} yet.`}function iF(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}function oF(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}function aF(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function sF(e){return`${e}Offset dropped because ${e} is continuous`}function lF(e){return`There is no ${e} encoding. Replacing ${e}Offset encoding as ${e}.`}function uF(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${AP(n)}}.`}function cF(e){return`Invalid field type "${e}".`}function dF(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function hF(e){return`Invalid aggregation operator "${e}".`}function fF(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function pF(e,t){return`Dropping ${AP(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}function mF(e,t,n){return`${e} dropped as it is incompatible with "${t}"${n?` when ${n}`:""}.`}function gF(e){return`${e} encoding has no scale, so specified scale is ignored.`}function yF(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function vF(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function bF(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${"ordinal"===t?"order":"magnitude"}.`}function wF(e){return`The ${e} for range marks cannot be an expression`}function _F(e){return`Using unaggregated domain with raw field has no effect (${AP(e)}).`}function kF(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function SF(e){return`Unaggregated domain is currently unsupported for log scale (${AP(e)}).`}function MF(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function xF(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function OF(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function CF(e){return`The step for "${e}" is dropped because the ${"width"===e?"x":"y"} is continuous.`}const TF="Domains that should be unioned has conflicting sort properties. Sort will be set to true.";function RF(e,t){return`Invalid ${e}: ${AP(t)}.`}function DF(e){return`1D error band does not support ${e}.`}function EF(e){return`Channel ${e} is required for "binned" bin.`}function AF(e){return`Channel ${e} should not be used with "binned" bin.`}const LF=P(2);let jF=LF;function PF(e){return jF=e,jF}function IF(){return jF=LF,jF}function HF(){jF.warn(...arguments)}function NF(e){if(e&&H(e))for(const t of GF)if(t in e)return!0;return!1}new WeakMap;const FF=["january","february","march","april","may","june","july","august","september","october","november","december"],YF=FF.map((e=>e.substr(0,3))),zF=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],BF=zF.map((e=>e.substr(0,3)));function WF(e,t){const n=[];if(t&&void 0!==e.day&&$P(e).length>1&&(HF(function(e){return`Dropping day from datetime ${AP(e)} as day cannot be combined with other units.`}(e)),delete(e=RP(e)).day),void 0!==e.year?n.push(e.year):n.push(2012),void 0!==e.month){const r=t?function(e){if(uI(e)&&(e=+e),we(e))return e-1;{const t=e.toLowerCase(),n=FF.indexOf(t);if(-1!==n)return n;const r=t.substr(0,3),i=YF.indexOf(r);if(-1!==i)return i;throw new Error(RF("month",e))}}(e.month):e.month;n.push(r)}else if(void 0!==e.quarter){const r=t?function(e){if(uI(e)&&(e=+e),we(e))return e>4&&HF(RF("quarter",e)),e-1;throw new Error(RF("quarter",e))}(e.quarter):e.quarter;n.push(we(r)?3*r:`${r}*3`)}else n.push(0);if(void 0!==e.date)n.push(e.date);else if(void 0!==e.day){const r=t?function(e){if(uI(e)&&(e=+e),we(e))return e%7;{const t=e.toLowerCase(),n=zF.indexOf(t);if(-1!==n)return n;const r=t.substr(0,3),i=BF.indexOf(r);if(-1!==i)return i;throw new Error(RF("day",e))}}(e.day):e.day;n.push(we(r)?r+1:`${r}+1`)}else n.push(1);for(const t of["hours","minutes","seconds","milliseconds"]){const r=e[t];n.push(void 0===r?0:r)}return n}function $F(e){const t=WF(e,!0).join(", ");return e.utc?`utc(${t})`:`datetime(${t})`}function UF(e){const t=WF(e,!1).join(", ");return e.utc?`utc(${t})`:`datetime(${t})`}function VF(e){const t=WF(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const qF={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},GF=$P(qF);function KF(e){return e.startsWith("utc")}const ZF={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function XF(e){return GF.filter((t=>JF(e,t)))}function JF(e,t){const n=e.indexOf(t);return!(n<0||n>0&&"seconds"===t&&"i"===e.charAt(n-1)||e.length>n+3&&"day"===t&&"o"===e.charAt(n+3)||n>0&&"year"===t&&"f"===e.charAt(n-1))}function QF(e,t){let{end:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{end:!1};const r=JP(t),i=KF(e)?"utc":"";function o(e){return"quarter"===e?`(${i}quarter(${r})-1)`:`${i}${e}(${r})`}let a;const s={};for(const t of GF)JF(e,t)&&(s[t]=o(t),a=t);return n&&(s[a]+="+1"),UF(s)}function eY(e){if(!e)return;const t=XF(e);return`timeUnitSpecifier(${AP(t)}, ${AP(ZF)})`}function tY(e){if(!e)return;let t;return _e(e)?t={unit:e}:H(e)&&(t=Object.assign(Object.assign({},e),e.unit?{unit:e.unit}:{})),KF(t.unit)&&(t.utc=!0,t.unit=t.unit.substr(3)),t}function nY(e){const t=tY(e),{utc:n}=t,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["utc"]);return r.unit?(n?"utc":"")+$P(r).map((e=>GP(`${"unit"===e?"":`_${e}_`}${r[e]}`))).join(""):(n?"utc":"")+"timeunit"+$P(r).map((e=>GP(`_${e}_${r[e]}`))).join("")}function rY(e){return!!(null==e?void 0:e.field)&&void 0!==e.equal}function iY(e){return!!(null==e?void 0:e.field)&&void 0!==e.lt}function oY(e){return!!(null==e?void 0:e.field)&&void 0!==e.lte}function aY(e){return!!(null==e?void 0:e.field)&&void 0!==e.gt}function sY(e){return!!(null==e?void 0:e.field)&&void 0!==e.gte}function lY(e){if(null==e?void 0:e.field){if(I(e.range)&&2===e.range.length)return!0;if(CN(e.range))return!0}return!1}function uY(e){return!!(null==e?void 0:e.field)&&(I(e.oneOf)||I(e.in))}function cY(e){return!!(null==e?void 0:e.field)&&void 0!==e.valid}function dY(e){return uY(e)||rY(e)||lY(e)||iY(e)||aY(e)||oY(e)||sY(e)}function hY(e,t){return $B(e,{timeUnit:t,wrapTime:!0})}function fY(e,t){return e.map((e=>hY(e,t)))}function pY(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var n;const{field:r}=e,i=null===(n=tY(e.timeUnit))||void 0===n?void 0:n.unit,o=i?`time(${QF(i,r)})`:SB(e,{expr:"datum"});if(rY(e))return`${o}===${hY(e.equal,i)}`;if(iY(e))return`${o}<${hY(e.lt,i)}`;if(aY(e))return`${o}>${hY(e.gt,i)}`;if(oY(e))return`${o}<=${hY(e.lte,i)}`;if(sY(e))return`${o}>=${hY(e.gte,i)}`;if(uY(e))return`indexof([${fY(e.oneOf,i).join(",")}], ${o}) !== -1`;if(cY(e))return mY(o,e.valid);if(lY(e)){const{range:n}=e,r=CN(n)?{signal:`${n.signal}[0]`}:n[0],a=CN(n)?{signal:`${n.signal}[1]`}:n[1];if(null!==r&&null!==a&&t)return"inrange("+o+", ["+hY(r,i)+", "+hY(a,i)+"])";const s=[];return null!==r&&s.push(`${o} >= ${hY(r,i)}`),null!==a&&s.push(`${o} <= ${hY(a,i)}`),s.length>0?s.join(" && "):"true"}throw new Error(`Invalid field predicate: ${AP(e)}`)}function mY(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function gY(e){var t;return dY(e)&&e.timeUnit?Object.assign(Object.assign({},e),{timeUnit:null===(t=tY(e.timeUnit))||void 0===t?void 0:t.unit}):e}const yY={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function vY(e){return"ordinal"===e||"nominal"===e}const bY=yY.quantitative,wY=yY.ordinal,_Y=yY.temporal,kY=yY.nominal,SY=yY.geojson;function MY(e){if(e)switch(e=e.toLowerCase()){case"q":case bY:return"quantitative";case"t":case _Y:return"temporal";case"o":case wY:return"ordinal";case"n":case kY:return"nominal";case SY:return"geojson"}}$P(yY);const xY="time",OY="utc",CY="point",TY="band",RY={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function DY(e,t){const n=RY[e],r=RY[t];return n===r||"ordinal-position"===n&&"time"===r||"ordinal-position"===r&&"time"===n}$P(RY);const EY={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function AY(e){return EY[e]}const LY=new Set(["linear","log","pow","sqrt","symlog"]),jY=new Set([...LY,"time","utc"]);function PY(e){return LY.has(e)}const IY=new Set(["quantile","quantize","threshold"]),HY=new Set([...jY,...IY,"sequential","identity"]),NY=new Set(["ordinal","bin-ordinal","point","band"]);function FY(e){return NY.has(e)}function YY(e){return HY.has(e)}function zY(e){return jY.has(e)}function BY(e){return IY.has(e)}function WY(e){return null==e?void 0:e.param}new Set(["time","utc"]);const $Y={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:UY,domain:VY,range:qY,rangeMax:GY,rangeMin:KY,scheme:ZY}=($P($Y),$Y),XY=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}($Y,["type","domain","range","rangeMax","rangeMin","scheme"]),JY=$P(XY);function QY(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return zY(e)||"band"===e||"point"===e;case"padding":case"rangeMin":case"rangeMax":return zY(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return"band"===e;case"domainMax":case"domainMid":case"domainMin":case"clamp":return zY(e);case"nice":return zY(e)||"quantize"===e||"threshold"===e;case"exponent":return"pow"===e;case"base":return"log"===e;case"constant":return"symlog"===e;case"zero":return YY(e)&&!PP(["log","time","utc","threshold","quantile"],e)}}function ez(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return JI(e)?void 0:`Cannot use the scale property "${t}" with non-color channel.`;case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function tz(e,t){return PP([wY,kY],t)?void 0===e||FY(e):t===_Y?PP([xY,OY,void 0],e):t!==bY||PY(e)||BY(e)||void 0===e}function nz(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!rN(e))return!1;switch(e){case pI:case mI:case vI:case bI:case kI:case wI:return!!zY(t)||"band"===t||"point"===t&&!n;case AI:case HI:case jI:case PI:case II:case LI:return zY(t)||BY(t)||PP(["band","point","ordinal"],t);case TI:case RI:case DI:return"band"!==t;case NI:case EI:return"ordinal"===t||BY(t)}}const rz={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},iz=rz.arc,oz=rz.area,az=rz.bar,sz=rz.image,lz=rz.line,uz=rz.point,cz=rz.rect,dz=rz.rule,hz=rz.text,fz=rz.tick,pz=rz.trail,mz=rz.circle,gz=rz.square,yz=rz.geoshape;function vz(e){return["line","area","trail"].includes(e)}function bz(e){return["rect","bar","image","arc"].includes(e)}const wz=new Set($P(rz));function _z(e){return e.type}const kz=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit","fill","fillOpacity"],Sz=$P({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),Mz=$P({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1});function xz(e){return e&&null!=e.band}const Oz={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]};function Cz(e){const{channel:t,channelDef:n,markDef:r,scale:i,config:o}=e,a=Az(e);return uB(n)&&!pN(n.aggregate)&&i&&zY(i.get("type"))?function(e){let{fieldDef:t,channel:n,markDef:r,ref:i,config:o}=e;return vz(r.type)?i:null===BN("invalid",r,o)?[Tz(t,n),i]:i}({fieldDef:n,channel:t,markDef:r,ref:a,config:o}):a}function Tz(e,t){const n=Rz(e,!0),r="y"===pH(t)?{field:{group:"height"}}:{value:0};return Object.assign({test:n},r)}function Rz(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return mY(_e(e)?e:SB(e,{expr:"datum"}),!t)}function Dz(e,t,n,r){const i={};if(t&&(i.scale=t),dB(e)){const{datum:t}=e;NF(t)?i.signal=$F(t):CN(t)?i.signal=t.signal:SN(t)?i.signal=t.expr:i.value=t}else i.field=SB(e,n);if(r){const{offset:e,band:t}=r;e&&(i.offset=e),t&&(i.band=t)}return i}function Ez(e){let{scaleName:t,fieldOrDatumDef:n,fieldOrDatumDef2:r,offset:i,startSuffix:o,bandPosition:a=.5}=e;const s=0<a&&a<1?"datum":void 0,l=SB(n,{expr:s,suffix:o}),u=void 0!==r?SB(r,{expr:s}):SB(n,{suffix:"end",expr:s}),c={};if(0===a||1===a){c.scale=t;const e=0===a?l:u;c.field=e}else{const e=CN(a)?`${a.signal} * ${l} + (1-${a.signal}) * ${u}`:`${a} * ${l} + ${1-a} * ${u}`;c.signal=`scale("${t}", ${e})`}return i&&(c.offset=i),c}function Az(e){let{channel:t,channelDef:n,channel2Def:r,markDef:i,config:o,scaleName:a,scale:s,stack:l,offset:u,defaultRef:c,bandPosition:d}=e;var h;if(n){if(pB(n)){const e=null==s?void 0:s.get("type");if(mB(n)){null!=d||(d=rB({fieldDef:n,fieldDef2:r,markDef:i,config:o}));const{bin:s,timeUnit:c,type:h}=n;if(vN(s)||d&&c&&h===_Y)return(null==l?void 0:l.impute)?Dz(n,a,{binSuffix:"mid"},{offset:u}):d&&!FY(e)?Ez({scaleName:a,fieldOrDatumDef:n,bandPosition:d,offset:u}):Dz(n,a,VB(n,t)?{binSuffix:"range"}:{},{offset:u});if(bN(s)){if(uB(r))return Ez({scaleName:a,fieldOrDatumDef:n,fieldOrDatumDef2:r,bandPosition:d,offset:u});HF(EF(t===pI?gI:yI))}}return Dz(n,a,FY(e)?{binSuffix:"range"}:{},{offset:u,band:"band"===e?null!==(h=null!=d?d:n.bandPosition)&&void 0!==h?h:.5:void 0})}if(gB(n)){const e=n.value,r=u?{offset:u}:{};return Object.assign(Object.assign({},Lz(t,e)),r)}}return ne(c)&&(c=c()),c?Object.assign(Object.assign({},c),u?{offset:u}:{}):c}function Lz(e,t){return PP(["x","x2"],e)&&"width"===t?{field:{group:"width"}}:PP(["y","y2"],e)&&"height"===t?{field:{group:"height"}}:HN(t)}function jz(e){return e&&"number"!==e&&"time"!==e}function Pz(e,t,n){return`${e}(${t}${n?`, ${AP(n)}`:""})`}function Iz(e){let{fieldOrDatumDef:t,format:n,formatType:r,expr:i,normalizeStack:o,config:a}=e;var s,l;if(jz(r))return Nz({fieldOrDatumDef:t,format:n,formatType:r,expr:i,config:a});const u=Hz(t,i,o),c=cB(t);if(void 0===n&&void 0===r&&a.customFormatTypes){if("quantitative"===c){if(o&&a.normalizedNumberFormatType)return Nz({fieldOrDatumDef:t,format:a.normalizedNumberFormat,formatType:a.normalizedNumberFormatType,expr:i,config:a});if(a.numberFormatType)return Nz({fieldOrDatumDef:t,format:a.numberFormat,formatType:a.numberFormatType,expr:i,config:a})}if("temporal"===c&&a.timeFormatType&&uB(t)&&void 0===t.timeUnit)return Nz({fieldOrDatumDef:t,format:a.timeFormat,formatType:a.timeFormatType,expr:i,config:a})}if(WB(t)){const e=function(e){let{field:t,timeUnit:n,format:r,formatType:i,rawTimeFormat:o,isUTCScale:a}=e;return!n||r?!n&&i?`${i}(${t}, '${r}')`:(r=_e(r)?r:o,`${a?"utc":"time"}Format(${t}, '${r}')`):function(e,t,n){if(!e)return;const r=eY(e);return`${n||KF(e)?"utc":"time"}Format(${t}, ${r})`}(n,t,a)}({field:u,timeUnit:uB(t)?null===(s=tY(t.timeUnit))||void 0===s?void 0:s.unit:void 0,format:n,formatType:a.timeFormatType,rawTimeFormat:a.timeFormat,isUTCScale:yB(t)&&(null===(l=t.scale)||void 0===l?void 0:l.type)===OY});return e?{signal:e}:void 0}return n=zz({type:c,specifiedFormat:n,config:a,normalizeStack:o}),uB(t)&&vN(t.bin)?{signal:$z(u,SB(t,{expr:i,binSuffix:"end"}),n,r,a)}:n||"quantitative"===cB(t)?{signal:`${Bz(u,n)}`}:{signal:`isValid(${u}) ? ${u} : ""+${u}`}}function Hz(e,t,n){return uB(e)?n?`${SB(e,{expr:t,suffix:"end"})}-${SB(e,{expr:t,suffix:"start"})}`:SB(e,{expr:t}):function(e){const{datum:t}=e;return NF(t)?$F(t):`${AP(t)}`}(e)}function Nz(e){let{fieldOrDatumDef:t,format:n,formatType:r,expr:i,normalizeStack:o,config:a,field:s}=e;return null!=s||(s=Hz(t,i,o)),"datum.value"!==s&&uB(t)&&vN(t.bin)?{signal:$z(s,SB(t,{expr:i,binSuffix:"end"}),n,r,a)}:{signal:Pz(r,s,n)}}function Fz(e,t,n,r,i,o){var a;if(!jz(r)){if(void 0===n&&void 0===r&&i.customFormatTypes&&"quantitative"===cB(e)){if(i.normalizedNumberFormatType&&vB(e)&&"normalize"===e.stack)return;if(i.numberFormatType)return}if(vB(e)&&"normalize"===e.stack&&i.normalizedNumberFormat)return zz({type:"quantitative",config:i,normalizeStack:!0});if(WB(e)){const t=uB(e)?null===(a=tY(e.timeUnit))||void 0===a?void 0:a.unit:void 0;if(void 0===t&&i.customFormatTypes&&i.timeFormatType)return;return function(e){let{specifiedFormat:t,timeUnit:n,config:r,omitTimeFormatConfig:i}=e;return t||(n?{signal:eY(n)}:i?void 0:r.timeFormat)}({specifiedFormat:n,timeUnit:t,config:i,omitTimeFormatConfig:o})}return zz({type:t,specifiedFormat:n,config:i})}}function Yz(e,t,n){var r;return e&&(CN(e)||"number"===e||"time"===e)?e:WB(t)&&"time"!==n&&"utc"!==n?uB(t)&&(null===(r=tY(null==t?void 0:t.timeUnit))||void 0===r?void 0:r.utc)?"utc":"time":void 0}function zz(e){let{type:t,specifiedFormat:n,config:r,normalizeStack:i}=e;return _e(n)?n:t===bY?i?r.normalizedNumberFormat:r.numberFormat:void 0}function Bz(e,t){return`format(${e}, "${t||""}")`}function Wz(e,t,n,r){var i;return jz(n)?Pz(n,e,t):Bz(e,null!==(i=_e(t)?t:void 0)&&void 0!==i?i:r.numberFormat)}function $z(e,t,n,r,i){if(void 0===n&&void 0===r&&i.customFormatTypes&&i.numberFormatType)return $z(e,t,i.numberFormat,i.numberFormatType,i);const o=Wz(e,n,r,i),a=Wz(t,n,r,i);return`${mY(e,!1)} ? "null" : ${o} + " – " + ${a}`}const Uz="min",Vz={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function qz(e){return e in Vz}function Gz(e){return!!(null==e?void 0:e.encoding)}function Kz(e){return e&&("count"===e.op||!!e.field)}function Zz(e){return e&&I(e)}function Xz(e){return"row"in e||"column"in e}function Jz(e){return!!e&&"header"in e}function Qz(e){return"facet"in e}var eB=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function tB(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return Object.assign(Object.assign(Object.assign(Object.assign({},n?{timeUnit:n}:{}),r?{bin:r}:{}),i?{aggregate:i}:{}),{field:t})}function nB(e){return"sort"in e}function rB(e){let{fieldDef:t,fieldDef2:n,markDef:r,config:i}=e;if(pB(t)&&void 0!==t.bandPosition)return t.bandPosition;if(uB(t)){const{timeUnit:e,bin:o}=t;if(e&&!n)return bz(r.type)?0:WN("timeUnitBandPosition",r,i);if(vN(o))return.5}}function iB(e){let{channel:t,fieldDef:n,fieldDef2:r,markDef:i,config:o,scaleType:a,useVlSizeChannel:s}=e;var l,u,c;const d=yH(t),h=BN(s?"size":d,i,o,{vgChannel:d});if(void 0!==h)return h;if(uB(n)){const{timeUnit:e,bin:t}=n;if(e&&!r)return{band:WN("timeUnitBandSize",i,o)};if(vN(t)&&!FY(a))return{band:1}}return bz(i.type)?a?FY(a)?(null===(l=o[i.type])||void 0===l?void 0:l.discreteBandSize)||{band:1}:null===(u=o[i.type])||void 0===u?void 0:u.continuousBandSize:null===(c=o[i.type])||void 0===c?void 0:c.discreteBandSize:void 0}function oB(e,t,n,r){return!!(vN(e.bin)||e.timeUnit&&mB(e)&&"temporal"===e.type)&&void 0!==rB({fieldDef:e,fieldDef2:t,markDef:n,config:r})}function aB(e){return e&&"condition"in e}function sB(e){const t=null==e?void 0:e.condition;return!!t&&!I(t)&&uB(t)}function lB(e){const t=null==e?void 0:e.condition;return!!t&&!I(t)&&pB(t)}function uB(e){return e&&(!!e.field||"count"===e.aggregate)}function cB(e){return null==e?void 0:e.type}function dB(e){return e&&"datum"in e}function hB(e){return mB(e)&&!MB(e)||fB(e)}function fB(e){return dB(e)&&we(e.datum)}function pB(e){return uB(e)||dB(e)}function mB(e){return e&&("field"in e||"count"===e.aggregate)&&"type"in e}function gB(e){return e&&"value"in e&&"value"in e}function yB(e){return e&&("scale"in e||"sort"in e)}function vB(e){return e&&("axis"in e||"stack"in e||"impute"in e)}function bB(e){return e&&"legend"in e}function wB(e){return e&&("format"in e||"formatType"in e)}function _B(e){return EP(e,["legend","axis","header","scale"])}function kB(e){return"op"in e}function SB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r,i;let o=e.field;const a=t.prefix;let s=t.suffix,l="";if(xB(e))o=sI("count");else{let a;if(!t.nofn)if(kB(e))a=e.op;else{const{bin:u,aggregate:c,timeUnit:d}=e;vN(u)?(a=yN(u),s=(null!==(n=t.binSuffix)&&void 0!==n?n:"")+(null!==(r=t.suffix)&&void 0!==r?r:"")):c?dN(c)?(l=`["${o}"]`,o=`argmax_${c.argmax}`):cN(c)?(l=`["${o}"]`,o=`argmin_${c.argmin}`):a=String(c):d&&(a=nY(d),s=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(null!==(i=t.suffix)&&void 0!==i?i:""))}a&&(o=o?`${a}_${o}`:a)}return s&&(o=`${o}_${s}`),a&&(o=`${a}_${o}`),t.forAs?rI(o):t.expr?QP(o,t.expr)+l:tI(o)+l}function MB(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return uB(e)&&!!e.bin;case"temporal":return!1}throw new Error(cF(e.type))}function xB(e){return"count"===e.aggregate}const OB=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return function(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(dN(t))return`${i} for argmax(${t.argmax})`;if(cN(t))return`${i} for argmin(${t.argmin})`;const o=tY(r),a=t||(null==o?void 0:o.unit)||(null==o?void 0:o.maxbins)&&"timeunit"||vN(n)&&"bin";return a?`${a.toUpperCase()}(${i})`:i}(e);default:return function(e,t){var n;const{field:r,bin:i,timeUnit:o,aggregate:a}=e;if("count"===a)return t.countTitle;if(vN(i))return`${r} (binned)`;if(o){const e=null===(n=tY(o))||void 0===n?void 0:n.unit;if(e)return`${r} (${XF(e).join("-")})`}else if(a)return dN(a)?`${r} for max ${a.argmax}`:cN(a)?`${r} for min ${a.argmin}`:`${XP(a)} of ${r}`;return r}(e,t)}};let CB=OB;function TB(e){CB=e}function RB(){TB(OB)}function DB(e,t,n){let{allowDisabling:r,includeDefault:i=!0}=n;var o,a;const s=null===(o=EB(e))||void 0===o?void 0:o.title;if(!uB(e))return null!=s?s:e.title;const l=e,u=i?AB(l,t):void 0;return r?oI(s,l.title,u):null!==(a=null!=s?s:l.title)&&void 0!==a?a:u}function EB(e){return vB(e)&&e.axis?e.axis:bB(e)&&e.legend?e.legend:Jz(e)&&e.header?e.header:void 0}function AB(e,t){return CB(e,t)}function LB(e){var t;if(wB(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}{const n=null!==(t=EB(e))&&void 0!==t?t:{},{format:r,formatType:i}=n;return{format:r,formatType:i}}}function jB(e,t){var n;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(nB(e)&&I(e.sort))return"ordinal";const{aggregate:r,bin:i,timeUnit:o}=e;if(o)return"temporal";if(i||r&&!dN(r)&&!cN(r))return"quantitative";if(yB(e)&&(null===(n=e.scale)||void 0===n?void 0:n.type))switch(RY[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function PB(e){return uB(e)?e:sB(e)?e.condition:void 0}function IB(e){return pB(e)?e:lB(e)?e.condition:void 0}function HB(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return _e(e)||we(e)||ve(e)?(HF(uF(t,_e(e)?"string":we(e)?"number":"boolean",e)),{value:e}):pB(e)?NB(e,t,n,r):lB(e)?Object.assign(Object.assign({},e),{condition:NB(e.condition,t,n,r)}):e}function NB(e,t,n,r){if(wB(e)){const{format:i,formatType:o}=e,a=eB(e,["format","formatType"]);if(jz(o)&&!n.customFormatTypes)return HF(aF(t)),NB(a,t,n,r)}else{const i=vB(e)?"axis":bB(e)?"legend":Jz(e)?"header":null;if(i&&e[i]){const o=e[i],{format:a,formatType:s}=o,l=eB(o,["format","formatType"]);if(jz(s)&&!n.customFormatTypes)return HF(aF(t)),NB(Object.assign(Object.assign({},e),{[i]:l}),t,n,r)}}return uB(e)?FB(e,t,r):function(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=we(n)?"quantitative":_e(n)?"nominal":NF(n)?"temporal":void 0,Object.assign(Object.assign({},e),{type:t})}(e)}function FB(e,t){let{compositeMark:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{aggregate:r,timeUnit:i,bin:o,field:a}=e,s=Object.assign({},e);if(n||!r||hN(r)||dN(r)||cN(r)||(HF(hF(r)),delete s.aggregate),i&&(s.timeUnit=tY(i)),a&&(s.field=`${a}`),vN(o)&&(s.bin=YB(o,t)),bN(o)&&!FH(t)&&HF(AF(t)),mB(s)){const{type:e}=s,t=MY(e);e!==t&&(s.type=t),"quantitative"!==e&&pN(r)&&(HF(dF(e,r)),s.type="quantitative")}else if(!fH(t)){const e=jB(s,t);s.type=e}if(mB(s)){const{compatible:e,warning:n}=BB(s,t)||{};!1===e&&HF(n)}if(nB(s)&&_e(s.sort)){const{sort:e}=s;if(qz(e))return Object.assign(Object.assign({},s),{sort:{encoding:e}});const t=e.substr(1);if("-"===e.charAt(0)&&qz(t))return Object.assign(Object.assign({},s),{sort:{encoding:t,order:"descending"}})}if(Jz(s)){const{header:e}=s;if(e){const{orient:t}=e,n=eB(e,["orient"]);if(t)return Object.assign(Object.assign({},s),{header:Object.assign(Object.assign({},n),{labelOrient:e.labelOrient||t,titleOrient:e.titleOrient||t})})}}return s}function YB(e,t){return ve(e)?{maxbins:kN(t)}:"binned"===e?{binned:!0}:e.maxbins||e.step?e:Object.assign(Object.assign({},e),{maxbins:kN(t)})}const zB={compatible:!0};function BB(e,t){const n=e.type;if("geojson"===n&&"shape"!==t)return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case dI:case hI:case fI:return MB(e)?zB:{compatible:!1,warning:yF(t)};case pI:case mI:case vI:case bI:case TI:case RI:case DI:case FI:case zI:case BI:case WI:case $I:case UI:case LI:case kI:case wI:case VI:return zB;case xI:case CI:case MI:case OI:return n!==bY?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:zB;case jI:case PI:case II:case HI:case AI:case SI:case _I:case gI:case yI:return"nominal"!==n||e.sort?zB:{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`};case EI:case NI:return MB(e)||function(e){var t;return yB(e)&&BY(null===(t=e.scale)||void 0===t?void 0:t.type)}(e)?zB:{compatible:!1,warning:vF(t)};case YI:return"nominal"!==e.type||"sort"in e?zB:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function WB(e){const{formatType:t}=LB(e);return"time"===t||!t&&function(e){return e&&("temporal"===e.type||uB(e)&&!!e.timeUnit)}(e)}function $B(e,t){let{timeUnit:n,type:r,wrapTime:i,undefinedIfExprNotRequired:o}=t;var a;const s=n&&(null===(a=tY(n))||void 0===a?void 0:a.unit);let l,u=s||"temporal"===r;return SN(e)?l=e.expr:CN(e)?l=e.signal:NF(e)?(u=!0,l=$F(e)):(_e(e)||we(e))&&u&&(l=`datetime(${AP(e)})`,function(e){return!!qF[e]}(s)&&(we(e)&&e<1e4||_e(e)&&isNaN(Date.parse(e)))&&(l=$F({[s]:e}))),l?i&&u?`time(${l})`:l:o?void 0:AP(e)}function UB(e,t){const{type:n}=e;return t.map((t=>{const r=$B(t,{timeUnit:uB(e)?e.timeUnit:void 0,type:n,undefinedIfExprNotRequired:!0});return void 0!==r?{signal:r}:t}))}function VB(e,t){return vN(e.bin)?rN(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const qB={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function GB(e){return null==e?void 0:e.condition}const KB=["domain","grid","labels","ticks","title"],ZB={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},XB={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},JB=Object.assign(Object.assign({},XB),{style:1,labelExpr:1,encoding:1});function QB(e){return!!JB[e]}$P(JB);const eW=$P({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});function tW(e){return"mark"in e}class nW{constructor(e,t){this.name=e,this.run=t}hasMatchingType(e){return!!tW(e)&&function(e){return _z(e)?e.type:e}(e.mark)===this.name}}function rW(e,t){const n=e&&e[t];return!!n&&(I(n)?IP(n,(e=>!!e.field)):uB(n)||sB(n))}function iW(e,t){const n=e&&e[t];return!!n&&(I(n)?IP(n,(e=>!!e.field)):uB(n)||dB(n)||lB(n))}function oW(e,t){if(FH(t)){const n=e[t];if((uB(n)||dB(n))&&vY(n.type))return iW(e,vH(t))}return!1}function aW(e){return IP(nH,(t=>{if(rW(e,t)){const n=e[t];if(I(n))return IP(n,(e=>!!e.aggregate));{const e=PB(n);return e&&!!e.aggregate}}return!1}))}function sW(e,t){const n=[],r=[],i=[],o=[],a={};return dW(e,((s,l)=>{if(uB(s)){const{field:u,aggregate:c,bin:d,timeUnit:h}=s,f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(s,["field","aggregate","bin","timeUnit"]);if(c||h||d){const e=EB(s),p=null==e?void 0:e.title;let m=SB(s,{forAs:!0});const g=Object.assign(Object.assign(Object.assign({},p?[]:{title:DB(s,t,{allowDisabling:!0})}),f),{field:m});if(c){let e;if(dN(c)?(e="argmax",m=SB({op:"argmax",field:c.argmax},{forAs:!0}),g.field=`${m}.${u}`):cN(c)?(e="argmin",m=SB({op:"argmin",field:c.argmin},{forAs:!0}),g.field=`${m}.${u}`):"boxplot"!==c&&"errorbar"!==c&&"errorband"!==c&&(e=c),e){const t={op:e,as:m};u&&(t.field=u),o.push(t)}}else if(n.push(m),mB(s)&&vN(d)){if(r.push({bin:d,field:u,as:m}),n.push(SB(s,{binSuffix:"end"})),VB(s,l)&&n.push(SB(s,{binSuffix:"range"})),FH(l)){const e={field:`${m}_end`};a[`${l}2`]=e}g.bin="binned",fH(l)||(g.type=bY)}else if(h){i.push({timeUnit:h,field:u,as:m});const e=mB(s)&&s.type!==_Y&&"time";e&&(l===FI||l===WI?g.formatType=e:function(e){return!!PH[e]}(l)?g.legend=Object.assign({formatType:e},g.legend):FH(l)&&(g.axis=Object.assign({formatType:e},g.axis)))}a[l]=g}else n.push(u),a[l]=e[l]}else a[l]=e[l]})),{bins:r,timeUnits:i,aggregate:o,groupby:n,encoding:a}}function lW(e,t,n){const r=function(e,t){return function(e){switch(e){case TI:case RI:case DI:case VI:case zI:case BI:case WI:case $I:case YI:case jI:case PI:case II:case HI:case fI:case dI:case hI:return iN;case pI:case mI:case vI:case bI:case MI:case xI:return aN;case gI:case yI:case OI:case CI:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case AI:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case NI:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case EI:return{point:"always",geoshape:"always"};case FI:return{text:"always"};case LI:return{point:"always",square:"always",text:"always"};case UI:return{image:"always"};case kI:case wI:return{text:"always",arc:"always"};case SI:case _I:return{arc:"always"}}}(e)[t]}(t,n);if(!r)return!1;if("binned"===r){const n=e[t===gI?pI:mI];return!!(uB(n)&&uB(e[t])&&bN(n.bin))}return!0}function uW(e,t){const n={};for(const r of $P(e)){const i=HB(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function cW(e){const t=[];for(const n of $P(e))if(rW(e,n)){const r=te(e[n]);for(const e of r)uB(e)?t.push(e):sB(e)&&t.push(e.condition)}return t}function dW(e,t,n){if(e)for(const r of $P(e)){const i=e[r];if(I(i))for(const e of i)t.call(n,e,r);else t.call(n,i,r)}}function hW(e,t){return $P(t).reduce(((n,r)=>{switch(r){case pI:case mI:case $I:case VI:case UI:case gI:case yI:case vI:case bI:case kI:case SI:case wI:case _I:case MI:case xI:case OI:case CI:case FI:case EI:case LI:case WI:return n;case YI:if("line"===e||"trail"===e)return n;case zI:case BI:{const e=t[r];if(I(e)||uB(e))for(const t of te(e))t.aggregate||n.push(SB(t,{}));return n}case AI:if("trail"===e)return n;case TI:case RI:case DI:case jI:case PI:case II:case NI:case HI:{const e=PB(t[r]);return e&&!e.aggregate&&n.push(SB(e,{})),n}}}),[])}var fW=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function pW(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map((e=>{let{fieldPrefix:n,titlePrefix:i}=e;const o=r?` of ${mW(t)}`:"";return{field:n+t.field,type:t.type,title:CN(i)?{signal:`${i}"${escape(o)}"`}:i+o}})),o=cW(n).map(_B);return{tooltip:[...i,...FP(o,LP)]}}function mW(e){const{title:t,field:n}=e;return oI(t,n)}function gW(e,t,n,r,i){const{scale:o,axis:a}=n;return s=>{let{partName:l,mark:u,positionPrefix:c,endPositionPrefix:d,extraEncoding:h={}}=s;const f=mW(n);return yW(e,l,i,{mark:u,encoding:Object.assign(Object.assign(Object.assign({[t]:Object.assign(Object.assign(Object.assign({field:`${c}_${n.field}`,type:n.type},void 0!==f?{title:f}:{}),void 0!==o?{scale:o}:{}),void 0!==a?{axis:a}:{})},_e(d)?{[`${t}2`]:{field:`${d}_${n.field}`}}:{}),r),h)})}}function yW(e,t,n,r){const{clip:i,color:o,opacity:a}=e,s=e.type;return e[t]||void 0===e[t]&&n[t]?[Object.assign(Object.assign({},r),{mark:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n[t]),i?{clip:i}:{}),o?{color:o}:{}),a?{opacity:a}:{}),_z(r.mark)?r.mark:{type:r.mark}),{style:`${s}-${String(t)}`}),ve(e[t])?{}:e[t])})]:[]}function vW(e,t,n){const{encoding:r}=e,i="vertical"===t?"y":"x",o=r[i],a=r[`${i}2`],s=r[`${i}Error`],l=r[`${i}Error2`];return{continuousAxisChannelDef:bW(o,n),continuousAxisChannelDef2:bW(a,n),continuousAxisChannelDefError:bW(s,n),continuousAxisChannelDefError2:bW(l,n),continuousAxis:i}}function bW(e,t){if(null==e?void 0:e.aggregate){const{aggregate:n}=e,r=fW(e,["aggregate"]);return n!==t&&HF(function(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}(n,t)),r}return e}function wW(e,t){const{mark:n,encoding:r}=e,{x:i,y:o}=r;if(_z(n)&&n.orient)return n.orient;if(hB(i)){if(hB(o)){const e=uB(i)&&i.aggregate,n=uB(o)&&o.aggregate;if(e||n!==t){if(n||e!==t){if(e===t&&n===t)throw new Error("Both x and y cannot have aggregate");return WB(o)&&!WB(i)?"horizontal":"vertical"}return"horizontal"}return"vertical"}return"horizontal"}if(hB(o))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}var _W=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const kW="boxplot",SW=new nW(kW,xW);function MW(e){return we(e)?"tukey":e}function xW(e,t){let{config:n}=t;var r,i;e=Object.assign(Object.assign({},e),{encoding:uW(e.encoding,n)});const{mark:o,encoding:a,params:s,projection:l}=e,u=_W(e,["mark","encoding","params","projection"]),c=_z(o)?o:{type:o};s&&HF(rF("boxplot"));const d=null!==(r=c.extent)&&void 0!==r?r:n.boxplot.extent,h=BN("size",c,n),f=MW(d),{bins:p,timeUnits:m,transform:g,continuousAxisChannelDef:y,continuousAxis:v,groupby:b,aggregate:w,encodingWithoutContinuousAxis:_,ticksOrient:k,boxOrient:S,customTooltipWithoutAggregatedField:M}=function(e,t,n){const r=wW(e,kW),{continuousAxisChannelDef:i,continuousAxis:o}=vW(e,r,kW),a=i.field,s=MW(t),l=[...OW(a),{op:"median",field:a,as:`mid_box_${a}`},{op:"min",field:a,as:("min-max"===s?"lower_whisker_":"min_")+a},{op:"max",field:a,as:("min-max"===s?"upper_whisker_":"max_")+a}],u="min-max"===s||"tukey"===s?[]:[{calculate:`datum["upper_box_${a}"] - datum["lower_box_${a}"]`,as:`iqr_${a}`},{calculate:`min(datum["upper_box_${a}"] + datum["iqr_${a}"] * ${t}, datum["max_${a}"])`,as:`upper_whisker_${a}`},{calculate:`max(datum["lower_box_${a}"] - datum["iqr_${a}"] * ${t}, datum["min_${a}"])`,as:`lower_whisker_${a}`}],c=e.encoding,d=o,h=(c[d],_W(c,["symbol"==typeof d?d:d+""])),{customTooltipWithoutAggregatedField:f,filteredEncoding:p}=function(e){const{tooltip:t}=e,n=fW(e,["tooltip"]);if(!t)return{filteredEncoding:n};let r,i;if(I(t)){for(const e of t)e.aggregate?(r||(r=[]),r.push(e)):(i||(i=[]),i.push(e));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return I(i)&&1===i.length&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}(h),{bins:m,timeUnits:g,aggregate:y,groupby:v,encoding:b}=sW(p,n),w="vertical"===r?"horizontal":"vertical",_=r;return{bins:m,timeUnits:g,transform:[...m,...g,{aggregate:[...y,...l],groupby:v},...u],groupby:v,aggregate:y,continuousAxisChannelDef:i,continuousAxis:o,encodingWithoutContinuousAxis:b,ticksOrient:w,boxOrient:_,customTooltipWithoutAggregatedField:f}}(e,d,n),{color:x,size:O}=_,C=_W(_,["color","size"]),T=e=>gW(c,v,y,e,n.boxplot),R=T(C),D=T(_),E=T(Object.assign(Object.assign({},C),O?{size:O}:{})),A=pW([{fieldPrefix:"min-max"===f?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===f?"lower_whisker_":"min_",titlePrefix:"Min"}],y,_),L={type:"tick",color:"black",opacity:1,orient:k,invalid:null,aria:!1},j="min-max"===f?A:pW([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],y,_),P=[...R({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:j}),...R({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:j}),...R({partName:"ticks",mark:L,positionPrefix:"lower_whisker",extraEncoding:j}),...R({partName:"ticks",mark:L,positionPrefix:"upper_whisker",extraEncoding:j})],N=[..."tukey"!==f?P:[],...D({partName:"box",mark:Object.assign(Object.assign({type:"bar"},h?{size:h}:{}),{orient:S,invalid:null,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:A}),...E({partName:"median",mark:Object.assign(Object.assign(Object.assign({type:"tick",invalid:null},H(n.boxplot.median)&&n.boxplot.median.color?{color:n.boxplot.median.color}:{}),h?{size:h}:{}),{orient:k,aria:!1}),positionPrefix:"mid_box",extraEncoding:A})];if("min-max"===f)return Object.assign(Object.assign({},u),{transform:(null!==(i=u.transform)&&void 0!==i?i:[]).concat(g),layer:N});const F=`datum["lower_box_${y.field}"]`,Y=`datum["upper_box_${y.field}"]`,z=`(${Y} - ${F})`,B=`${F} - ${d} * ${z}`,W=`${Y} + ${d} * ${z}`,$=`datum["${y.field}"]`,U={joinaggregate:OW(y.field),groupby:b},V={transform:[{filter:`(${B} <= ${$}) && (${$} <= ${W})`},{aggregate:[{op:"min",field:y.field,as:`lower_whisker_${y.field}`},{op:"max",field:y.field,as:`upper_whisker_${y.field}`},{op:"min",field:`lower_box_${y.field}`,as:`lower_box_${y.field}`},{op:"max",field:`upper_box_${y.field}`,as:`upper_box_${y.field}`},...w],groupby:b}],layer:P},{tooltip:q}=C,G=_W(C,["tooltip"]),{scale:K,axis:Z}=y,X=mW(y),J=EP(Z,["title"]),Q=yW(c,"outliers",n.boxplot,{transform:[{filter:`(${$} < ${B}) || (${$} > ${W})`}],mark:"point",encoding:Object.assign(Object.assign(Object.assign({[v]:Object.assign(Object.assign(Object.assign({field:y.field,type:y.type},void 0!==X?{title:X}:{}),void 0!==K?{scale:K}:{}),WP(J)?{}:{axis:J})},G),x?{color:x}:{}),M?{tooltip:M}:{})})[0];let ee;const te=[...p,...m,U];return Q?ee={transform:te,layer:[Q,V]}:(ee=V,ee.transform.unshift(...te)),Object.assign(Object.assign({},u),{layer:[ee,{transform:g,layer:N}]})}function OW(e){return[{op:"q1",field:e,as:`lower_box_${e}`},{op:"q3",field:e,as:`upper_box_${e}`}]}var CW=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const TW="errorbar",RW=new nW(TW,DW);function DW(e,t){let{config:n}=t;e=Object.assign(Object.assign({},e),{encoding:uW(e.encoding,n)});const{transform:r,continuousAxisChannelDef:i,continuousAxis:o,encodingWithoutContinuousAxis:a,ticksOrient:s,markDef:l,outerSpec:u,tooltipEncoding:c}=EW(e,TW,n);delete a.size;const d=gW(l,o,i,a,n.errorbar),h=l.thickness,f=l.size,p=Object.assign(Object.assign({type:"tick",orient:s,aria:!1},void 0!==h?{thickness:h}:{}),void 0!==f?{size:f}:{}),m=[...d({partName:"ticks",mark:p,positionPrefix:"lower",extraEncoding:c}),...d({partName:"ticks",mark:p,positionPrefix:"upper",extraEncoding:c}),...d({partName:"rule",mark:Object.assign({type:"rule",ariaRoleDescription:"errorbar"},void 0!==h?{size:h}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:c})];return Object.assign(Object.assign(Object.assign({},u),{transform:r}),m.length>1?{layer:m}:Object.assign({},m[0]))}function EW(e,t,n){var r;const{mark:i,encoding:o,params:a,projection:s}=e,l=CW(e,["mark","encoding","params","projection"]),u=_z(i)?i:{type:i};a&&HF(rF(t));const{orient:c,inputType:d}=function(e,t){const{encoding:n}=e;if(function(e){return(pB(e.x)||pB(e.y))&&!pB(e.x2)&&!pB(e.y2)&&!pB(e.xError)&&!pB(e.xError2)&&!pB(e.yError)&&!pB(e.yError2)}(n))return{orient:wW(e,t),inputType:"raw"};const r=function(e){return pB(e.x2)||pB(e.y2)}(n),i=function(e){return pB(e.xError)||pB(e.xError2)||pB(e.yError)||pB(e.yError2)}(n),o=n.x,a=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const e=n.x2,r=n.y2;if(pB(e)&&pB(r))throw new Error(`${t} cannot have both x2 and y2`);if(pB(e)){if(hB(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}if(pB(r)){if(hB(a))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}{const e=n.xError,r=n.xError2,i=n.yError,s=n.yError2;if(pB(r)&&!pB(e))throw new Error(`${t} cannot have xError2 without xError`);if(pB(s)&&!pB(i))throw new Error(`${t} cannot have yError2 without yError`);if(pB(e)&&pB(i))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(pB(e)){if(hB(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}if(pB(i)){if(hB(a))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}(e,t),{continuousAxisChannelDef:h,continuousAxisChannelDef2:f,continuousAxisChannelDefError:p,continuousAxisChannelDefError2:m,continuousAxis:g}=vW(e,c,t),{errorBarSpecificAggregate:y,postAggregateCalculates:v,tooltipSummary:b,tooltipTitleWithFieldName:w}=function(e,t,n,r,i,o,a,s){let l=[],u=[];const c=t.field;let d,h=!1;if("raw"===o){const t=e.center?e.center:e.extent?"iqr"===e.extent?"median":"mean":s.errorbar.center,n=e.extent?e.extent:"mean"===t?"stderr":"iqr";if("median"===t!=("iqr"===n)&&HF(function(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}(t,n,a)),"stderr"===n||"stdev"===n)l=[{op:n,field:c,as:`extent_${c}`},{op:t,field:c,as:`center_${c}`}],u=[{calculate:`datum["center_${c}"] + datum["extent_${c}"]`,as:`upper_${c}`},{calculate:`datum["center_${c}"] - datum["extent_${c}"]`,as:`lower_${c}`}],d=[{fieldPrefix:"center_",titlePrefix:XP(t)},{fieldPrefix:"upper_",titlePrefix:AW(t,n,"+")},{fieldPrefix:"lower_",titlePrefix:AW(t,n,"-")}],h=!0;else{let e,t,r;"ci"===n?(e="mean",t="ci0",r="ci1"):(e="median",t="q1",r="q3"),l=[{op:t,field:c,as:`lower_${c}`},{op:r,field:c,as:`upper_${c}`},{op:e,field:c,as:`center_${c}`}],d=[{fieldPrefix:"upper_",titlePrefix:DB({field:c,aggregate:r,type:"quantitative"},s,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:DB({field:c,aggregate:t,type:"quantitative"},s,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:DB({field:c,aggregate:e,type:"quantitative"},s,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&HF(function(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}(e.center,e.extent)),"aggregated-upper-lower"===o?(d=[],u=[{calculate:`datum["${n.field}"]`,as:`upper_${c}`},{calculate:`datum["${c}"]`,as:`lower_${c}`}]):"aggregated-error"===o&&(d=[{fieldPrefix:"",titlePrefix:c}],u=[{calculate:`datum["${c}"] + datum["${r.field}"]`,as:`upper_${c}`}],i?u.push({calculate:`datum["${c}"] + datum["${i.field}"]`,as:`lower_${c}`}):u.push({calculate:`datum["${c}"] - datum["${r.field}"]`,as:`lower_${c}`}));for(const e of u)d.push({fieldPrefix:e.as.substring(0,6),titlePrefix:nI(nI(e.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:u,errorBarSpecificAggregate:l,tooltipSummary:d,tooltipTitleWithFieldName:h}}(u,h,f,p,m,d,t,n),_=o,k=g,S=(_[k],"x"===g?"x2":"y2"),M=(_[S],"x"===g?"xError":"yError"),x=(_[M],"x"===g?"xError2":"yError2"),O=(_[x],CW(_,["symbol"==typeof k?k:k+"","symbol"==typeof S?S:S+"","symbol"==typeof M?M:M+"","symbol"==typeof x?x:x+""])),{bins:C,timeUnits:T,aggregate:R,groupby:D,encoding:E}=sW(O,n),A=[...R,...y],L="raw"!==d?[]:D,j=pW(b,h,E,w);return{transform:[...null!==(r=l.transform)&&void 0!==r?r:[],...C,...T,...0===A.length?[]:[{aggregate:A,groupby:L}],...v],groupby:L,continuousAxisChannelDef:h,continuousAxis:g,encodingWithoutContinuousAxis:E,ticksOrient:"vertical"===c?"horizontal":"vertical",markDef:u,outerSpec:l,tooltipEncoding:j}}function AW(e,t,n){return`${XP(e)} ${n} ${t}`}const LW="errorband",jW=new nW(LW,PW);function PW(e,t){let{config:n}=t;e=Object.assign(Object.assign({},e),{encoding:uW(e.encoding,n)});const{transform:r,continuousAxisChannelDef:i,continuousAxis:o,encodingWithoutContinuousAxis:a,markDef:s,outerSpec:l,tooltipEncoding:u}=EW(e,LW,n),c=s,d=gW(c,o,i,a,n.errorband),h=void 0!==e.encoding.x&&void 0!==e.encoding.y;let f={type:h?"area":"rect"},p={type:h?"line":"rule"};const m=Object.assign(Object.assign({},c.interpolate?{interpolate:c.interpolate}:{}),c.tension&&c.interpolate?{tension:c.tension}:{});return h?(f=Object.assign(Object.assign(Object.assign({},f),m),{ariaRoleDescription:"errorband"}),p=Object.assign(Object.assign(Object.assign({},p),m),{aria:!1})):c.interpolate?HF(DF("interpolate")):c.tension&&HF(DF("tension")),Object.assign(Object.assign({},l),{transform:r,layer:[...d({partName:"band",mark:f,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u}),...d({partName:"borders",mark:p,positionPrefix:"lower",extraEncoding:u}),...d({partName:"borders",mark:p,positionPrefix:"upper",extraEncoding:u})]})}const IW={};function HW(e,t,n){const r=new nW(e,t);IW[e]={normalizer:r,parts:n}}HW(kW,xW,["box","median","outliers","rule","ticks"]),HW(TW,DW,["ticks","rule"]),HW(LW,PW,["band","borders"]);const NW=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],FW={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},YW={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},zW=$P(FW),BW=$P(YW),WW=$P({header:1,headerRow:1,headerColumn:1,headerFacet:1}),$W=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],UW={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},VW=($P(UW),"_vgsid_"),qW={point:{on:"click",fields:[VW],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function GW(e){return"legend"===e||!!(null==e?void 0:e.legend)}function KW(e){return GW(e)&&H(e)}function ZW(e){return!!(null==e?void 0:e.select)}var XW=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function JW(e){const t=[];for(const n of e||[]){if(ZW(n))continue;const{expr:e,bind:r}=n,i=XW(n,["expr","bind"]);if(r&&e){const n=Object.assign(Object.assign({},i),{bind:r,init:e});t.push(n)}else{const n=Object.assign(Object.assign(Object.assign({},i),e?{update:e}:{}),r?{bind:r}:{});t.push(n)}}return t}function QW(e){return"concat"in e}function e$(e){return"vconcat"in e}function t$(e){return"hconcat"in e}function n$(e){let{step:t,offsetIsDiscrete:n}=e;var r;return n?null!==(r=t.for)&&void 0!==r?r:"offset":"position"}function r$(e){return H(e)&&void 0!==e.step}function i$(e){return e.view||e.width||e.height}const o$=$P({align:1,bounds:1,center:1,columns:1,spacing:1});var a$=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function s$(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e["width"===t?"continuousWidth":"continuousHeight"]}function l$(e,t){const n=u$(e,t);return r$(n)?n.step:c$}function u$(e,t){var n;return oI(null!==(n=e[t])&&void 0!==n?n:e["width"===t?"discreteWidth":"discreteHeight"],{step:e.step})}const c$=20,d$={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:c$},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5},rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:qW,style:{},title:{},facet:{spacing:20},concat:{spacing:20},normalizedNumberFormat:".0%"},h$=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],f$={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},p$={blue:h$[0],orange:h$[1],red:h$[2],teal:h$[3],green:h$[4],yellow:h$[5],purple:h$[6],pink:h$[7],brown:h$[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function m$(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:H(e)?Object.assign(Object.assign({},p$),e):p$}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function g$(e){return{signals:[{name:"fontSize",value:H(e)?Object.assign(Object.assign({},f$),e):f$}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function y$(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function v$(e){const t=$P(e||{}),n={};for(const r of t){const t=e[r];n[r]=GB(t)?jN(t):PN(t)}return n}function b$(e){const t=$P(e),n={};for(const r of t)n[r]=v$(e[r]);return n}const w$=[...Mz,...eW,...WW,"background","padding","legend","lineBreak","scale","style","title","view"];function _$(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{color:t,font:n,fontSize:r,selection:i}=e,o=a$(e,["color","font","fontSize","selection"]),a=F({},RP(d$),n?y$(n):{},t?m$(t):{},r?g$(r):{},o||{});i&&Y(a,"selection",i,!0);const s=EP(a,w$);for(const e of["background","lineBreak","padding"])a[e]&&(s[e]=PN(a[e]));for(const e of Mz)a[e]&&(s[e]=MN(a[e]));for(const e of eW)a[e]&&(s[e]=v$(a[e]));for(const e of WW)a[e]&&(s[e]=MN(a[e]));return a.legend&&(s.legend=MN(a.legend)),a.scale&&(s.scale=MN(a.scale)),a.style&&(s.style=b$(a.style)),a.title&&(s.title=MN(a.title)),a.view&&(s.view=MN(a.view)),s}const k$=new Set(["view",...wz]),S$=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],M$=Object.assign({view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});function x$(e){e=RP(e);for(const t of S$)delete e[t];if(e.axis)for(const t in e.axis)GB(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of NW)delete e.legend[t];if(e.mark){for(const t of Sz)delete e.mark[t];e.mark.tooltip&&H(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(JW(e.params)),delete e.params);for(const t of k$){for(const n of Sz)delete e[t][n];const n=M$[t];if(n)for(const r of n)delete e[t][r];O$(e,t)}for(const t of $P(IW))delete e[t];!function(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=xN(e.title);WP(t)||(e.style["group-title"]=Object.assign(Object.assign({},e.style["group-title"]),t)),WP(n)||(e.style["group-subtitle"]=Object.assign(Object.assign({},e.style["group-subtitle"]),n)),WP(r)?delete e.title:e.title=r}(e);for(const t in e)H(e[t])&&WP(e[t])&&delete e[t];return WP(e)?void 0:e}function O$(e,t,n,r){const i=r?e[t][r]:e[t];"view"===t&&(n="cell");const o=Object.assign(Object.assign({},i),e.style[null!=n?n:t]);WP(o)||(e.style[null!=n?n:t]=o),r||delete e[t]}function C$(e){return"layer"in e}class T${map(e,t){return Qz(e)?this.mapFacet(e,t):function(e){return"repeat"in e}(e)?this.mapRepeat(e,t):t$(e)?this.mapHConcat(e,t):e$(e)?this.mapVConcat(e,t):QW(e)?this.mapConcat(e,t):this.mapLayerOrUnit(e,t)}mapLayerOrUnit(e,t){if(C$(e))return this.mapLayer(e,t);if(tW(e))return this.mapUnit(e,t);throw new Error(ZN(e))}mapLayer(e,t){return Object.assign(Object.assign({},e),{layer:e.layer.map((e=>this.mapLayerOrUnit(e,t)))})}mapHConcat(e,t){return Object.assign(Object.assign({},e),{hconcat:e.hconcat.map((e=>this.map(e,t)))})}mapVConcat(e,t){return Object.assign(Object.assign({},e),{vconcat:e.vconcat.map((e=>this.map(e,t)))})}mapConcat(e,t){const{concat:n}=e,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["concat"]);return Object.assign(Object.assign({},r),{concat:n.map((e=>this.map(e,t)))})}mapFacet(e,t){return Object.assign(Object.assign({},e),{spec:this.map(e.spec,t)})}mapRepeat(e,t){return Object.assign(Object.assign({},e),{spec:this.map(e.spec,t)})}}const R$={zero:1,center:1,normalize:1},D$=new Set([iz,az,oz,dz,uz,mz,gz,lz,hz,fz]),E$=new Set([az,oz,iz]);function A$(e){return uB(e)&&"quantitative"===cB(e)&&!e.bin}function L$(e,t){var n,r;const i="x"===t?"y":"radius",o=e[t],a=e[i];if(uB(o)&&uB(a))if(A$(o)&&A$(a)){if(o.stack)return t;if(a.stack)return i;const e=uB(o)&&!!o.aggregate;if(e!==(uB(a)&&!!a.aggregate))return e?t:i;{const e=null===(n=o.scale)||void 0===n?void 0:n.type,s=null===(r=a.scale)||void 0===r?void 0:r.type;if(e&&"linear"!==e)return i;if(s&&"linear"!==s)return t}}else{if(A$(o))return t;if(A$(a))return i}else{if(A$(o))return t;if(A$(a))return i}}function j$(e,t){var n,r;const i=_z(e)?e.type:e;if(!D$.has(i))return null;const o=L$(t,"x")||L$(t,"theta");if(!o)return null;const a=t[o],s=uB(a)?SB(a,{}):void 0,l=function(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}(o),u=[],c=new Set;if(t[l]){const e=t[l],n=uB(e)?SB(e,{}):void 0;n&&n!==s&&(u.push(l),c.add(n));const r="x"===l?"xOffset":"yOffset",i=t[r],o=uB(i)?SB(i,{}):void 0;o&&o!==s&&(u.push(r),c.add(o))}const d=IH.reduce(((e,n)=>{if("tooltip"!==n&&rW(t,n)){const r=t[n];for(const t of te(r)){const r=PB(t);if(r.aggregate)continue;const i=SB(r,{});i&&c.has(i)||e.push({channel:n,fieldDef:r})}}return e}),[]);let h;return void 0!==a.stack?h=ve(a.stack)?a.stack?"zero":null:a.stack:E$.has(i)&&(h="zero"),h&&h in R$?aW(t)&&0===d.length?null:(null===(n=null==a?void 0:a.scale)||void 0===n?void 0:n.type)&&"linear"!==(null===(r=null==a?void 0:a.scale)||void 0===r?void 0:r.type)?(HF(function(e){return`Cannot stack non-linear scale (${e}).`}(a.scale.type)),null):pB(t[gH(o)])?(void 0!==a.stack&&HF(`Cannot stack "${f=o}" if there is already "${f}2".`),null):(uB(a)&&a.aggregate&&!mN.has(a.aggregate)&&HF(`Stacking is applied even though the aggregate function is non-summative ("${a.aggregate}").`),{groupbyChannels:u,groupbyFields:c,fieldChannel:o,impute:null!==a.impute&&vz(i),stackBy:d,offset:h}):null;var f}var P$=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function I$(e){const{point:t,line:n}=e,r=P$(e,["point","line"]);return $P(r).length>1?r:r.type}function H$(e){for(const t of["line","area","rule","trail"])e[t]&&(e=Object.assign(Object.assign({},e),{[t]:EP(e[t],["point","line"])}));return e}function N$(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return"transparent"===e.point?{opacity:0}:e.point?H(e.point)?e.point:{}:void 0!==e.point?null:t.point||n.shape?H(t.point)?t.point:{}:void 0}function F$(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.line?!0===e.line?{}:e.line:void 0!==e.line?null:t.line?!0===t.line?{}:t.line:void 0}class Y${constructor(){this.name="path-overlay"}hasMatchingType(e,t){if(tW(e)){const{mark:n,encoding:r}=e,i=_z(n)?n:{type:n};switch(i.type){case"line":case"rule":case"trail":return!!N$(i,t[i.type],r);case"area":return!!N$(i,t[i.type],r)||!!F$(i,t[i.type])}}return!1}run(e,t,n){const{config:r}=t,{params:i,projection:o,mark:a,encoding:s}=e,l=P$(e,["params","projection","mark","encoding"]),u=uW(s,r),c=_z(a)?a:{type:a},d=N$(c,r[c.type],u),h="area"===c.type&&F$(c,r[c.type]),f=[Object.assign(Object.assign({},i?{params:i}:{}),{mark:I$(Object.assign(Object.assign({},"area"===c.type&&void 0===c.opacity&&void 0===c.fillOpacity?{opacity:.7}:{}),c)),encoding:EP(u,["shape"])})],p=j$(c,u);let m=u;if(p){const{fieldChannel:e,offset:t}=p;m=Object.assign(Object.assign({},u),{[e]:Object.assign(Object.assign({},u[e]),t?{stack:t}:{})})}return h&&f.push(Object.assign(Object.assign({},o?{projection:o}:{}),{mark:Object.assign(Object.assign({type:"line"},DP(c,["clip","interpolate","tension","tooltip"])),h),encoding:m})),d&&f.push(Object.assign(Object.assign({},o?{projection:o}:{}),{mark:Object.assign(Object.assign({type:"point",opacity:1,filled:!0},DP(c,["clip","tooltip"])),d),encoding:m})),n(Object.assign(Object.assign({},l),{layer:f}),Object.assign(Object.assign({},t),{config:H$(r)}))}}function z$(e,t){return t?Xz(e)?q$(e,t):$$(e,t):e}function B$(e,t){return t?q$(e,t):e}function W$(e,t,n){const r=t[e];return function(e){return e&&!_e(e)&&"repeat"in e}(r)?r.repeat in n?Object.assign(Object.assign({},t),{[e]:n[r.repeat]}):void HF(function(e){return`Unknown repeated value "${e}".`}(r.repeat)):t}function $$(e,t){if(void 0!==(e=W$("field",e,t))){if(null===e)return null;if(nB(e)&&Kz(e.sort)){const n=W$("field",e.sort,t);e=Object.assign(Object.assign({},e),n?{sort:n}:{})}return e}}function U$(e,t){if(uB(e))return $$(e,t);{const n=W$("datum",e,t);return n===e||n.type||(n.type="nominal"),n}}function V$(e,t){if(!pB(e)){if(lB(e)){const n=U$(e.condition,t);if(n)return Object.assign(Object.assign({},e),{condition:n});{const{condition:t}=e;return function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["condition"])}}return e}{const n=U$(e,t);if(n)return n;if(aB(e))return{condition:e.condition}}}function q$(e,t){const n={};for(const r in e)if(fe(e,r)){const i=e[r];if(I(i))n[r]=i.map((e=>V$(e,t))).filter((e=>e));else{const e=V$(i,t);void 0!==e&&(n[r]=e)}}return n}class G${constructor(){this.name="RuleForRangedLine"}hasMatchingType(e){if(tW(e)){const{encoding:t,mark:n}=e;if("line"===n||_z(n)&&"line"===n.type)for(const e of hH){const n=t[pH(e)];if(t[e]&&(uB(n)&&!bN(n.bin)||dB(n)))return!0}}return!1}run(e,t,n){const{encoding:r,mark:i}=e;var o,a;return HF((o=!!r.x2,a=!!r.y2,`Line mark is for continuous lines and thus cannot be used with ${o&&a?"x2 and y2":o?"x2":"y2"}. We will use the rule mark (line segments) instead.`)),n(Object.assign(Object.assign({},e),{mark:H(i)?Object.assign(Object.assign({},i),{type:"rule"}):"rule"}),t)}}var K$=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Z$(e){let{parentEncoding:t,encoding:n={},layer:r}=e,i={};if(t){const e=new Set([...$P(t),...$P(n)]);for(const o of e){const e=n[o],a=t[o];if(pB(e)){const t=Object.assign(Object.assign({},a),e);i[o]=t}else lB(e)?i[o]=Object.assign(Object.assign({},e),{condition:Object.assign(Object.assign({},a),e.condition)}):e||null===e?i[o]=e:(r||gB(a)||CN(a)||pB(a)||I(a))&&(i[o]=a)}}else i=n;return!i||WP(i)?void 0:i}function X$(e){const{parentProjection:t,projection:n}=e;return t&&n&&HF(function(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${AP(t)} is overridden by a child projection ${AP(n)}.`}({parentProjection:t,projection:n})),null!=n?n:t}function J$(e){return"filter"in e}function Q$(e){return"lookup"in e}function eU(e){return"pivot"in e}function tU(e){return"density"in e}function nU(e){return"quantile"in e}function rU(e){return"regression"in e}function iU(e){return"loess"in e}function oU(e){return"sample"in e}function aU(e){return"window"in e}function sU(e){return"joinaggregate"in e}function lU(e){return"flatten"in e}function uU(e){return"calculate"in e}function cU(e){return"bin"in e}function dU(e){return"impute"in e}function hU(e){return"timeUnit"in e}function fU(e){return"aggregate"in e}function pU(e){return"stack"in e}function mU(e){return"fold"in e}var gU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function yU(e,t){const{transform:n}=e,r=gU(e,["transform"]);if(n){const e=n.map((e=>{if(J$(e))return{filter:wU(e,t)};if(cU(e)&&wN(e.bin))return Object.assign(Object.assign({},e),{bin:bU(e.bin)});if(Q$(e)){const t=e.from,{selection:n}=t,r=gU(t,["selection"]);return n?Object.assign(Object.assign({},e),{from:Object.assign({param:n},r)}):e}return e}));return Object.assign(Object.assign({},r),{transform:e})}return e}function vU(e,t){var n,r;const i=RP(e);if(uB(i)&&wN(i.bin)&&(i.bin=bU(i.bin)),yB(i)&&(null===(r=null===(n=i.scale)||void 0===n?void 0:n.domain)||void 0===r?void 0:r.selection)){const e=i.scale.domain,{selection:t}=e,n=gU(e,["selection"]);i.scale.domain=Object.assign(Object.assign({},n),t?{param:t}:{})}if(aB(i))if(I(i.condition))i.condition=i.condition.map((e=>{const{selection:n,param:r,test:i}=e,o=gU(e,["selection","param","test"]);return r?e:Object.assign(Object.assign({},o),{test:wU(e,t)})}));else{const e=vU(i.condition,t),{selection:n,param:r,test:o}=e,a=gU(e,["selection","param","test"]);i.condition=r?i.condition:Object.assign(Object.assign({},a),{test:wU(i.condition,t)})}return i}function bU(e){const t=e.extent;if(null==t?void 0:t.selection){const{selection:n}=t,r=gU(t,["selection"]);return Object.assign(Object.assign({},e),{extent:Object.assign(Object.assign({},r),{param:n})})}return e}function wU(e,t){const n=e=>CP(e,(e=>{var n,r,i;const o={param:e,empty:null===(n=t.emptySelections[e])||void 0===n||n};return null!==(r=(i=t.selectionPredicates)[e])&&void 0!==r||(i[e]=[]),t.selectionPredicates[e].push(o),o}));return e.selection?n(e.selection):CP(e.test||e.filter,(e=>e.selection?n(e.selection):e))}class _U extends T${map(e,t){var n;const r=null!==(n=t.selections)&&void 0!==n?n:[];if(e.params&&!tW(e)){const t=[];for(const n of e.params)ZW(n)?r.push(n):t.push(n);e.params=t}return t.selections=r,super.map(e,kU(e,t))}mapUnit(e,t){var n;const r=t.selections;if(!r||!r.length)return e;const i=(null!==(n=t.path)&&void 0!==n?n:[]).concat(e.name),o=[];for(const t of r)if(t.views&&t.views.length)for(const n of t.views)(_e(n)&&(n===e.name||i.indexOf(n)>=0)||I(n)&&n.map((e=>i.indexOf(e))).every(((e,t,n)=>-1!==e&&(0===t||e>n[t-1]))))&&o.push(t);else o.push(t);return o.length&&(e.params=o),e}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=_U.prototype[e];_U.prototype[e]=function(e,n){return t.call(this,e,kU(e,n))}}function kU(e,t){var n;return e.name?Object.assign(Object.assign({},t),{path:(null!==(n=t.path)&&void 0!==n?n:[]).concat(e.name)}):t}function SU(e,t){void 0===t&&(t=_$(e.config));const n=function(e){const t={config:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}};return OU.map(MU.map(xU.map(e,t),t),t)}(e,t),{width:r,height:i}=e,o=function(e,t,n){let{width:r,height:i}=t;const o=tW(e)||C$(e),a={};o?"container"==r&&"container"==i?(a.type="fit",a.contains="padding"):"container"==r?(a.type="fit-x",a.contains="padding"):"container"==i&&(a.type="fit-y",a.contains="padding"):("container"==r&&(HF(XN("width")),r=void 0),"container"==i&&(HF(XN("height")),i=void 0));const s=Object.assign(Object.assign(Object.assign({type:"pad"},a),n?CU(n.autosize):{}),CU(e.autosize));if("fit"!==s.type||o||(HF('Autosize "fit" only works for single views and layered views.'),s.type="pad"),"container"==r&&"fit"!=s.type&&"fit-x"!=s.type&&HF(JN("width")),"container"==i&&"fit"!=s.type&&"fit-y"!=s.type&&HF(JN("height")),!TP(s,{type:"pad"}))return s}(n,{width:r,height:i,autosize:e.autosize},t);return Object.assign(Object.assign({},n),o?{autosize:o}:{})}const MU=new class extends T${constructor(){super(...arguments),this.nonFacetUnitNormalizers=[SW,RW,jW,new Y$,new G$]}map(e,t){if(tW(e)){const n=rW(e.encoding,dI),r=rW(e.encoding,hI),i=rW(e.encoding,fI);if(n||r||i)return this.mapFacetedUnit(e,t)}return super.map(e,t)}mapUnit(e,t){const{parentEncoding:n,parentProjection:r}=t,i=B$(e.encoding,t.repeater),o=Object.assign(Object.assign({},e),i?{encoding:i}:{});if(n||r)return this.mapUnitWithParentEncodingOrProjection(o,t);const a=this.mapLayerOrUnit.bind(this);for(const e of this.nonFacetUnitNormalizers)if(e.hasMatchingType(o,t.config))return e.run(o,t,a);return o}mapRepeat(e,t){return function(e){return!I(e.repeat)&&e.repeat.layer}(e)?this.mapLayerRepeat(e,t):this.mapNonLayerRepeat(e,t)}mapLayerRepeat(e,t){const{repeat:n,spec:r}=e,i=K$(e,["repeat","spec"]),{row:o,column:a,layer:s}=n,{repeater:l={},repeaterPrefix:u=""}=t;return o||a?this.mapRepeat(Object.assign(Object.assign({},e),{repeat:Object.assign(Object.assign({},o?{row:o}:{}),a?{column:a}:{}),spec:{repeat:{layer:s},spec:r}}),t):Object.assign(Object.assign({},i),{layer:s.map((e=>{const n=Object.assign(Object.assign({},l),{layer:e}),i=`${(r.name||"")+u}child__layer_${GP(e)}`,o=this.mapLayerOrUnit(r,Object.assign(Object.assign({},t),{repeater:n,repeaterPrefix:i}));return o.name=i,o}))})}mapNonLayerRepeat(e,t){var n;const{repeat:r,spec:i,data:o}=e,a=K$(e,["repeat","spec","data"]);!I(r)&&e.columns&&(e=EP(e,["columns"]),HF(iF("repeat")));const s=[],{repeater:l={},repeaterPrefix:u=""}=t,c=!I(r)&&r.row||[l?l.row:null],d=!I(r)&&r.column||[l?l.column:null],h=I(r)&&r||[l?l.repeat:null];for(const e of h)for(const n of c)for(const o of d){const a={repeat:e,row:n,column:o,layer:l.layer},c=(i.name||"")+u+"child__"+(I(r)?`${GP(e)}`:(r.row?`row_${GP(n)}`:"")+(r.column?`column_${GP(o)}`:"")),d=this.map(i,Object.assign(Object.assign({},t),{repeater:a,repeaterPrefix:c}));d.name=c,s.push(EP(d,["data"]))}const f=I(r)?e.columns:r.column?r.column.length:1;return Object.assign(Object.assign({data:null!==(n=i.data)&&void 0!==n?n:o,align:"all"},a),{columns:f,concat:s})}mapFacet(e,t){const{facet:n}=e;return Xz(n)&&e.columns&&(e=EP(e,["columns"]),HF(iF("facet"))),super.mapFacet(e,t)}mapUnitWithParentEncodingOrProjection(e,t){const{encoding:n,projection:r}=e,{parentEncoding:i,parentProjection:o,config:a}=t,s=X$({parentProjection:o,projection:r}),l=Z$({parentEncoding:i,encoding:B$(n,t.repeater)});return this.mapUnit(Object.assign(Object.assign(Object.assign({},e),s?{projection:s}:{}),l?{encoding:l}:{}),{config:a})}mapFacetedUnit(e,t){const n=e.encoding,{row:r,column:i,facet:o}=n,a=K$(n,["row","column","facet"]),{mark:s,width:l,projection:u,height:c,view:d,params:h,encoding:f}=e,p=K$(e,["mark","width","projection","height","view","params","encoding"]),{facetMapping:m,layout:g}=this.getFacetMappingAndLayout({row:r,column:i,facet:o},t),y=B$(a,t.repeater);return this.mapFacet(Object.assign(Object.assign(Object.assign({},p),g),{facet:m,spec:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},l?{width:l}:{}),c?{height:c}:{}),d?{view:d}:{}),u?{projection:u}:{}),{mark:s,encoding:y}),h?{params:h}:{})}),t)}getFacetMappingAndLayout(e,t){var n;const{row:r,column:i,facet:o}=e;if(r||i){o&&HF(`Facet encoding dropped as ${(a=[...r?[dI]:[],...i?[hI]:[]]).join(" and ")} ${a.length>1?"are":"is"} also specified.`);const t={},s={};for(const r of[dI,hI]){const i=e[r];if(i){const{align:e,center:o,spacing:a,columns:l}=i,u=K$(i,["align","center","spacing","columns"]);t[r]=u;for(const e of["align","center","spacing"])void 0!==i[e]&&(null!==(n=s[e])&&void 0!==n||(s[e]={}),s[e][r]=i[e])}}return{facetMapping:t,layout:s}}{const{align:e,center:n,spacing:r,columns:i}=o;return{facetMapping:z$(K$(o,["align","center","spacing","columns"]),t.repeater),layout:Object.assign(Object.assign(Object.assign(Object.assign({},e?{align:e}:{}),n?{center:n}:{}),r?{spacing:r}:{}),i?{columns:i}:{})}}var a}mapLayer(e,t){var{parentEncoding:n,parentProjection:r}=t,i=K$(t,["parentEncoding","parentProjection"]);const{encoding:o,projection:a}=e,s=K$(e,["encoding","projection"]),l=Object.assign(Object.assign({},i),{parentEncoding:Z$({parentEncoding:n,encoding:o,layer:!0}),parentProjection:X$({parentProjection:r,projection:a})});return super.mapLayer(s,l)}},xU=new class extends T${map(e,t){var n,r;return null!==(n=t.emptySelections)&&void 0!==n||(t.emptySelections={}),null!==(r=t.selectionPredicates)&&void 0!==r||(t.selectionPredicates={}),e=yU(e,t),super.map(e,t)}mapLayerOrUnit(e,t){if((e=yU(e,t)).encoding){const n={};for(const[r,i]of VP(e.encoding))n[r]=vU(i,t);e=Object.assign(Object.assign({},e),{encoding:n})}return super.mapLayerOrUnit(e,t)}mapUnit(e,t){const n=e,{selection:r}=n,i=gU(n,["selection"]);return r?Object.assign(Object.assign({},i),{params:VP(r).map((e=>{let[n,r]=e;var i;const o=r,{init:a,bind:s,empty:l}=o,u=gU(o,["init","bind","empty"]);"single"===u.type?(u.type="point",u.toggle=!1):"multi"===u.type&&(u.type="point"),t.emptySelections[n]="none"!==l;for(const e of UP(null!==(i=t.selectionPredicates[n])&&void 0!==i?i:{}))e.empty="none"!==l;return{name:n,value:a,select:u,bind:s}}))}):e}},OU=new _U;function CU(e){return _e(e)?{type:e}:null!=e?e:{}}const TU=["background","padding"];function RU(e,t){const n={};for(const t of TU)e&&void 0!==e[t]&&(n[t]=PN(e[t]));return t&&(n.params=e.params),n}class DU{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.explicit=e,this.implicit=t}clone(){return new DU(RP(this.explicit),RP(this.implicit))}combine(){return Object.assign(Object.assign({},this.explicit),this.implicit)}get(e){return oI(this.explicit[e],this.implicit[e])}getWithExplicit(e){return void 0!==this.explicit[e]?{explicit:!0,value:this.explicit[e]}:void 0!==this.implicit[e]?{explicit:!1,value:this.implicit[e]}:{explicit:!1,value:void 0}}setWithExplicit(e,t){let{value:n,explicit:r}=t;void 0!==n&&this.set(e,n,r)}set(e,t,n){return delete this[n?"implicit":"explicit"][e],this[n?"explicit":"implicit"][e]=t,this}copyKeyFromSplit(e,t){let{explicit:n,implicit:r}=t;void 0!==n[e]?this.set(e,n[e],!0):void 0!==r[e]&&this.set(e,r[e],!1)}copyKeyFromObject(e,t){void 0!==t[e]&&this.set(e,t[e],!0)}copyAll(e){for(const t of $P(e.combine())){const n=e.getWithExplicit(t);this.setWithExplicit(t,n)}}}function EU(e){return{explicit:!0,value:e}}function AU(e){return{explicit:!1,value:e}}function LU(e){return(t,n,r,i)=>{const o=e(t.value,n.value);return o>0?t:o<0?n:jU(t,n,r,i)}}function jU(e,t,n,r){return e.explicit&&t.explicit&&HF(function(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${AP(n)} and ${AP(r)}). Using ${AP(n)}.`}(n,r,e.value,t.value)),e}function PU(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:jU;return void 0===e||void 0===e.value?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:TP(e.value,t.value)?e:i(e,t,n,r)}class IU extends DU{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(e,t),this.explicit=e,this.implicit=t,this.parseNothing=n}clone(){const e=super.clone();return e.parseNothing=this.parseNothing,e}}function HU(e){return"url"in e}function NU(e){return"values"in e}function FU(e){return"name"in e&&!HU(e)&&!NU(e)&&!YU(e)}function YU(e){return e&&(zU(e)||BU(e)||WU(e))}function zU(e){return"sequence"in e}function BU(e){return"sphere"in e}function WU(e){return"graticule"in e}var $U;!function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup"}($U||($U={}));var UU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function VU(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R;if(I(e)){const r=e.map((e=>VU(e,t,n)));return t?`[${r.join(", ")}]`:r}return NF(e)?n(t?$F(e):VF(e)):t?n(AP(e)):e}function qU(e,t){var n;for(const r of UP(null!==(n=e.component.selection)&&void 0!==n?n:{})){const n=r.name;let i=`${n}${iq}, ${"global"===r.resolve?"true":`{unit: ${uq(e)}}`}`;for(const n of sq)n.defined(r)&&(n.signals&&(t=n.signals(e,r,t)),n.modifyExpr&&(i=n.modifyExpr(e,r,i)));t.push({name:n+oq,on:[{events:{signal:r.name+iq},update:`modify(${xe(r.name+rq)}, ${i})`}]})}return KU(t)}function GU(e,t){var n;for(const r of UP(null!==(n=e.component.selection)&&void 0!==n?n:{}))for(const n of sq)n.defined(r)&&n.marks&&(t=n.marks(e,r,t));return t}function KU(e){return e.map((e=>(e.on&&!e.on.length&&delete e.on,e)))}class ZU{constructor(e,t){this.debugName=t,this._children=[],this._parent=null,e&&(this.parent=e)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(e){this._parent=e,e&&e.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(e,t){this._children.includes(e)?HF("Attempt to add the same child twice."):void 0!==t?this._children.splice(t,0,e):this._children.push(e)}removeChild(e){const t=this._children.indexOf(e);return this._children.splice(t,1),t}remove(){let e=this._parent.removeChild(this);for(const t of this._children)t._parent=this._parent,this._parent.addChild(t,e++)}insertAsParentOf(e){const t=e.parent;t.removeChild(this),this.parent=t,e.parent=this}swapWithParent(){const e=this._parent,t=e.parent;for(const t of this._children)t.parent=e;this._children=[],e.removeChild(this);const n=e.parent.removeChild(e);this._parent=t,t.addChild(this,n),e.parent=this}}class XU extends ZU{constructor(e,t,n,r){super(e,t),this.type=n,this.refCounts=r,this._source=this._name=t,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}clone(){const e=new this.constructor;return e.debugName=`clone_${this.debugName}`,e._source=this._source,e._name=`clone_${this._name}`,e.type=this.type,e.refCounts=this.refCounts,e.refCounts[e._name]=0,e}dependentFields(){return new Set}producedFields(){return new Set}hash(){return void 0===this._hash&&(this._hash=`Output ${function(e){const t=++aI;return t}()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(e){this._source=e}}var JU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class QU extends ZU{constructor(e,t){super(e),this.formula=t}clone(){return new QU(null,RP(this.formula))}static makeFromEncoding(e,t){const n=t.reduceFieldDef(((e,t)=>{const{field:n,timeUnit:r}=t;if(r){const i=SB(t,{forAs:!0});e[LP({as:i,field:n,timeUnit:r})]={as:i,field:n,timeUnit:r}}return e}),{});return WP(n)?null:new QU(e,n)}static makeFromTransform(e,t){const n=Object.assign({},t),{timeUnit:r}=n,i=JU(n,["timeUnit"]),o=tY(r),a=Object.assign(Object.assign({},i),{timeUnit:o});return new QU(e,{[LP(a)]:a})}merge(e){this.formula=Object.assign({},this.formula);for(const t in e.formula)this.formula[t]||(this.formula[t]=e.formula[t]);for(const t of e.children)e.removeChild(t),t.parent=this;e.remove()}removeFormulas(e){const t={};for(const[n,r]of VP(this.formula))e.has(r.as)||(t[n]=r);this.formula=t}producedFields(){return new Set(UP(this.formula).map((e=>e.as)))}dependentFields(){return new Set(UP(this.formula).map((e=>e.field)))}hash(){return`TimeUnit ${LP(this.formula)}`}assemble(){const e=[];for(const t of UP(this.formula)){const{field:n,as:r,timeUnit:i}=t,o=tY(i),{unit:a,utc:s}=o,l=JU(o,["unit","utc"]);e.push(Object.assign(Object.assign(Object.assign(Object.assign({field:tI(n),type:"timeunit"},a?{units:XF(a)}:{}),s?{timezone:"utc"}:{}),l),{as:[r,`${r}_end`]}))}return e}}const eV="_tuple_fields";class tV{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const nV={defined:()=>!0,parse:(e,t,n)=>{var r;const i=t.name,o=null!==(r=t.project)&&void 0!==r?r:t.project=new tV,a={},s={},l=new Set,u=(e,t)=>{const n="visual"===t?e.channel:e.field;let r=GP(`${i}_${n}`);for(let e=1;l.has(r);e++)r=GP(`${i}_${n}_${e}`);return l.add(r),{[t]:r}},c=t.type,d=e.config.selection[c],h=void 0!==n.value?te(n.value):null;let{fields:f,encodings:p}=H(n.select)?n.select:{};if(!f&&!p&&h)for(const e of h)if(H(e))for(const t of $P(e))cH[t]?(p||(p=[])).push(t):"interval"===c?(HF('Interval selections should be initialized using "x" and/or "y" keys.'),p=d.encodings):(f||(f=[])).push(t);f||p||(p=d.encodings,"fields"in d&&(f=d.fields));for(const t of null!=p?p:[]){const n=e.fieldDef(t);if(n){let r=n.field;if(n.aggregate){HF(nF(t,n.aggregate));continue}if(!r){HF(tF(t));continue}if(n.timeUnit){r=e.vgField(t);const i={timeUnit:n.timeUnit,as:r,field:n.field};s[LP(i)]=i}if(!a[r]){let i="E";"interval"===c?YY(e.getScaleComponent(t).get("type"))&&(i="R"):n.bin&&(i="R-RE");const s={field:r,channel:t,type:i};s.signals=Object.assign(Object.assign({},u(s,"data")),u(s,"visual")),o.items.push(a[r]=s),o.hasField[r]=o.hasChannel[t]=a[r],o.hasSelectionId=o.hasSelectionId||r===VW}}else HF(tF(t))}for(const e of null!=f?f:[]){if(o.hasField[e])continue;const t={type:"E",field:e};t.signals=Object.assign({},u(t,"data")),o.items.push(t),o.hasField[e]=t,o.hasSelectionId=o.hasSelectionId||e===VW}h&&(t.init=h.map((e=>o.items.map((t=>H(e)?void 0!==e[t.channel]?e[t.channel]:e[t.field]:e))))),WP(s)||(o.timeUnit=new QU(null,s))},signals:(e,t,n)=>{const r=t.name+eV;return n.filter((e=>e.name===r)).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map((e=>{const{signals:t,hasLegend:n}=e,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["signals","hasLegend"]);return r.field=tI(r.field),r}))})}},rV=nV,iV={defined:e=>"interval"===e.type&&"global"===e.resolve&&e.bind&&"scales"===e.bind,parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!rN(i))continue;const o=e.getScaleComponent(i),a=o?o.get("type"):void 0;o&&YY(a)?(o.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)):HF("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter((e=>0===n.filter((t=>t.name===e.signals.data)).length));if(!e.parent||sV(e)||0===r.length)return n;const i=n.filter((e=>e.name===t.name))[0];let o=i.update;if(o.indexOf(aq)>=0)i.update=`{${r.map((e=>`${xe(tI(e.field))}: ${e.signals.data}`)).join(", ")}}`;else{for(const e of r){const t=`${xe(tI(e.field))}: ${e.signals.data}`;o.includes(t)||(o=`${o.substring(0,o.length-1)}, ${t}}`)}i.update=o}return n.concat(r.map((e=>({name:e.signals.data}))))},signals:(e,t,n)=>{if(e.parent&&!sV(e))for(const e of t.scales){const t=n.filter((t=>t.name===e.signals.data))[0];t.push="outer",delete t.value,delete t.update}return n}},oV=iV;function aV(e,t){return`domain(${xe(e.scaleName(t))})`}function sV(e){var t;return e.parent&&qK(e.parent)&&(null!==(t=!e.parent.parent)&&void 0!==t?t:sV(e.parent.parent))}const lV="_brush",uV="_scale_trigger",cV={defined:e=>"interval"===e.type,signals:(e,t,n)=>{const r=t.name,i=r+eV,o=oV.defined(t),a=t.init?t.init[0]:null,s=[],l=[];if(t.translate&&!o){const e=`!event.item || event.item.mark.name !== ${xe(r+lV)}`;hV(t,((t,n)=>{var r,i;const o=te(null!==(r=(i=n.between[0]).filter)&&void 0!==r?r:i.filter=[]);return o.includes(e)||o.push(e),t}))}t.project.items.forEach(((r,i)=>{const o=r.channel;if(o!==pI&&o!==mI)return void HF("Interval selections only support x and y encoding channels.");const u=a?a[i]:null,c=function(e,t,n,r){const i=n.channel,o=n.signals.visual,a=n.signals.data,s=oV.defined(t),l=xe(e.scaleName(i)),u=e.getScaleComponent(i),c=u?u.get("type"):void 0,d=e=>`scale(${l}, ${e})`,h=e.getSizeSignalRef(i===pI?"width":"height").signal,f=`${i}(unit)`,p=hV(t,((e,t)=>[...e,{events:t.between[0],update:`[${f}, ${f}]`},{events:t,update:`[${o}[0], clamp(${f}, 0, ${h})]`}]));return p.push({events:{signal:t.name+uV},update:YY(c)?`[${d(`${a}[0]`)}, ${d(`${a}[1]`)}]`:"[0, 0]"}),s?[{name:a,on:[]}]:[Object.assign(Object.assign({name:o},r?{init:VU(r,!0,d)}:{value:[]}),{on:p}),Object.assign(Object.assign({name:a},r?{init:VU(r)}:{}),{on:[{events:{signal:o},update:`${o}[0] === ${o}[1] ? null : invert(${l}, ${o})`}]})]}(e,t,r,u),d=r.signals.data,h=r.signals.visual,f=xe(e.scaleName(o)),p=YY(e.getScaleComponent(o).get("type"))?"+":"";n.push(...c),s.push(d),l.push({scaleName:e.scaleName(o),expr:`(!isArray(${d}) || (${p}invert(${f}, ${h})[0] === ${p}${d}[0] && ${p}invert(${f}, ${h})[1] === ${p}${d}[1]))`})})),!o&&l.length&&n.push({name:r+uV,value:{},on:[{events:l.map((e=>({scale:e.scaleName}))),update:`${l.map((e=>e.expr)).join(" && ")} ? ${r+uV} : {}`}]});const u=`unit: ${uq(e)}, fields: ${i}, values`;return n.concat(Object.assign(Object.assign({name:r+iq},a?{init:`{${u}: ${VU(a)}}`}:{}),s.length?{on:[{events:[{signal:s.join(" || ")}],update:`${s.join(" && ")} ? {${u}: [${s}]} : null`}]}:{}))},marks:(e,t,n)=>{const r=t.name,{x:i,y:o}=t.project.hasChannel,a=null==i?void 0:i.signals.visual,s=null==o?void 0:o.signals.visual,l=`data(${xe(t.name+rq)})`;if(oV.defined(t)||!i&&!o)return n;const u={x:void 0!==i?{signal:`${a}[0]`}:{value:0},y:void 0!==o?{signal:`${s}[0]`}:{value:0},x2:void 0!==i?{signal:`${a}[1]`}:{field:{group:"width"}},y2:void 0!==o?{signal:`${s}[1]`}:{field:{group:"height"}}};if("global"===t.resolve)for(const t of $P(u))u[t]=[Object.assign({test:`${l}.length && ${l}[0].unit === ${uq(e)}`},u[t]),{value:0}];const c=t.mark,{fill:d,fillOpacity:h,cursor:f}=c,p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(c,["fill","fillOpacity","cursor"]),m=$P(p).reduce(((e,t)=>(e[t]=[{test:[void 0!==i&&`${a}[0] !== ${a}[1]`,void 0!==o&&`${s}[0] !== ${s}[1]`].filter((e=>e)).join(" && "),value:p[t]},{value:null}],e)),{});return[{name:`${r+lV}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:d},fillOpacity:{value:h}},update:u}},...n,{name:r+lV,type:"rect",clip:!0,encode:{enter:Object.assign(Object.assign({},f?{cursor:{value:f}}:{}),{fill:{value:"transparent"}}),update:Object.assign(Object.assign({},u),m)}}]}},dV=cV;function hV(e,t){return e.events.reduce(((e,n)=>n.between?t(e,n):(HF(`${n} is not an ordered event stream for interval selections.`),e)),[])}const fV={defined:e=>"point"===e.type,signals:(e,t,n)=>{var r;const i=t.name,o=i+eV,a=t.project,s="(item().isVoronoi ? datum.datum : datum)",l=UP(null!==(r=e.component.selection)&&void 0!==r?r:{}).reduce(((e,t)=>"interval"===t.type?e.concat(t.name+lV):e),[]).map((e=>`indexof(item().mark.name, '${e}') < 0`)).join(" && "),u="datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0"+(l?` && ${l}`:"");let c=`unit: ${uq(e)}, `;t.project.hasSelectionId?c+=`_vgsid_: ${s}[${xe(VW)}]`:c+=`fields: ${o}, values: [${a.items.map((t=>{const n=e.fieldDef(t.channel);return(null==n?void 0:n.bin)?`[${s}[${xe(e.vgField(t.channel,{}))}], ${s}[${xe(e.vgField(t.channel,{binSuffix:"end"}))}]]`:`${s}[${xe(t.field)}]`})).join(", ")}]`;const d=t.events;return n.concat([{name:i+iq,on:d?[{events:d,update:`${u} ? {${c}} : null`,force:!0}]:[]}])}},pV=fV;function mV(e,t,n,r){const i=aB(t)&&t.condition,o=r(t);if(i){const t=te(i).map((t=>{const n=r(t);if(function(e){return e.param}(t)){const{param:r,empty:i}=t,o=gq(e,{param:r,empty:i});return Object.assign({test:o},n)}{const r=vq(e,t.test);return Object.assign({test:r},n)}}));return{[n]:[...t,...void 0!==o?[o]:[]]}}return void 0!==o?{[n]:o}:{}}function gV(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";const n=e.encoding[t];return mV(e,n,t,(t=>yV(t,e.config)))}function yV(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"datum";if(e){if(gB(e))return HN(e.value);if(pB(e)){const{format:r,formatType:i}=LB(e);return Iz({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function vV(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{encoding:n,markDef:r,config:i,stack:o}=e,a=n.tooltip;if(I(a))return{tooltip:wV({tooltip:a},o,i,t)};{const s=t.reactiveGeom?"datum.datum":"datum";return mV(e,a,"tooltip",(e=>{const a=yV(e,i,s);if(a)return a;if(null===e)return;let l=BN("tooltip",r,i);return!0===l&&(l={content:"encoding"}),_e(l)?{value:l}:H(l)?CN(l)?l:"encoding"===l.content?wV(n,o,i,t):{signal:s}:void 0}))}}function bV(e,t,n){let{reactiveGeom:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i={},o=r?"datum.datum":"datum",a=[];function s(r,s){const l=pH(s),u=mB(r)?r:Object.assign(Object.assign({},r),{type:e[l].type}),c=te(u.title||AB(u,n)).join(", ");let d;if(FH(s)){const t="x"===s?"x2":"y2",r=PB(e[t]);if(bN(u.bin)&&r){const e=SB(u,{expr:o}),a=SB(r,{expr:o}),{format:s,formatType:l}=LB(u);d=$z(e,a,s,l,n),i[t]=!0}}if((FH(s)||s===kI||s===wI)&&t&&t.fieldChannel===s&&"normalize"===t.offset){const{format:e,formatType:t}=LB(u);d=Iz({fieldOrDatumDef:u,format:e,formatType:t,expr:o,config:n,normalizeStack:!0}).signal}null!=d||(d=yV(u,n,o).signal),a.push({channel:s,key:c,value:d})}dW(e,((e,t)=>{uB(e)?s(e,t):sB(e)&&s(e.condition,t)}));const l={};for(const{channel:e,key:t,value:n}of a)i[e]||l[t]||(l[t]=n);return l}function wV(e,t,n){let{reactiveGeom:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=bV(e,t,n,{reactiveGeom:r}),o=VP(i).map((e=>{let[t,n]=e;return`"${t}": ${n}`}));return o.length>0?{signal:`{${o.join(", ")}}`}:void 0}function _V(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{markDef:r,encoding:i,config:o}=t,{vgChannel:a}=n;let{defaultRef:s,defaultValue:l}=n;void 0===s&&(null!=l||(l=BN(e,r,o,{vgChannel:a,ignoreVgConfig:!0})),void 0!==l&&(s=HN(l)));const u=i[e];return mV(t,u,null!=a?a:e,(n=>Az({channel:e,channelDef:n,markDef:r,config:o,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:s})))}function kV(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{filled:void 0};var n,r,i,o;const{markDef:a,encoding:s,config:l}=e,{type:u}=a,c=null!==(n=t.filled)&&void 0!==n?n:BN("filled",a,l),d=PP(["bar","point","circle","square","geoshape"],u)?"transparent":void 0,h=null!==(i=null!==(r=BN(!0===c?"color":void 0,a,l,{vgChannel:"fill"}))&&void 0!==r?r:l.mark[!0===c&&"color"])&&void 0!==i?i:d,f=null!==(o=BN(!1===c?"color":void 0,a,l,{vgChannel:"stroke"}))&&void 0!==o?o:l.mark[!1===c&&"color"],p=c?"fill":"stroke",m=Object.assign(Object.assign({},h?{fill:HN(h)}:{}),f?{stroke:HN(f)}:{});return a.color&&(c?a.fill:a.stroke)&&HF(fF("property",{fill:"fill"in a,stroke:"stroke"in a})),Object.assign(Object.assign(Object.assign(Object.assign({},m),_V("color",e,{vgChannel:p,defaultValue:c?h:f})),_V("fill",e,{defaultValue:s.fill?h:void 0})),_V("stroke",e,{defaultValue:s.stroke?f:void 0}))}function SV(e){let{channel:t,markDef:n,encoding:r={},model:i,bandPosition:o}=e;const a=`${t}Offset`,s=n[a],l=r[a];if(("xOffset"===a||"yOffset"===a)&&l)return{offsetType:"encoding",offset:Az({channel:a,channelDef:l,markDef:n,config:null==i?void 0:i.config,scaleName:i.scaleName(a),scale:i.getScaleComponent(a),stack:null,defaultRef:HN(s),bandPosition:o})};const u=n[a];return u?{offsetType:"visual",offset:u}:{}}function MV(e,t,n){let{defaultPos:r,vgChannel:i}=n;const{encoding:o,markDef:a,config:s,stack:l}=t,u=o[e],c=o[gH(e)],d=t.scaleName(e),h=t.getScaleComponent(e),{offset:f,offsetType:p}=SV({channel:e,markDef:a,encoding:o,model:t,bandPosition:.5}),m=xV({model:t,defaultPos:r,channel:e,scaleName:d,scale:h}),g=!u&&FH(e)&&(o.latitude||o.longitude)?{field:t.getName(e)}:function(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:o,markDef:a}=e;if(pB(n)&&i&&t===i.fieldChannel){if(uB(n)){let e=n.bandPosition;if(void 0!==e||"text"!==a.type||"radius"!==t&&"theta"!==t||(e=.5),void 0!==e)return Ez({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:e,offset:o})}return Dz(n,r,{suffix:"end"},{offset:o})}return Cz(e)}({channel:e,channelDef:u,channel2Def:c,markDef:a,config:s,scaleName:d,scale:h,stack:l,offset:f,defaultRef:m,bandPosition:"encoding"===p?0:void 0});return g?{[i||e]:g}:void 0}function xV(e){let{model:t,defaultPos:n,channel:r,scaleName:i,scale:o}=e;const{markDef:a,config:s}=t;return()=>{const e=pH(r),l=mH(r),u=BN(r,a,s,{vgChannel:l});if(void 0!==u)return Lz(r,u);switch(n){case"zeroOrMin":case"zeroOrMax":if(i){const e=o.get("type");if(PP(["log",xY,OY],e));else if(o.domainDefinitelyIncludesZero())return{scale:i,value:0}}if("zeroOrMin"===n)return"y"===e?{field:{group:"height"}}:{value:0};switch(e){case"radius":return{signal:`min(${t.width.signal},${t.height.signal})/2`};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":{const e=t[yH(r)];return Object.assign(Object.assign({},e),{mult:.5})}}}}const OV={left:"x",center:"xc",right:"x2"},CV={top:"y",middle:"yc",bottom:"y2"};function TV(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle";if("radius"===e||"theta"===e)return mH(e);const i="x"===e?"align":"baseline",o=BN(i,t,n);let a;return CN(o)?(HF(wF(i)),a=void 0):a=o,"x"===e?OV[a||("top"===r?"left":"center")]:CV[a||r]}function RV(e,t,n){let{defaultPos:r,defaultPos2:i,range:o}=n;return o?DV(e,t,{defaultPos:r,defaultPos2:i}):MV(e,t,{defaultPos:r})}function DV(e,t,n){let{defaultPos:r,defaultPos2:i}=n;const{markDef:o,config:a}=t,s=gH(e),l=yH(e),u=function(e,t,n){const{encoding:r,mark:i,markDef:o,stack:a,config:s}=e,l=pH(n),u=yH(n),c=mH(n),d=r[l],h=e.scaleName(l),f=e.getScaleComponent(l),{offset:p}=SV(n in r||n in o?{channel:n,markDef:o,encoding:r,model:e}:{channel:l,markDef:o,encoding:r,model:e});if(!d&&("x2"===n||"y2"===n)&&(r.latitude||r.longitude)){const t=yH(n),r=e.markDef[t];return null!=r?{[t]:{value:r}}:{[c]:{field:e.getName(n)}}}const m=function(e){let{channel:t,channelDef:n,channel2Def:r,markDef:i,config:o,scaleName:a,scale:s,stack:l,offset:u,defaultRef:c}=e;return pB(n)&&l&&t.charAt(0)===l.fieldChannel.charAt(0)?Dz(n,a,{suffix:"start"},{offset:u}):Cz({channel:t,channelDef:r,scaleName:a,scale:s,stack:l,markDef:i,config:o,offset:u,defaultRef:c})}({channel:n,channelDef:d,channel2Def:r[n],markDef:o,config:s,scaleName:h,scale:f,stack:a,offset:p,defaultRef:void 0});return void 0!==m?{[c]:m}:EV(n,o)||EV(n,{[n]:$N(n,o,s.style),[u]:$N(u,o,s.style)})||EV(n,s[i])||EV(n,s.mark)||{[c]:xV({model:e,defaultPos:t,channel:n,scaleName:h,scale:f})()}}(t,i,s),c=u[l]?TV(e,o,a):mH(e);return Object.assign(Object.assign({},MV(e,t,{defaultPos:r,vgChannel:c})),u)}function EV(e,t){const n=yH(e),r=mH(e);if(void 0!==t[r])return{[r]:Lz(e,t[r])};if(void 0!==t[e])return{[r]:Lz(e,t[e])};if(t[n]){const r=t[n];if(!xz(r))return{[n]:Lz(e,r)};HF(function(e){return`Position range does not support relative band size for ${e}.`}(n))}}function AV(e,t){var n,r;const{config:i,encoding:o,markDef:a}=e,s=a.type,l=gH(t),u=yH(t),c=o[t],d=o[l],h=e.getScaleComponent(t),f=h?h.get("type"):void 0,p=a.orient,m=null!==(r=null!==(n=o[u])&&void 0!==n?n:o.size)&&void 0!==r?r:BN("size",a,i,{vgChannel:u}),g="bar"===s&&("x"===t?"vertical"===p:"horizontal"===p);return!uB(c)||!(vN(c.bin)||bN(c.bin)||c.timeUnit&&!d)||m&&!xz(m)||FY(f)?(pB(c)&&FY(f)||g)&&!d?function(e,t,n){const{markDef:r,encoding:i,config:o,stack:a}=n,s=r.orient,l=n.scaleName(t),u=n.getScaleComponent(t),c=yH(t),d=gH(t),h=function(e){switch(e){case pI:return"xOffset";case mI:return"yOffset";case gI:return"x2Offset";case yI:return"y2Offset";case kI:return"thetaOffset";case wI:return"radiusOffset";case SI:return"theta2Offset";case _I:return"radius2Offset"}}(t),f=n.scaleName(h),p="horizontal"===s&&"y"===t||"vertical"===s&&"x"===t;let m;(i.size||r.size)&&(p?m=_V("size",n,{vgChannel:c,defaultRef:HN(r.size)}):HF(function(e){return`Cannot apply size to non-oriented mark "${e}".`}(r.type)));const g=!!m,y=iB({channel:t,fieldDef:e,markDef:r,config:o,scaleType:null==u?void 0:u.get("type"),useVlSizeChannel:p});m=m||{[c]:LV(c,f||l,u,o,y)};const v=TV(t,r,o,"band"===(null==u?void 0:u.get("type"))&&xz(y)&&!g?"top":"middle"),b="xc"===v||"yc"===v,{offset:w,offsetType:_}=SV({channel:t,markDef:r,encoding:i,model:n,bandPosition:b?.5:0}),k=Cz({channel:t,channelDef:e,markDef:r,config:o,scaleName:l,scale:u,stack:a,offset:w,defaultRef:xV({model:n,defaultPos:"mid",channel:t,scaleName:l,scale:u}),bandPosition:b?"encoding"===_?0:.5:CN(y)?{signal:`(1-${y})/2`}:xz(y)?(1-y.band)/2:0});if(c)return Object.assign({[v]:k},m);{const e=mH(d),t=m[c],n=w?Object.assign(Object.assign({},t),{offset:w}):t;return{[v]:k,[e]:I(k)?[k[0],Object.assign(Object.assign({},k[1]),{offset:n})]:Object.assign(Object.assign({},k),{offset:n})}}}(c,t,e):DV(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"}):function(e){let{fieldDef:t,fieldDef2:n,channel:r,model:i}=e;var o,a,s;const{config:l,markDef:u,encoding:c}=i,d=i.getScaleComponent(r),h=i.scaleName(r),f=d?d.get("type"):void 0,p=d.get("reverse"),m=iB({channel:r,fieldDef:t,markDef:u,config:l,scaleType:f}),g=null===(o=i.component.axes[r])||void 0===o?void 0:o[0],y=null!==(a=null==g?void 0:g.get("translate"))&&void 0!==a?a:.5,v=FH(r)&&null!==(s=BN("binSpacing",u,l))&&void 0!==s?s:0,b=gH(r),w=mH(r),_=mH(b),{offset:k}=SV({channel:r,markDef:u,encoding:c,model:i,bandPosition:0}),S=CN(m)?{signal:`(1-${m.signal})/2`}:xz(m)?(1-m.band)/2:.5;if(vN(t.bin)||t.timeUnit)return{[_]:PV({fieldDef:t,scaleName:h,bandPosition:S,offset:jV(b,v,p,y,k)}),[w]:PV({fieldDef:t,scaleName:h,bandPosition:CN(S)?{signal:`1-${S.signal}`}:1-S,offset:jV(r,v,p,y,k)})};if(bN(t.bin)){const e=Dz(t,h,{},{offset:jV(b,v,p,y,k)});if(uB(n))return{[_]:e,[w]:Dz(n,h,{},{offset:jV(r,v,p,y,k)})};if(wN(t.bin)&&t.bin.step)return{[_]:e,[w]:{signal:`scale("${h}", ${SB(t,{expr:"datum"})} + ${t.bin.step})`,offset:jV(r,v,p,y,k)}}}HF(EF(b))}({fieldDef:c,fieldDef2:d,channel:t,model:e})}function LV(e,t,n,r,i){if(xz(i)){if(!n)return{mult:i.band,field:{group:e}};{const e=n.get("type");if("band"===e){let e=`bandwidth('${t}')`;return 1!==i.band&&(e=`${i.band} * ${e}`),{signal:`max(0.25, ${e})`}}1!==i.band&&(HF(function(e){return`Cannot use the relative band size with ${e} scale.`}(e)),i=void 0)}}else{if(CN(i))return i;if(i)return{value:i}}if(n){const e=n.get("range");if(TN(e)&&we(e.step))return{value:e.step-2}}return{value:l$(r.view,e)-2}}function jV(e,t,n,r,i){if(GI(e))return 0;const o="x"===e||"y2"===e?-t/2:t/2;if(CN(n)||CN(i)||CN(r)){const e=YN(n),t=YN(i),a=YN(r);return{signal:(a?`${a} + `:"")+(e?`(${e} ? -1 : 1) * `:"")+(t?`(${t} + ${o})`:o)}}return i=i||0,r+(n?-i-o:+i+o)}function PV(e){let{fieldDef:t,scaleName:n,bandPosition:r,offset:i}=e;return Ez({scaleName:n,fieldOrDatumDef:t,bandPosition:r,offset:i})}const IV=new Set(["aria","width","height"]);function HV(e,t){const{fill:n,stroke:r}="include"===t.color?kV(e):{};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},function(e,t){return DN.reduce(((n,r)=>(IV.has(r)||void 0===e[r]||"ignore"===t[r]||(n[r]=HN(e[r])),n)),{})}(e.markDef,t)),NV(e,"fill",n)),NV(e,"stroke",r)),_V("opacity",e)),_V("fillOpacity",e)),_V("strokeOpacity",e)),_V("strokeWidth",e)),_V("strokeDash",e)),function(e){const{encoding:t,mark:n}=e,r=t.order;return!vz(n)&&gB(r)?mV(e,r,"zindex",(e=>HN(e.value))):{}}(e)),vV(e)),gV(e,"href")),function(e){const{markDef:t,config:n}=e,r=BN("aria",t,n);return!1===r?{}:Object.assign(Object.assign(Object.assign({},r?{aria:r}:{}),function(e){const{mark:t,markDef:n,config:r}=e;if(!1===r.aria)return{};const i=BN("ariaRoleDescription",n,r);return null!=i?{ariaRoleDescription:{value:i}}:t in EN?{}:{ariaRoleDescription:{value:t}}}(e)),function(e){const{encoding:t,markDef:n,config:r,stack:i}=e,o=t.description;if(o)return mV(e,o,"description",(t=>yV(t,e.config)));const a=BN("description",n,r);if(null!=a)return{description:HN(a)};if(!1===r.aria)return{};const s=bV(t,i,r);return WP(s)?void 0:{description:{signal:VP(s).map(((e,t)=>{let[n,r]=e;return`"${t>0?"; ":""}${n}: " + (${r})`})).join(" + ")}}}(e))}(e))}function NV(e,t,n){const{config:r,mark:i,markDef:o}=e;if("hide"===BN("invalid",o,r)&&n&&!vz(i)){const r=function(e,t){let{invalid:n=!1,channels:r}=t;const i=r.reduce(((t,n)=>{const r=e.getScaleComponent(n);if(r){const i=r.get("type"),o=e.vgField(n,{expr:"datum"});o&&YY(i)&&(t[o]=!0)}return t}),{}),o=$P(i);if(o.length>0){const e=n?"||":"&&";return o.map((e=>Rz(e,n))).join(` ${e} `)}}(e,{invalid:!0,channels:nN});if(r)return{[t]:[{test:r,value:null},...te(n)]}}return n?{[t]:n}:{}}function FV(e){const{config:t,markDef:n}=e;if(BN("invalid",n,t)){const t=function(e,t){let{invalid:n=!1,channels:r}=t;const i=r.reduce(((t,n)=>{var r;const i=e.getScaleComponent(n);if(i){const o=i.get("type"),a=e.vgField(n,{expr:"datum",binSuffix:(null===(r=e.stack)||void 0===r?void 0:r.impute)?"mid":void 0});a&&YY(o)&&(t[a]=!0)}return t}),{}),o=$P(i);if(o.length>0){const e=n?"||":"&&";return o.map((e=>Rz(e,n))).join(` ${e} `)}}(e,{channels:NH});if(t)return{defined:{signal:t}}}return{}}function YV(e,t){if(void 0!==t)return{[e]:HN(t)}}const zV="voronoi",BV={defined:e=>"point"===e.type&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(zV)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,o=e.mark;if(vz(o))return HF(`The "nearest" transform is not supported for ${o} marks.`),n;const a={name:e.getName(zV),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:Object.assign({fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},vV(e,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let s=0,l=!1;return n.forEach(((t,n)=>{var r;const i=null!==(r=t.name)&&void 0!==r?r:"";i===e.component.mark[0].name?s=n:i.indexOf(zV)>=0&&(l=!0)})),l||n.splice(s+1,0,a),n}},WV=BV,$V={defined:e=>"point"===e.type&&"global"===e.resolve&&e.bind&&"scales"!==e.bind&&!GW(e.bind),parse:(e,t,n)=>dq(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,o=t.bind,a=t.init&&t.init[0],s=WV.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach(((e,i)=>{var l,u;const c=GP(`${r}_${e.field}`);n.filter((e=>e.name===c)).length||n.unshift(Object.assign(Object.assign({name:c},a?{init:VU(a[i])}:{value:null}),{on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${s}[${xe(e.field)}] : null`}]:[],bind:null!==(u=null!==(l=o[e.field])&&void 0!==l?l:o[e.channel])&&void 0!==u?u:o}))})),n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.filter((e=>e.name===r+iq))[0],a=r+eV,s=i.items.map((e=>GP(`${r}_${e.field}`))),l=s.map((e=>`${e} !== null`)).join(" && ");return s.length&&(o.update=`${l} ? {fields: ${a}, values: [${s.join(", ")}]} : null`),delete o.value,delete o.on,n}},UV=$V,VV="_toggle",qV={defined:e=>"point"===e.type&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+VV,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+iq,r=t.name+VV;return`${r} ? null : ${n}, `+("global"===t.resolve?`${r} ? null : true, `:`${r} ? null : {unit: ${uq(e)}}, `)+`${r} ? ${n} : null`}},GV={defined:e=>void 0!==e.clear&&!1!==e.clear,parse:(e,t)=>{t.clear&&(t.clear=_e(t.clear)?FE(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(UV.defined(t))for(const e of t.project.items){const r=n.findIndex((n=>n.name===GP(`${t.name}_${e.field}`)));-1!==r&&n[r].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(e,r){-1!==e&&n[e].on&&n[e].on.push({events:t.clear,update:r})}if("interval"===t.type)for(const e of t.project.items){const t=n.findIndex((t=>t.name===e.signals.visual));r(t,"[0, 0]"),-1===t&&r(n.findIndex((t=>t.name===e.signals.data)),"null")}else{let e=n.findIndex((e=>e.name===t.name+iq));r(e,"null"),qV.defined(t)&&(e=n.findIndex((e=>e.name===t.name+VV)),r(e,"false"))}return n}},KV={defined:e=>{const t="global"===e.resolve&&e.bind&&GW(e.bind),n=1===e.project.items.length&&e.project.items[0].field!==VW;return t&&!n&&HF("Legend bindings are only supported for selections over an individual field or encoding channel."),t&&n},parse:(e,t,n)=>{var r;const i=RP(n);if(i.select=_e(i.select)?{type:i.select,toggle:t.toggle}:Object.assign(Object.assign({},i.select),{toggle:t.toggle}),dq(t,i),H(n.select)&&(n.select.on||n.select.clear)){const e='event.item && indexof(event.item.mark.role, "legend") < 0';for(const n of t.events)n.filter=te(null!==(r=n.filter)&&void 0!==r?r:[]),n.filter.includes(e)||n.filter.push(e)}const o=KW(t.bind)?t.bind.legend:"click",a=_e(o)?FE(o,"view"):te(o);t.bind={legend:{merge:a}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=KW(t.bind)&&t.bind.legend,o=e=>t=>{const n=RP(t);return n.markname=e,n};for(const e of t.project.items){if(!e.hasLegend)continue;const a=`${GP(e.field)}_legend`,s=`${r}_${a}`;if(0===n.filter((e=>e.name===s)).length){const e=i.merge.map(o(`${a}_symbols`)).concat(i.merge.map(o(`${a}_labels`))).concat(i.merge.map(o(`${a}_entries`)));n.unshift(Object.assign(Object.assign({name:s},t.init?{}:{value:null}),{on:[{events:e,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${s}`,force:!0}]}))}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find((e=>e.name===r+iq)),a=r+eV,s=i.items.filter((e=>e.hasLegend)).map((e=>GP(`${r}_${GP(e.field)}_legend`))),l=`${s.map((e=>`${e} !== null`)).join(" && ")} ? {fields: ${a}, values: [${s.join(", ")}]} : null`;t.events&&s.length>0?o.on.push({events:s.map((e=>({signal:e}))),update:l}):s.length>0&&(o.update=l,delete o.value,delete o.on);const u=n.find((e=>e.name===r+VV)),c=KW(t.bind)&&t.bind.legend;return u&&(t.events?u.on.push(Object.assign(Object.assign({},u.on[0]),{events:c})):u.on[0].events=c),n}},ZV="_translate_anchor",XV="_translate_delta",JV={defined:e=>"interval"===e.type&&e.translate,signals:(e,t,n)=>{const r=t.name,i=oV.defined(t),o=r+ZV,{x:a,y:s}=t.project.hasChannel;let l=FE(t.translate,"scope");return i||(l=l.map((e=>(e.between[0].markname=r+lV,e)))),n.push({name:o,value:{},on:[{events:l.map((e=>e.between[0])),update:"{x: x(unit), y: y(unit)"+(void 0!==a?`, extent_x: ${i?aV(e,pI):`slice(${a.signals.visual})`}`:"")+(void 0!==s?`, extent_y: ${i?aV(e,mI):`slice(${s.signals.visual})`}`:"")+"}"}]},{name:r+XV,value:{},on:[{events:l,update:`{x: ${o}.x - x(unit), y: ${o}.y - y(unit)}`}]}),void 0!==a&&QV(e,t,a,"width",n),void 0!==s&&QV(e,t,s,"height",n),n}};function QV(e,t,n,r,i){var o,a;const s=t.name,l=s+ZV,u=s+XV,c=n.channel,d=oV.defined(t),h=i.filter((e=>e.name===n.signals[d?"data":"visual"]))[0],f=e.getSizeSignalRef(r).signal,p=e.getScaleComponent(c),m=p.get("type"),g=p.get("reverse"),y=`${l}.extent_${c}`,v=`${d?"log"===m?"panLog":"symlog"===m?"panSymlog":"pow"===m?"panPow":"panLinear":"panLinear"}(${y}, ${d?c===pI?g?"":"-":g?"-":"":""}${u}.${c} / ${d?`${f}`:`span(${y})`}${d?"pow"===m?`, ${null!==(o=p.get("exponent"))&&void 0!==o?o:1}`:"symlog"===m?`, ${null!==(a=p.get("constant"))&&void 0!==a?a:1}`:"":""})`;h.on.push({events:{signal:u},update:d?v:`clampRange(${v}, 0, ${f})`})}const eq="_zoom_delta",tq={defined:e=>"interval"===e.type&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=oV.defined(t),o=r+eq,{x:a,y:s}=t.project.hasChannel,l=xe(e.scaleName(pI)),u=xe(e.scaleName(mI));let c=FE(t.zoom,"scope");return i||(c=c.map((e=>(e.markname=r+lV,e)))),n.push({name:r+"_zoom_anchor",on:[{events:c,update:i?"{"+[l?`x: invert(${l}, x(unit))`:"",u?`y: invert(${u}, y(unit))`:""].filter((e=>!!e)).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:c,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),void 0!==a&&nq(e,t,a,"width",n),void 0!==s&&nq(e,t,s,"height",n),n}};function nq(e,t,n,r,i){var o,a;const s=t.name,l=n.channel,u=oV.defined(t),c=i.filter((e=>e.name===n.signals[u?"data":"visual"]))[0],d=e.getSizeSignalRef(r).signal,h=e.getScaleComponent(l),f=h.get("type"),p=u?aV(e,l):c.name,m=s+eq,g=`${u?"log"===f?"zoomLog":"symlog"===f?"zoomSymlog":"pow"===f?"zoomPow":"zoomLinear":"zoomLinear"}(${p}, ${s}_zoom_anchor.${l}, ${m}${u?"pow"===f?`, ${null!==(o=h.get("exponent"))&&void 0!==o?o:1}`:"symlog"===f?`, ${null!==(a=h.get("constant"))&&void 0!==a?a:1}`:"":""})`;c.on.push({events:{signal:m},update:u?g:`clampRange(${g}, 0, ${d})`})}const rq="_store",iq="_tuple",oq="_modify",aq="vlSelectionResolve",sq=[pV,dV,rV,qV,UV,oV,KV,GV,JV,tq,WV];function lq(e){let t=e.parent;for(;t&&!UK(t);)t=t.parent;return t}function uq(e){let{escape:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{escape:!0},n=t?xe(e.name):e.name;const r=lq(e);if(r){const{facet:e}=r;for(const t of eH)e[t]&&(n+=` + '__facet_${t}_' + (facet[${xe(r.vgField(t))}])`)}return n}function cq(e){var t;return UP(null!==(t=e.component.selection)&&void 0!==t?t:{}).reduce(((e,t)=>e||t.project.hasSelectionId),!1)}function dq(e,t){!_e(t.select)&&t.select.on||delete e.events,!_e(t.select)&&t.select.clear||delete e.clear,!_e(t.select)&&t.select.toggle||delete e.toggle}function hq(e){const t=[];return"Identifier"===e.type?[e.name]:"Literal"===e.type?[e.value]:("MemberExpression"===e.type&&(t.push(...hq(e.object)),t.push(...hq(e.property))),t)}function fq(e){return"MemberExpression"===e.object.type?fq(e.object):"datum"===e.object.name}function pq(e){const t=TT(e),n=new Set;return t.visit((e=>{"MemberExpression"===e.type&&fq(e)&&n.add(hq(e).slice(1).join("."))})),n}class mq extends ZU{constructor(e,t,n){super(e),this.model=t,this.filter=n,this.expr=vq(this.model,this.filter,this),this._dependentFields=pq(this.expr)}clone(){return new mq(null,this.model,RP(this.filter))}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function gq(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"datum";const i=_e(t)?t:t.param,o=GP(i),a=xe(o+rq);let s;try{s=e.getSelectionComponent(o,i)}catch(e){return`!!${o}`}if(s.project.timeUnit){const t=null!=n?n:e.component.data.raw,r=s.project.timeUnit.clone();t.parent?r.insertAsParentOf(t):t.parent=r}const l=s.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",u="global"===s.resolve?")":`, ${xe(s.resolve)})`,c=`${l}${a}, ${r}${u}`,d=`length(data(${a}))`;return!1===t.empty?`${d} && ${c}`:`!${d} || ${c}`}function yq(e,t,n){const r=GP(t),i=n.encoding;let o,a=n.field;try{o=e.getSelectionComponent(r,t)}catch(e){return r}if(i||a){if(i&&!a){const e=o.project.items.filter((e=>e.channel===i));!e.length||e.length>1?(a=o.project.items[0].field,HF((e.length?"Multiple ":"No ")+`matching ${xe(i)} encoding found for selection ${xe(n.param)}. `+`Using "field": ${xe(a)}.`)):a=e[0].field}}else a=o.project.items[0].field,o.project.items.length>1&&HF(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${xe(a)}.`);return`${o.name}[${xe(tI(a))}]`}function vq(e,t,n){return KP(t,(t=>_e(t)?t:function(e){return null==e?void 0:e.param}(t)?gq(e,t,n):pY(t)))}var bq=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function wq(e,t){if(e)return I(e)&&!ON(e)?e.map((e=>AB(e,t))).join(", "):e}function _q(e,t,n,r){var i,o,a,s,l;null!==(i=e.encode)&&void 0!==i||(e.encode={}),null!==(o=(s=e.encode)[t])&&void 0!==o||(s[t]={}),null!==(a=(l=e.encode[t]).update)&&void 0!==a||(l.update={}),e.encode[t].update[n]=r}function kq(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{header:!1};var i,o;const a=e.combine(),{disable:s,orient:l,scale:u,labelExpr:c,title:d,zindex:h}=a,f=bq(a,["disable","orient","scale","labelExpr","title","zindex"]);if(!s){for(const e in f){const n=ZB[e],r=f[e];if(n&&n!==t&&"both"!==n)delete f[e];else if(GB(r)){const{condition:t}=r,n=bq(r,["condition"]),i=te(t),o=qB[e];if(o){const{vgProp:t,part:r}=o,a=[...i.map((e=>{const{test:t}=e,n=bq(e,["test"]);return Object.assign({test:vq(null,t)},n)})),n];_q(f,r,t,a),delete f[e]}else if(null===o){const t={signal:i.map((e=>{const{test:t}=e,n=bq(e,["test"]);return`${vq(null,t)} ? ${FN(n)} : `})).join("")+FN(n)};f[e]=t}}else if(CN(r)){const t=qB[e];if(t){const{vgProp:n,part:i}=t;_q(f,i,n,r),delete f[e]}}PP(["labelAlign","labelBaseline"],e)&&null===f[e]&&delete f[e]}if("grid"===t){if(!f.grid)return;if(f.encode){const{grid:e}=f.encode;f.encode=Object.assign({},e?{grid:e}:{}),WP(f.encode)&&delete f.encode}return Object.assign(Object.assign({scale:u,orient:l},f),{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:oI(h,0)})}{if(!r.header&&e.mainExtracted)return;if(void 0!==c){let e=c;(null===(o=null===(i=f.encode)||void 0===i?void 0:i.labels)||void 0===o?void 0:o.update)&&CN(f.encode.labels.update.text)&&(e=nI(c,"datum.label",f.encode.labels.update.text.signal)),_q(f,"labels","text",{signal:e})}if(null===f.labelAlign&&delete f.labelAlign,f.encode){for(const t of KB)e.hasAxisPart(t)||delete f.encode[t];WP(f.encode)&&delete f.encode}const t=wq(d,n);return Object.assign(Object.assign(Object.assign(Object.assign({scale:u,orient:l,grid:!1},t?{title:t}:{}),f),!1===n.aria?{aria:!1}:{}),{zindex:oI(h,0)})}}}function Sq(e){const{axes:t}=e.component,n=[];for(const r of NH)if(t[r])for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const t="x"===r?"height":"width",i=e.getSizeSignalRef(t).signal;t!==i&&n.push({name:t,update:i})}return n}function Mq(e,t,n,r){return Object.assign.apply(null,[{},...e.map((e=>{if("axisOrient"===e){const e="x"===n?"bottom":"left",i=t["x"===n?"axisBottom":"axisLeft"]||{},o=t["x"===n?"axisTop":"axisRight"]||{},a=new Set([...$P(i),...$P(o)]),s={};for(const t of a.values())s[t]={signal:`${r.signal} === "${e}" ? ${YN(i[t])} : ${YN(o[t])}`};return s}return t[e]}))])}function xq(e,t){var n;const r=[{}];for(const i of e){let e=null===(n=t[i])||void 0===n?void 0:n.style;if(e){e=te(e);for(const n of e)r.push(t.style[n])}}return Object.assign.apply(null,r)}function Oq(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=UN(e,n,t);if(void 0!==o)return{configFrom:"style",configValue:o};for(const t of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(void 0!==(null===(i=r[t])||void 0===i?void 0:i[e]))return{configFrom:t,configValue:r[t][e]};return{}}const Cq={scale:e=>{let{model:t,channel:n}=e;return t.scaleName(n)},format:e=>{let{fieldOrDatumDef:t,config:n,axis:r}=e;const{format:i,formatType:o}=r;return Fz(t,t.type,i,o,n,!0)},formatType:e=>{let{axis:t,fieldOrDatumDef:n,scaleType:r}=e;const{formatType:i}=t;return Yz(i,n,r)},grid:e=>{let{fieldOrDatumDef:t,axis:n,scaleType:r}=e;var i;return null!==(i=n.grid)&&void 0!==i?i:function(e,t){return!FY(e)&&uB(t)&&!vN(null==t?void 0:t.bin)&&!bN(null==t?void 0:t.bin)}(r,t)},gridScale:e=>{let{model:t,channel:n}=e;return function(e,t){const n="x"===t?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}(t,n)},labelAlign:e=>{let{axis:t,labelAngle:n,orient:r,channel:i}=e;return t.labelAlign||Dq(n,r,i)},labelAngle:e=>{let{labelAngle:t}=e;return t},labelBaseline:e=>{let{axis:t,labelAngle:n,orient:r,channel:i}=e;return t.labelBaseline||Rq(n,r,i)},labelFlush:e=>{let{axis:t,fieldOrDatumDef:n,channel:r}=e;var i;return null!==(i=t.labelFlush)&&void 0!==i?i:function(e,t){if("x"===t&&PP(["quantitative","temporal"],e))return!0}(n.type,r)},labelOverlap:e=>{let{axis:t,fieldOrDatumDef:n,scaleType:r}=e;var i;return null!==(i=t.labelOverlap)&&void 0!==i?i:function(e,t,n,r){if(n&&!H(r)||"nominal"!==e&&"ordinal"!==e)return"log"!==t&&"symlog"!==t||"greedy"}(n.type,r,uB(n)&&!!n.timeUnit,uB(n)?n.sort:void 0)},orient:e=>{let{orient:t}=e;return t},tickCount:e=>{let{channel:t,model:n,axis:r,fieldOrDatumDef:i,scaleType:o}=e;var a;const s="x"===t?"width":"y"===t?"height":void 0,l=s?n.getSizeSignalRef(s):void 0;return null!==(a=r.tickCount)&&void 0!==a?a:function(e){let{fieldOrDatumDef:t,scaleType:n,size:r,values:i}=e;var o;if(!i&&!FY(n)&&"log"!==n){if(uB(t)){if(vN(t.bin))return{signal:`ceil(${r.signal}/10)`};if(t.timeUnit&&PP(["month","hours","day","quarter"],null===(o=tY(t.timeUnit))||void 0===o?void 0:o.unit))return}return{signal:`ceil(${r.signal}/40)`}}}({fieldOrDatumDef:i,scaleType:o,size:l,values:r.values})},title:e=>{let{axis:t,model:n,channel:r}=e;if(void 0!==t.title)return t.title;const i=Eq(n,r);if(void 0!==i)return i;const o=n.typedFieldDef(r),a="x"===r?"x2":"y2",s=n.fieldDef(a);return qN(o?[tB(o)]:[],uB(s)?[tB(s)]:[])},values:e=>{let{axis:t,fieldOrDatumDef:n}=e;return function(e,t){const n=e.values;return I(n)?UB(t,n):CN(n)?n:void 0}(t,n)},zindex:e=>{let{axis:t,fieldOrDatumDef:n,mark:r}=e;var i;return null!==(i=t.zindex)&&void 0!==i?i:function(e,t){return"rect"===e&&MB(t)?1:0}(r,n)}};function Tq(e){return`(((${e.signal} % 360) + 360) % 360)`}function Rq(e,t,n,r){if(void 0!==e){if("x"===n){if(CN(e)){const n=Tq(e);return{signal:`(45 < ${n} && ${n} < 135) || (225 < ${n} && ${n} < 315) ? "middle" :(${n} <= 45 || 315 <= ${n}) === ${CN(t)?`(${t.signal} === "top")`:"top"===t} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(CN(t)){const n=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${n} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==("top"===t)?"bottom":"top"}if(CN(e)){const n=Tq(e);return{signal:`${n} <= 45 || 315 <= ${n} || (135 <= ${n} && ${n} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${n} && ${n} <= 135) === ${CN(t)?`(${t.signal} === "left")`:"left"===t} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(CN(t)){const n=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${n} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==("left"===t)?"top":"bottom"}}function Dq(e,t,n){if(void 0===e)return;const r="x"===n,i=r?0:90,o=r?"bottom":"left";if(CN(e)){const n=Tq(e);return{signal:`(${i?`(${n} + 90)`:n} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${n} && ${n} < ${180+i}) === ${CN(t)?`(${t.signal} === "${o}")`:t===o} ? "left" : "right"`}}if((e+i)%180==0)return r?null:"center";if(CN(t)){const n=i<e&&e<180+i?"===":"!==";return{signal:`${t.signal} ${n} "${o}" ? "left" : "right"`}}return(i<e&&e<180+i)==(t===o)?"left":"right"}function Eq(e,t){const n="x"===t?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),o=r?r.title:void 0,a=i?i.title:void 0;return o&&a?GN(o,a):o||a||(void 0!==o?o:void 0!==a?a:void 0)}class Aq extends ZU{constructor(e,t){super(e),this.transform=t,this._dependentFields=pq(this.transform.calculate)}clone(){return new Aq(null,RP(this.transform))}static parseAllForSortIndex(e,t){return t.forEachFieldDef(((t,n)=>{if(yB(t)&&Zz(t.sort)){const{field:r,timeUnit:i}=t,o=t.sort,a=o.map(((e,t)=>`${pY({field:r,timeUnit:i,equal:e})} ? ${t} : `)).join("")+o.length;e=new Aq(e,{calculate:a,as:Lq(t,n,{forAs:!0})})}})),e}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${LP(this.transform)}`}}function Lq(e,t,n){return SB(e,Object.assign({prefix:t,suffix:"sort_index"},null!=n?n:{}))}function jq(e,t){return PP(["top","bottom"],t)?"column":PP(["left","right"],t)||"row"===e?"row":"column"}function Pq(e,t,n,r){const i="row"===r?n.headerRow:"column"===r?n.headerColumn:n.headerFacet;return oI((t||{})[e],i[e],n.header[e])}function Iq(e,t,n,r){const i={};for(const o of e){const e=Pq(o,t||{},n,r);void 0!==e&&(i[o]=e)}return i}const Hq=["row","column"],Nq=["header","footer"];function Fq(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:o,titleAngle:a,titleOrient:s}=Iq(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),l=jq(t,s),u=lI(a);return{name:`${t}-title`,type:"group",role:`${l}-title`,title:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:n},"row"===t?{orient:"left"}:{}),{style:"guide-title"}),zq(u,l)),Yq(l,u,o)),Gq(r,i,t,zW,FW))}}function Yq(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"middle";switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=Dq(t,"row"===e?"left":"top","row"===e?"y":"x");return r?{align:r}:{}}function zq(e,t){const n=Rq(e,"row"===t?"left":"top","row"===t?"y":"x",!0);return n?{baseline:n}:{}}function Bq(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of Nq)if(n[i])for(const o of n[i]){const a=Uq(e,t,i,n,o);null!=a&&r.push(a)}return r}function Wq(e,t){var n;const{sort:r}=e;return Kz(r)?{field:SB(r,{expr:"datum"}),order:null!==(n=r.order)&&void 0!==n?n:"ascending"}:I(r)?{field:Lq(e,t,{expr:"datum"}),order:"ascending"}:{field:SB(e,{expr:"datum"}),order:null!=r?r:"ascending"}}function $q(e,t,n){const{format:r,formatType:i,labelAngle:o,labelAnchor:a,labelOrient:s,labelExpr:l}=Iq(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),u=Iz({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,c=jq(t,s);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:{signal:l?nI(nI(l,"datum.label",u),"datum.value",SB(e,{expr:"parent"})):u}},"row"===t?{orient:"left"}:{}),{style:"guide-label",frame:"group"}),zq(o,c)),Yq(c,o,a)),Gq(n,e,t,BW,YW))}function Uq(e,t,n,r,i){if(i){let o=null;const{facetFieldDef:a}=r,s=e.config?e.config:void 0;if(a&&i.labels){const{labelOrient:e}=Iq(["labelOrient"],a.header,s,t);("row"===t&&!PP(["top","bottom"],e)||"column"===t&&!PP(["left","right"],e))&&(o=$q(a,t,s))}const l=UK(e)&&!Xz(e.facet),u=i.axes,c=(null==u?void 0:u.length)>0;if(o||c){const s="row"===t?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`},r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:Wq(a,t)}:{}),c&&l?{from:{data:e.getName(`facet_domain_${t}`)}}:{}),o?{title:o}:{}),i.sizeSignal?{encode:{update:{[s]:i.sizeSignal}}}:{}),c?{axes:u}:{})}}return null}const Vq={column:{start:0,end:1},row:{start:1,end:0}};function qq(e,t){return Vq[t][e]}function Gq(e,t,n,r,i){const o={};for(const a of r){if(!i[a])continue;const r=Pq(a,null==t?void 0:t.header,e,n);void 0!==r&&(o[i[a]]=r)}return o}function Kq(e){return[...Zq(e,"width"),...Zq(e,"height"),...Zq(e,"childWidth"),...Zq(e,"childHeight")]}function Zq(e,t){const n="width"===t?"x":"y",r=e.component.layoutSize.get(t);if(!r||"merged"===r)return[];const i=e.getSizeSignalRef(t).signal;if("step"===r){const t=e.getScaleComponent(n);if(t){const r=t.get("type"),o=t.get("range");if(FY(r)&&TN(o)){const r=e.scaleName(n);return UK(e.parent)&&"independent"===e.parent.component.resolve.scale[n]?[Xq(r,o)]:[Xq(r,o),{name:i,update:Jq(r,t,`domain('${r}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}if("container"==r){const t=i.endsWith("width"),n=t?"containerSize()[0]":"containerSize()[1]",r=`isFinite(${n}) ? ${n} : ${s$(e.config.view,t?"width":"height")}`;return[{name:i,init:r,on:[{update:r,events:"window:resize"}]}]}return[{name:i,value:r}]}function Xq(e,t){const n=`${e}_step`;return CN(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function Jq(e,t,n){const r=t.get("type"),i=t.get("padding"),o=oI(t.get("paddingOuter"),i);let a=t.get("paddingInner");return a="band"===r?void 0!==a?a:i:1,`bandspace(${n}, ${YN(a)}, ${YN(o)}) * ${e}_step`}function Qq(e){return"childWidth"===e?"width":"childHeight"===e?"height":e}function eG(e,t){return $P(e).reduce(((n,r)=>{const i=e[r];return Object.assign(Object.assign({},n),mV(t,i,r,(e=>HN(e.value))))}),{})}function tG(e,t){if(UK(t))return"theta"===e?"independent":"shared";if(qK(t))return"shared";if(VK(t))return FH(e)||"theta"===e||"radius"===e?"independent":"shared";throw new Error("invalid model type for resolve")}function nG(e,t){const n=e.scale[t],r=FH(t)?"axis":"legend";return"independent"===n?("shared"===e[r][t]&&HF(function(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}(t)),"independent"):e[r][t]||"shared"}const rG=Object.assign(Object.assign({},UW),{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),iG=$P(rG);class oG extends DU{}const aG={symbols:function(e,t){let{fieldOrDatumDef:n,model:r,channel:i,legendCmpt:o,legendType:a}=t;var s,l,u,c,d,h,f,p;if("symbol"!==a)return;const{markDef:m,encoding:g,config:y,mark:v}=r,b=m.filled&&"trail"!==v;let w=Object.assign(Object.assign({},function(e,t,n){for(const r of n){const n=WN(r,t.markDef,t.config);void 0!==n&&(e[r]=HN(n))}return e}({},r,kz)),kV(r,{filled:b}));const _=null!==(s=o.get("symbolOpacity"))&&void 0!==s?s:y.legend.symbolOpacity,k=null!==(l=o.get("symbolFillColor"))&&void 0!==l?l:y.legend.symbolFillColor,S=null!==(u=o.get("symbolStrokeColor"))&&void 0!==u?u:y.legend.symbolStrokeColor,M=void 0===_?null!==(c=sG(g.opacity))&&void 0!==c?c:m.opacity:void 0;if(w.fill)if("fill"===i||b&&i===TI)delete w.fill;else if(w.fill.field)k?delete w.fill:(w.fill=HN(null!==(d=y.legend.symbolBaseFillColor)&&void 0!==d?d:"black"),w.fillOpacity=HN(null!=M?M:1));else if(I(w.fill)){const e=null!==(p=null!==(f=lG(null!==(h=g.fill)&&void 0!==h?h:g.color))&&void 0!==f?f:m.fill)&&void 0!==p?p:b&&m.color;e&&(w.fill=HN(e))}if(w.stroke)if("stroke"===i||!b&&i===TI)delete w.stroke;else if(w.stroke.field||S)delete w.stroke;else if(I(w.stroke)){const e=oI(lG(g.stroke||g.color),m.stroke,b?m.color:void 0);e&&(w.stroke={value:e})}if(i!==jI){const e=uB(n)&&cG(0,o,n);e?w.opacity=[Object.assign({test:e},HN(null!=M?M:1)),HN(y.legend.unselectedOpacity)]:M&&(w.opacity=HN(M))}return w=Object.assign(Object.assign({},w),e),WP(w)?void 0:w},gradient:function(e,t){let{model:n,legendType:r,legendCmpt:i}=t;var o;if("gradient"!==r)return;const{config:a,markDef:s,encoding:l}=n;let u={};const c=void 0===(null!==(o=i.get("gradientOpacity"))&&void 0!==o?o:a.legend.gradientOpacity)?sG(l.opacity)||s.opacity:void 0;return c&&(u.opacity=HN(c)),u=Object.assign(Object.assign({},u),e),WP(u)?void 0:u},labels:function(e,t){let{fieldOrDatumDef:n,model:r,channel:i,legendCmpt:o}=t;const a=r.legend(i)||{},s=r.config,l=uB(n)?cG(0,o,n):void 0,u=l?[{test:l,value:1},{value:s.legend.unselectedOpacity}]:void 0,{format:c,formatType:d}=a;let h;jz(d)?h=Nz({fieldOrDatumDef:n,field:"datum.value",format:c,formatType:d,config:s}):void 0===c&&void 0===d&&s.customFormatTypes&&("quantitative"===n.type&&s.numberFormatType?h=Nz({fieldOrDatumDef:n,field:"datum.value",format:s.numberFormat,formatType:s.numberFormatType,config:s}):"temporal"===n.type&&s.timeFormatType&&uB(n)&&void 0===n.timeUnit&&(h=Nz({fieldOrDatumDef:n,field:"datum.value",format:s.timeFormat,formatType:s.timeFormatType,config:s})));const f=Object.assign(Object.assign(Object.assign({},u?{opacity:u}:{}),h?{text:h}:{}),e);return WP(f)?void 0:f},entries:function(e,t){let{legendCmpt:n}=t;const r=n.get("selections");return(null==r?void 0:r.length)?Object.assign(Object.assign({},e),{fill:{value:"transparent"}}):e}};function sG(e){return uG(e,((e,t)=>Math.max(e,t.value)))}function lG(e){return uG(e,((e,t)=>oI(e,t.value)))}function uG(e,t){return function(e){const t=null==e?void 0:e.condition;return!!t&&(I(t)||gB(t))}(e)?te(e.condition).reduce(t,e.value):gB(e)?e.value:void 0}function cG(e,t,n){const r=t.get("selections");if(!(null==r?void 0:r.length))return;const i=xe(n.field);return r.map((e=>`(!length(data(${xe(GP(e)+rq)})) || (${e}[${i}] && indexof(${e}[${i}], datum.value) >= 0))`)).join(" || ")}const dG={direction:e=>{let{direction:t}=e;return t},format:e=>{let{fieldOrDatumDef:t,legend:n,config:r}=e;const{format:i,formatType:o}=n;return Fz(t,t.type,i,o,r,!1)},formatType:e=>{let{legend:t,fieldOrDatumDef:n,scaleType:r}=e;const{formatType:i}=t;return Yz(i,n,r)},gradientLength:e=>{var t,n;const{legend:r,legendConfig:i}=e;return null!==(n=null!==(t=r.gradientLength)&&void 0!==t?t:i.gradientLength)&&void 0!==n?n:function(e){let{legendConfig:t,model:n,direction:r,orient:i,scaleType:o}=e;const{gradientHorizontalMaxLength:a,gradientHorizontalMinLength:s,gradientVerticalMaxLength:l,gradientVerticalMinLength:u}=t;if(zY(o))return"horizontal"===r?"top"===i||"bottom"===i?fG(n,"width",s,a):s:fG(n,"height",u,l)}(e)},labelOverlap:e=>{let{legend:t,legendConfig:n,scaleType:r}=e;var i,o;return null!==(o=null!==(i=t.labelOverlap)&&void 0!==i?i:n.labelOverlap)&&void 0!==o?o:function(e){if(PP(["quantile","threshold","log","symlog"],e))return"greedy"}(r)},symbolType:e=>{let{legend:t,markDef:n,channel:r,encoding:i}=e;var o;return null!==(o=t.symbolType)&&void 0!==o?o:function(e,t,n,r){var i;if("shape"!==t){const e=null!==(i=lG(n))&&void 0!==i?i:r;if(e)return e}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}(n.type,r,i.shape,n.shape)},title:e=>{let{fieldOrDatumDef:t,config:n}=e;return DB(t,n,{allowDisabling:!0})},type:e=>{let{legendType:t,scaleType:n,channel:r}=e;if(JI(r)&&zY(n)){if("gradient"===t)return}else if("symbol"===t)return;return t},values:e=>{let{fieldOrDatumDef:t,legend:n}=e;return function(e,t){const n=e.values;return I(n)?UB(t,n):CN(n)?n:void 0}(n,t)}};function hG(e){let{legendConfig:t,legendType:n,orient:r,legend:i}=e;var o,a;return null!==(a=null!==(o=i.direction)&&void 0!==o?o:t[n?"gradientDirection":"symbolDirection"])&&void 0!==a?a:function(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return"gradient"===t?"horizontal":void 0}}(r,n)}function fG(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function pG(e){const t=$K(e)?function(e){const{encoding:t}=e,n={};for(const r of[TI,...$W]){const i=IB(t[r]);i&&e.getScaleComponent(r)&&(r===EI&&uB(i)&&i.type===SY||(n[r]=gG(e,r)))}return n}(e):function(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){pG(r);for(const i of $P(r.component.legends))n.legend[i]=nG(e.component.resolve,i),"shared"===n.legend[i]&&(t[i]=yG(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of $P(t))for(const t of e.children)t.component.legends[r]&&"shared"===n.legend[r]&&delete t.component.legends[r];return t}(e);return e.component.legends=t,t}function mG(e,t,n,r){switch(t){case"disable":return void 0!==n;case"values":return!!(null==n?void 0:n.values);case"title":if("title"===t&&e===(null==r?void 0:r.title))return!0}return e===(n||{})[t]}function gG(e,t){var n,r,i;let o=e.legend(t);const{markDef:a,encoding:s,config:l}=e,u=l.legend,c=new oG({},function(e,t){const n=e.scaleName(t);if("trail"===e.mark){if("color"===t)return{stroke:n};if("size"===t)return{strokeWidth:n}}return"color"===t?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}(e,t));!function(e,t,n){var r,i,o,a;const s=null===(r=e.fieldDef(t))||void 0===r?void 0:r.field;for(const r of UP(null!==(i=e.component.selection)&&void 0!==i?i:{})){const e=null!==(o=r.project.hasField[s])&&void 0!==o?o:r.project.hasChannel[t];if(e&&KV.defined(r)){const t=null!==(a=n.get("selections"))&&void 0!==a?a:[];t.push(r.name),n.set("selections",t,!1),e.hasLegend=!0}}}(e,t,c);const d=void 0!==o?!o:u.disable;if(c.set("disable",d,void 0!==o),d)return c;o=o||{};const h=e.getScaleComponent(t).get("type"),f=IB(s[t]),p=uB(f)?null===(n=tY(f.timeUnit))||void 0===n?void 0:n.unit:void 0,m=o.orient||l.legend.orient||"right",g=function(e){const{legend:t}=e;return oI(t.type,function(e){let{channel:t,timeUnit:n,scaleType:r}=e;if(JI(t)){if(PP(["quarter","month","day"],n))return"symbol";if(zY(r))return"gradient"}return"symbol"}(e))}({legend:o,channel:t,timeUnit:p,scaleType:h}),y={legend:o,channel:t,model:e,markDef:a,encoding:s,fieldOrDatumDef:f,legendConfig:u,config:l,scaleType:h,orient:m,legendType:g,direction:hG({legend:o,legendType:g,orient:m,legendConfig:u})};for(const n of iG){if("gradient"===g&&n.startsWith("symbol")||"symbol"===g&&n.startsWith("gradient"))continue;const r=n in dG?dG[n](y):o[n];if(void 0!==r){const i=mG(r,n,o,e.fieldDef(t));(i||void 0===l.legend[n])&&c.set(n,r,i)}}const v=null!==(r=null==o?void 0:o.encoding)&&void 0!==r?r:{},b=c.get("selections"),w={},_={fieldOrDatumDef:f,model:e,channel:t,legendCmpt:c,legendType:g};for(const t of["labels","legend","title","symbols","gradient","entries"]){const n=eG(null!==(i=v[t])&&void 0!==i?i:{},e),r=t in aG?aG[t](n,_):n;void 0===r||WP(r)||(w[t]=Object.assign(Object.assign(Object.assign({},(null==b?void 0:b.length)&&uB(f)?{name:`${GP(f.field)}_legend_${t}`}:{}),(null==b?void 0:b.length)?{interactive:!!b}:{}),{update:r}))}return WP(w)||c.set("encode",w,!!(null==o?void 0:o.encoding)),c}function yG(e,t){var n,r,i,o;if(!e)return t.clone();const a=e.getWithExplicit("orient"),s=t.getWithExplicit("orient");if(a.explicit&&s.explicit&&a.value!==s.value)return;let l=!1;for(const n of iG){const r=PU(e.getWithExplicit(n),t.getWithExplicit(n),n,"legend",((e,t)=>{switch(n){case"symbolType":return r=e,"circle"===(i=t).value?i:r;case"title":return KN(e,t);case"type":return l=!0,AU("symbol")}var r,i;return jU(e,t,n,"legend")}));e.setWithExplicit(n,r)}return l&&((null===(r=null===(n=e.implicit)||void 0===n?void 0:n.encode)||void 0===r?void 0:r.gradient)&&ZP(e.implicit,["encode","gradient"]),(null===(o=null===(i=e.explicit)||void 0===i?void 0:i.encode)||void 0===o?void 0:o.gradient)&&ZP(e.explicit,["encode","gradient"])),e}function vG(e){const t=e.component.legends,n={};for(const r of $P(t)){const i=e.getScaleComponent(r),o=AP(i.get("domains"));if(n[o])for(const e of n[o])yG(e,t[r])||n[o].push(t[r]);else n[o]=[t[r].clone()]}const r=UP(n).flat().map((t=>function(e,t){var n,r,i;const o=e.combine(),{disable:a,labelExpr:s,selections:l}=o,u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(o,["disable","labelExpr","selections"]);if(!a){if(!1===t.aria&&null==u.aria&&(u.aria=!1),null===(n=u.encode)||void 0===n?void 0:n.symbols){const e=u.encode.symbols.update;!e.fill||"transparent"===e.fill.value||e.stroke||u.stroke||(e.stroke={value:"transparent"});for(const t of $W)u[t]&&delete e[t]}if(u.title||delete u.title,void 0!==s){let e=s;(null===(i=null===(r=u.encode)||void 0===r?void 0:r.labels)||void 0===i?void 0:i.update)&&CN(u.encode.labels.update.text)&&(e=nI(s,"datum.label",u.encode.labels.update.text.signal)),function(e,t,n,r){var i,o,a,s,l;null!==(i=e.encode)&&void 0!==i||(e.encode={}),null!==(o=(s=e.encode)[t])&&void 0!==o||(s[t]={}),null!==(a=(l=e.encode[t]).update)&&void 0!==a||(l.update={}),e.encode[t].update.text=r}(u,"labels",0,{signal:e})}return u}}(t,e.config))).filter((e=>void 0!==e));return r}function bG(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map((e=>e.signal)).join(", ")}]`},o=t.data.reduce(((t,n)=>{const r=CN(n)?n.signal:`data('${e.lookupDataSource(n)}')`;return PP(t,r)||t.push(r),t}),[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[Object.assign({name:r,size:i,fit:{signal:o.length>1?`[${o.join(", ")}]`:o[0]}},n)]}return[Object.assign(Object.assign({name:r},{translate:{signal:"[width / 2, height / 2]"}}),n)]}const wG=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class _G extends DU{constructor(e,t,n,r){super(Object.assign({},t),{name:e}),this.specifiedProjection=t,this.size=n,this.data=r,this.merged=!1}get isFit(){return!!this.data}}function kG(e){e.component.projection=$K(e)?function(e){var t;if(e.hasProjection){const n=MN(e.specifiedProjection),r=!(n&&(null!=n.scale||null!=n.translate)),i=r?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,o=r?function(e){const t=[],{encoding:n}=e;for(const r of[[xI,MI],[CI,OI]])(IB(n[r[0]])||IB(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(EI)&&e.typedFieldDef(EI).type===SY&&t.push({signal:e.getName(`geojson_${t.length}`)}),0===t.length&&t.push(e.requestDataName($U.Main)),t}(e):void 0,a=new _G(e.projectionName(!0),Object.assign(Object.assign({},null!==(t=MN(e.config.projection))&&void 0!==t?t:{}),null!=n?n:{}),i,o);return a.get("type")||a.set("type","equalEarth",!1),a}}(e):function(e){if(0===e.children.length)return;let t;for(const t of e.children)kG(t);const n=HP(e.children,(e=>{const n=e.component.projection;if(n){if(t){const e=function(e,t){const n=HP(wG,(n=>!fe(e.explicit,n)&&!fe(t.explicit,n)||!!(fe(e.explicit,n)&&fe(t.explicit,n)&&TP(e.get(n),t.get(n)))));if(TP(e.size,t.size)){if(n)return e;if(TP(e.explicit,{}))return t;if(TP(t.explicit,{}))return e}return null}(t,n);return e&&(t=e),!!e}return t=n,!0}return!0}));if(t&&n){const n=e.projectionName(!0),r=new _G(n,t.specifiedProjection,t.size,RP(t.data));for(const t of e.children){const e=t.component.projection;e&&(e.isFit&&r.data.push(...t.component.projection.data),t.renameProjection(e.get("name"),n),e.merged=!0)}return r}}(e)}function SG(e,t){return`${yN(e)}_${t}`}function MG(e,t,n){var r;const i=SG(null!==(r=YB(n,void 0))&&void 0!==r?r:{},t);return e.getName(`${i}_bins`)}function xG(e,t,n){let r,i;r=function(e){return"as"in e}(e)?_e(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:[SB(e,{forAs:!0}),SB(e,{binSuffix:"end",forAs:!0})];const o=Object.assign({},YB(t,void 0)),a=SG(o,e.field),{signal:s,extentSignal:l}=function(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}(n,a);if(_N(o.extent)){const e=o.extent;i=yq(n,e.param,e),delete o.extent}return{key:a,binComponent:Object.assign(Object.assign(Object.assign({bin:o,field:e.field,as:[r]},s?{signal:s}:{}),l?{extentSignal:l}:{}),i?{span:i}:{})}}class OG extends ZU{constructor(e,t){super(e),this.bins=t}clone(){return new OG(null,RP(this.bins))}static makeFromEncoding(e,t){const n=t.reduceFieldDef(((e,n,r)=>{if(mB(n)&&vN(n.bin)){const{key:i,binComponent:o}=xG(n,n.bin,t);e[i]=Object.assign(Object.assign(Object.assign({},o),e[i]),function(e,t,n,r){var i,o;if(VB(t,n)){const a=$K(e)&&null!==(o=null!==(i=e.axis(n))&&void 0!==i?i:e.legend(n))&&void 0!==o?o:{},s=SB(t,{expr:"datum"}),l=SB(t,{expr:"datum",binSuffix:"end"});return{formulaAs:SB(t,{binSuffix:"range",forAs:!0}),formula:$z(s,l,a.format,a.formatType,r)}}return{}}(t,n,r,t.config))}return e}),{});return WP(n)?null:new OG(e,n)}static makeFromTransform(e,t,n){const{key:r,binComponent:i}=xG(t,t.bin,n);return new OG(e,{[r]:i})}merge(e,t){for(const n of $P(e.bins))n in this.bins?(t(e.bins[n].signal,this.bins[n].signal),this.bins[n].as=FP([...this.bins[n].as,...e.bins[n].as],LP)):this.bins[n]=e.bins[n];for(const t of e.children)e.removeChild(t),t.parent=this;e.remove()}producedFields(){return new Set(UP(this.bins).map((e=>e.as)).flat(2))}dependentFields(){return new Set(UP(this.bins).map((e=>e.field)))}hash(){return`Bin ${LP(this.bins)}`}assemble(){return UP(this.bins).flatMap((e=>{const t=[],[n,...r]=e.as,i=e.bin,{extent:o}=i,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(i,["extent"]),s=Object.assign(Object.assign(Object.assign({type:"bin",field:tI(e.field),as:n,signal:e.signal},_N(o)?{extent:null}:{extent:o}),e.span?{span:{signal:`span(${e.span})`}}:{}),a);!o&&e.extentSignal&&(t.push({type:"extent",field:tI(e.field),signal:e.extentSignal}),s.extent={signal:e.extentSignal}),t.push(s);for(const e of r)for(let r=0;r<2;r++)t.push({type:"formula",expr:SB({field:n[r]},{expr:"datum"}),as:e[r]});return e.formula&&t.push({type:"formula",expr:e.formula,as:e.formulaAs}),t}))}}class CG extends ZU{constructor(e,t,n){super(e),this.dimensions=t,this.measures=n}clone(){return new CG(null,new Set(this.dimensions),RP(this.measures))}get groupBy(){return this.dimensions}static makeFromEncoding(e,t){let n=!1;t.forEachFieldDef((e=>{e.aggregate&&(n=!0)}));const r={},i=new Set;return n?(t.forEachFieldDef(((e,n)=>{var o,a,s,l;const{aggregate:u,field:c}=e;if(u)if("count"===u)null!==(o=r["*"])&&void 0!==o||(r["*"]={}),r["*"].count=new Set([SB(e,{forAs:!0})]);else{if(cN(u)||dN(u)){const e=cN(u)?"argmin":"argmax",t=u[e];null!==(a=r[t])&&void 0!==a||(r[t]={}),r[t][e]=new Set([SB({op:e,field:t},{forAs:!0})])}else null!==(s=r[c])&&void 0!==s||(r[c]={}),r[c][u]=new Set([SB(e,{forAs:!0})]);rN(n)&&"unaggregated"===t.scaleDomain(n)&&(null!==(l=r[c])&&void 0!==l||(r[c]={}),r[c].min=new Set([SB({field:c,aggregate:"min"},{forAs:!0})]),r[c].max=new Set([SB({field:c,aggregate:"max"},{forAs:!0})]))}else!function(e,t,n,r){var i;const o=$K(r)?r.encoding[gH(t)]:void 0;if(mB(n)&&$K(r)&&oB(n,o,r.markDef,r.config))e.add(SB(n,{})),e.add(SB(n,{suffix:"end"})),n.bin&&VB(n,t)&&e.add(SB(n,{binSuffix:"range"}));else if(t in KI){const n=function(e){switch(e){case MI:return"y";case OI:return"y2";case xI:return"x";case CI:return"x2"}}(t);e.add(r.getName(n))}else e.add(SB(n));yB(n)&&function(e){return H(e)&&"field"in e}(null===(i=n.scale)||void 0===i?void 0:i.range)&&e.add(n.scale.range.field)}(i,n,e,t)})),i.size+$P(r).length===0?null:new CG(e,i,r)):null}static makeFromTransform(e,t){var n,r,i;const o=new Set,a={};for(const e of t.aggregate){const{op:t,field:i,as:o}=e;t&&("count"===t?(null!==(n=a["*"])&&void 0!==n||(a["*"]={}),a["*"].count=new Set([o||SB(e,{forAs:!0})])):(null!==(r=a[i])&&void 0!==r||(a[i]={}),a[i][t]=new Set([o||SB(e,{forAs:!0})])))}for(const e of null!==(i=t.groupby)&&void 0!==i?i:[])o.add(e);return o.size+$P(a).length===0?null:new CG(e,o,a)}merge(e){return function(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}(this.dimensions,e.dimensions)?(function(e,t){var n;for(const r of $P(t)){const i=t[r];for(const t of $P(i))r in e?e[r][t]=new Set([...null!==(n=e[r][t])&&void 0!==n?n:[],...i[t]]):e[r]={[t]:i[t]}}}(this.measures,e.measures),!0):(function(){jF.debug(...arguments)}("different dimensions, cannot merge"),!1)}addDimensions(e){e.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...$P(this.measures)])}producedFields(){const e=new Set;for(const t of $P(this.measures))for(const n of $P(this.measures[t])){const r=this.measures[t][n];0===r.size?e.add(`${n}_${t}`):r.forEach(e.add,e)}return e}hash(){return`Aggregate ${LP({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const e=[],t=[],n=[];for(const r of $P(this.measures))for(const i of $P(this.measures[r]))for(const o of this.measures[r][i])n.push(o),e.push(i),t.push("*"===r?null:tI(r));return{type:"aggregate",groupby:[...this.dimensions].map(tI),ops:e,fields:t,as:n}}}class TG extends ZU{constructor(e,t,n,r){super(e),this.model=t,this.name=n,this.data=r;for(const e of eH){const n=t.facet[e];if(n){const{bin:r,sort:i}=n;this[e]=Object.assign({name:t.getName(`${e}_domain`),fields:[SB(n),...vN(r)?[SB(n,{binSuffix:"end"})]:[]]},Kz(i)?{sortField:i}:I(i)?{sortIndexField:Lq(n,e)}:{})}}this.childModel=t.child}hash(){let e="Facet";for(const t of eH)this[t]&&(e+=` ${t.charAt(0)}:${LP(this[t])}`);return e}get fields(){var e;const t=[];for(const n of eH)(null===(e=this[n])||void 0===e?void 0:e.fields)&&t.push(...this[n].fields);return t}dependentFields(){const e=new Set(this.fields);for(const t of eH)this[t]&&(this[t].sortField&&e.add(this[t].sortField.field),this[t].sortIndexField&&e.add(this[t].sortIndexField));return e}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const e={};for(const t of NH){const n=this.childModel.component.scales[t];if(n&&!n.merged){const r=n.get("type"),i=n.get("range");if(FY(r)&&TN(i)){const n=bK(wK(this.childModel,t));n?e[t]=n:HF(eF(t))}}}return e}assembleRowColumnHeaderData(e,t,n){const r={row:"y",column:"x",facet:void 0}[e],i=[],o=[],a=[];r&&n&&n[r]&&(t?(i.push(`distinct_${n[r]}`),o.push("max")):(i.push(n[r]),o.push("distinct")),a.push(`distinct_${n[r]}`));const{sortField:s,sortIndexField:l}=this[e];if(s){const{op:e=Uz,field:t}=s;i.push(t),o.push(e),a.push(SB(s,{forAs:!0}))}else l&&(i.push(l),o.push("max"),a.push(l));return{name:this[e].name,source:null!=t?t:this.data,transform:[Object.assign({type:"aggregate",groupby:this[e].fields},i.length?{fields:i,ops:o,as:a}:{})]}}assembleFacetHeaderData(e){var t,n;const{columns:r}=this.model.layout,{layoutHeaders:i}=this.model.component,o=[],a={};for(const e of Hq){for(const r of Nq){const o=null!==(t=i[e]&&i[e][r])&&void 0!==t?t:[];for(const t of o)if((null===(n=t.axes)||void 0===n?void 0:n.length)>0){a[e]=!0;break}}if(a[e]){const t=`length(data("${this.facet.name}"))`,n="row"===e?r?{signal:`ceil(${t} / ${r})`}:1:r?{signal:`min(${t}, ${r})`}:{signal:t};o.push({name:`${this.facet.name}_${e}`,transform:[{type:"sequence",start:0,stop:n}]})}}const{row:s,column:l}=a;return(s||l)&&o.unshift(this.assembleRowColumnHeaderData("facet",null,e)),o}assemble(){var e,t;const n=[];let r=null;const i=this.getChildIndependentFieldsWithStep(),{column:o,row:a,facet:s}=this;if(o&&a&&(i.x||i.y)){r=`cross_${this.column.name}_${this.row.name}`;const o=[].concat(null!==(e=i.x)&&void 0!==e?e:[],null!==(t=i.y)&&void 0!==t?t:[]),a=o.map((()=>"distinct"));n.push({name:r,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:o,ops:a}]})}for(const e of[hI,dI])this[e]&&n.push(this.assembleRowColumnHeaderData(e,r,i));if(s){const e=this.assembleFacetHeaderData(i);e&&n.push(...e)}return n}}function RG(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function DG(e){const t={};return OP(e.filter,(e=>{var n;if(dY(e)){let r=null;rY(e)?r=PN(e.equal):oY(e)?r=PN(e.lte):iY(e)?r=PN(e.lt):aY(e)?r=PN(e.gt):sY(e)?r=PN(e.gte):lY(e)?r=e.range[0]:uY(e)&&(r=(null!==(n=e.oneOf)&&void 0!==n?n:e.in)[0]),r&&(NF(r)?t[e.field]="date":we(r)?t[e.field]="number":_e(r)&&(t[e.field]="string")),e.timeUnit&&(t[e.field]="date")}})),t}class EG extends ZU{constructor(e,t){super(e),this._parse=t}clone(){return new EG(null,RP(this._parse))}hash(){return`Parse ${LP(this._parse)}`}static makeExplicit(e,t,n){var r;let i={};const o=t.data;return!YU(o)&&(null===(r=null==o?void 0:o.format)||void 0===r?void 0:r.parse)&&(i=o.format.parse),this.makeWithAncestors(e,i,{},n)}static makeWithAncestors(e,t,n,r){for(const e of $P(n)){const t=r.getWithExplicit(e);void 0!==t.value&&(t.explicit||t.value===n[e]||"derived"===t.value||"flatten"===n[e]?delete n[e]:HF(oF(e,n[e],t.value)))}for(const e of $P(t)){const n=r.get(e);void 0!==n&&(n===t[e]?delete t[e]:HF(oF(e,t[e],n)))}const i=new DU(t,n);r.copyAll(i);const o={};for(const e of $P(i.combine())){const t=i.get(e);null!==t&&(o[e]=t)}return 0===$P(o).length||r.parseNothing?null:new EG(e,o)}get parse(){return this._parse}merge(e){this._parse=Object.assign(Object.assign({},this._parse),e.parse),e.remove()}assembleFormatParse(){const e={};for(const t of $P(this._parse)){const n=this._parse[t];1===iI(t)&&(e[t]=n)}return e}producedFields(){return new Set($P(this._parse))}dependentFields(){return new Set($P(this._parse))}assembleTransforms(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return $P(this._parse).filter((t=>!e||iI(t)>1)).map((e=>{const t=function(e,t){const n=JP(e);return"number"===t?`toNumber(${n})`:"boolean"===t?`toBoolean(${n})`:"string"===t?`toString(${n})`:"date"===t?`toDate(${n})`:"flatten"===t?n:t.startsWith("date:")?`timeParse(${n},'${RG(t.slice(5,t.length))}')`:t.startsWith("utc:")?`utcParse(${n},'${RG(t.slice(4,t.length))}')`:(HF(`Unrecognized parse "${t}".`),null)}(e,this._parse[e]);return t?{type:"formula",expr:t,as:rI(e)}:null})).filter((e=>null!==e))}}class AG extends ZU{clone(){return new AG(null)}constructor(e){super(e)}dependentFields(){return new Set}producedFields(){return new Set([VW])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:VW}}}class LG extends ZU{constructor(e,t){super(e),this.params=t}clone(){return new LG(null,this.params)}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${LP(this.params)}`}assemble(){return Object.assign({type:"graticule"},!0===this.params?{}:this.params)}}class jG extends ZU{constructor(e,t){super(e),this.params=t}clone(){return new jG(null,this.params)}dependentFields(){return new Set}producedFields(){var e;return new Set([null!==(e=this.params.as)&&void 0!==e?e:"data"])}hash(){return`Hash ${LP(this.params)}`}assemble(){return Object.assign({type:"sequence"},this.params)}}class PG extends ZU{constructor(e){let t;if(super(null),null!=e||(e={name:"source"}),YU(e)||(t=e.format?Object.assign({},EP(e.format,["parse"])):{}),NU(e))this._data={values:e.values};else if(HU(e)){if(this._data={url:e.url},!t.type){let n=/(?:\.([^.]+))?$/.exec(e.url)[1];PP(["json","csv","tsv","dsv","topojson"],n)||(n="json"),t.type=n}}else BU(e)?this._data={values:[{type:"Sphere"}]}:(FU(e)||YU(e))&&(this._data={});this._generator=YU(e),e.name&&(this._name=e.name),t&&!WP(t)&&(this._data.format=t)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(e){this._name=e}set parent(e){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return Object.assign(Object.assign({name:this._name},this._data),{transform:[]})}}var IG,HG=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n};function NG(e){return e instanceof PG||e instanceof LG||e instanceof jG}class FG{constructor(){IG.set(this,void 0),HG(this,IG,!1,"f")}setModified(){HG(this,IG,!0,"f")}get modifiedFlag(){return function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}(this,IG,"f")}}IG=new WeakMap;class YG extends FG{getNodeDepths(e,t,n){n.set(e,t);for(const r of e.children)this.getNodeDepths(r,t+1,n);return n}optimize(e){const t=[...this.getNodeDepths(e,0,new Map).entries()].sort(((e,t)=>t[1]-e[1]));for(const e of t)this.run(e[0]);return this.modifiedFlag}}class zG extends FG{optimize(e){this.run(e);for(const t of e.children)this.optimize(t);return this.modifiedFlag}}class BG extends zG{mergeNodes(e,t){const n=t.shift();for(const r of t)e.removeChild(r),r.parent=n,r.remove()}run(e){const t=e.children.map((e=>e.hash())),n={};for(let r=0;r<t.length;r++)void 0===n[t[r]]?n[t[r]]=[e.children[r]]:n[t[r]].push(e.children[r]);for(const t of $P(n))n[t].length>1&&(this.setModified(),this.mergeNodes(e,n[t]))}}class WG extends zG{constructor(e){super(),this.requiresSelectionId=e&&cq(e)}run(e){e instanceof AG&&(this.requiresSelectionId&&(NG(e.parent)||e.parent instanceof CG||e.parent instanceof EG)||(this.setModified(),e.remove()))}}class $G extends FG{optimize(e){return this.run(e,new Set),this.modifiedFlag}run(e,t){let n=new Set;e instanceof QU&&(n=e.producedFields(),YP(n,t)&&(this.setModified(),e.removeFormulas(t),0===e.producedFields.length&&e.remove()));for(const r of e.children)this.run(r,new Set([...t,...n]))}}class UG extends zG{constructor(){super()}run(e){e instanceof XU&&!e.isRequired()&&(this.setModified(),e.remove())}}class VG extends YG{run(e){if(!(NG(e)||e.numChildren()>1))for(const t of e.children)if(t instanceof EG)if(e instanceof EG)this.setModified(),e.merge(t);else{if(BP(e.producedFields(),t.dependentFields()))continue;this.setModified(),t.swapWithParent()}}}class qG extends YG{run(e){const t=[...e.children],n=e.children.filter((e=>e instanceof EG));if(e.numChildren()>1&&n.length>=1){const r={},i=new Set;for(const e of n){const t=e.parse;for(const e of $P(t))e in r?r[e]!==t[e]&&i.add(e):r[e]=t[e]}for(const e of i)delete r[e];if(!WP(r)){this.setModified();const n=new EG(e,r);for(const i of t){if(i instanceof EG)for(const e of $P(r))delete i.parse[e];e.removeChild(i),i.parent=n,i instanceof EG&&0===$P(i.parse).length&&i.remove()}}}}}class GG extends YG{run(e){e instanceof XU||e.numChildren()>0||e instanceof TG||e instanceof PG||(this.setModified(),e.remove())}}class KG extends YG{run(e){const t=e.children.filter((e=>e instanceof QU)),n=t.pop();for(const e of t)this.setModified(),n.merge(e)}}class ZG extends YG{run(e){const t=e.children.filter((e=>e instanceof CG)),n={};for(const e of t){const t=LP(e.groupBy);t in n||(n[t]=[]),n[t].push(e)}for(const t of $P(n)){const r=n[t];if(r.length>1){const t=r.pop();for(const n of r)t.merge(n)&&(e.removeChild(n),n.parent=t,n.remove(),this.setModified())}}}}class XG extends YG{constructor(e){super(),this.model=e}run(e){const t=!(NG(e)||e instanceof mq||e instanceof EG||e instanceof AG),n=[],r=[];for(const i of e.children)i instanceof OG&&(t&&!BP(e.producedFields(),i.dependentFields())?n.push(i):r.push(i));if(n.length>0){const t=n.pop();for(const e of n)t.merge(e,this.model.renameSignal.bind(this.model));this.setModified(),e instanceof OG?e.merge(t,this.model.renameSignal.bind(this.model)):t.swapWithParent()}if(r.length>1){const e=r.pop();for(const t of r)e.merge(t,this.model.renameSignal.bind(this.model));this.setModified()}}}class JG extends YG{run(e){const t=[...e.children];if(!IP(t,(e=>e instanceof XU))||e.numChildren()<=1)return;const n=[];let r;for(const i of t)if(i instanceof XU){let t=i;for(;1===t.numChildren();){const[e]=t.children;if(!(e instanceof XU))break;t=e}n.push(...t.children),r?(e.removeChild(i),i.parent=r.parent,r.parent.removeChild(r),r.parent=t,this.setModified()):r=t}else n.push(i);if(n.length){this.setModified();for(const e of n)e.parent.removeChild(e),e.parent=r}}}class QG extends ZU{constructor(e,t){super(e),this.transform=t}clone(){return new QG(null,RP(this.transform))}addDimensions(e){this.transform.groupby=FP(this.transform.groupby.concat(e),(e=>e))}dependentFields(){const e=new Set;return this.transform.groupby&&this.transform.groupby.forEach(e.add,e),this.transform.joinaggregate.map((e=>e.field)).filter((e=>void 0!==e)).forEach(e.add,e),e}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(e){var t;return null!==(t=e.as)&&void 0!==t?t:SB(e)}hash(){return`JoinAggregateTransform ${LP(this.transform)}`}assemble(){const e=[],t=[],n=[];for(const r of this.transform.joinaggregate)t.push(r.op),n.push(this.getDefaultName(r)),e.push(void 0===r.field?null:r.field);const r=this.transform.groupby;return Object.assign({type:"joinaggregate",as:n,ops:t,fields:e},void 0!==r?{groupby:r}:{})}}class eK extends ZU{constructor(e,t){super(e),this._stack=t}clone(){return new eK(null,RP(this._stack))}static makeFromTransform(e,t){const{stack:n,groupby:r,as:i,offset:o="zero"}=t,a=[],s=[];if(void 0!==t.sort)for(const e of t.sort)a.push(e.field),s.push(oI(e.order,"ascending"));const l={field:a,order:s};let u;return u=function(e){return I(e)&&e.every((e=>_e(e)))&&e.length>1}(i)?i:_e(i)?[i,`${i}_end`]:[`${t.stack}_start`,`${t.stack}_end`],new eK(e,{dimensionFieldDefs:[],stackField:n,groupby:r,offset:o,sort:l,facetby:[],as:u})}static makeFromEncoding(e,t){const n=t.stack,{encoding:r}=t;if(!n)return null;const{groupbyChannels:i,fieldChannel:o,offset:a,impute:s}=n,l=i.map((e=>PB(r[e]))).filter((e=>!!e)),u=function(e){return e.stack.stackBy.reduce(((e,t)=>{const n=SB(t.fieldDef);return n&&e.push(n),e}),[])}(t),c=t.encoding.order;let d;return d=I(c)||uB(c)?VN(c):u.reduce(((e,t)=>(e.field.push(t),e.order.push("y"===o?"descending":"ascending"),e)),{field:[],order:[]}),new eK(e,{dimensionFieldDefs:l,stackField:t.vgField(o),facetby:[],stackby:u,sort:d,offset:a,impute:s,as:[t.vgField(o,{suffix:"start",forAs:!0}),t.vgField(o,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(e){this._stack.facetby.push(...e)}dependentFields(){const e=new Set;return e.add(this._stack.stackField),this.getGroupbyFields().forEach(e.add,e),this._stack.facetby.forEach(e.add,e),this._stack.sort.field.forEach(e.add,e),e}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${LP(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:e,impute:t,groupby:n}=this._stack;return e.length>0?e.map((e=>e.bin?t?[SB(e,{binSuffix:"mid"})]:[SB(e,{}),SB(e,{binSuffix:"end"})]:[SB(e)])).flat():null!=n?n:[]}assemble(){const e=[],{facetby:t,dimensionFieldDefs:n,stackField:r,stackby:i,sort:o,offset:a,impute:s,as:l}=this._stack;if(s)for(const o of n){const{bandPosition:n=.5,bin:a}=o;if(a){const t=SB(o,{expr:"datum"}),r=SB(o,{expr:"datum",binSuffix:"end"});e.push({type:"formula",expr:`${n}*${t}+${1-n}*${r}`,as:SB(o,{binSuffix:"mid",forAs:!0})})}e.push({type:"impute",field:r,groupby:[...i,...t],key:SB(o,{binSuffix:"mid"}),method:"value",value:0})}return e.push({type:"stack",groupby:[...this.getGroupbyFields(),...t],field:r,sort:o,as:l,offset:a}),e}}class tK extends ZU{constructor(e,t){super(e),this.transform=t}clone(){return new tK(null,RP(this.transform))}addDimensions(e){this.transform.groupby=FP(this.transform.groupby.concat(e),(e=>e))}dependentFields(){var e,t;const n=new Set;return(null!==(e=this.transform.groupby)&&void 0!==e?e:[]).forEach(n.add,n),(null!==(t=this.transform.sort)&&void 0!==t?t:[]).forEach((e=>n.add(e.field))),this.transform.window.map((e=>e.field)).filter((e=>void 0!==e)).forEach(n.add,n),n}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(e){var t;return null!==(t=e.as)&&void 0!==t?t:SB(e)}hash(){return`WindowTransform ${LP(this.transform)}`}assemble(){var e;const t=[],n=[],r=[],i=[];for(const e of this.transform.window)n.push(e.op),r.push(this.getDefaultName(e)),i.push(void 0===e.param?null:e.param),t.push(void 0===e.field?null:e.field);const o=this.transform.frame,a=this.transform.groupby;if(o&&null===o[0]&&null===o[1]&&n.every((e=>hN(e))))return Object.assign({type:"joinaggregate",as:r,ops:n,fields:t},void 0!==a?{groupby:a}:{});const s=[],l=[];if(void 0!==this.transform.sort)for(const t of this.transform.sort)s.push(t.field),l.push(null!==(e=t.order)&&void 0!==e?e:"ascending");const u={field:s,order:l},c=this.transform.ignorePeers;return Object.assign(Object.assign(Object.assign({type:"window",params:i,as:r,ops:n,fields:t,sort:u},void 0!==c?{ignorePeers:c}:{}),void 0!==a?{groupby:a}:{}),void 0!==o?{frame:o}:{})}}function nK(e){if(e instanceof TG)if(1!==e.numChildren()||e.children[0]instanceof XU){const n=e.model.component.data.main;rK(n);const r=(t=e,function e(n){if(!(n instanceof TG)){const r=n.clone();if(r instanceof XU){const e=iK+r.getSource();r.setSource(e),t.model.component.data.outputNodes[e]=r}else(r instanceof CG||r instanceof eK||r instanceof tK||r instanceof QG)&&r.addDimensions(t.fields);for(const t of n.children.flatMap(e))t.parent=r;return[r]}return n.children.flatMap(e)}),i=e.children.map(r).flat();for(const e of i)e.parent=n}else{const t=e.children[0];(t instanceof CG||t instanceof eK||t instanceof tK||t instanceof QG)&&t.addDimensions(e.fields),t.swapWithParent(),nK(e)}else e.children.map(nK);var t}function rK(e){if(e instanceof XU&&e.type===$U.Main&&1===e.numChildren()){const t=e.children[0];t instanceof TG||(t.swapWithParent(),rK(e))}}const iK="scale_";function oK(e){for(const t of e){for(const e of t.children)if(e.parent!==t)return!1;if(!oK(t.children))return!1}return!0}function aK(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function sK(e,t,n){let r=e.sources,i=!1;return i=aK(new UG,r)||i,i=aK(new WG(t),r)||i,r=r.filter((e=>e.numChildren()>0)),i=aK(new GG,r)||i,r=r.filter((e=>e.numChildren()>0)),n||(i=aK(new VG,r)||i,i=aK(new XG(t),r)||i,i=aK(new $G,r)||i,i=aK(new qG,r)||i,i=aK(new ZG,r)||i,i=aK(new KG,r)||i,i=aK(new BG,r)||i,i=aK(new JG,r)||i),e.sources=r,i}function lK(e,t){oK(e.sources);let n=0,r=0;for(let r=0;r<5&&sK(e,t,!0);r++)n++;e.sources.map(nK);for(let n=0;n<5&&sK(e,t,!1);n++)r++;oK(e.sources),5===Math.max(n,r)&&HF("Maximum optimization runs(5) reached.")}class uK{constructor(e){Object.defineProperty(this,"signal",{enumerable:!0,get:e})}static fromName(e,t){return new uK((()=>e(t)))}}function cK(e){$K(e)?function(e){const t=e.component.scales;for(const n of $P(t)){const r=dK(e,n);if(t[n].setWithExplicit("domains",r),mK(e,n),e.component.data.isFaceted){let t=e;for(;!UK(t)&&t.parent;)t=t.parent;if("shared"===t.component.resolve.scale[n])for(const e of r.value)RN(e)&&(e.data=iK+e.data.replace(iK,""))}}}(e):function(e){for(const t of e.children)cK(t);const t=e.component.scales;for(const n of $P(t)){let r,i=null;for(const t of e.children){const e=t.component.scales[n];if(e){r=void 0===r?e.getWithExplicit("domains"):PU(r,e.getWithExplicit("domains"),"domains","scale",yK);const t=e.get("selectionExtent");i&&t&&i.param!==t.param&&HF("The same selection must be used to override scale domains in a layered view."),i=t}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}(e)}function dK(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=function(e,t,n,r){if("unaggregated"===e){const{valid:e,reason:r}=gK(t,n);if(!e)return void HF(r)}else if(void 0===e&&r.useUnaggregatedDomain){const{valid:e}=gK(t,n);if(e)return"unaggregated"}return e}(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]=Object.assign(Object.assign({},e.specifiedScales[t]),{domain:i})),"x"===t&&IB(r.x2)?IB(r.x)?PU(fK(n,i,e,"x"),fK(n,i,e,"x2"),"domain","scale",yK):fK(n,i,e,"x2"):"y"===t&&IB(r.y2)?IB(r.y)?PU(fK(n,i,e,"y"),fK(n,i,e,"y2"),"domain","scale",yK):fK(n,i,e,"y2"):fK(n,i,e,t)}function hK(e,t,n){var r;const i=null===(r=tY(n))||void 0===r?void 0:r.unit;return"temporal"===t||i?function(e,t,n){return e.map((e=>({signal:`{data: ${$B(e,{timeUnit:n,type:t})}}`})))}(e,t,i):[e]}function fK(e,t,n,r){const{encoding:i}=n,o=IB(i[r]),{type:a}=o,s=o.timeUnit;if(function(e){return null==e?void 0:e.unionWith}(t)){const i=fK(e,void 0,n,r),o=hK(t.unionWith,a,s);return EU([...i.value,...o])}if(CN(t))return EU([t]);if(t&&"unaggregated"!==t&&!WY(t))return EU(hK(t,a,s));const l=n.stack;if(l&&r===l.fieldChannel){if("normalize"===l.offset)return AU([[0,1]]);const e=n.requestDataName($U.Main);return AU([{data:e,field:n.vgField(r,{suffix:"start"})},{data:e,field:n.vgField(r,{suffix:"end"})}])}const u=rN(r)&&uB(o)?function(e,t,n){if(!FY(n))return;const r=e.fieldDef(t),i=r.sort;if(Zz(i))return{op:"min",field:Lq(r,t),order:"ascending"};const{stack:o}=e,a=o?new Set([...o.groupbyFields,...o.stackBy.map((e=>e.fieldDef.field))]):void 0;if(Kz(i))return pK(i,o&&!a.has(i.field));if(Gz(i)){const{encoding:t,order:n}=i,r=e.fieldDef(t),{aggregate:s,field:l}=r,u=o&&!a.has(l);if(cN(s)||dN(s))return pK({field:SB(r),order:n},u);if(hN(s)||!s)return pK({op:s,field:l,order:n},u)}else{if("descending"===i)return{op:"min",field:e.vgField(t),order:"descending"};if(PP(["ascending",void 0],i))return!0}}(n,r,e):void 0;if(dB(o))return AU(hK([o.datum],a,s));const c=o;if("unaggregated"===t){const e=n.requestDataName($U.Main),{field:t}=o;return AU([{data:e,field:SB({field:t,aggregate:"min"})},{data:e,field:SB({field:t,aggregate:"max"})}])}if(vN(c.bin)){if(FY(e))return AU("bin-ordinal"===e?[]:[{data:qP(u)?n.requestDataName($U.Main):n.requestDataName($U.Raw),field:n.vgField(r,VB(c,r)?{binSuffix:"range"}:{}),sort:!0!==u&&H(u)?u:{field:n.vgField(r,{}),op:"min"}}]);{const{bin:e}=c;if(vN(e)){const t=MG(n,c.field,e);return AU([new uK((()=>{const e=n.getSignalName(t);return`[${e}.start, ${e}.stop]`}))])}return AU([{data:n.requestDataName($U.Main),field:n.vgField(r,{})}])}}if(c.timeUnit&&PP(["time","utc"],e)&&oB(c,$K(n)?n.encoding[gH(r)]:void 0,n.markDef,n.config)){const e=n.requestDataName($U.Main);return AU([{data:e,field:n.vgField(r)},{data:e,field:n.vgField(r,{suffix:"end"})}])}return AU(u?[{data:qP(u)?n.requestDataName($U.Main):n.requestDataName($U.Raw),field:n.vgField(r),sort:u}]:[{data:n.requestDataName($U.Main),field:n.vgField(r)}])}function pK(e,t){const{op:n,field:r,order:i}=e;return Object.assign(Object.assign({op:null!=n?n:t?"sum":Uz},r?{field:tI(r)}:{}),i?{order:i}:{})}function mK(e,t){var n;const r=e.component.scales[t],i=e.specifiedScales[t].domain,o=null===(n=e.fieldDef(t))||void 0===n?void 0:n.bin,a=WY(i)&&i,s=wN(o)&&_N(o.extent)&&o.extent;(a||s)&&r.set("selectionExtent",null!=a?a:s,!0)}function gK(e,t){const{aggregate:n,type:r}=e;return n?_e(n)&&!gN.has(n)?{valid:!1,reason:kF(n)}:"quantitative"===r&&"log"===t?{valid:!1,reason:SF(e)}:{valid:!0}:{valid:!1,reason:_F(e)}}function yK(e,t,n,r){return e.explicit&&t.explicit&&HF(function(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${AP(n)} and ${AP(r)}). Using the union of the two domains.`}(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function vK(e){const t=FP(e.map((e=>{if(RN(e)){const{sort:t}=e;return function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["sort"])}return e})),LP),n=FP(e.map((e=>{if(RN(e)){const t=e.sort;return void 0===t||qP(t)||("op"in t&&"count"===t.op&&delete t.field,"ascending"===t.order&&delete t.order),t}})).filter((e=>void 0!==e)),LP);if(0===t.length)return;if(1===t.length){const t=e[0];if(RN(t)&&n.length>0){let e=n[0];if(n.length>1)HF(TF),e=!0;else if(H(e)&&"field"in e){const n=e.field;t.field===n&&(e=!e.order||{order:e.order})}return Object.assign(Object.assign({},t),{sort:e})}return t}const r=FP(n.map((e=>qP(e)||!("op"in e)||_e(e.op)&&e.op in uN?e:(HF(function(e){return`Dropping sort property ${AP(e)} as unioned domains only support boolean or op "count", "min", and "max".`}(e)),!0))),LP);let i;1===r.length?i=r[0]:r.length>1&&(HF(TF),i=!0);const o=FP(e.map((e=>RN(e)?e.data:null)),(e=>e));return 1===o.length&&null!==o[0]?Object.assign({data:o[0],fields:t.map((e=>e.field))},i?{sort:i}:{}):Object.assign({fields:t},i?{sort:i}:{})}function bK(e){if(RN(e)&&_e(e.field))return e.field;if(function(e){return!I(e)&&"fields"in e&&!("data"in e)}(e)){let t;for(const n of e.fields)if(RN(n)&&_e(n.field))if(t){if(t!==n.field)return HF("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),t}else t=n.field;return HF("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect."),t}if(function(e){return!I(e)&&"fields"in e&&"data"in e}(e)){HF("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.");const t=e.fields[0];return _e(t)?t:void 0}}function wK(e,t){return vK(e.component.scales[t].get("domains").map((t=>(RN(t)&&(t.data=e.lookupDataSource(t.data)),t))))}function _K(e){return qK(e)||VK(e)?e.children.reduce(((e,t)=>e.concat(_K(t))),kK(e)):kK(e)}function kK(e){return $P(e.component.scales).reduce(((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:o,type:a,selectionExtent:s,domains:l,range:u,reverse:c}=i,d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(i,["name","type","selectionExtent","domains","range","reverse"]),h=function(e,t,n,r){if(FH(n)){if(TN(e))return{step:{signal:`${t}_step`}}}else if(H(e)&&RN(e))return Object.assign(Object.assign({},e),{data:r.lookupDataSource(e.data)});return e}(i.range,o,n,e),f=wK(e,n),p=s?function(e,t,n,r){const i=yq(e,t.param,t);return{signal:YY(n.get("type"))&&I(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}(e,s,r,f):null;return t.push(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:o,type:a},f?{domain:f}:{}),p?{domainRaw:p}:{}),{range:h}),void 0!==c?{reverse:c}:{}),d)),t}),[])}class SK extends DU{constructor(e,t){super({},{name:e}),this.merged=!1,this.setWithExplicit("type",t)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")||IP(this.get("domains"),(e=>I(e)&&2===e.length&&e[0]<=0&&e[1]>=0))}}const MK=["range","scheme"];function xK(e,t){const n=e.fieldDef(t);if(null==n?void 0:n.bin){const{bin:r,field:i}=n,o=yH(t),a=e.getName(o);if(H(r)&&r.binned&&void 0!==r.step)return new uK((()=>{const n=e.scaleName(t),i=`(domain("${n}")[1] - domain("${n}")[0]) / ${r.step}`;return`${e.getSignalName(a)} / (${i})`}));if(vN(r)){const t=MG(e,i,r);return new uK((()=>{const n=e.getSignalName(t),r=`(${n}.stop - ${n}.start) / ${n}.step`;return`${e.getSignalName(a)} / (${r})`}))}}}function OK(e,t){const n=t.specifiedScales[e],{size:r}=t,i=t.getScaleComponent(e).get("type");for(const r of MK)if(void 0!==n[r]){const o=QY(i,r),a=ez(e,r);if(o)if(a)HF(a);else switch(r){case"range":{const r=n.range;if(I(r)){if(FH(e))return EU(r.map((e=>{if("width"===e||"height"===e){const n=t.getName(e),r=t.getSignalName.bind(t);return uK.fromName(r,n)}return e})))}else if(H(r))return EU({data:t.requestDataName($U.Main),field:r.field,sort:{op:"min",field:t.vgField(e)}});return EU(r)}case"scheme":return EU(CK(n[r]))}else HF(OF(i,r,e))}const o=e===pI||"xOffset"===e?"width":"height",a=r[o];if(r$(a))if(FH(e))if(FY(i)){const n=TK(a,t,e);if(n)return EU({step:n})}else HF(CF(o));else if($H(e)){const n=e===vI?"x":"y";if("band"===t.getScaleComponent(n).get("type")){const e=RK(a,i);if(e)return EU(e)}}const{rangeMin:s,rangeMax:l}=n,u=function(e,t){const{size:n,config:r,mark:i,encoding:o}=t,a=t.getSignalName.bind(t),{type:s}=IB(o[e]),l=t.getScaleComponent(e).get("type"),{domain:u,domainMid:c}=t.specifiedScales[e];switch(e){case pI:case mI:{if(PP(["point","band"],l)){const i=DK(e,n,r.view);if(r$(i))return{step:TK(i,t,e)}}const i=yH(e),o=t.getName(i);return e===mI&&YY(l)?[uK.fromName(a,o),0]:[0,uK.fromName(a,o)]}case vI:case bI:return function(e,t,n){const r=e===vI?"x":"y",i=t.getScaleComponent(r).get("type"),o=t.scaleName(r);if("band"===i){const e=DK(r,t.size,t.config.view);if(r$(e)){const t=RK(e,n);if(t)return t}return[0,{signal:`bandwidth('${o}')`}]}return function(e){throw new Error(e)}(`Cannot use ${e} scale if ${r} scale is not discrete.`)}(e,t,l);case AI:{const o=EK(i,t.component.scales[e].get("zero"),r),a=function(e,t,n,r){const i={x:xK(n,"x"),y:xK(n,"y")};switch(e){case"bar":case"tick":{if(void 0!==r.scale.maxBandSize)return r.scale.maxBandSize;const e=LK(t,i,r.view);return we(e)?e-1:new uK((()=>`${e.signal} - 1`))}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const e=LK(t,i,r.view);return we(e)?Math.pow(AK*e,2):new uK((()=>`pow(0.95 * ${e.signal}, 2)`))}}throw new Error(mF("size",e))}(i,n,t,r);return BY(l)?function(e,t,n){const r=()=>{const r=YN(t),i=YN(e),o=`(${r} - ${i}) / (${n} - 1)`;return`sequence(${i}, ${r} + ${o}, ${o})`};return CN(t)?new uK(r):{signal:r()}}(o,a,function(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return void 0!==n&&I(n)?n.length+1:(HF(function(e){return`Domain for ${e} is required for threshold scale.`}(r)),3)}}(l,r,u,e)):[o,a]}case kI:return[0,2*Math.PI];case LI:return[0,360];case wI:return[0,new uK((()=>`min(${t.getSignalName("width")},${t.getSignalName("height")})/2`))];case HI:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case NI:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case EI:return"symbol";case TI:case RI:case DI:return"ordinal"===l?"nominal"===s?"category":"ordinal":void 0!==c?"diverging":"rect"===i||"geoshape"===i?"heatmap":"ramp";case jI:case PI:case II:return[r.scale.minOpacity,r.scale.maxOpacity]}}(e,t);return(void 0!==s||void 0!==l)&&QY(i,"rangeMin")&&I(u)&&2===u.length?EU([null!=s?s:u[0],null!=l?l:u[1]]):AU(u)}function CK(e){return function(e){return!_e(e)&&!!e.name}(e)?Object.assign({scheme:e.name},EP(e,["name"])):{scheme:e}}function TK(e,t,n){var r,i,o,a,s;const{encoding:l}=t,u=t.getScaleComponent(n),c=vH(n),d=l[c];if("offset"===n$({step:e,offsetIsDiscrete:pB(d)&&vY(d.type)})&&iW(l,c)){const n=t.getScaleComponent(c);let l=`domain('${t.scaleName(c)}').length`;"band"===n.get("type")&&(l=`bandspace(${l}, ${null!==(i=null!==(r=n.get("paddingInner"))&&void 0!==r?r:n.get("padding"))&&void 0!==i?i:0}, ${null!==(a=null!==(o=n.get("paddingOuter"))&&void 0!==o?o:n.get("padding"))&&void 0!==a?a:0})`);const d=null!==(s=u.get("paddingInner"))&&void 0!==s?s:u.get("padding");return{signal:`${e.step} * ${l} / (1-${NN(d)})`}}return e.step}function RK(e,t){if("offset"===n$({step:e,offsetIsDiscrete:FY(t)}))return{step:e.step}}function DK(e,t,n){const r=e===pI?"width":"height";return t[r]||u$(n,r)}function EK(e,t,n){if(t)return CN(t)?{signal:`${t.signal} ? 0 : ${EK(e,!1,n)}`}:0;switch(e){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(mF("size",e))}const AK=.95;function LK(e,t,n){const r=r$(e.width)?e.width.step:l$(n,"width"),i=r$(e.height)?e.height.step:l$(n,"height");return t.x||t.y?new uK((()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`)):Math.min(r,i)}function jK(e,t){$K(e)?function(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:o,specifiedScales:a}=e;for(const s of $P(n)){const l=a[s],u=n[s],c=e.getScaleComponent(s),d=IB(i[s]),h=l[t],f=c.get("type"),p=c.get("padding"),m=c.get("paddingInner"),g=QY(f,t),y=ez(s,t);if(void 0!==h&&(g?y&&HF(y):HF(OF(f,t,s))),g&&void 0===y)if(void 0!==h){const e=d.timeUnit,n=d.type;switch(t){case"domainMax":case"domainMin":NF(l[t])||"temporal"===n||e?u.set(t,{signal:$B(l[t],{type:n,timeUnit:e})},!0):u.set(t,l[t],!0);break;default:u.copyKeyFromObject(t,l)}}else{const n=t in PK?PK[t]({model:e,channel:s,fieldOrDatumDef:d,scaleType:f,scalePadding:p,scalePaddingInner:m,domain:l.domain,domainMin:l.domainMin,domainMax:l.domainMax,markDef:o,config:r,hasNestedOffsetScale:oW(i,s)}):r.scale[t];void 0!==n&&u.set(t,n,!1)}}}(e,t):HK(e,t)}const PK={bins:e=>{let{model:t,fieldOrDatumDef:n}=e;return uB(n)?function(e,t){const n=t.bin;if(vN(n)){const r=MG(e,t.field,n);return new uK((()=>e.getSignalName(r)))}if(bN(n)&&wN(n)&&void 0!==n.step)return{step:n.step}}(t,n):void 0},interpolate:e=>{let{channel:t,fieldOrDatumDef:n}=e;return function(e,t){if(PP([TI,RI,DI],e)&&"nominal"!==t)return"hcl"}(t,n.type)},nice:e=>{let{scaleType:t,channel:n,domain:r,domainMin:i,domainMax:o,fieldOrDatumDef:a}=e;return function(e,t,n,r,i,o){var a;if(!((null===(a=PB(o))||void 0===a?void 0:a.bin)||I(n)||null!=i||null!=r||PP([xY,OY],e)))return!!FH(t)||void 0}(t,n,r,i,o,a)},padding:e=>{let{channel:t,scaleType:n,fieldOrDatumDef:r,markDef:i,config:o}=e;return function(e,t,n,r,i,o){if(FH(e)){if(zY(t)){if(void 0!==n.continuousPadding)return n.continuousPadding;const{type:t,orient:a}=i;if("bar"===t&&(!uB(r)||!r.bin&&!r.timeUnit)&&("vertical"===a&&"x"===e||"horizontal"===a&&"y"===e))return o.continuousBandSize}if(t===CY)return n.pointPadding}}(t,n,o.scale,r,i,o.bar)},paddingInner:e=>{let{scalePadding:t,channel:n,markDef:r,scaleType:i,config:o,hasNestedOffsetScale:a}=e;return function(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(void 0===e){if(FH(t)){const{bandPaddingInner:e,barBandPaddingInner:t,rectBandPaddingInner:r,bandWithNestedOffsetPaddingInner:a}=i;return o?a:oI(e,"bar"===n?t:r)}return $H(t)&&r===TY?i.offsetBandPaddingInner:void 0}}(t,n,r.type,i,o.scale,a)},paddingOuter:e=>{let{scalePadding:t,channel:n,scaleType:r,scalePaddingInner:i,config:o,hasNestedOffsetScale:a}=e;return function(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(void 0===e)if(FH(t)){const{bandPaddingOuter:e,bandWithNestedOffsetPaddingOuter:t}=i;if(o)return t;if(n===TY)return oI(e,CN(r)?{signal:`${r.signal}/2`}:r/2)}else if($H(t)){if(n===CY)return.5;if(n===TY)return i.offsetBandPaddingOuter}}(t,n,r,i,o.scale,a)},reverse:e=>{let{fieldOrDatumDef:t,scaleType:n,channel:r,config:i}=e;return function(e,t,n,r){return"x"===n&&void 0!==r.xReverse?YY(e)&&"descending"===t?CN(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse:!(!YY(e)||"descending"!==t)||void 0}(n,uB(t)?t.sort:void 0,r,i.scale)},zero:e=>{let{channel:t,fieldOrDatumDef:n,domain:r,markDef:i,scaleType:o}=e;return function(e,t,n,r,i){if(n&&"unaggregated"!==n&&YY(i)){if(I(n)){const e=n[0],t=n[n.length-1];if(e<=0&&t>=0)return!0}return!1}if("size"===e&&"quantitative"===t.type&&!BY(i))return!0;if((!uB(t)||!t.bin)&&PP([...NH,...zH],e)){const{orient:t,type:n}=r;return!PP(["bar","area","line","trail"],n)||!("horizontal"===t&&"y"===e||"vertical"===t&&"x"===e)}return!1}(t,n,r,i,o)}};function IK(e){$K(e)?function(e){const t=e.component.scales;for(const n of nN){const r=t[n];if(!r)continue;const i=OK(n,e);r.setWithExplicit("range",i)}}(e):HK(e,"range")}function HK(e,t){const n=e.component.scales;for(const n of e.children)"range"===t?IK(n):jK(n,t);for(const r of $P(n)){let i;for(const n of e.children){const e=n.component.scales[r];e&&(i=PU(i,e.getWithExplicit(t),t,"scale",LU(((e,n)=>"range"===t&&e.step&&n.step?e.step-n.step:0))))}n[r].setWithExplicit(t,i)}}function NK(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=FK(t,n,r,i),{type:a}=e;return rN(t)?void 0!==a?nz(t,a)?uB(n)&&!tz(a,n.type)?(HF(xF(a,o)),o):a:(HF(MF(t,a,o)),o):o:null}function FK(e,t,n,r){var i;switch(t.type){case"nominal":case"ordinal":if(JI(e)||"discrete"===sN(e))return"shape"===e&&"ordinal"===t.type&&HF(bF(e,"ordinal")),"ordinal";if(FH(e)||$H(e)){if(PP(["rect","bar","image","rule"],n.type))return"band";if(r)return"band"}else if("arc"===n.type&&e in YH)return"band";return xz(n[yH(e)])||vB(t)&&(null===(i=t.axis)||void 0===i?void 0:i.tickBand)?"band":"point";case"temporal":return JI(e)?"time":"discrete"===sN(e)?(HF(bF(e,"temporal")),"ordinal"):uB(t)&&t.timeUnit&&tY(t.timeUnit).utc?"utc":"time";case"quantitative":return JI(e)?uB(t)&&vN(t.bin)?"bin-ordinal":"linear":"discrete"===sN(e)?(HF(bF(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(cF(t.type))}function YK(e){$K(e)?e.component.scales=function(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const o of nN){const a=IB(t[o]);if(a&&n===yz&&o===EI&&a.type===SY)continue;let s=a&&a.scale;if(!$H(o)||oW(t,bH(o))){if(a&&null!==s&&!1!==s){null!=s||(s={});const n=NK(s,o,a,r,oW(t,o));i[o]=new SK(e.scaleName(`${o}`,!0),{value:n,explicit:s.type===n})}}else s&&HF(gF(o))}return i}(e):e.component.scales=function(e){var t,n;const r=e.component.scales={},i={},o=e.component.resolve;for(const r of e.children){YK(r);for(const a of $P(r.component.scales))if(null!==(t=(n=o.scale)[a])&&void 0!==t||(n[a]=tG(a,e)),"shared"===o.scale[a]){const e=i[a],t=r.component.scales[a].getWithExplicit("type");e?DY(e.value,t.value)?i[a]=PU(e,t,"type","scale",zK):(o.scale[a]="independent",delete i[a]):i[a]=t}}for(const t of $P(i)){const n=e.scaleName(t,!0),o=i[t];r[t]=new SK(n,o);for(const r of e.children){const e=r.component.scales[t];e&&(r.renameScale(e.get("name"),n),e.merged=!0)}}return r}(e)}const zK=LU(((e,t)=>AY(e)-AY(t)));var BK=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class WK{constructor(){this.nameMap={}}rename(e,t){this.nameMap[e]=t}has(e){return void 0!==this.nameMap[e]}get(e){for(;this.nameMap[e]&&e!==this.nameMap[e];)e=this.nameMap[e];return e}}function $K(e){return"unit"===(null==e?void 0:e.type)}function UK(e){return"facet"===(null==e?void 0:e.type)}function VK(e){return"concat"===(null==e?void 0:e.type)}function qK(e){return"layer"===(null==e?void 0:e.type)}class GK{constructor(e,t,n,r,i,o,a){var s,l;this.type=t,this.parent=n,this.config=i,this.correctDataNames=e=>{var t,n,r;return(null===(t=e.from)||void 0===t?void 0:t.data)&&(e.from.data=this.lookupDataSource(e.from.data)),(null===(r=null===(n=e.from)||void 0===n?void 0:n.facet)||void 0===r?void 0:r.data)&&(e.from.facet.data=this.lookupDataSource(e.from.facet.data)),e},this.parent=n,this.config=i,this.view=MN(a),this.name=null!==(s=e.name)&&void 0!==s?s:r,this.title=ON(e.title)?{text:e.title}:e.title?MN(e.title):void 0,this.scaleNameMap=n?n.scaleNameMap:new WK,this.projectionNameMap=n?n.projectionNameMap:new WK,this.signalNameMap=n?n.signalNameMap:new WK,this.data=e.data,this.description=e.description,this.transforms=(null!==(l=e.transform)&&void 0!==l?l:[]).map((e=>J$(e)?{filter:CP(e.filter,gY)}:e)),this.layout="layer"===t||"unit"===t?{}:function(e,t,n){var r,i;const o=n[t],a={},{spacing:s,columns:l}=o;void 0!==s&&(a.spacing=s),void 0!==l&&(Qz(e)&&!Xz(e.facet)||QW(e))&&(a.columns=l),e$(e)&&(a.columns=1);for(const t of o$)if(void 0!==e[t])if("spacing"===t){const n=e[t];a[t]=we(n)?n:{row:null!==(r=n.row)&&void 0!==r?r:s,column:null!==(i=n.column)&&void 0!==i?i:s}}else a[t]=e[t];return a}(e,t,i),this.component={data:{sources:n?n.component.data.sources:[],outputNodes:n?n.component.data.outputNodes:{},outputNodeRefCounts:n?n.component.data.outputNodeRefCounts:{},isFaceted:Qz(e)||(null==n?void 0:n.component.data.isFaceted)&&void 0===e.data},layoutSize:new DU,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({scale:{},axis:{},legend:{}},o?RP(o):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){!function(e){let{ignoreRange:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};YK(e),cK(e);for(const t of JY)jK(e,t);t||IK(e)}(this)}parseProjection(){kG(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){pG(this)}assembleEncodeFromView(e){const{style:t}=e,n=BK(e,["style"]),r={};for(const e of $P(n)){const t=n[e];void 0!==t&&(r[e]=HN(t))}return r}assembleGroupEncodeEntry(e){let t={};return this.view&&(t=this.assembleEncodeFromView(this.view)),e||(this.description&&(t.description=HN(this.description)),"unit"!==this.type&&"layer"!==this.type)?WP(t)?void 0:t:Object.assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!=t?t:{})}assembleLayout(){if(!this.layout)return;const e=this.layout,{spacing:t}=e,n=BK(e,["spacing"]),{component:r,config:i}=this,o=function(e,t){const n={};for(const r of eH){const i=e[r];if(null==i?void 0:i.facetFieldDef){const{titleAnchor:e,titleOrient:o}=Iq(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),a=jq(r,o),s=qq(e,a);void 0!==s&&(n[a]=s)}}return WP(n)?void 0:n}(r.layoutHeaders,i);return Object.assign(Object.assign(Object.assign({padding:t},this.assembleDefaultLayout()),n),o?{titleBand:o}:{})}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:e}=this.component;let t=[];for(const n of eH)e[n].title&&t.push(Fq(this,n));for(const e of Hq)t=t.concat(Bq(this,e));return t}assembleAxes(){return function(e,t){const{x:n=[],y:r=[]}=e;return[...n.map((e=>kq(e,"grid",t))),...r.map((e=>kq(e,"grid",t))),...n.map((e=>kq(e,"main",t))),...r.map((e=>kq(e,"main",t)))].filter((e=>e))}(this.component.axes,this.config)}assembleLegends(){return vG(this)}assembleProjections(){return qK(e=this)||VK(e)?function(e){return e.children.reduce(((e,t)=>e.concat(t.assembleProjections())),bG(e))}(e):bG(e);var e}assembleTitle(){var e,t,n;const r=null!==(e=this.title)&&void 0!==e?e:{},{encoding:i}=r,o=BK(r,["encoding"]),a=Object.assign(Object.assign(Object.assign({},xN(this.config.title).nonMarkTitleProperties),o),i?{encode:{update:i}}:{});if(a.text)return PP(["unit","layer"],this.type)?PP(["middle",void 0],a.anchor)&&(null!==(t=a.frame)&&void 0!==t||(a.frame="group")):null!==(n=a.anchor)&&void 0!==n||(a.anchor="start"),WP(a)?void 0:a}assembleGroup(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t={};e=e.concat(this.assembleSignals()),e.length>0&&(t.signals=e);const n=this.assembleLayout();n&&(t.layout=n),t.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const r=!this.parent||UK(this.parent)?_K(this):[];r.length>0&&(t.scales=r);const i=this.assembleAxes();i.length>0&&(t.axes=i);const o=this.assembleLegends();return o.length>0&&(t.legends=o),t}getName(e){return GP((this.name?`${this.name}_`:"")+e)}getDataName(e){return this.getName($U[e].toLowerCase())}requestDataName(e){const t=this.getDataName(e),n=this.component.data.outputNodeRefCounts;return n[t]=(n[t]||0)+1,t}getSizeSignalRef(e){if(UK(this.parent)){const t=BH(Qq(e)),n=this.component.scales[t];if(n&&!n.merged){const e=n.get("type"),r=n.get("range");if(FY(e)&&TN(r)){const e=n.get("name"),r=bK(wK(this,t));return r?{signal:Jq(e,n,SB({aggregate:"distinct",field:r},{expr:"datum"}))}:(HF(eF(t)),null)}}}return{signal:this.signalNameMap.get(this.getName(e))}}lookupDataSource(e){const t=this.component.data.outputNodes[e];return t?t.getSource():e}getSignalName(e){return this.signalNameMap.get(e)}renameSignal(e,t){this.signalNameMap.rename(e,t)}renameScale(e,t){this.scaleNameMap.rename(e,t)}renameProjection(e,t){this.projectionNameMap.rename(e,t)}scaleName(e,t){return t?this.getName(e):dH(e)&&rN(e)&&this.component.scales[e]||this.scaleNameMap.has(this.getName(e))?this.scaleNameMap.get(this.getName(e)):void 0}projectionName(e){return e?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0}getScaleComponent(e){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const t=this.component.scales[e];return t&&!t.merged?t:this.parent?this.parent.getScaleComponent(e):void 0}getSelectionComponent(e,t){let n=this.component.selection[e];if(!n&&this.parent&&(n=this.parent.getSelectionComponent(e,t)),!n)throw new Error(`Cannot find a selection named "${t}".`);return n}hasAxisOrientSignalRef(){var e,t;return(null===(e=this.component.axes.x)||void 0===e?void 0:e.some((e=>e.hasOrientSignalRef())))||(null===(t=this.component.axes.y)||void 0===t?void 0:t.some((e=>e.hasOrientSignalRef())))}}class KK extends GK{vgField(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.fieldDef(e);if(n)return SB(n,t)}reduceFieldDef(e,t){return function(e,t,n,r){return e?$P(e).reduce(((n,i)=>{const o=e[i];return I(o)?o.reduce(((e,n)=>t.call(r,e,n,i)),n):t.call(r,n,o,i)}),n):n}(this.getMapping(),((t,n,r)=>{const i=PB(n);return i?e(t,i,r):t}),t)}forEachFieldDef(e,t){dW(this.getMapping(),((t,n)=>{const r=PB(t);r&&e(r,n)}),t)}}class ZK extends ZU{constructor(e,t){var n,r,i;super(e),this.transform=t,this.transform=RP(t);const o=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(r=o[0])&&void 0!==r?r:"value",null!==(i=o[1])&&void 0!==i?i:"density"],t.groupby&&null==t.minsteps&&null==t.maxsteps&&null==t.steps&&(this.transform.steps=200)}clone(){return new ZK(null,RP(this.transform))}dependentFields(){var e;return new Set([this.transform.density,...null!==(e=this.transform.groupby)&&void 0!==e?e:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${LP(this.transform)}`}assemble(){const e=this.transform,{density:t}=e,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["density"]);return Object.assign({type:"kde",field:t},n)}}class XK extends ZU{constructor(e,t){super(e),this.filter=t}clone(){return new XK(null,Object.assign({},this.filter))}static make(e,t){const{config:n,mark:r,markDef:i}=t;if("filter"!==BN("invalid",i,n))return null;const o=t.reduceFieldDef(((e,n,i)=>{const o=rN(i)&&t.getScaleComponent(i);return o&&YY(o.get("type"))&&"count"!==n.aggregate&&!vz(r)&&(e[n.field]=n),e}),{});return $P(o).length?new XK(e,o):null}dependentFields(){return new Set($P(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${LP(this.filter)}`}assemble(){const e=$P(this.filter).reduce(((e,t)=>{const n=this.filter[t],r=SB(n,{expr:"datum"});return null!==n&&("temporal"===n.type?e.push(`(isDate(${r}) || (isValid(${r}) && isFinite(+${r})))`):"quantitative"===n.type&&(e.push(`isValid(${r})`),e.push(`isFinite(+${r})`))),e}),[]);return e.length>0?{type:"filter",expr:e.join(" && ")}:null}}class JK extends ZU{constructor(e,t){super(e),this.transform=t,this.transform=RP(t);const{flatten:n,as:r=[]}=this.transform;this.transform.as=n.map(((e,t)=>{var n;return null!==(n=r[t])&&void 0!==n?n:e}))}clone(){return new JK(this.parent,RP(this.transform))}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${LP(this.transform)}`}assemble(){const{flatten:e,as:t}=this.transform;return{type:"flatten",fields:e,as:t}}}class QK extends ZU{constructor(e,t){var n,r,i;super(e),this.transform=t,this.transform=RP(t);const o=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(r=o[0])&&void 0!==r?r:"key",null!==(i=o[1])&&void 0!==i?i:"value"]}clone(){return new QK(null,RP(this.transform))}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${LP(this.transform)}`}assemble(){const{fold:e,as:t}=this.transform;return{type:"fold",fields:e,as:t}}}class eZ extends ZU{constructor(e,t,n,r){super(e),this.fields=t,this.geojson=n,this.signal=r}clone(){return new eZ(null,RP(this.fields),this.geojson,this.signal)}static parseAll(e,t){if(t.component.projection&&!t.component.projection.isFit)return e;let n=0;for(const r of[[xI,MI],[CI,OI]]){const i=r.map((e=>{const n=IB(t.encoding[e]);return uB(n)?n.field:dB(n)?{expr:`${n.datum}`}:gB(n)?{expr:`${n.value}`}:void 0}));(i[0]||i[1])&&(e=new eZ(e,i,null,t.getName("geojson_"+n++)))}if(t.channelHasField(EI)){const r=t.typedFieldDef(EI);r.type===SY&&(e=new eZ(e,null,r.field,t.getName("geojson_"+n++)))}return e}dependentFields(){var e;const t=(null!==(e=this.fields)&&void 0!==e?e:[]).filter(_e);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${LP(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],Object.assign(Object.assign(Object.assign({type:"geojson"},this.fields?{fields:this.fields}:{}),this.geojson?{geojson:this.geojson}:{}),{signal:this.signal})]}}class tZ extends ZU{constructor(e,t,n,r){super(e),this.projection=t,this.fields=n,this.as=r}clone(){return new tZ(null,this.projection,RP(this.fields),RP(this.as))}static parseAll(e,t){if(!t.projectionName())return e;for(const n of[[xI,MI],[CI,OI]]){const r=n.map((e=>{const n=IB(t.encoding[e]);return uB(n)?n.field:dB(n)?{expr:`${n.datum}`}:gB(n)?{expr:`${n.value}`}:void 0})),i=n[0]===CI?"2":"";(r[0]||r[1])&&(e=new tZ(e,t.projectionName(),r,[t.getName(`x${i}`),t.getName(`y${i}`)]))}return e}dependentFields(){return new Set(this.fields.filter(_e))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${LP(this.fields)} ${LP(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class nZ extends ZU{constructor(e,t){super(e),this.transform=t}clone(){return new nZ(null,RP(this.transform))}dependentFields(){var e;return new Set([this.transform.impute,this.transform.key,...null!==(e=this.transform.groupby)&&void 0!==e?e:[]])}producedFields(){return new Set([this.transform.impute])}processSequence(e){const{start:t=0,stop:n,step:r}=e;return{signal:`sequence(${[t,n,...r?[r]:[]].join(",")})`}}static makeFromTransform(e,t){return new nZ(e,t)}static makeFromEncoding(e,t){const n=t.encoding,r=n.x,i=n.y;if(uB(r)&&uB(i)){const o=r.impute?r:i.impute?i:void 0;if(void 0===o)return;const a=r.impute?i:i.impute?r:void 0,{method:s,value:l,frame:u,keyvals:c}=o.impute,d=hW(t.mark,n);return new nZ(e,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({impute:o.field,key:a.field},s?{method:s}:{}),void 0!==l?{value:l}:{}),u?{frame:u}:{}),void 0!==c?{keyvals:c}:{}),d.length?{groupby:d}:{}))}return null}hash(){return`Impute ${LP(this.transform)}`}assemble(){const{impute:e,key:t,keyvals:n,method:r,groupby:i,value:o,frame:a=[null,null]}=this.transform,s=Object.assign(Object.assign(Object.assign(Object.assign({type:"impute",field:e,key:t},n?{keyvals:(l=n,void 0!==(null==l?void 0:l.stop)?this.processSequence(n):n)}:{}),{method:"value"}),i?{groupby:i}:{}),{value:r&&"value"!==r?null:o});var l;return r&&"value"!==r?[s,Object.assign({type:"window",as:[`imputed_${e}_value`],ops:[r],fields:[e],frame:a,ignorePeers:!1},i?{groupby:i}:{}),{type:"formula",expr:`datum.${e} === null ? datum.imputed_${e}_value : datum.${e}`,as:e}]:[s]}}class rZ extends ZU{constructor(e,t){var n,r,i;super(e),this.transform=t,this.transform=RP(t);const o=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(r=o[0])&&void 0!==r?r:t.on,null!==(i=o[1])&&void 0!==i?i:t.loess]}clone(){return new rZ(null,RP(this.transform))}dependentFields(){var e;return new Set([this.transform.loess,this.transform.on,...null!==(e=this.transform.groupby)&&void 0!==e?e:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${LP(this.transform)}`}assemble(){const e=this.transform,{loess:t,on:n}=e,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["loess","on"]);return Object.assign({type:"loess",x:n,y:t},r)}}class iZ extends ZU{constructor(e,t,n){super(e),this.transform=t,this.secondary=n}clone(){return new iZ(null,RP(this.transform),this.secondary)}static make(e,t,n,r){const i=t.component.data.sources,{from:o}=n;let a=null;if(function(e){return"data"in e}(o)){let e=bZ(o.data,i);e||(e=new PG(o.data),i.push(e));const n=t.getName(`lookup_${r}`);a=new XU(e,n,$U.Lookup,t.component.data.outputNodeRefCounts),t.component.data.outputNodes[n]=a}else if(function(e){return"param"in e}(o)){const e=o.param;let r;n=Object.assign({as:e},n);try{r=t.getSelectionComponent(GP(e),e)}catch(t){throw new Error(`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`)}if(a=r.materialized,!a)throw new Error(`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`)}return new iZ(e,n,a.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?te(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${LP({transform:this.transform,secondary:this.secondary})}`}assemble(){let e;if(this.transform.from.fields)e=Object.assign({values:this.transform.from.fields},this.transform.as?{as:te(this.transform.as)}:{});else{let t=this.transform.as;_e(t)||(HF('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),t="_lookup"),e={as:[t]}}return Object.assign(Object.assign({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},e),this.transform.default?{default:this.transform.default}:{})}}class oZ extends ZU{constructor(e,t){var n,r,i;super(e),this.transform=t,this.transform=RP(t);const o=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(r=o[0])&&void 0!==r?r:"prob",null!==(i=o[1])&&void 0!==i?i:"value"]}clone(){return new oZ(null,RP(this.transform))}dependentFields(){var e;return new Set([this.transform.quantile,...null!==(e=this.transform.groupby)&&void 0!==e?e:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${LP(this.transform)}`}assemble(){const e=this.transform,{quantile:t}=e,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["quantile"]);return Object.assign({type:"quantile",field:t},n)}}class aZ extends ZU{constructor(e,t){var n,r,i;super(e),this.transform=t,this.transform=RP(t);const o=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(r=o[0])&&void 0!==r?r:t.on,null!==(i=o[1])&&void 0!==i?i:t.regression]}clone(){return new aZ(null,RP(this.transform))}dependentFields(){var e;return new Set([this.transform.regression,this.transform.on,...null!==(e=this.transform.groupby)&&void 0!==e?e:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${LP(this.transform)}`}assemble(){const e=this.transform,{regression:t,on:n}=e,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["regression","on"]);return Object.assign({type:"regression",x:n,y:t},r)}}class sZ extends ZU{constructor(e,t){super(e),this.transform=t}clone(){return new sZ(null,RP(this.transform))}addDimensions(e){var t;this.transform.groupby=FP((null!==(t=this.transform.groupby)&&void 0!==t?t:[]).concat(e),(e=>e))}producedFields(){}dependentFields(){var e;return new Set([this.transform.pivot,this.transform.value,...null!==(e=this.transform.groupby)&&void 0!==e?e:[]])}hash(){return`PivotTransform ${LP(this.transform)}`}assemble(){const{pivot:e,value:t,groupby:n,limit:r,op:i}=this.transform;return Object.assign(Object.assign(Object.assign({type:"pivot",field:e,value:t},void 0!==r?{limit:r}:{}),void 0!==i?{op:i}:{}),void 0!==n?{groupby:n}:{})}}class lZ extends ZU{constructor(e,t){super(e),this.transform=t}clone(){return new lZ(null,RP(this.transform))}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${LP(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function uZ(e){let t=0;return function n(r,i){var o;if(r instanceof PG&&!r.isGenerator&&!HU(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof EG&&(r.parent instanceof PG&&!i.source?(i.format=Object.assign(Object.assign({},null!==(o=i.format)&&void 0!==o?o:{}),{parse:r.assembleFormatParse()}),i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof TG)return i.name||(i.name="data_"+t++),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,void e.push(...r.assemble());switch((r instanceof LG||r instanceof jG||r instanceof XK||r instanceof mq||r instanceof Aq||r instanceof tZ||r instanceof CG||r instanceof iZ||r instanceof tK||r instanceof QG||r instanceof QK||r instanceof JK||r instanceof ZK||r instanceof rZ||r instanceof oZ||r instanceof aZ||r instanceof AG||r instanceof lZ||r instanceof sZ)&&i.transform.push(r.assemble()),(r instanceof OG||r instanceof QU||r instanceof nZ||r instanceof eK||r instanceof eZ)&&i.transform.push(...r.assemble()),r instanceof XU&&(i.source&&0===i.transform.length?r.setSource(i.source):r.parent instanceof XU?r.setSource(i.name):(i.name||(i.name="data_"+t++),r.setSource(i.name),1===r.numChildren()&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof XU&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name="data_"+t++);let o=i.name;!i.source||i.transform.length>0?e.push(i):o=i.source;for(const e of r.children)n(e,{name:null,source:o,transform:[]});break}}}}function cZ(e,t){var n,r;const i=[],o=uZ(i);let a=0;for(const t of e.sources){t.hasName()||(t.dataName="source_"+a++);const e=t.assemble();o(t,e)}for(const e of i)0===e.transform.length&&delete e.transform;let s=0;for(const[e,t]of i.entries())0!==(null!==(n=t.transform)&&void 0!==n?n:[]).length||t.source||i.splice(s++,0,i.splice(e,1)[0]);for(const t of i)for(const n of null!==(r=t.transform)&&void 0!==r?r:[])"lookup"===n.type&&(n.from=e.outputNodes[n.from].getSource());for(const e of i)e.name in t&&(e.values=t[e.name]);return i}function dZ(e,t){var n;const{facet:r,config:i,child:o,component:a}=e;if(e.channelHasField(t)){const s=r[t],l=Pq("title",null,i,t);let u=DB(s,i,{allowDisabling:!0,includeDefault:void 0===l||!!l});o.component.layoutHeaders[t].title&&(u=I(u)?u.join(", "):u,u+=` / ${o.component.layoutHeaders[t].title}`,o.component.layoutHeaders[t].title=null);const c=Pq("labelOrient",s.header,i,t),d=null!==s.header&&oI(null===(n=s.header)||void 0===n?void 0:n.labels,i.header.labels,!0),h=PP(["bottom","right"],c)?"footer":"header";a.layoutHeaders[t]={title:null!==s.header?u:null,facetFieldDef:s,[h]:"facet"===t?[]:[hZ(e,t,d)]}}}function hZ(e,t,n){const r="row"===t?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function fZ(e,t){var n;const{child:r}=e;if(r.component.axes[t]){const{layoutHeaders:o,resolve:a}=e.component;if(a.axis[t]=nG(a,t),"shared"===a.axis[t]){const a="x"===t?"column":"row",s=o[a];for(const o of r.component.axes[t]){const t="top"===(i=o.get("orient"))||"left"===i||CN(i)?"header":"footer";null!==(n=s[t])&&void 0!==n||(s[t]=[hZ(e,a,!1)]);const r=kq(o,"main",e.config,{header:!0});r&&s[t][0].axes.push(r),o.mainExtracted=!0}}}var i}function pZ(e){for(const t of e.children)t.parseLayoutSize()}function mZ(e,t){var n;const r=Qq(t),i=BH(r),o=e.component.resolve,a=e.component.layoutSize;let s;for(const t of e.children){const a=t.component.layoutSize.getWithExplicit(r),l=null!==(n=o.scale[i])&&void 0!==n?n:tG(i,e);if("independent"===l&&"step"===a.value){s=void 0;break}if(s){if("independent"===l&&s.value!==a.value){s=void 0;break}s=PU(s,a,r,"")}else s=a}if(s){for(const n of e.children)e.renameSignal(n.getName(r),e.getName(t)),n.component.layoutSize.set(r,"merged",!1);a.setWithExplicit(t,s)}else a.setWithExplicit(t,{explicit:!1,value:void 0})}function gZ(e,t){const n="width"===t?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const e=i.get("type"),n=i.get("range");if(FY(e)){const e=u$(r.view,t);return TN(n)||r$(e)?"step":e}return s$(r.view,t)}if(e.hasProjection||"arc"===e.mark)return s$(r.view,t);{const e=u$(r.view,t);return r$(e)?e.step:e}}function yZ(e,t,n){return SB(t,Object.assign({suffix:`by_${SB(e)}`},null!=n?n:{}))}class vZ extends KK{constructor(e,t,n,r){super(e,"facet",t,n,r,e.resolve),this.child=WZ(e.spec,this,this.getName("child"),void 0,r),this.children=[this.child],this.facet=this.initFacet(e.facet)}initFacet(e){if(!Xz(e))return{facet:this.initFacetFieldDef(e,"facet")};const t=$P(e),n={};for(const r of t){if(![dI,hI].includes(r)){HF(mF(r,"facet"));break}const t=e[r];if(void 0===t.field){HF(pF(t,r));break}n[r]=this.initFacetFieldDef(t,r)}return n}initFacetFieldDef(e,t){const n=FB(e,t);return n.header?n.header=MN(n.header):null===n.header&&(n.header=null),n}channelHasField(e){return!!this.facet[e]}fieldDef(e){return this.facet[e]}parseData(){this.component.data=wZ(this),this.child.parseData()}parseLayoutSize(){pZ(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),function(e){for(const t of eH)dZ(e,t);fZ(e,"x"),fZ(e,"y")}(this)}assembleSelectionTopLevelSignals(e){return this.child.assembleSelectionTopLevelSignals(e)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(e){return this.child.assembleSelectionData(e)}getHeaderLayoutMixins(){var e,t,n;const r={};for(const i of eH)for(const o of Nq){const a=this.component.layoutHeaders[i],s=a[o],{facetFieldDef:l}=a;if(l){const t=Pq("titleOrient",l.header,this.config,i);if(["right","bottom"].includes(t)){const n=jq(i,t);null!==(e=r.titleAnchor)&&void 0!==e||(r.titleAnchor={}),r.titleAnchor[n]="end"}}if(null==s?void 0:s[0]){const e="row"===i?"height":"width",s="header"===o?"headerBand":"footerBand";"facet"===i||this.child.component.layoutSize.get(e)||(null!==(t=r[s])&&void 0!==t||(r[s]={}),r[s][i]=.5),a.title&&(null!==(n=r.offset)&&void 0!==n||(r.offset={}),r.offset["row"===i?"rowTitle":"columnTitle"]=10)}}return r}assembleDefaultLayout(){const{column:e,row:t}=this.facet,n=e?this.columnDistinctSignal():t?1:void 0;let r="all";return(t||"independent"!==this.component.resolve.scale.x)&&(e||"independent"!==this.component.resolve.scale.y)||(r="none"),Object.assign(Object.assign(Object.assign({},this.getHeaderLayoutMixins()),n?{columns:n}:{}),{bounds:"full",align:r})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof vZ))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(e){return this.parent&&this.parent instanceof vZ?Object.assign(Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:SB(this.facet.column,{prefix:"distinct"})}}}}:{}),super.assembleGroup(e)):super.assembleGroup(e)}getCardinalityAggregateForChild(){const e=[],t=[],n=[];if(this.child instanceof vZ){if(this.child.channelHasField("column")){const r=SB(this.child.facet.column);e.push(r),t.push("distinct"),n.push(`distinct_${r}`)}}else for(const r of NH){const i=this.child.component.scales[r];if(i&&!i.merged){const o=i.get("type"),a=i.get("range");if(FY(o)&&TN(a)){const i=bK(wK(this.child,r));i?(e.push(i),t.push("distinct"),n.push(`distinct_${i}`)):HF(eF(r))}}}return{fields:e,ops:t,as:n}}assembleFacet(){const{name:e,data:t}=this.component.data.facetRoot,{row:n,column:r}=this.facet,{fields:i,ops:o,as:a}=this.getCardinalityAggregateForChild(),s=[];for(const e of eH){const t=this.facet[e];if(t){s.push(SB(t));const{bin:l,sort:u}=t;if(vN(l)&&s.push(SB(t,{binSuffix:"end"})),Kz(u)){const{field:e,op:s=Uz}=u,l=yZ(t,u);n&&r?(i.push(l),o.push("max"),a.push(l)):(i.push(e),o.push(s),a.push(l))}else if(I(u)){const n=Lq(t,e);i.push(n),o.push("max"),a.push(n)}}}const l=!!n&&!!r;return Object.assign({name:e,data:t,groupby:s},l||i.length>0?{aggregate:Object.assign(Object.assign({},l?{cross:l}:{}),i.length?{fields:i,ops:o,as:a}:{})}:{})}facetSortFields(e){const{facet:t}=this,n=t[e];return n?Kz(n.sort)?[yZ(n,n.sort,{expr:"datum"})]:I(n.sort)?[Lq(n,e,{expr:"datum"})]:[SB(n,{expr:"datum"})]:[]}facetSortOrder(e){const{facet:t}=this,n=t[e];if(n){const{sort:e}=n;return[(Kz(e)?e.order:!I(e)&&e)||"ascending"]}return[]}assembleLabelTitle(){var e;const{facet:t,config:n}=this;if(t.facet)return $q(t.facet,"facet",n);const r={row:["top","bottom"],column:["left","right"]};for(const i of Hq)if(t[i]){const o=Pq("labelOrient",null===(e=t[i])||void 0===e?void 0:e.header,n,i);if(r[i].includes(o))return $q(t[i],i,n)}}assembleMarks(){const{child:e}=this,t=function(e){const t=[],n=uZ(t);for(const t of e.children)n(t,{source:e.name,name:null,transform:[]});return t}(this.component.data.facetRoot),n=e.assembleGroupEncodeEntry(!1),r=this.assembleLabelTitle()||e.assembleTitle(),i=e.assembleGroupStyle();return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:this.getName("cell"),type:"group"},r?{title:r}:{}),i?{style:i}:{}),{from:{facet:this.assembleFacet()},sort:{field:eH.map((e=>this.facetSortFields(e))).flat(),order:eH.map((e=>this.facetSortOrder(e))).flat()}}),t.length>0?{data:t}:{}),n?{encode:{update:n}}:{}),e.assembleGroup(function(e,t){if(e.component.selection&&$P(e.component.selection).length){const n=xe(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:FE("mousemove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return KU(t)}(this,[])))]}getMapping(){return this.facet}}function bZ(e,t){var n,r,i,o;for(const a of t){const t=a.data;if(e.name&&a.hasName()&&e.name!==a.dataName)continue;const s=null===(n=e.format)||void 0===n?void 0:n.mesh,l=null===(r=t.format)||void 0===r?void 0:r.feature;if(s&&l)continue;const u=null===(i=e.format)||void 0===i?void 0:i.feature;if((u||l)&&u!==l)continue;const c=null===(o=t.format)||void 0===o?void 0:o.mesh;if(!s&&!c||s===c)if(NU(e)&&NU(t)){if(TP(e.values,t.values))return a}else if(HU(e)&&HU(t)){if(e.url===t.url)return a}else if(FU(e)&&e.name===a.dataName)return a}return null}function wZ(e){var t,n,r,i,o,a,s,l,u,c;let d=function(e,t){if(e.data||!e.parent){if(null===e.data){const e=new PG({values:[]});return t.push(e),e}const n=bZ(e.data,t);if(n)return YU(e.data)||(n.data.format=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const t of n)NP(e,null!=t?t:{});return e}({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const n=new PG(e.data);return t.push(n),n}}return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}(e,e.component.data.sources);const{outputNodes:h,outputNodeRefCounts:f}=e.component.data,p=e.data,m=p&&(YU(p)||HU(p)||NU(p))||!e.parent?new IU:e.parent.component.data.ancestorParse.clone();YU(p)?(zU(p)?d=new jG(d,p.sequence):WU(p)&&(d=new LG(d,p.graticule)),m.parseNothing=!0):null===(null===(t=null==p?void 0:p.format)||void 0===t?void 0:t.parse)&&(m.parseNothing=!0),d=null!==(n=EG.makeExplicit(d,e,m))&&void 0!==n?n:d,d=new AG(d);const g=e.parent&&qK(e.parent);($K(e)||UK(e))&&g&&(d=null!==(r=OG.makeFromEncoding(d,e))&&void 0!==r?r:d),e.transforms.length>0&&(d=function(e,t,n){var r,i;let o=0;for(const a of t.transforms){let s,l;if(uU(a))l=e=new Aq(e,a),s="derived";else if(J$(a)){const i=DG(a);l=e=null!==(r=EG.makeWithAncestors(e,{},i,n))&&void 0!==r?r:e,e=new mq(e,t,a.filter)}else if(cU(a))l=e=OG.makeFromTransform(e,a,t),s="number";else if(hU(a))s="date",void 0===n.getWithExplicit(a.field).value&&(e=new EG(e,{[a.field]:s}),n.set(a.field,s,!1)),l=e=QU.makeFromTransform(e,a);else if(fU(a))l=e=CG.makeFromTransform(e,a),s="number",cq(t)&&(e=new AG(e));else if(Q$(a))l=e=iZ.make(e,t,a,o++),s="derived";else if(aU(a))l=e=new tK(e,a),s="number";else if(sU(a))l=e=new QG(e,a),s="number";else if(pU(a))l=e=eK.makeFromTransform(e,a),s="derived";else if(mU(a))l=e=new QK(e,a),s="derived";else if(lU(a))l=e=new JK(e,a),s="derived";else if(eU(a))l=e=new sZ(e,a),s="derived";else if(oU(a))e=new lZ(e,a);else if(dU(a))l=e=nZ.makeFromTransform(e,a),s="derived";else if(tU(a))l=e=new ZK(e,a),s="derived";else if(nU(a))l=e=new oZ(e,a),s="derived";else if(rU(a))l=e=new aZ(e,a),s="derived";else{if(!iU(a)){HF(`Ignoring an invalid transform: ${AP(a)}.`);continue}l=e=new rZ(e,a),s="derived"}if(l&&void 0!==s)for(const e of null!==(i=l.producedFields())&&void 0!==i?i:[])n.set(e,s,!1)}return e}(d,e,m));const y=function(e){const t={};if($K(e)&&e.component.selection)for(const n of $P(e.component.selection)){const r=e.component.selection[n];for(const e of r.project.items)!e.channel&&iI(e.field)>1&&(t[e.field]="flatten")}return t}(e),v=function(e){const t={};function n(e){var n;WB(e)?t[e.field]="date":"quantitative"===e.type&&_e(n=e.aggregate)&&PP(["min","max"],n)?t[e.field]="number":iI(e.field)>1?e.field in t||(t[e.field]="flatten"):yB(e)&&Kz(e.sort)&&iI(e.sort.field)>1&&(e.sort.field in t||(t[e.sort.field]="flatten"))}if(($K(e)||UK(e))&&e.forEachFieldDef(((t,r)=>{if(mB(t))n(t);else{const i=pH(r),o=e.fieldDef(i);n(Object.assign(Object.assign({},t),{type:o.type}))}})),$K(e)){const{mark:n,markDef:r,encoding:i}=e;if(vz(n)&&!e.encoding.order){const e=i["horizontal"===r.orient?"y":"x"];uB(e)&&"quantitative"===e.type&&!(e.field in t)&&(t[e.field]="number")}}return t}(e);d=null!==(i=EG.makeWithAncestors(d,{},Object.assign(Object.assign({},y),v),m))&&void 0!==i?i:d,$K(e)&&(d=eZ.parseAll(d,e),d=tZ.parseAll(d,e)),($K(e)||UK(e))&&(g||(d=null!==(o=OG.makeFromEncoding(d,e))&&void 0!==o?o:d),d=null!==(a=QU.makeFromEncoding(d,e))&&void 0!==a?a:d,d=Aq.parseAllForSortIndex(d,e));const b=e.getDataName($U.Raw),w=new XU(d,b,$U.Raw,f);if(h[b]=w,d=w,$K(e)){const t=CG.makeFromEncoding(d,e);t&&(d=t,cq(e)&&(d=new AG(d))),d=null!==(s=nZ.makeFromEncoding(d,e))&&void 0!==s?s:d,d=null!==(l=eK.makeFromEncoding(d,e))&&void 0!==l?l:d}$K(e)&&(d=null!==(u=XK.make(d,e))&&void 0!==u?u:d);const _=e.getDataName($U.Main),k=new XU(d,_,$U.Main,f);h[_]=k,d=k,$K(e)&&function(e,t){var n;for(const[r,i]of VP(null!==(n=e.component.selection)&&void 0!==n?n:{})){const n=e.getName(`lookup_${r}`);e.component.data.outputNodes[n]=i.materialized=new XU(new mq(t,e,{param:r}),n,$U.Lookup,e.component.data.outputNodeRefCounts)}}(e,k);let S=null;if(UK(e)){const t=e.getName("facet");d=null!==(c=function(e,t){const{row:n,column:r}=t;if(n&&r){let t=null;for(const i of[n,r])if(Kz(i.sort)){const{field:n,op:r=Uz}=i.sort;e=t=new QG(e,{joinaggregate:[{op:r,field:n,as:yZ(i,i.sort,{forAs:!0})}],groupby:[SB(i)]})}return t}return null}(d,e.facet))&&void 0!==c?c:d,S=new TG(d,e,t,k.getSource()),h[t]=S}return Object.assign(Object.assign({},e.component.data),{outputNodes:h,outputNodeRefCounts:f,raw:w,main:k,facetRoot:S,ancestorParse:m})}class _Z extends GK{constructor(e,t,n,r){var i,o,a,s;super(e,"concat",t,n,r,e.resolve),"shared"!==(null===(o=null===(i=e.resolve)||void 0===i?void 0:i.axis)||void 0===o?void 0:o.x)&&"shared"!==(null===(s=null===(a=e.resolve)||void 0===a?void 0:a.axis)||void 0===s?void 0:s.y)||HF("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415)."),this.children=this.getChildren(e).map(((e,t)=>WZ(e,this,this.getName(`concat_${t}`),void 0,r)))}parseData(){this.component.data=wZ(this);for(const e of this.children)e.parseData()}parseSelections(){this.component.selection={};for(const e of this.children){e.parseSelections();for(const t of $P(e.component.selection))this.component.selection[t]=e.component.selection[t]}}parseMarkGroup(){for(const e of this.children)e.parseMarkGroup()}parseAxesAndHeaders(){for(const e of this.children)e.parseAxesAndHeaders()}getChildren(e){return e$(e)?e.vconcat:t$(e)?e.hconcat:e.concat}parseLayoutSize(){!function(e){pZ(e);const t=1===e.layout.columns?"width":"childWidth",n=void 0===e.layout.columns?"height":"childHeight";mZ(e,t),mZ(e,n)}(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(e){return this.children.reduce(((e,t)=>t.assembleSelectionTopLevelSignals(e)),e)}assembleSignals(){return this.children.forEach((e=>e.assembleSignals())),[]}assembleLayoutSignals(){const e=Kq(this);for(const t of this.children)e.push(...t.assembleLayoutSignals());return e}assembleSelectionData(e){return this.children.reduce(((e,t)=>t.assembleSelectionData(e)),e)}assembleMarks(){return this.children.map((e=>{const t=e.assembleTitle(),n=e.assembleGroupStyle(),r=e.assembleGroupEncodeEntry(!1);return Object.assign(Object.assign(Object.assign(Object.assign({type:"group",name:e.getName("group")},t?{title:t}:{}),n?{style:n}:{}),r?{encode:{update:r}}:{}),e.assembleGroup())}))}assembleGroupStyle(){}assembleDefaultLayout(){const e=this.layout.columns;return Object.assign(Object.assign({},null!=e?{columns:e}:{}),{bounds:"full",align:"each"})}}const kZ=Object.assign(Object.assign({disable:1,gridScale:1,scale:1},XB),{labelExpr:1,encode:1}),SZ=$P(kZ);class MZ extends DU{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(),this.explicit=e,this.implicit=t,this.mainExtracted=n}clone(){return new MZ(RP(this.explicit),RP(this.implicit),this.mainExtracted)}hasAxisPart(e){return!("axis"!==e&&("grid"===e||"title"===e?!this.get(e):(t=this.get(e),!1===t||null===t)));var t}hasOrientSignalRef(){return CN(this.explicit.orient)}}const xZ={bottom:"top",top:"bottom",left:"right",right:"left"};function OZ(e,t){if(!e)return t.map((e=>e.clone()));{if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const n=e[r],i=t[r];if(!!n!=!!i)return;if(n&&i){const t=n.getWithExplicit("orient"),o=i.getWithExplicit("orient");if(t.explicit&&o.explicit&&t.value!==o.value)return;e[r]=CZ(n,i)}}}return e}function CZ(e,t){for(const n of SZ){const r=PU(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",((e,t)=>{switch(n){case"title":return KN(e,t);case"gridScale":return{explicit:e.explicit,value:oI(e.value,t.value)}}return jU(e,t,n,"axis")}));e.setWithExplicit(n,r)}return e}function TZ(e,t,n,r,i){if("disable"===t)return void 0!==n;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(CN(n.labelAngle)?n.labelAngle:lI(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===Eq(r,i))return!0}return e===n[t]}const RZ=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function DZ(e,t){var n,r,i;let o=t.axis(e);const a=new MZ,s=IB(t.encoding[e]),{mark:l,config:u}=t,c=(null==o?void 0:o.orient)||(null===(n=u["x"===e?"axisX":"axisY"])||void 0===n?void 0:n.orient)||(null===(r=u.axis)||void 0===r?void 0:r.orient)||function(e){return"x"===e?"bottom":"left"}(e),d=t.getScaleComponent(e).get("type"),h=function(e,t,n,r){const i="band"===t?["axisDiscrete","axisBand"]:"point"===t?["axisDiscrete","axisPoint"]:PY(t)?["axisQuantitative"]:"time"===t||"utc"===t?["axisTemporal"]:[],o="x"===e?"axisX":"axisY",a=CN(n)?"axisOrient":`axis${XP(n)}`,s=[...i,...i.map((e=>o+e.substr(4)))],l=["axis",a,o];return{vlOnlyAxisConfig:Mq(s,r,e,n),vgAxisConfig:Mq(l,r,e,n),axisConfigStyle:xq([...l,...s],r)}}(e,d,c,t.config),f=void 0!==o?!o:Oq("disable",u.style,null==o?void 0:o.style,h).configValue;if(a.set("disable",f,void 0!==o),f)return a;o=o||{};const p=function(e,t,n,r,i){const o=null==t?void 0:t.labelAngle;if(void 0!==o)return CN(o)?o:lI(o);{const{configValue:o}=Oq("labelAngle",r,null==t?void 0:t.style,i);return void 0!==o?lI(o):n!==pI||!PP([kY,wY],e.type)||uB(e)&&e.timeUnit?void 0:270}}(s,o,e,u.style,h),m={fieldOrDatumDef:s,axis:o,channel:e,model:t,scaleType:d,orient:c,labelAngle:p,mark:l,config:u};for(const n of SZ){const r=n in Cq?Cq[n](m):QB(n)?o[n]:void 0,i=void 0!==r,s=TZ(r,n,o,t,e);if(i&&s)a.set(n,r,s);else{const{configValue:e,configFrom:t}=QB(n)&&"values"!==n?Oq(n,u.style,o.style,h):{},l=void 0!==e;i&&!l?a.set(n,r,s):("vgAxisConfig"!==t||RZ.has(n)&&l||GB(e)||CN(e))&&a.set(n,e,!1)}}const g=null!==(i=o.encoding)&&void 0!==i?i:{},y=KB.reduce(((n,r)=>{var i;if(!a.hasAxisPart(r))return n;const o=eG(null!==(i=g[r])&&void 0!==i?i:{},t),s="labels"===r?function(e,t,n){var r;const{encoding:i,config:o}=e,a=null!==(r=IB(i[t]))&&void 0!==r?r:IB(i[gH(t)]),s=e.axis(t)||{},{format:l,formatType:u}=s;if(jz(u))return Object.assign({text:Nz({fieldOrDatumDef:a,field:"datum.value",format:l,formatType:u,config:o})},n);if(void 0===l&&void 0===u&&o.customFormatTypes){if("quantitative"===cB(a)){if(vB(a)&&"normalize"===a.stack&&o.normalizedNumberFormatType)return Object.assign({text:Nz({fieldOrDatumDef:a,field:"datum.value",format:o.normalizedNumberFormat,formatType:o.normalizedNumberFormatType,config:o})},n);if(o.numberFormatType)return Object.assign({text:Nz({fieldOrDatumDef:a,field:"datum.value",format:o.numberFormat,formatType:o.numberFormatType,config:o})},n)}if("temporal"===cB(a)&&o.timeFormatType&&uB(a)&&!a.timeUnit)return Object.assign({text:Nz({fieldOrDatumDef:a,field:"datum.value",format:o.timeFormat,formatType:o.timeFormatType,config:o})},n)}return n}(t,e,o):o;return void 0===s||WP(s)||(n[r]={update:s}),n}),{});return WP(y)||a.set("encode",y,!!o.encoding||void 0!==o.labelAngle),a}function EZ(e,t){const{config:n}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},HV(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),MV("x",e,{defaultPos:"mid"})),MV("y",e,{defaultPos:"mid"})),_V("size",e)),_V("angle",e)),function(e,t,n){return n?{shape:{value:n}}:_V("shape",e)}(e,0,t))}function AZ(e){var t;const{config:n,markDef:r}=e,{orient:i}=r,o="horizontal"===i?"width":"height",a=e.getScaleComponent("horizontal"===i?"x":"y"),s=null!==(t=BN("size",r,n,{vgChannel:o}))&&void 0!==t?t:n.tick.bandSize;if(void 0!==s)return s;{const e=a?a.get("range"):void 0;return e&&TN(e)&&we(e.step)?3*e.step/4:3*l$(n.view,o)/4}}const LZ={arc:{vgMark:"arc",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},HV(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),MV("x",e,{defaultPos:"mid"})),MV("y",e,{defaultPos:"mid"})),AV(e,"radius")),AV(e,"theta"))},area:{vgMark:"area",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign({},HV(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"})),RV("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===e.markDef.orient})),RV("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===e.markDef.orient})),FV(e))},bar:{vgMark:"rect",encodeEntry:e=>Object.assign(Object.assign(Object.assign({},HV(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),AV(e,"x")),AV(e,"y"))},circle:{vgMark:"symbol",encodeEntry:e=>EZ(e,"circle")},geoshape:{vgMark:"shape",encodeEntry:e=>Object.assign({},HV(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[Object.assign({type:"geoshape",projection:e.projectionName()},n&&uB(n)&&n.type===SY?{field:SB(n,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign({},HV(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"})),AV(e,"x")),AV(e,"y")),gV(e,"url"))},line:{vgMark:"line",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},HV(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),MV("x",e,{defaultPos:"mid"})),MV("y",e,{defaultPos:"mid"})),_V("size",e,{vgChannel:"strokeWidth"})),FV(e))},point:{vgMark:"symbol",encodeEntry:e=>EZ(e)},rect:{vgMark:"rect",encodeEntry:e=>Object.assign(Object.assign(Object.assign({},HV(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),AV(e,"x")),AV(e,"y"))},rule:{vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return e.encoding.x||e.encoding.y||e.encoding.latitude||e.encoding.longitude?Object.assign(Object.assign(Object.assign(Object.assign({},HV(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),RV("x",e,{defaultPos:"horizontal"===n?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==n})),RV("y",e,{defaultPos:"vertical"===n?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==n})),_V("size",e,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:e=>EZ(e,"square")},text:{vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},HV(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"})),MV("x",e,{defaultPos:"mid"})),MV("y",e,{defaultPos:"mid"})),gV(e)),_V("size",e,{vgChannel:"fontSize"})),_V("angle",e)),YV("align",function(e,t,n){if(void 0===BN("align",e,n))return"center"}(e.markDef,0,t))),YV("baseline",function(e,t,n){if(void 0===BN("baseline",e,n))return"middle"}(e.markDef,0,t))),MV("radius",e,{defaultPos:null})),MV("theta",e,{defaultPos:null}))}},tick:{vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i="horizontal"===r?"width":"height",o="horizontal"===r?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},HV(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),MV("x",e,{defaultPos:"mid",vgChannel:"xc"})),MV("y",e,{defaultPos:"mid",vgChannel:"yc"})),_V("size",e,{defaultValue:AZ(e),vgChannel:i})),{[o]:HN(BN("thickness",n,t))})}},trail:{vgMark:"trail",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},HV(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),MV("x",e,{defaultPos:"mid"})),MV("y",e,{defaultPos:"mid"})),_V("size",e)),FV(e))}};const jZ="faceted_path_",PZ="stack_group_";function IZ(e){var t;const{encoding:n,stack:r,mark:i,markDef:o,config:a}=e,s=n.order;if(!(!I(s)&&gB(s)&&jP(s.value)||!s&&jP(BN("order",o,a)))){if((I(s)||uB(s))&&!r)return VN(s,{expr:"datum"});if(vz(i)){const r="horizontal"===o.orient?"y":"x",i=n[r];if(uB(i)){const n=i.sort;return I(n)?{field:SB(i,{prefix:r,suffix:"sort_index",expr:"datum"})}:Kz(n)?{field:SB({aggregate:aW(e.encoding)?n.op:void 0,field:n.field},{expr:"datum"})}:Gz(n)?{field:SB(e.fieldDef(n.encoding),{expr:"datum"}),order:n.order}:null===n?void 0:{field:SB(i,{binSuffix:(null===(t=e.stack)||void 0===t?void 0:t.impute)?"mid":void 0,expr:"datum"})}}}}}function HZ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""};const{mark:n,markDef:r,encoding:i,config:o}=e,a=oI(r.clip,NZ(e),FZ(e)),s=zN(r),l=i.key,u=IZ(e),c=YZ(e),d=BN("aria",r,o),h=LZ[n].postEncodingTransform?LZ[n].postEncodingTransform(e):null;return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName("marks"),type:LZ[n].vgMark},a?{clip:!0}:{}),s?{style:s}:{}),l?{key:l.field}:{}),u?{sort:u}:{}),c||{}),!1===d?{aria:d}:{}),{from:{data:t.fromPrefix+e.requestDataName($U.Main)},encode:{update:LZ[n].encodeEntry(e)}}),h?{transform:h}:{})]}function NZ(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return!(!(null==t?void 0:t.get("selectionExtent"))&&!(null==n?void 0:n.get("selectionExtent")))||void 0}function FZ(e){const t=e.component.projection;return!(!t||t.isFit)||void 0}function YZ(e){if(!e.component.selection)return null;const t=$P(e.component.selection).length;let n=t,r=e.parent;for(;r&&0===n;)n=$P(r.component.selection).length,r=r.parent;return n?{interactive:t>0||!!e.encoding.tooltip}:null}class zZ extends KK{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0;var o;super(e,"unit",t,n,i,void 0,i$(e)?e.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[];const a=_z(e.mark)?Object.assign({},e.mark):{type:e.mark},s=a.type;void 0===a.filled&&(a.filled=function(e,t,n){let{graticule:r}=n;if(r)return!1;const i=WN("filled",e,t),o=e.type;return oI(i,o!==uz&&o!==lz&&o!==dz)}(a,i,{graticule:e.data&&WU(e.data)}));const l=this.encoding=function(e,t,n,r){const i={};for(const t of $P(e))dH(t)||HF(`${o=t}-encoding is dropped as ${o} is not a valid encoding channel.`);var o,a;for(let o of wH){if(!e[o])continue;const s=e[o];if($H(o)){const e=bH(o),t=i[e];if(uB(t)){if(("quantitative"===(a=t.type)||"temporal"===a)&&uB(s)){HF(sF(e));continue}}else o=e,HF(lF(e))}if("angle"!==o||"arc"!==t||e.theta||(HF("Arc marks uses theta channel rather than angle, replacing angle with theta."),o=kI),lW(e,o,t)){if(o===AI&&"line"===t){const t=PB(e[o]);if(null==t?void 0:t.aggregate){HF("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.");continue}}if(o===TI&&(n?"fill"in e:"stroke"in e))HF(fF("encoding",{fill:"fill"in e,stroke:"stroke"in e}));else if(o===zI||o===YI&&!I(s)&&!gB(s)||o===WI&&I(s))s&&(i[o]=te(s).reduce(((e,t)=>(uB(t)?e.push(FB(t,o)):HF(pF(t,o)),e)),[]));else{if(o===WI&&null===s)i[o]=null;else if(!(uB(s)||dB(s)||gB(s)||aB(s)||CN(s))){HF(pF(s,o));continue}i[o]=HB(s,o,r)}}else HF(mF(o,t))}return i}(e.encoding||{},s,a.filled,i);this.markDef=function(e,t,n){const r=MN(e),i=BN("orient",r,n);if(r.orient=function(e,t,n){switch(e){case uz:case mz:case gz:case hz:case cz:case sz:return}const{x:r,y:i,x2:o,y2:a}=t;switch(e){case az:if(uB(r)&&(bN(r.bin)||uB(i)&&i.aggregate&&!r.aggregate))return"vertical";if(uB(i)&&(bN(i.bin)||uB(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(a||o){if(n)return n;if(!o&&(uB(r)&&r.type===bY&&!vN(r.bin)||fB(r)))return"horizontal";if(!a&&(uB(i)&&i.type===bY&&!vN(i.bin)||fB(i)))return"vertical"}case dz:if(o&&(!uB(r)||!bN(r.bin))&&a&&(!uB(i)||!bN(i.bin)))return;case oz:if(a)return uB(i)&&bN(i.bin)?"horizontal":"vertical";if(o)return uB(r)&&bN(r.bin)?"vertical":"horizontal";if(e===dz){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case lz:case fz:{const t=hB(r),o=hB(i);if(n)return n;if(t&&!o)return"tick"!==e?"horizontal":"vertical";if(!t&&o)return"tick"!==e?"vertical":"horizontal";if(t&&o){const t=r,n=i,o=t.type===_Y,a=n.type===_Y;return o&&!a?"tick"!==e?"vertical":"horizontal":!o&&a?"tick"!==e?"horizontal":"vertical":!t.aggregate&&n.aggregate?"tick"!==e?"vertical":"horizontal":t.aggregate&&!n.aggregate&&"tick"!==e?"horizontal":"vertical"}return}}return"vertical"}(r.type,t,i),void 0!==i&&i!==r.orient&&HF(`Specified orient "${r.orient}" overridden with "${i}".`),"bar"===r.type&&r.orient){const e=BN("cornerRadiusEnd",r,n);if(void 0!==e){const n="horizontal"===r.orient&&t.x2||"vertical"===r.orient&&t.y2?["cornerRadius"]:Oz[r.orient];for(const t of n)r[t]=e;void 0!==r.cornerRadiusEnd&&delete r.cornerRadiusEnd}}return void 0===BN("opacity",r,n)&&(r.opacity=function(e,t){if(PP([uz,fz,mz,gz],e)&&!aW(t))return.7}(r.type,t)),void 0===BN("cursor",r,n)&&(r.cursor=function(e,t,n){return t.href||e.href||BN("href",e,n)?"pointer":e.cursor}(r,t,n)),r}(a,l,i),this.size=function(e){let{encoding:t,size:n}=e;for(const e of NH){const r=yH(e);r$(n[r])&&hB(t[e])&&(delete n[r],HF(CF(r)))}return n}({encoding:l,size:i$(e)?Object.assign(Object.assign(Object.assign({},r),e.width?{width:e.width}:{}),e.height?{height:e.height}:{}):r}),this.stack=j$(s,l),this.specifiedScales=this.initScales(s,l),this.specifiedAxes=this.initAxes(l),this.specifiedLegends=this.initLegends(l),this.specifiedProjection=e.projection,this.selection=(null!==(o=e.params)&&void 0!==o?o:[]).filter((e=>ZW(e)))}get hasProjection(){const{encoding:e}=this,t=this.mark===yz,n=e&&ZI.some((t=>pB(e[t])));return t||n}scaleDomain(e){const t=this.specifiedScales[e];return t?t.domain:void 0}axis(e){return this.specifiedAxes[e]}legend(e){return this.specifiedLegends[e]}initScales(e,t){return nN.reduce(((e,n)=>{var r;const i=IB(t[n]);return i&&(e[n]=this.initScale(null!==(r=i.scale)&&void 0!==r?r:{})),e}),{})}initScale(e){const{domain:t,range:n}=e,r=MN(e);return I(t)&&(r.domain=t.map(PN)),I(n)&&(r.range=n.map(PN)),r}initAxes(e){return NH.reduce(((t,n)=>{const r=e[n];if(pB(r)||n===pI&&pB(e.x2)||n===mI&&pB(e.y2)){const e=pB(r)?r.axis:void 0;t[n]=e?this.initAxis(Object.assign({},e)):e}return t}),{})}initAxis(e){const t=$P(e),n={};for(const r of t){const t=e[r];n[r]=GB(t)?jN(t):PN(t)}return n}initLegends(e){return eN.reduce(((t,n)=>{const r=IB(e[n]);if(r&&function(e){switch(e){case TI:case RI:case DI:case AI:case EI:case jI:case HI:case NI:return!0;case PI:case II:case LI:return!1}}(n)){const e=r.legend;t[n]=e?MN(e):e}return t}),{})}parseData(){this.component.data=wZ(this)}parseLayoutSize(){!function(e){const{size:t,component:n}=e;for(const r of NH){const i=yH(r);if(t[i]){const e=t[i];n.layoutSize.set(i,r$(e)?"step":e,!0)}else{const t=gZ(e,i);n.layoutSize.set(i,t,!1)}}}(this)}parseSelections(){this.component.selection=function(e,t){var n;const r={},i=e.config.selection;if(!t||!t.length)return r;for(const o of t){const t=GP(o.name),a=o.select,s=_e(a)?a:a.type,l=H(a)?RP(a):{type:s},u=i[s];for(const e in u)"fields"!==e&&"encodings"!==e&&("mark"===e&&(l[e]=Object.assign(Object.assign({},u[e]),l[e])),void 0!==l[e]&&!0!==l[e]||(l[e]=null!==(n=u[e])&&void 0!==n?n:l[e]));const c=r[t]=Object.assign(Object.assign({},l),{name:t,type:s,init:o.value,bind:o.bind,events:_e(l.on)?FE(l.on,"scope"):te(RP(l.on))});for(const t of sq)t.defined(c)&&t.parse&&t.parse(e,c,o)}return r}(this,this.selection)}parseMarkGroup(){this.component.mark=function(e){if(PP([lz,oz,pz],e.mark)){const t=hW(e.mark,e.encoding);if(t.length>0)return function(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:jZ+e.requestDataName($U.Main),data:e.requestDataName($U.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:HZ(e,{fromPrefix:jZ})}]}(e,t)}else if(e.mark===az){const t=AN.some((t=>BN(t,e.markDef,e.config)));if(e.stack&&!e.fieldDef("size")&&t)return function(e){var t;const[n]=HZ(e,{fromPrefix:PZ}),r=e.scaleName(e.stack.fieldChannel),i=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.vgField(e.stack.fieldChannel,t)},o=(e,t)=>`${e}(${[i({prefix:"min",suffix:"start",expr:t}),i({prefix:"max",suffix:"start",expr:t}),i({prefix:"min",suffix:"end",expr:t}),i({prefix:"max",suffix:"end",expr:t})].map((e=>`scale('${r}',${e})`)).join(",")})`;let a,s;"x"===e.stack.fieldChannel?(a=Object.assign(Object.assign({},DP(n.encode.update,["y","yc","y2","height",...AN])),{x:{signal:o("min","datum")},x2:{signal:o("max","datum")},clip:{value:!0}}),s={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},n.encode.update=Object.assign(Object.assign({},EP(n.encode.update,["y","yc","y2"])),{height:{field:{group:"height"}}})):(a=Object.assign(Object.assign({},DP(n.encode.update,["x","xc","x2","width"])),{y:{signal:o("min","datum")},y2:{signal:o("max","datum")},clip:{value:!0}}),s={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},n.encode.update=Object.assign(Object.assign({},EP(n.encode.update,["x","xc","x2"])),{width:{field:{group:"width"}}}));for(const t of AN){const r=WN(t,e.markDef,e.config);n.encode.update[t]?(a[t]=n.encode.update[t],delete n.encode.update[t]):r&&(a[t]=HN(r)),r&&(n.encode.update[t]={value:0})}const l=[];if((null===(t=e.stack.groupbyChannels)||void 0===t?void 0:t.length)>0)for(const t of e.stack.groupbyChannels){const n=e.fieldDef(t),r=SB(n);r&&l.push(r),((null==n?void 0:n.bin)||(null==n?void 0:n.timeUnit))&&l.push(SB(n,{binSuffix:"end"}))}return a=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce(((t,r)=>{if(n.encode.update[r])return Object.assign(Object.assign({},t),{[r]:n.encode.update[r]});{const n=WN(r,e.markDef,e.config);return void 0!==n?Object.assign(Object.assign({},t),{[r]:HN(n)}):t}}),a),a.stroke&&(a.strokeForeground={value:!0},a.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName($U.Main),name:PZ+e.requestDataName($U.Main),groupby:l,aggregate:{fields:[i({suffix:"start"}),i({suffix:"start"}),i({suffix:"end"}),i({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:a},marks:[{type:"group",encode:{update:s},marks:[n]}]}]}(e)}return HZ(e)}(this)}parseAxesAndHeaders(){var e;this.component.axes=(e=this,NH.reduce(((t,n)=>(e.component.scales[n]&&(t[n]=[DZ(n,e)]),t)),{}))}assembleSelectionTopLevelSignals(e){return function(e,t){var n;let r=!1;for(const i of UP(null!==(n=e.component.selection)&&void 0!==n?n:{})){const n=i.name,o=xe(n+rq);if(0===t.filter((e=>e.name===n)).length){const e="global"===i.resolve?"union":i.resolve,n="point"===i.type?", true, true)":")";t.push({name:i.name,update:`${aq}(${o}, ${xe(e)}${n}`})}r=!0;for(const n of sq)n.defined(i)&&n.topLevelSignals&&(t=n.topLevelSignals(e,i,t))}if(r){0===t.filter((e=>"unit"===e.name)).length&&t.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]})}return KU(t)}(this,e)}assembleSignals(){return[...Sq(this),...qU(this,[])]}assembleSelectionData(e){return function(e,t){var n;const r=[...t],i=uq(e,{escape:!1});for(const t of UP(null!==(n=e.component.selection)&&void 0!==n?n:{})){const e={name:t.name+rq};if(t.project.hasSelectionId&&(e.transform=[{type:"collect",sort:{field:VW}}]),t.init){const n=t.project.items.map((e=>{const{signals:t}=e;return UU(e,["signals"])}));e.values=t.project.hasSelectionId?t.init.map((e=>({unit:i,[VW]:VU(e,!1)[0]}))):t.init.map((e=>({unit:i,fields:n,values:VU(e,!1)})))}r.filter((e=>e.name===t.name+rq)).length||r.push(e)}return r}(this,e)}assembleLayout(){return null}assembleLayoutSignals(){return Kq(this)}assembleMarks(){var e;let t=null!==(e=this.component.mark)&&void 0!==e?e:[];return this.parent&&qK(this.parent)||(t=GU(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:e}=this.view||{};return void 0!==e?e:this.encoding.x||this.encoding.y?"cell":void 0}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(e){return rW(this.encoding,e)}fieldDef(e){return PB(this.encoding[e])}typedFieldDef(e){const t=this.fieldDef(e);return mB(t)?t:null}}class BZ extends GK{constructor(e,t,n,r,i){super(e,"layer",t,n,i,e.resolve,e.view);const o=Object.assign(Object.assign(Object.assign({},r),e.width?{width:e.width}:{}),e.height?{height:e.height}:{});this.children=e.layer.map(((e,t)=>{if(C$(e))return new BZ(e,this,this.getName(`layer_${t}`),o,i);if(tW(e))return new zZ(e,this,this.getName(`layer_${t}`),o,i);throw new Error(ZN(e))}))}parseData(){this.component.data=wZ(this);for(const e of this.children)e.parseData()}parseLayoutSize(){pZ(this),mZ(this,"width"),mZ(this,"height")}parseSelections(){this.component.selection={};for(const e of this.children){e.parseSelections();for(const t of $P(e.component.selection))this.component.selection[t]=e.component.selection[t]}}parseMarkGroup(){for(const e of this.children)e.parseMarkGroup()}parseAxesAndHeaders(){!function(e){var t;const{axes:n,resolve:r}=e.component,i={top:0,bottom:0,right:0,left:0};for(const t of e.children){t.parseAxesAndHeaders();for(const i of $P(t.component.axes))r.axis[i]=nG(e.component.resolve,i),"shared"===r.axis[i]&&(n[i]=OZ(n[i],t.component.axes[i]),n[i]||(r.axis[i]="independent",delete n[i]))}for(const o of NH){for(const a of e.children)if(a.component.axes[o]){if("independent"===r.axis[o]){n[o]=(null!==(t=n[o])&&void 0!==t?t:[]).concat(a.component.axes[o]);for(const e of a.component.axes[o]){const{value:t,explicit:n}=e.getWithExplicit("orient");if(!CN(t)){if(i[t]>0&&!n){const n=xZ[t];i[t]>i[n]&&e.set("orient",n,!1)}i[t]++}}}delete a.component.axes[o]}if("independent"===r.axis[o]&&n[o]&&n[o].length>1)for(const e of n[o])e.get("grid")&&!e.explicit.grid&&(e.implicit.grid=!1)}}(this)}assembleSelectionTopLevelSignals(e){return this.children.reduce(((e,t)=>t.assembleSelectionTopLevelSignals(e)),e)}assembleSignals(){return this.children.reduce(((e,t)=>e.concat(t.assembleSignals())),Sq(this))}assembleLayoutSignals(){return this.children.reduce(((e,t)=>e.concat(t.assembleLayoutSignals())),Kq(this))}assembleSelectionData(e){return this.children.reduce(((e,t)=>t.assembleSelectionData(e)),e)}assembleGroupStyle(){const e=new Set;for(const t of this.children)for(const n of te(t.assembleGroupStyle()))e.add(n);const t=Array.from(e);return t.length>1?t:1===t.length?t[0]:void 0}assembleTitle(){let e=super.assembleTitle();if(e)return e;for(const t of this.children)if(e=t.assembleTitle(),e)return e}assembleLayout(){return null}assembleMarks(){return function(e,t){for(const n of e.children)$K(n)&&(t=GU(n,t));return t}(this,this.children.flatMap((e=>e.assembleMarks())))}assembleLegends(){return this.children.reduce(((e,t)=>e.concat(t.assembleLegends())),vG(this))}}function WZ(e,t,n,r,i){if(Qz(e))return new vZ(e,t,n,i);if(C$(e))return new BZ(e,t,n,r,i);if(tW(e))return new zZ(e,t,n,r,i);if(function(e){return e$(e)||t$(e)||QW(e)}(e))return new _Z(e,t,n,i);throw new Error(ZN(e))}var $Z=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function UZ(e,t,n,r){const i=r.component.layoutSize.get("width"),o=r.component.layoutSize.get("height");if(void 0===t?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):_e(t)&&(t={type:t}),i&&o&&("fit"===(a=t.type)||"fit-x"===a||"fit-y"===a))if("step"===i&&"step"===o)HF(QN()),t.type="pad";else if("step"===i||"step"===o){const e="step"===i?"width":"height";HF(QN(BH(e)));const n="width"===e?"height":"width";t.type=function(e){return e?`fit-${BH(e)}`:"fit"}(n)}var a;return Object.assign(Object.assign(Object.assign({},1===$P(t).length&&t.type?"pad"===t.type?{}:{autosize:t.type}:{autosize:t}),RU(n,!1)),RU(e,!0))}function VZ(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;const i=e.config?x$(e.config):void 0,o=[].concat(e.assembleSelectionData([]),cZ(e.component.data,n)),a=e.assembleProjections(),s=e.assembleTitle(),l=e.assembleGroupStyle(),u=e.assembleGroupEncodeEntry(!0);let c=e.assembleLayoutSignals();c=c.filter((e=>"width"!==e.name&&"height"!==e.name||void 0===e.value||(t[e.name]=+e.value,!1)));const{params:d}=t,h=$Z(t,["params"]);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({$schema:"https://vega.github.io/schema/vega/v5.json"},e.description?{description:e.description}:{}),h),s?{title:s}:{}),l?{style:l}:{}),u?{encode:{update:u}}:{}),{data:o}),a.length>0?{projections:a}:{}),e.assembleGroup([...c,...e.assembleSelectionTopLevelSignals([]),...JW(d)])),i?{config:i}:{}),r?{usermeta:r}:{})}function qZ(e,t){return JSON.stringify(e,function(e){const t=[];return function(n,r){if("object"!=typeof r||null===r)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}(t))}const GZ="vg-tooltip-element",KZ={offsetX:10,offsetY:10,id:GZ,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2,formatTooltip:function(e,t,n){if(I(e))return`[${e.map((e=>t(_e(e)?e:qZ(e,n)))).join(", ")}]`;if(H(e)){let r="";const i=e,{title:o,image:a}=i,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(i,["title","image"]);o&&(r+=`<h2>${t(o)}</h2>`),a&&(r+=`<img src="${t(a)}">`);const l=Object.keys(s);if(l.length>0){r+="<table>";for(const e of l){let i=s[e];void 0!==i&&(H(i)&&(i=qZ(i,n)),r+=`<tr><td class="key">${t(e)}:</td><td class="value">${t(i)}</td></tr>`)}r+="</table>"}return r||"{}"}return t(e)}};class ZZ{constructor(e){this.options=Object.assign(Object.assign({},KZ),e);const t=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const e=document.createElement("style");e.setAttribute("id",this.options.styleId),e.innerHTML=function(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return"#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black;\n}\n#vg-tooltip-element.visible {\n  visibility: visible;\n}\n#vg-tooltip-element h2 {\n  margin-top: 0;\n  margin-bottom: 10px;\n  font-size: 13px;\n}\n#vg-tooltip-element img {\n  max-width: 200px;\n  max-height: 200px;\n}\n#vg-tooltip-element table {\n  border-spacing: 0;\n}\n#vg-tooltip-element table tr {\n  border: none;\n}\n#vg-tooltip-element table tr td {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n#vg-tooltip-element table tr td.key {\n  color: #808080;\n  max-width: 150px;\n  text-align: right;\n  padding-right: 4px;\n}\n#vg-tooltip-element table tr td.value {\n  display: block;\n  max-width: 300px;\n  max-height: 7em;\n  text-align: left;\n}\n#vg-tooltip-element.dark-theme {\n  background-color: rgba(32, 32, 32, 0.9);\n  border: 1px solid #f5f5f5;\n  color: white;\n}\n#vg-tooltip-element.dark-theme td.key {\n  color: #bfbfbf;\n}\n".toString().replace(GZ,e)}(t);const n=document.head;n.childNodes.length>0?n.insertBefore(e,n.childNodes[0]):n.appendChild(e)}}tooltipHandler(e,t,n,r){var i;if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(null!==(i=document.fullscreenElement)&&void 0!==i?i:document.body).appendChild(this.el)),null==r||""===r)return void this.el.classList.remove("visible",`${this.options.theme}-theme`);this.el.innerHTML=this.options.formatTooltip(r,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:o,y:a}=function(e,t,n,r){let i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);let o=e.clientY+r;return o+t.height>window.innerHeight&&(o=+e.clientY-r-t.height),{x:i,y:o}}(t,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${a}px; left: ${o}px`)}}var XZ=n(59640);class JZ extends m.Z{constructor(e,t){super(e,t),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"_vegaView",void 0),(0,g.registerDestructor)(this,this.destructor)}destructor(){this&&this._vegaView&&this._vegaView.finalize()}async modify(e,t,n){let[]=t,{specType:r,spec:i,data:o,config:a,isVisible:s}=n;if(!e)throw new Error("Vega has no element");this._vegaView?(await this._populateData(o),s&&(0,y.next)((()=>{window.dispatchEvent(new Event("resize"))}))):(await this._createView(e,r,i,a),await this._populateData(o))}async _createView(e,t,n,r){e.classList.add("vega-modifier");let i,o=new ZZ,a={};a=(0,v.xbD)(r)?XZ.g:r,i="vega-lite"===t?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.logger&&PF(t.logger),t.fieldTitle&&TB(t.fieldTitle);try{const n=_$(F(t.config,e.config)),r=SU(e,n),i=WZ(r,null,"",void 0,n);return i.parse(),lK(i.component.data,i),{spec:VZ(i,UZ(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&IF(),t.fieldTitle&&RB()}}(n).spec:n,this._vegaView=new DE(function(e,t,n){return H(e)||x("Input Vega specification must be an object."),function(e,t){const n=t.config,r=yA(t.root=t.add(gA())),i=function(e,t){const n=n=>OA(e[n],t[n]),r=[dP("background",n("background")),dP("autosize",WE(n("autosize"))),dP("padding",UE(n("padding"))),dP("width",n("width")||0),dP("height",n("height")||0)],i=r.reduce(((e,t)=>(e[t.name]=t,e)),{}),o={};return te(e.signals).forEach((e=>{fe(i,e.name)?e=ce(i[e.name],e):r.push(e),o[e.name]=e})),te(t.signals).forEach((e=>{fe(o,e.name)||fe(i,e.name)||r.push(e)})),r}(e,n);i.forEach((e=>fA(e,t))),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const o=t.add(YA()),a=t.add(WA(lA((e=>KE({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e))(e.encode),$L,JE,e.style,t,{pulse:yA(o)}))),s=t.add(uL({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:yA(a)}));t.operators.pop(),t.pushState(yA(a),yA(s),null),cP(e,t,i),t.operators.push(s);let l=t.add(FA({mark:r,pulse:yA(s)}));return l=t.add(oL({pulse:yA(l)})),l=t.add(sL({pulse:yA(l)})),t.addData("root",new Ej(t,o,o,l)),t}(e,new hP(t=F(function(){const e="sans-serif",t="#4c78a8",n="#000",r="#888",i="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:t},area:{fill:t},image:null,line:{stroke:t,strokeWidth:2},path:{stroke:t},rect:{fill:t},rule:{stroke:n},shape:{stroke:t},symbol:{fill:t,size:64},text:{fill:n,font:e,fontSize:11},trail:{fill:t,size:2},style:{"guide-label":{fill:n,font:e,fontSize:10},"guide-title":{fill:n,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:n,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:n,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:i}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:r,grid:!1,gridWidth:1,gridColor:i,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:r,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:i,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:r,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}(),t,e.config),void 0)).toRuntime()}(i,a),{renderer:"svg",container:e,hover:!0,tooltip:o.call}),await this._vegaView.runAsync(),window.dispatchEvent(new Event("resize"))}_populateData(e){for(const t of Object.keys(e))this._vegaView.data(t,e[t]);return this._vegaView.runAsync()}}},59640:(e,t,n)=>{"use strict";n.d(t,{g:()=>r});const r={background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}}},77467:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(57495).helper)((function(e){return Object.assign({},...e)}))},34158:(e,t,n)=>{"use strict";n.d(t,{H:()=>i});var r=n(2780);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[i,o,a]=t,s=new WeakMap,l=a.get;a.get=function(){return s.has(this)||s.set(this,(0,r.createCache)(l.bind(this))),(0,r.getValue)(s.get(this))}}n(84287)},67541:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(87073),i=n.n(r),o=n(34149);const{libraries:a}=i();function s(e,t){let n=!1;return function(){if(!n&&e&&t){let r=(0,o.xk)(e);a.register(r,t),n=!0}}}},1666:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45308),i=n.n(r),o=n(96663),a=n(97362),s=n.n(a);const l=i().extend({tagName:"span",classNames:"latex-maths",attributeBindings:["maths:data-maths"],expr:null,display:!1,throwOnError:!0,errorColor:"#cc0000",maths:(0,o.computed)("expr","display","throwOnError","errorColor",{get(){const e=(0,o.get)(this,"expr"),t=(0,o.get)(this,"element"),n=(0,o.get)(this,"display"),r=(0,o.get)(this,"throwOnError"),i=(0,o.get)(this,"errorColor");return e&&t&&s().render(e,t,{displayMode:n,throwOnError:r,errorColor:i}),e}})})},32774:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A}),n(78099);var r=n(65605),i=n.n(r),o=n(41572),a=n(66683),s=n.n(a),l=n(92917),u=n(56890),c=n(25607),d=n(51872),h=n(96311),f=n(35474),p=n(76534),m=n(72440),g=n(87433),y=n(20118);const v=p.wx;var b=n(44767),w=n(15141),_=n.n(w),k=n(87073),S=n.n(k);const M="4.4.0",x=_().create({VERSION:M,name:"DS"});S().libraries&&S().libraries.registerCoreLibrary("Ember Data",M);const O=x;var C=n(56448),T=n(29569),R=n(2463),D=n(51424);const E=(0,a.has)("@ember-data/debug")||!1;if(o.VERSION.match(/^1\.([0-9]|1[0-2])\./))throw new(i())("Ember Data requires at least Ember 1.13.0, but you have "+o.VERSION+". Please upgrade your version of Ember, then upgrade Ember Data.");O.Store=b.ZP,O.PromiseArray=T.B0,O.PromiseObject=T.YC,O.PromiseManyArray=C.PromiseManyArray,O.Model=h.ZP,O.RootState=T.mT,O.attr=h.Lj,O.Errors=C.Errors,O.InternalModel=T.A,O.Snapshot=T.aC,O.Adapter=l.Z,O.AdapterError=u.ZP,O.InvalidError=u.s7,O.TimeoutError=u.W5,O.AbortError=u._L,O.UnauthorizedError=u.yj,O.ForbiddenError=u.lY,O.NotFoundError=u.dR,O.ConflictError=u.AY,O.ServerError=u.nl,O.errorsHashToArray=u.vX,O.errorsArrayToHash=u.YT,O.Serializer=f.Z,E&&(O.DebugAdapter=s()("@ember-data/debug").default),O.RecordArray=T.gE,O.AdapterPopulatedRecordArray=T.AQ,O.ManyArray=C.ManyArray,O.RecordArrayManager=T.eF,O.RESTAdapter=d.Z,O.BuildURLMixin=l.D,O.RESTSerializer=y.Z,O.JSONSerializer=m.Z,O.JSONAPIAdapter=c.Z,O.JSONAPISerializer=g.Z,O.Transform=v,O.DateTransform=p.Cv,O.StringTransform=p.KP,O.NumberTransform=p.IE,O.BooleanTransform=p.c8,O.EmbeddedRecordsMixin=y.P,O.belongsTo=h.z2,O.hasMany=h.TY,O.Relationship=R.Relationship,O._setupContainer=D.Z,Object.defineProperty(O,"normalizeModelName",{enumerable:!0,writable:!1,configurable:!1,value:b.$Z});const A=O},51424:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(44767);function i(e){!function(e){e.registerOptionsForType("serializer",{singleton:!1}),e.registerOptionsForType("adapter",{singleton:!1}),e.hasRegistration("service:store")||e.register("service:store",r.ZP)}(e)}},38400:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r.ZP});var r=n(44767)},7911:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(57495),i=n.n(r),o=n(84287),a=n(45308),s=n.n(a),l=n(70866);function u(){}class c extends(i()){constructor(){super(...arguments),this.tagName=u,this.componentClass=null}compute(e,t){let n=e[0];return n!==this.tagName&&(this.tagName=n,"string"==typeof n?this.componentClass=(0,l.U)(class extends(s()){constructor(){var e,t;super(...arguments),t=n,(e="tagName")in this?Object.defineProperty(this,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):this[e]=t}},this):(this.componentClass=null,(0,o.runInDebug)((()=>{let e="The argument passed to the `element` helper must be a string";try{e+=` (you passed \`${n}\`)`}catch(e){}})))),this.componentClass}}},3385:(e,t,n)=>{"use strict";n.d(t,{Z:()=>PI});var r={};n.r(r),n.d(r,{cancelAnimationFrame:()=>L,getComparisonFunction:()=>I,hasCaptionProblem:()=>P,isClassListSupported:()=>D,isGetComputedStyleSupported:()=>A,isPassiveEventSupported:()=>H,isTextContentSupported:()=>E,isTouchSupported:()=>j,requestAnimationFrame:()=>R});var i={};n.r(i),n.d(i,{arrayAvg:()=>G,arrayEach:()=>$,arrayFilter:()=>B,arrayFlatten:()=>K,arrayMap:()=>W,arrayMax:()=>V,arrayMin:()=>q,arrayReduce:()=>z,arraySum:()=>U,arrayUnique:()=>Z,extendArray:()=>F,getDifferenceOfArrays:()=>X,getIntersectionOfArrays:()=>J,getUnionOfArrays:()=>Q,pivot:()=>Y,stringToArray:()=>ee,to2dArray:()=>N});var o={};n.r(o),n.d(o,{clone:()=>le,createObjectPropListener:()=>ye,deepClone:()=>se,deepExtend:()=>ae,deepObjectSize:()=>ge,defineGetter:()=>he,duckSchema:()=>re,extend:()=>oe,getProperty:()=>pe,hasOwnProperty:()=>ve,inherit:()=>ie,isObject:()=>de,isObjectEqual:()=>ce,mixin:()=>ue,objectEach:()=>fe,setProperty:()=>me});var a={};n.r(a),n.d(a,{isChrome:()=>Me,isChromeWebKit:()=>xe,isEdge:()=>Re,isEdgeWebKit:()=>De,isFirefox:()=>Oe,isFirefoxWebKit:()=>Ce,isIE:()=>Ee,isIE9:()=>Ae,isIOS:()=>Pe,isIpadOS:()=>Ie,isLinuxOS:()=>Fe,isMSBrowser:()=>Le,isMacOS:()=>Ne,isMobileBrowser:()=>je,isSafari:()=>Te,isWindowsOS:()=>He,setBrowserMeta:()=>ke,setPlatformMeta:()=>Se});var s={};n.r(s),n.d(s,{_injectProductInfo:()=>pt,isDefined:()=>Je,isEmpty:()=>et,isRegExp:()=>tt,isUndefined:()=>Qe,stringify:()=>Xe});var l={};n.r(l),n.d(l,{equalsIgnoreCase:()=>gt,isPercentValue:()=>vt,randomString:()=>yt,sanitize:()=>_t,stripTags:()=>wt,substitute:()=>bt,toUpperCaseFirst:()=>mt});var u={};n.r(u),n.d(u,{HTML_CHARACTERS:()=>Bt,addClass:()=>Ht,addEvent:()=>sn,clearTextSelection:()=>hn,closest:()=>Tt,closestDown:()=>Rt,empty:()=>Yt,fastInnerHTML:()=>Wt,fastInnerText:()=>$t,getCaretPosition:()=>un,getComputedStyle:()=>tn,getCssTransform:()=>bn,getFrameElement:()=>xt,getParent:()=>Mt,getParentWindow:()=>Ot,getScrollLeft:()=>Zt,getScrollTop:()=>Kt,getScrollableElement:()=>Xt,getScrollbarWidth:()=>mn,getSelectionEndPosition:()=>cn,getSelectionText:()=>dn,getStyle:()=>Qt,getTrimmingContainer:()=>Jt,getWindowScrollLeft:()=>Gt,getWindowScrollTop:()=>qt,hasAccessToParentWindow:()=>Ct,hasClass:()=>It,hasHorizontalScrollbar:()=>yn,hasVerticalScrollbar:()=>gn,index:()=>Et,innerHeight:()=>on,innerWidth:()=>an,isChildOf:()=>Dt,isDetached:()=>Mn,isInput:()=>_n,isOutsideInput:()=>kn,isVisible:()=>Ut,matchesCSSRules:()=>en,offset:()=>Vt,outerHeight:()=>rn,outerWidth:()=>nn,overlayContainsElement:()=>At,removeClass:()=>Nt,removeEvent:()=>ln,removeTextNodes:()=>Ft,resetCssTransform:()=>wn,selectElementIfAllowed:()=>Sn,setCaretPosition:()=>fn,setOverlayPosition:()=>vn});var c={};n.r(c),n.d(c,{curry:()=>En,curryRight:()=>An,debounce:()=>Tn,fastCall:()=>Ln,isFunction:()=>xn,partial:()=>Dn,pipe:()=>Rn,throttle:()=>On,throttleAfterHits:()=>Cn});var d={};n.r(d),n.d(d,{KEY_CODES:()=>Pn,isCtrlKey:()=>Fn,isCtrlMetaKey:()=>Yn,isFunctionKey:()=>Nn,isKey:()=>zn,isPrintableChar:()=>Hn});var h={};n.r(h),n.d(h,{isImmediatePropagationStopped:()=>Wn,isLeftClick:()=>Un,isRightClick:()=>$n,stopImmediatePropagation:()=>Bn});var f={};n.r(f),n.d(f,{_dataToHTML:()=>Ir,htmlToGridSettings:()=>Hr,instanceToHTML:()=>Pr});var p={};n.r(p),n.d(p,{isNumeric:()=>zr,isNumericLike:()=>Br,rangeEach:()=>Wr,rangeEachReverse:()=>$r,valueAccordingPercent:()=>Ur});var m={};n.r(m),n.d(m,{cellMethodLookupFactory:()=>Iu,countFirstRowKeys:()=>Nu,createEmptySpreadsheetData:()=>Pu,createSpreadsheetData:()=>Lu,createSpreadsheetObjectData:()=>ju,dataRowToChangesArray:()=>Hu,isArrayOfArrays:()=>Fu,isArrayOfObjects:()=>Yu,spreadsheetColumnIndex:()=>Au,spreadsheetColumnLabel:()=>Eu});var g={};n.r(g),n.d(g,{CONTEXTMENU_ITEMS_ADD_COMMENT:()=>eh,CONTEXTMENU_ITEMS_ALIGNMENT:()=>ih,CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM:()=>dh,CONTEXTMENU_ITEMS_ALIGNMENT_CENTER:()=>ah,CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY:()=>lh,CONTEXTMENU_ITEMS_ALIGNMENT_LEFT:()=>oh,CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE:()=>ch,CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT:()=>sh,CONTEXTMENU_ITEMS_ALIGNMENT_TOP:()=>uh,CONTEXTMENU_ITEMS_BORDERS:()=>hh,CONTEXTMENU_ITEMS_BORDERS_BOTTOM:()=>mh,CONTEXTMENU_ITEMS_BORDERS_LEFT:()=>gh,CONTEXTMENU_ITEMS_BORDERS_RIGHT:()=>ph,CONTEXTMENU_ITEMS_BORDERS_TOP:()=>fh,CONTEXTMENU_ITEMS_CLEAR_COLUMN:()=>qd,CONTEXTMENU_ITEMS_COPY:()=>Gd,CONTEXTMENU_ITEMS_CUT:()=>Kd,CONTEXTMENU_ITEMS_EDIT_COMMENT:()=>th,CONTEXTMENU_ITEMS_FREEZE_COLUMN:()=>Zd,CONTEXTMENU_ITEMS_HIDE_COLUMN:()=>wh,CONTEXTMENU_ITEMS_HIDE_ROW:()=>kh,CONTEXTMENU_ITEMS_INSERT_LEFT:()=>Yd,CONTEXTMENU_ITEMS_INSERT_RIGHT:()=>zd,CONTEXTMENU_ITEMS_MERGE_CELLS:()=>Jd,CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD:()=>bh,CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD:()=>vh,CONTEXTMENU_ITEMS_NO_ITEMS:()=>Hd,CONTEXTMENU_ITEMS_READ_ONLY:()=>Vd,CONTEXTMENU_ITEMS_READ_ONLY_COMMENT:()=>rh,CONTEXTMENU_ITEMS_REDO:()=>Ud,CONTEXTMENU_ITEMS_REMOVE_BORDERS:()=>yh,CONTEXTMENU_ITEMS_REMOVE_COLUMN:()=>Wd,CONTEXTMENU_ITEMS_REMOVE_COMMENT:()=>nh,CONTEXTMENU_ITEMS_REMOVE_ROW:()=>Bd,CONTEXTMENU_ITEMS_ROW_ABOVE:()=>Nd,CONTEXTMENU_ITEMS_ROW_BELOW:()=>Fd,CONTEXTMENU_ITEMS_SHOW_COLUMN:()=>_h,CONTEXTMENU_ITEMS_SHOW_ROW:()=>Sh,CONTEXTMENU_ITEMS_UNDO:()=>$d,CONTEXTMENU_ITEMS_UNFREEZE_COLUMN:()=>Xd,CONTEXTMENU_ITEMS_UNMERGE_CELLS:()=>Qd,CONTEXT_MENU_ITEMS_NAMESPACE:()=>Id,FILTERS_BUTTONS_CANCEL:()=>tf,FILTERS_BUTTONS_CLEAR:()=>Qh,FILTERS_BUTTONS_OK:()=>ef,FILTERS_BUTTONS_PLACEHOLDER_SEARCH:()=>nf,FILTERS_BUTTONS_PLACEHOLDER_SECOND_VALUE:()=>of,FILTERS_BUTTONS_PLACEHOLDER_VALUE:()=>rf,FILTERS_BUTTONS_SELECT_ALL:()=>Jh,FILTERS_CONDITIONS_AFTER:()=>Bh,FILTERS_CONDITIONS_BEFORE:()=>Wh,FILTERS_CONDITIONS_BEGINS_WITH:()=>Eh,FILTERS_CONDITIONS_BETWEEN:()=>Yh,FILTERS_CONDITIONS_BY_VALUE:()=>Ph,FILTERS_CONDITIONS_CONTAINS:()=>Lh,FILTERS_CONDITIONS_EMPTY:()=>Ch,FILTERS_CONDITIONS_ENDS_WITH:()=>Ah,FILTERS_CONDITIONS_EQUAL:()=>Rh,FILTERS_CONDITIONS_GREATER_THAN:()=>Ih,FILTERS_CONDITIONS_GREATER_THAN_OR_EQUAL:()=>Hh,FILTERS_CONDITIONS_LESS_THAN:()=>Nh,FILTERS_CONDITIONS_LESS_THAN_OR_EQUAL:()=>Fh,FILTERS_CONDITIONS_NAMESPACE:()=>xh,FILTERS_CONDITIONS_NONE:()=>Oh,FILTERS_CONDITIONS_NOT_BETWEEN:()=>zh,FILTERS_CONDITIONS_NOT_CONTAIN:()=>jh,FILTERS_CONDITIONS_NOT_EMPTY:()=>Th,FILTERS_CONDITIONS_NOT_EQUAL:()=>Dh,FILTERS_CONDITIONS_TODAY:()=>$h,FILTERS_CONDITIONS_TOMORROW:()=>Uh,FILTERS_CONDITIONS_YESTERDAY:()=>Vh,FILTERS_DIVS_FILTER_BY_CONDITION:()=>qh,FILTERS_DIVS_FILTER_BY_VALUE:()=>Gh,FILTERS_LABELS_CONJUNCTION:()=>Kh,FILTERS_LABELS_DISJUNCTION:()=>Zh,FILTERS_NAMESPACE:()=>Mh,FILTERS_VALUES_BLANK_CELLS:()=>Xh});var y={};n.r(y),n.d(y,{getNormalizedDate:()=>Mv});var v=n(87017),b=n(35198);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}n(53809),n(49229),n(16228),n(41360),n(78141),n(72839),n(66091),n(23074),n(53548),n(45826),n(24937),n(57920),n(65086),n(73479),n(80010),n(66240),n(60324),n(20623),n(36592),n(41134),n(84593),n(60111),n(19199),n(11294),n(16465),n(99962),n(40298),n(29847),n(72422),n(77209),n(36111),n(167),n(41410),n(71893);for(var _,k,S,M=0,x=["ms","moz","webkit","o"],O=window.requestAnimationFrame,C=window.cancelAnimationFrame,T=0;T<x.length&&!O;++T)O=window["".concat(x[T],"RequestAnimationFrame")],C=window["".concat(x[T],"CancelAnimationFrame")]||window["".concat(x[T],"CancelRequestAnimationFrame")];function R(e){return O.call(window,e)}function D(){return!!document.documentElement.classList}function E(){return!!document.createTextNode("test").textContent}function A(){return!!window.getComputedStyle}function L(e){C.call(window,e)}function j(){return"ontouchstart"in window}function P(){return void 0===_&&function(){var e=document.createElement("TABLE");e.style.borderSpacing="0",e.style.borderWidth="0",e.style.padding="0";var t=document.createElement("TBODY");e.appendChild(t),t.appendChild(document.createElement("TR")),t.firstChild.appendChild(document.createElement("TD")),t.firstChild.firstChild.innerHTML="<tr><td>t<br>t</td></tr>";var n=document.createElement("CAPTION");n.innerHTML="c<br>c<br>c<br>c",n.style.padding="0",n.style.margin="0",e.insertBefore(n,t),document.body.appendChild(e),_=e.offsetHeight<2*e.lastChild.offsetHeight,document.body.removeChild(e)}(),_}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return k||(k="object"===("undefined"==typeof Intl?"undefined":w(Intl))?new Intl.Collator(e,t).compare:"function"==typeof String.prototype.localeCompare?function(e,t){return"".concat(e).localeCompare(t)}:function(e,t){return e===t?0:e>t?-1:1})}function H(){if(void 0!==S)return S;try{var e={get passive(){S=!0}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){S=!1}return S}function N(e){for(var t=e.length,n=0;n<t;)e[n]=[e[n]],n+=1}function F(e,t){for(var n=t.length,r=0;r<n;)e.push(t[r]),r+=1}function Y(e){var t=[];if(!e||0===e.length||!e[0]||0===e[0].length)return t;for(var n=e.length,r=e[0].length,i=0;i<n;i++)for(var o=0;o<r;o++)t[o]||(t[o]=[]),t[o][i]=e[i][o];return t}function z(e,t,n,r){var i=-1,o=e,a=n;Array.isArray(e)||(o=Array.from(e));var s=o.length;for(r&&s&&(a=o[i+=1]),i+=1;i<s;)a=t(a,o[i],i,o),i+=1;return a}function B(e,t){var n=0,r=e;Array.isArray(e)||(r=Array.from(e));for(var i=r.length,o=[],a=-1;n<i;){var s=r[n];t(s,n,r)&&(o[a+=1]=s),n+=1}return o}function W(e,t){var n=0,r=e;Array.isArray(e)||(r=Array.from(e));for(var i=r.length,o=[],a=-1;n<i;){var s=r[n];o[a+=1]=t(s,n,r),n+=1}return o}function $(e,t){var n=0,r=e;Array.isArray(e)||(r=Array.from(e));for(var i=r.length;n<i&&!1!==t(r[n],n,r);)n+=1;return e}function U(e){return z(e,(function(e,t){return e+t}),0)}function V(e){return z(e,(function(e,t){return e>t?e:t}),Array.isArray(e)?e[0]:void 0)}function q(e){return z(e,(function(e,t){return e<t?e:t}),Array.isArray(e)?e[0]:void 0)}function G(e){return e.length?U(e)/e.length:0}function K(e){return z(e,(function(e,t){return e.concat(Array.isArray(t)?K(t):t)}),[])}function Z(e){var t=[];return $(e,(function(e){-1===t.indexOf(e)&&t.push(e)})),t}function X(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=[].concat(t),i=r[0],o=r.slice(1),a=i;return $(o,(function(e){a=a.filter((function(t){return!e.includes(t)}))})),a}function J(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=[].concat(t),i=r[0],o=r.slice(1),a=i;return $(o,(function(e){a=a.filter((function(t){return e.includes(t)}))})),a}function Q(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=[].concat(t),i=r[0],o=r.slice(1),a=new Set(i);return $(o,(function(e){$(e,(function(e){a.has(e)||a.add(e)}))})),Array.from(a)}function ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";return e.split(t)}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(e)}function re(e){var t;return Array.isArray(e)?t=[]:(t={},fe(e,(function(e,n){"__children"!==n&&(e&&"object"===ne(e)&&!Array.isArray(e)?t[n]=re(e):Array.isArray(e)?e.length&&"object"===ne(e[0])&&!Array.isArray(e[0])?t[n]=[re(e[0])]:t[n]=[]:t[n]=null)}))),t}function ie(e,t){return t.prototype.constructor=t,e.prototype=new t,e.prototype.constructor=e,e}function oe(e,t,n){var r=Array.isArray(n);return fe(t,(function(t,i){(!1===r||n.includes(i))&&(e[i]=t)})),e}function ae(e,t){fe(t,(function(n,r){t[r]&&"object"===ne(t[r])?(e[r]||(Array.isArray(t[r])?e[r]=[]:"[object Date]"===Object.prototype.toString.call(t[r])?e[r]=t[r]:e[r]={}),ae(e[r],t[r])):e[r]=t[r]}))}function se(e){return"object"===ne(e)?JSON.parse(JSON.stringify(e)):e}function le(e){var t={};return fe(e,(function(e,n){t[n]=e})),t}function ue(e){e.MIXINS||(e.MIXINS=[]);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $(n,(function(t){e.MIXINS.push(t.MIXIN_NAME),fe(t,(function(t,n){if(void 0!==e.prototype[n])throw new Error("Mixin conflict. Property '".concat(n,"' already exist and cannot be overwritten."));var r,i,o;"function"==typeof t?e.prototype[n]=t:Object.defineProperty(e.prototype,n,{get:(r=n,i=t,o="_".concat(r),function(){var e;return void 0===this[o]&&(this[o]=(e=i,(Array.isArray(e)||de(e))&&(e=se(e)),e)),this[o]}),set:function(e){var t="_".concat(e);return function(e){this[t]=e}}(n),configurable:!0})}))})),e}function ce(e,t){return JSON.stringify(e)===JSON.stringify(t)}function de(e){return"[object Object]"===Object.prototype.toString.call(e)}function he(e,t,n,r){r.value=n,r.writable=!1!==r.writable,r.enumerable=!1!==r.enumerable,r.configurable=!1!==r.configurable,Object.defineProperty(e,t,r)}function fe(e,t){for(var n in e)if((!e.hasOwnProperty||e.hasOwnProperty&&Object.prototype.hasOwnProperty.call(e,n))&&!1===t(e[n],n,e))break;return e}function pe(e,t){var n=t.split("."),r=e;return fe(n,(function(e){if(void 0===(r=r[e]))return r=void 0,!1})),r}function me(e,t,n){var r=t.split("."),i=e;r.forEach((function(e,t){t!==r.length-1?(ve(i,e)||(i[e]={}),i=i[e]):i[e]=n}))}function ge(e){return de(e)?function e(t){var n=0;return de(t)?fe(t,(function(t,r){"__children"!==r&&(n+=e(t))})):n+=1,n}(e):0}function ye(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value",r="_".concat(n),i=(te(t={_touched:!1},r,e),te(t,"isTouched",(function(){return this._touched})),t);return Object.defineProperty(i,n,{get:function(){return this[r]},set:function(e){this._touched=!0,this[r]=e},enumerable:!0,configurable:!0}),i}function ve(e,t){return Object.prototype.hasOwnProperty.call(e,t)}O||(O=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-M)),r=window.setTimeout((function(){e(t+n)}),n);return M=t+n,r}),C||(C=function(e){clearTimeout(e)}),n(72398),n(52534);var be=function(e){var t={value:!1,test:function(n,r){t.value=e(n,r)}};return t},we={chrome:be((function(e,t){return/Chrome/.test(e)&&/Google/.test(t)})),chromeWebKit:be((function(e){return/CriOS/.test(e)})),edge:be((function(e){return/Edge/.test(e)})),edgeWebKit:be((function(e){return/EdgiOS/.test(e)})),firefox:be((function(e){return/Firefox/.test(e)})),firefoxWebKit:be((function(e){return/FxiOS/.test(e)})),ie:be((function(e){return/Trident/.test(e)})),ie9:be((function(){return!!document.documentMode})),mobile:be((function(e){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)})),safari:be((function(e,t){return/Safari/.test(e)&&/Apple Computer/.test(t)}))},_e={mac:be((function(e){return/^Mac/.test(e)})),win:be((function(e){return/^Win/.test(e)})),linux:be((function(e){return/^Linux/.test(e)})),ios:be((function(e){return/iPhone|iPad|iPod/i.test(e)}))};function ke(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.userAgent,n=void 0===t?navigator.userAgent:t,r=e.vendor,i=void 0===r?navigator.vendor:r;fe(we,(function(e){(0,e.test)(n,i)}))}function Se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.platform,n=void 0===t?navigator.platform:t;fe(_e,(function(e){(0,e.test)(n)}))}function Me(){return we.chrome.value}function xe(){return we.chromeWebKit.value}function Oe(){return we.firefox.value}function Ce(){return we.firefoxWebKit.value}function Te(){return we.safari.value}function Re(){return we.edge.value}function De(){return we.edgeWebKit.value}function Ee(){return we.ie.value}function Ae(){return we.ie9.value}function Le(){return we.ie.value||we.edge.value}function je(){return we.mobile.value}function Pe(){return _e.ios.value}function Ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator,t=e.maxTouchPoints;return t>2&&_e.mac.value}function He(){return _e.win.value}function Ne(){return _e.mac.value}function Fe(){return _e.linux.value}ke(),Se();var Ye,ze,Be,We,$e,Ue,Ve=n(52601),qe=(n(75532),n(42973),n(96566),n(74389));function Ge(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=z(e,(function(e,t,r){return e+t.replace(/\r?\n\s*/g,"")+(n[r]?n[r]:"")}),"");return i.trim()}function Ke(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ze(e){return Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ze(e)}function Xe(e){var t;switch(Ze(e)){case"string":case"number":t="".concat(e);break;case"object":t=null===e?"":e.toString();break;case"undefined":t="";break;default:t=e.toString()}return t}function Je(e){return void 0!==e}function Qe(e){return void 0===e}function et(e){return null===e||""===e||Qe(e)}function tt(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var nt,rt,it,ot="length",at=function(e){return parseInt(e,16)},st=function(e){return parseInt(e,10)},lt=function(e,t,n){return e.substr(t,n)},ut=function(e){return e.codePointAt(0)-65},ct=function(e){return"".concat(e).replace(/\-/g,"")},dt=!1,ht={invalid:function(){return Ge(Ye||(Ye=Ke(["\n    The license key for Handsontable is invalid. \n    If you need any help, contact us at support@handsontable.com."],["\n    The license key for Handsontable is invalid.\\x20\n    If you need any help, contact us at support@handsontable.com."])))},expired:function(e){var t=e.keyValidityDate,n=e.hotVersion;return Ge(ze||(ze=Ke(["\n    The license key for Handsontable expired on ",", and is not valid for the installed \n    version ",". Renew your license key at handsontable.com or downgrade to a version released prior \n    to ",". If you need any help, contact us at sales@handsontable.com."],["\n    The license key for Handsontable expired on ",", and is not valid for the installed\\x20\n    version ",". Renew your license key at handsontable.com or downgrade to a version released prior\\x20\n    to ",". If you need any help, contact us at sales@handsontable.com."])),t,n,t)},missing:function(){return Ge(Be||(Be=Ke(["\n    The license key for Handsontable is missing. Use your purchased key to activate the product. \n    Alternatively, you can activate Handsontable to use for non-commercial purposes by \n    passing the key: 'non-commercial-and-evaluation'. If you need any help, contact \n    us at support@handsontable.com."],["\n    The license key for Handsontable is missing. Use your purchased key to activate the product.\\x20\n    Alternatively, you can activate Handsontable to use for non-commercial purposes by\\x20\n    passing the key: 'non-commercial-and-evaluation'. If you need any help, contact\\x20\n    us at support@handsontable.com."])))},non_commercial:function(){return""}},ft={invalid:function(){return Ge(We||(We=Ke(['\n    The license key for Handsontable is invalid. \n    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> on how to \n    install it properly or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.'],['\n    The license key for Handsontable is invalid.\\x20\n    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> on how to\\x20\n    install it properly or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.'])))},expired:function(e){var t=e.keyValidityDate,n=e.hotVersion;return Ge($e||($e=Ke(["\n    The license key for Handsontable expired on ",", and is not valid for the installed \n    version ",'. <a href="https://handsontable.com/pricing" target="_blank">Renew</a> your \n    license key or downgrade to a version released prior to ','. If you need any \n    help, contact us at <a href="mailto:sales@handsontable.com">sales@handsontable.com</a>.'],["\n    The license key for Handsontable expired on ",", and is not valid for the installed\\x20\n    version ",'. <a href="https://handsontable.com/pricing" target="_blank">Renew</a> your\\x20\n    license key or downgrade to a version released prior to ','. If you need any\\x20\n    help, contact us at <a href="mailto:sales@handsontable.com">sales@handsontable.com</a>.'])),t,n,t)},missing:function(){return Ge(Ue||(Ue=Ke(['\n    The license key for Handsontable is missing. Use your purchased key to activate the product. \n    Alternatively, you can activate Handsontable to use for non-commercial purposes by \n    passing the key: \'non-commercial-and-evaluation\'. \n    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> about it in \n    the documentation or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.'],['\n    The license key for Handsontable is missing. Use your purchased key to activate the product.\\x20\n    Alternatively, you can activate Handsontable to use for non-commercial purposes by\\x20\n    passing the key: \'non-commercial-and-evaluation\'.\\x20\n    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> about it in\\x20\n    the documentation or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.'])))},non_commercial:function(){return""}};function pt(e,t){var n,r,i=!et(e),o="string"==typeof e&&"non-commercial-and-evaluation"===e.toLowerCase(),a="12.1.3",s="invalid",l="invalid",u=function(e){var t=[][ot],n=t;if(e[ot]!==ut("Z"))return!1;for(var r="",i="B<H4P+".split(""),o=ut(i.shift());o;o=ut(i.shift()||"A"))--o<""[ot]?n|=(st("".concat(st(at(r)+(at(lt(e,Math.abs(o),2))+[]).padStart(2,"0"))))%97||2)>>1:r=lt(e,o,o?1===i[ot]?9:8:6);return n===t}(e=ct(e||""));if(i||o||u)if(u){var c=qe("22/09/2022","DD/MM/YYYY"),d=Math.floor(c.toDate().getTime()/864e5),h=at(lt(ct(r=e),at("12"),ut("F")))/(at(lt(ct(r),ut("B"),~~![][ot]))||9);if(n=qe(864e5*(h+1),"x").format("MMMM DD, YYYY"),d>h){var f=qe().diff(c,"days");s=f<=1?"valid":"expired",l=f<=15?"valid":"expired"}else s="valid",l="valid"}else o?(s="non_commercial",l="valid"):(s="invalid",l="invalid");else s="missing",l="missing";if("undefined"!=typeof location&&/^([a-z0-9\-]+\.)?\x68\x61\x6E\x64\x73\x6F\x6E\x74\x61\x62\x6C\x65\x2E\x63\x6F\x6D$/i.test(location.host)&&(s="valid",l="valid"),dt||"valid"===s||(ht[s]({keyValidityDate:n,hotVersion:a})&&console["non_commercial"===s?"info":"warn"](ht[s]({keyValidityDate:n,hotVersion:a})),dt=!0),"valid"!==l&&t.parentNode&&ft[l]({keyValidityDate:n,hotVersion:a})){var p=document.createElement("div");p.id="hot-display-license-info",p.innerHTML=ft[l]({keyValidityDate:n,hotVersion:a}),t.parentNode.insertBefore(p,t.nextSibling)}}function mt(e){return e[0].toUpperCase()+e.substr(1)}function gt(){for(var e=[],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=n.length;i;){var o=Xe(n[i-=1]).toLowerCase();-1===e.indexOf(o)&&e.push(o)}return 1===e.length}function yt(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+e()+e()}function vt(e){return/^([0-9][0-9]?%$)|(^100%$)/.test(e)}function bt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"".concat(e).replace(/(?:\\)?\[([^[\]]+)]/g,(function(e,n){return"\\"===e.charAt(0)?e.substr(1,e.length-1):void 0===t[n]?"":t[n]}))}function wt(e){return _t("".concat(e),{ALLOWED_TAGS:[]})}function _t(e,t){return Ve.sanitize(e,t)}function kt(e){return function(e){if(Array.isArray(e))return St(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return St(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?St(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mt(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1,r=null,i=e;null!==i;){if(n===t){r=i;break}i.host&&i.nodeType===Node.DOCUMENT_FRAGMENT_NODE?i=i.host:(n+=1,i=i.parentNode)}return r}function xt(e){return Object.getPrototypeOf(e.parent)&&e.frameElement}function Ot(e){return xt(e)&&e.parent}function Ct(e){return!!Object.getPrototypeOf(e.parent)}function Tt(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=Node,i=r.ELEMENT_NODE,o=r.DOCUMENT_FRAGMENT_NODE,a=e;null!=a&&a!==n;){var s=a,l=s.nodeType,u=s.nodeName;if(l===i&&(t.includes(u)||t.includes(a)))return a;var c=a,d=c.host;a=d&&l===o?d:a.parentNode}return null}function Rt(e,t,n){for(var r=[],i=e;i&&(i=Tt(i,t,n))&&(!n||n.contains(i));)r.push(i),i=i.host&&i.nodeType===Node.DOCUMENT_FRAGMENT_NODE?i.host:i.parentNode;var o=r.length;return o?r[o-1]:null}function Dt(e,t){var n=e.parentNode,r=[];for("string"==typeof t?r=e.defaultView?Array.prototype.slice.call(e.querySelectorAll(t),0):Array.prototype.slice.call(e.ownerDocument.querySelectorAll(t),0):r.push(t);null!==n;){if(r.indexOf(n)>-1)return!0;n=n.parentNode}return!1}function Et(e){var t=0,n=e;if(n.previousSibling)for(;n=n.previousSibling;)t+=1;return t}function At(e,t,n){var r=n.parentElement.querySelector(".ht_clone_".concat(e));return r?r.contains(t):null}function Lt(e){return e&&e.length?e.filter((function(e){return!!e})):[]}if(D()){var jt=function(e){var t=e.createElement("div");return t.classList.add("test","test2"),t.classList.contains("test2")};nt=function(e,t){return void 0!==e.classList&&"string"==typeof t&&""!==t&&e.classList.contains(t)},rt=function(e,t){var n,r=e.ownerDocument,i=t;if("string"==typeof i&&(i=i.split(" ")),(i=Lt(i)).length>0)if(jt(r))(n=e.classList).add.apply(n,kt(i));else for(var o=0;i[o];)e.classList.add(i[o]),o+=1},it=function(e,t){var n,r=e.ownerDocument,i=t;if("string"==typeof i&&(i=i.split(" ")),(i=Lt(i)).length>0)if(jt(r))(n=e.classList).remove.apply(n,kt(i));else for(var o=0;i[o];)e.classList.remove(i[o]),o+=1}}else{var Pt=function(e){return new RegExp("(\\s|^)".concat(e,"(\\s|$)"))};nt=function(e,t){return void 0!==e.className&&Pt(t).test(e.className)},rt=function(e,t){var n=e.className,r=t;if("string"==typeof r&&(r=r.split(" ")),r=Lt(r),""===n)n=r.join(" ");else for(var i=0;i<r.length;i++)r[i]&&!Pt(r[i]).test(n)&&(n+=" ".concat(r[i]));e.className=n},it=function(e,t){var n=0,r=e.className,i=t;for("string"==typeof i&&(i=i.split(" ")),i=Lt(i);i[n];)r=r.replace(Pt(i[n])," ").trim(),n+=1;e.className!==r&&(e.className=r)}}function It(e,t){return nt(e,t)}function Ht(e,t){rt(e,t)}function Nt(e,t){it(e,t)}function Ft(e){if(3===e.nodeType)e.parentNode.removeChild(e);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(e.nodeName)>-1)for(var t=e.childNodes,n=t.length-1;n>=0;n--)Ft(t[n])}function Yt(e){for(var t;t=e.lastChild;)e.removeChild(t)}var zt,Bt=/(<(.*)>|&(.*);)/;function Wt(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Bt.test(t)?e.innerHTML=n?_t(t):t:$t(e,t)}function $t(e,t){var n=e.firstChild;n&&3===n.nodeType&&null===n.nextSibling?E?n.textContent=t:n.data=t:(Yt(e),e.appendChild(e.ownerDocument.createTextNode(t)))}function Ut(e){for(var t=e.ownerDocument.documentElement,n=e;n!==t;){if(null===n)return!1;if(n.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(n.host){if(n.host.impl)return Ut(n.host.impl);if(n.host)return Ut(n.host);throw new Error("Lost in Web Components world")}return!1}if(n.style&&"none"===n.style.display)return!1;n=n.parentNode}return!0}function Vt(e){var t,n,r,i,o=e.ownerDocument,a=o.defaultView,s=o.documentElement,l=e;if(P()&&l.firstChild&&"CAPTION"===l.firstChild.nodeName)return{top:(i=l.getBoundingClientRect()).top+(a.pageYOffset||s.scrollTop)-(s.clientTop||0),left:i.left+(a.pageXOffset||s.scrollLeft)-(s.clientLeft||0)};for(t=l.offsetLeft,n=l.offsetTop,r=l;(l=l.offsetParent)&&l!==o.body;)t+=l.offsetLeft,n+=l.offsetTop,r=l;return r&&"fixed"===r.style.position&&(t+=a.pageXOffset||s.scrollLeft,n+=a.pageYOffset||s.scrollTop),{left:t,top:n}}function qt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=e.scrollY;return void 0===t&&(t=e.document.documentElement.scrollTop),t}function Gt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=e.scrollX;return void 0===t&&(t=e.document.documentElement.scrollLeft),t}function Kt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return e===t?qt(t):e.scrollTop}function Zt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return e===t?Gt(t):e.scrollLeft}function Xt(e){var t=e.ownerDocument,n=t?t.defaultView:void 0;t||(n=(t=e.document?e.document:e).defaultView);for(var r=["auto","scroll"],i=A(),o=e.parentNode;o&&o.style&&t.body!==o;){var a=o.style,s=a.overflow,l=a.overflowX,u=a.overflowY;if([s,l,u].includes("scroll"))return o;if(i){var c=n.getComputedStyle(o);if(s=c.overflow,l=c.overflowX,u=c.overflowY,r.includes(s)||r.includes(l)||r.includes(u))return o}if(o.clientHeight<=o.scrollHeight+1&&(r.includes(u)||r.includes(s)))return o;if(o.clientWidth<=o.scrollWidth+1&&(r.includes(l)||r.includes(s)))return o;o=o.parentNode}return n}function Jt(e){for(var t=e.ownerDocument,n=t.defaultView,r=e.parentNode;r&&r.style&&t.body!==r;){if("visible"!==r.style.overflow&&""!==r.style.overflow)return r;var i=tn(r,n),o=["scroll","hidden","auto"],a=i.getPropertyValue("overflow"),s=i.getPropertyValue("overflow-y"),l=i.getPropertyValue("overflow-x");if(o.includes(a)||o.includes(s)||o.includes(l))return r;r=r.parentNode}return n}function Qt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;if(e){if(e===n)return"width"===t?"".concat(n.innerWidth,"px"):"height"===t?"".concat(n.innerHeight,"px"):void 0;var r=e.style[t];if(""!==r&&void 0!==r)return r;var i=tn(e,n);return""!==i[t]&&void 0!==i[t]?i[t]:void 0}}function en(e,t){var n=t.selectorText,r=!1;return t.type===CSSRule.STYLE_RULE&&n&&(e.msMatchesSelector?r=e.msMatchesSelector(n):e.matches&&(r=e.matches(n))),r}function tn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return e.currentStyle||t.getComputedStyle(e)}function nn(e){return e.offsetWidth}function rn(e){return P()&&e.firstChild&&"CAPTION"===e.firstChild.nodeName?e.offsetHeight+e.firstChild.offsetHeight:e.offsetHeight}function on(e){return e.clientHeight||e.innerHeight}function an(e){return e.clientWidth||e.innerWidth}function sn(e,t,n){e.addEventListener(t,n,!1)}function ln(e,t,n){e.removeEventListener(t,n,!1)}function un(e){var t=e.ownerDocument;if(e.selectionStart)return e.selectionStart;if(t.selection){e.focus();var n=t.selection.createRange();if(null===n)return 0;var r=e.createTextRange(),i=r.duplicate();return r.moveToBookmark(n.getBookmark()),i.setEndPoint("EndToStart",r),i.text.length}return 0}function cn(e){var t=e.ownerDocument;if(e.selectionEnd)return e.selectionEnd;if(t.selection){var n=t.selection.createRange();return null===n?0:e.createTextRange().text.indexOf(n.text)+n.text.length}return 0}function dn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=e.document,n="";return e.getSelection?n=e.getSelection().toString():t.selection&&"Control"!==t.selection.type&&(n=t.selection.createRange().text),n}function hn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=e.document;e.getSelection?e.getSelection().empty?e.getSelection().empty():e.getSelection().removeAllRanges&&e.getSelection().removeAllRanges():t.selection&&t.selection.empty()}function fn(e,t,n){if(void 0===n&&(n=t),e.setSelectionRange){e.focus();try{e.setSelectionRange(t,n)}catch(o){var r=e.parentNode,i=r.style.display;r.style.display="block",e.setSelectionRange(t,n),r.style.display=i}}}function pn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.createElement("div");t.style.height="200px",t.style.width="100%";var n=e.createElement("div");n.style.boxSizing="content-box",n.style.height="150px",n.style.left="0px",n.style.overflow="hidden",n.style.position="absolute",n.style.top="0px",n.style.width="200px",n.style.visibility="hidden",n.appendChild(t),(e.body||e.documentElement).appendChild(n);var r=t.offsetWidth;n.style.overflow="scroll";var i=t.offsetWidth;return r===i&&(i=n.clientWidth),(e.body||e.documentElement).removeChild(n),r-i}function mn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return void 0===zt&&(zt=pn(e)),zt}function gn(e){return e.offsetWidth!==e.clientWidth}function yn(e){return e.offsetHeight!==e.clientHeight}function vn(e,t,n){Ae()?(e.style.top=n,e.style.left=t):Te()?e.style["-webkit-transform"]="translate3d(".concat(t,",").concat(n,",0)"):e.style.transform="translate3d(".concat(t,",").concat(n,",0)")}function bn(e){var t;return e.style.transform&&""!==(t=e.style.transform)?["transform",t]:e.style["-webkit-transform"]&&""!==(t=e.style["-webkit-transform"])?["-webkit-transform",t]:-1}function wn(e){e.style.transform&&""!==e.style.transform?e.style.transform="":e.style["-webkit-transform"]&&""!==e.style["-webkit-transform"]&&(e.style["-webkit-transform"]="")}function _n(e){return e&&(["INPUT","SELECT","TEXTAREA"].indexOf(e.nodeName)>-1||"true"===e.contentEditable)}function kn(e){return _n(e)&&!1===e.hasAttribute("data-hot-input")}function Sn(e){kn(e.ownerDocument.activeElement)||e.select()}function Mn(e){return!e.parentNode}function xn(e){return"function"==typeof e}function On(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=0,r={lastCallThrottled:!0},i=null;function o(){for(var o=this,a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];var u=Date.now(),c=!1;r.lastCallThrottled=!0,n||(n=u,c=!0);var d=t-(u-n);return c?(r.lastCallThrottled=!1,e.apply(this,s)):(i&&clearTimeout(i),i=setTimeout((function(){r.lastCallThrottled=!1,e.apply(o,s),n=0,i=void 0}),d)),r}return o}function Cn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=On(e,t),i=n;function o(){i=n}function a(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return i?(i-=1,e.apply(this,n)):r.apply(this,n)}return a.clearHits=o,a}function Tn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=null;function i(){for(var i=this,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r&&clearTimeout(r),r=setTimeout((function(){t=e.apply(i,a)}),n),t}return i}function Rn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t.slice(1);return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return z(i,(function(e,t){return t(e)}),r.apply(this,t))}}function Dn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.apply(this,n.concat(r))}}function En(e){var t=e.length;return function n(r){return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=r.concat(o);return s.length>=t?e.apply(this,s):n(s)}}([])}function An(e){var t=e.length;return function n(r){return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=r.concat(o.reverse());return s.length>=t?e.apply(this,s):n(s)}}([])}function Ln(e,t,n,r,i,o,a,s){return Je(s)?e.call(t,n,r,i,o,a,s):Je(a)?e.call(t,n,r,i,o,a):Je(o)?e.call(t,n,r,i,o):Je(i)?e.call(t,n,r,i):Je(r)?e.call(t,n,r):Je(n)?e.call(t,n):e.call(t)}n(73503);var jn,Pn={ALT:18,ARROW_DOWN:40,ARROW_LEFT:37,ARROW_RIGHT:39,ARROW_UP:38,AUDIO_DOWN:Oe()?182:174,AUDIO_MUTE:Oe()?181:173,AUDIO_UP:Oe()?183:175,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND_LEFT:91,COMMAND_RIGHT:93,COMMAND_FIREFOX:224,CONTROL:17,DELETE:46,END:35,ENTER:13,ESCAPE:27,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,HOME:36,INSERT:45,MEDIA_NEXT:176,MEDIA_PLAY_PAUSE:179,MEDIA_PREV:177,MEDIA_STOP:178,NULL:0,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PERIOD:190,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,A:65,C:67,D:68,F:70,L:76,O:79,P:80,S:83,V:86,X:88,Y:89,Z:90},In=[Pn.ALT,Pn.ARROW_DOWN,Pn.ARROW_LEFT,Pn.ARROW_RIGHT,Pn.ARROW_UP,Pn.AUDIO_DOWN,Pn.AUDIO_MUTE,Pn.AUDIO_UP,Pn.BACKSPACE,Pn.CAPS_LOCK,Pn.DELETE,Pn.END,Pn.ENTER,Pn.ESCAPE,Pn.F1,Pn.F2,Pn.F3,Pn.F4,Pn.F5,Pn.F6,Pn.F7,Pn.F8,Pn.F9,Pn.F10,Pn.F11,Pn.F12,Pn.F13,Pn.F14,Pn.F15,Pn.F16,Pn.F17,Pn.F18,Pn.F19,Pn.HOME,Pn.INSERT,Pn.MEDIA_NEXT,Pn.MEDIA_PLAY_PAUSE,Pn.MEDIA_PREV,Pn.MEDIA_STOP,Pn.NULL,Pn.NUM_LOCK,Pn.PAGE_DOWN,Pn.PAGE_UP,Pn.PAUSE,Pn.SCROLL_LOCK,Pn.SHIFT,Pn.TAB];function Hn(e){return 32===e||e>=48&&e<=57||e>=96&&e<=111||e>=186&&e<=192||e>=219&&e<=222||e>=226||e>=65&&e<=90}function Nn(e){return In.includes(e)}function Fn(e){var t=[];return Ne()?t.push(Pn.COMMAND_LEFT,Pn.COMMAND_RIGHT,Pn.COMMAND_FIREFOX):t.push(Pn.CONTROL),t.includes(e)}function Yn(e){return[Pn.CONTROL,Pn.COMMAND_LEFT,Pn.COMMAND_RIGHT,Pn.COMMAND_FIREFOX].includes(e)}function zn(e,t){var n=t.split("|"),r=!1;return $(n,(function(t){if(e===Pn[t])return r=!0,!1})),r}function Bn(e){e.isImmediatePropagationEnabled=!1,e.cancelBubble=!0}function Wn(e){return!1===e.isImmediatePropagationEnabled}function $n(e){return 2===e.button}function Un(e){return 0===e.button}function Vn(){var e;Je(console)&&(e=console).warn.apply(e,arguments)}function qn(){var e;Je(console)&&(e=console).error.apply(e,arguments)}function Gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Kn,Zn,Xn=["afterCellMetaReset","afterChange","afterContextMenuDefaultOptions","beforeContextMenuSetItems","afterDropdownMenuDefaultOptions","beforeDropdownMenuSetItems","afterContextMenuHide","beforeContextMenuShow","afterContextMenuShow","afterCopyLimit","beforeCreateCol","afterCreateCol","beforeCreateRow","afterCreateRow","afterDeselect","afterDestroy","afterDocumentKeyDown","afterDrawSelection","beforeRemoveCellClassNames","afterGetCellMeta","afterGetColHeader","afterGetRowHeader","afterInit","afterLoadData","afterUpdateData","afterMomentumScroll","afterOnCellCornerMouseDown","afterOnCellCornerDblClick","afterOnCellMouseDown","afterOnCellMouseUp","afterOnCellContextMenu","afterOnCellMouseOver","afterOnCellMouseOut","afterRemoveCol","afterRemoveRow","beforeRenderer","afterRenderer","afterScrollHorizontally","afterScrollVertically","afterSelection","afterSelectionByProp","afterSelectionEnd","afterSelectionEndByProp","afterSetCellMeta","afterRemoveCellMeta","afterSetDataAtCell","afterSetDataAtRowProp","afterSetSourceDataAtCell","afterUpdateSettings","afterValidate","beforeLanguageChange","afterLanguageChange","beforeAutofill","afterAutofill","beforeCellAlignment","beforeChange","beforeChangeRender","beforeDrawBorders","beforeGetCellMeta","beforeRemoveCellMeta","beforeInit","beforeInitWalkontable","beforeLoadData","beforeUpdateData","beforeKeyDown","beforeOnCellMouseDown","beforeOnCellMouseUp","beforeOnCellContextMenu","beforeOnCellMouseOver","beforeOnCellMouseOut","beforeRemoveCol","beforeRemoveRow","beforeViewRender","afterViewRender","beforeRender","afterRender","beforeSetCellMeta","beforeSetRangeStartOnly","beforeSetRangeStart","beforeSetRangeEnd","beforeTouchScroll","beforeValidate","beforeValueRender","construct","init","modifyColHeader","modifyColWidth","modifyRowHeader","modifyRowHeight","modifyData","modifySourceData","modifyRowData","modifyGetCellCoords","beforeHighlightingRowHeader","beforeHighlightingColumnHeader","persistentStateLoad","persistentStateReset","persistentStateSave","beforeColumnSort","afterColumnSort","modifyAutofillRange","modifyCopyableRange","beforeCut","afterCut","beforeCopy","afterCopy","beforePaste","afterPaste","beforeColumnFreeze","afterColumnFreeze","beforeColumnMove","afterColumnMove","beforeColumnUnfreeze","afterColumnUnfreeze","beforeRowMove","afterRowMove","beforeColumnResize","afterColumnResize","beforeRowResize","afterRowResize","afterGetColumnHeaderRenderers","afterGetRowHeaderRenderers","beforeStretchingColumnWidth","beforeFilter","afterFilter","afterFormulasValuesUpdate","afterNamedExpressionAdded","afterNamedExpressionRemoved","afterSheetAdded","afterSheetRenamed","afterSheetRemoved","modifyColumnHeaderHeight","beforeUndo","beforeUndoStackChange","afterUndo","afterUndoStackChange","beforeRedo","beforeRedoStackChange","afterRedo","afterRedoStackChange","modifyRowHeaderWidth","beforeAutofillInsidePopulate","modifyTransformStart","modifyTransformEnd","afterModifyTransformStart","afterModifyTransformEnd","afterViewportRowCalculatorOverride","afterViewportColumnCalculatorOverride","afterPluginsInitialized","beforeHideRows","afterHideRows","beforeUnhideRows","afterUnhideRows","beforeHideColumns","afterHideColumns","beforeUnhideColumns","afterUnhideColumns","beforeTrimRow","afterTrimRow","beforeUntrimRow","afterUntrimRow","beforeDropdownMenuShow","afterDropdownMenuShow","afterDropdownMenuHide","beforeAddChild","afterAddChild","beforeDetachChild","afterDetachChild","afterBeginEditing","beforeMergeCells","afterMergeCells","beforeUnmergeCells","afterUnmergeCells","afterListen","afterUnlisten","afterRefreshDimensions","beforeRefreshDimensions","beforeColumnCollapse","afterColumnCollapse","beforeColumnExpand","afterColumnExpand","modifyAutoColumnSizeSeed"],Jn=Ge(jn||(Kn=['The plugin hook "[hookName]" was removed in Handsontable [removedInVersion]. \n  Please consult release notes https://github.com/handsontable/handsontable/releases/tag/[removedInVersion] to \n  learn about the migration path.'],(Zn=['The plugin hook "[hookName]" was removed in Handsontable [removedInVersion].\\x20\n  Please consult release notes https://github.com/handsontable/handsontable/releases/tag/[removedInVersion] to\\x20\n  learn about the migration path.'])||(Zn=Kn.slice(0)),jn=Object.freeze(Object.defineProperties(Kn,{raw:{value:Object.freeze(Zn)}})))),Qn=new Map([["modifyRow","8.0.0"],["modifyCol","8.0.0"],["unmodifyRow","8.0.0"],["unmodifyCol","8.0.0"],["skipLengthCache","8.0.0"],["hiddenColumn","8.0.0"],["hiddenRow","8.0.0"]]),er=new Map([["beforeAutofillInsidePopulate",'The plugin hook "beforeAutofillInsidePopulate" is deprecated and will be removed in the next major release.']]),tr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.globalBucket=this.createEmptyBucket()}var t,n,r;return t=e,n=[{key:"createEmptyBucket",value:function(){var e=Object.create(null);return $(Xn,(function(t){return e[t]=[]})),e}},{key:"getBucket",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?(e.pluginHookBucket||(e.pluginHookBucket=this.createEmptyBucket()),e.pluginHookBucket):this.globalBucket}},{key:"add",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(Array.isArray(t))$(t,(function(t){return n.add(e,t,r)}));else{Qn.has(e)&&Vn(bt(Jn,{hookName:e,removedInVersion:Qn.get(e)})),er.has(e)&&Vn(er.get(e));var i=this.getBucket(r);if(void 0===i[e]&&(this.register(e),i[e]=[]),t.skip=!1,-1===i[e].indexOf(t)){var o=!1;t.initialHook&&$(i[e],(function(n,r){if(n.initialHook)return i[e][r]=t,o=!0,!1})),o||i[e].push(t)}}return this}},{key:"once",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Array.isArray(t)?$(t,(function(t){return n.once(e,t,r)})):(t.runOnce=!0,this.add(e,t,r))}},{key:"remove",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.getBucket(n);return void 0!==r[e]&&r[e].indexOf(t)>=0&&(t.skip=!0,!0)}},{key:"has",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.getBucket(t);return!(void 0===n[e]||!n[e].length)}},{key:"run",value:function(e,t,n,r,i,o,a,s){var l=this.globalBucket[t],u=l?l.length:0,c=0;if(u)for(;c<u;)if(l[c]&&!l[c].skip){var d=Ln(l[c],e,n,r,i,o,a,s);void 0!==d&&(n=d),l[c]&&l[c].runOnce&&this.remove(t,l[c]),c+=1}else c+=1;var h=this.getBucket(e)[t],f=h?h.length:0,p=0;if(f)for(;p<f;)if(h[p]&&!h[p].skip){var m=Ln(h[p],e,n,r,i,o,a,s);void 0!==m&&(n=m),h[p]&&h[p].runOnce&&this.remove(t,h[p],e),p+=1}else p+=1;return n}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;fe(this.getBucket(e),(function(e,t,n){return n[t].length=0}))}},{key:"register",value:function(e){this.isRegistered(e)||Xn.push(e)}},{key:"deregister",value:function(e){this.isRegistered(e)&&Xn.splice(Xn.indexOf(e),1)}},{key:"isDeprecated",value:function(e){return er.has(e)||Qn.has(e)}},{key:"isRegistered",value:function(e){return Xn.indexOf(e)>=0}},{key:"getRegistered",value:function(){return Xn}}],r=[{key:"getSingleton",value:function(){return nr}}],n&&Gn(t.prototype,n),r&&Gn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),nr=new tr;const rr=tr;function ir(e){return function(e){if(Array.isArray(e))return or(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return or(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?or(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function or(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ar=new Map;function sr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"common";ar.has(e)||ar.set(e,new Map);var t=ar.get(e);function n(e,n){t.set(e,n)}function r(e){return t.get(e)}function i(e){return t.has(e)}function o(){return ir(t.keys())}function a(){return ir(t.values())}return{register:n,getItem:r,hasItem:i,getNames:o,getValues:a}}var lr=new WeakMap,ur=sr("editors"),cr=ur.register,dr=ur.getItem,hr=ur.hasItem,fr=ur.getNames;function pr(e){var t={},n=e;this.getConstructor=function(){return e},this.getInstance=function(e){return e.guid in t||(t[e.guid]=new n(e)),t[e.guid]},rr.getSingleton().add("afterDestroy",(function(){t[this.guid]=null}))}function mr(e,t){var n;if("function"==typeof e)lr.get(e)||yr(null,e),n=lr.get(e);else{if("string"!=typeof e)throw Error('Only strings and functions can be passed as "editor" parameter');n=dr(e)}if(!n)throw Error('No editor registered under name "'.concat(e,'"'));return n.getInstance(t)}function gr(e){if(!hr(e))throw Error('No registered editor found under "'.concat(e,'" name'));return dr(e).getConstructor()}function yr(e,t){e&&"string"!=typeof e&&(e=(t=e).EDITOR_TYPE);var n=new pr(t);"string"==typeof e&&cr(e,n),lr.set(t,n)}function vr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}ur.getValues;var wr=0;function _r(e){var t=e.stopImmediatePropagation;return e.stopImmediatePropagation=function(){t.apply(this),Bn(this)},e}const kr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;vr(this,e),this.context=t||this,this.context.eventListeners||(this.context.eventListeners=[])}var t,n;return t=e,n=[{key:"addEventListener",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];function o(e){n.call(this,_r(e))}return"boolean"==typeof i||H()||(i=!1),this.context.eventListeners.push({element:e,event:t,callback:n,callbackProxy:o,options:i,eventManager:this}),e.addEventListener(t,o,i),wr+=1,function(){r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){for(var r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.context.eventListeners.length;o;)if(o-=1,(r=this.context.eventListeners[o]).event===t&&r.element===e){if(n&&n!==r.callback)continue;if(i&&r.eventManager!==this)continue;this.context.eventListeners.splice(o,1),r.element.removeEventListener(r.event,r.callbackProxy,r.options),wr-=1}}},{key:"clearEvents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.context)for(var t=this.context.eventListeners.length;t;){t-=1;var n=this.context.eventListeners[t];e&&n.eventManager!==this||(this.context.eventListeners.splice(t,1),n.element.removeEventListener(n.event,n.callbackProxy,n.options),wr-=1)}}},{key:"clear",value:function(){this.clearEvents()}},{key:"destroy",value:function(){this.clearEvents(),this.context=null}},{key:"destroyWithOwnEventsOnly",value:function(){this.clearEvents(!0),this.context=null}},{key:"fireEvent",value:function(e,t){var n=e.document,r=e;n||(r=(n=e.ownerDocument?e.ownerDocument:e).defaultView);var i,o={bubbles:!0,cancelable:"mousemove"!==t,view:r,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0};n.createEvent?(i=n.createEvent("MouseEvents")).initMouseEvent(t,o.bubbles,o.cancelable,o.view,o.detail,o.screenX,o.screenY,o.clientX,o.clientY,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.button,o.relatedTarget||n.body.parentNode):i=n.createEventObject(),e.dispatchEvent?e.dispatchEvent(i):e.fireEvent("on".concat(t),i)}}],n&&br(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var xr="editorManager.navigation",Or="editorManager.handlingEditor",Cr=function(){function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.instance=t,this.tableMeta=n,this.selection=r,this.eventManager=new kr(t),this.destroyed=!1,this.lock=!1,this.activeEditor=void 0,this.cellProperties=void 0,this.instance.getShortcutManager().addContext("editor"),this.registerShortcuts(),this.instance.addHook("afterDocumentKeyDown",(function(e){return i.onAfterDocumentKeyDown(e)})),this.eventManager.addEventListener(this.instance.rootDocument.documentElement,"compositionstart",(function(e){!i.destroyed&&i.instance.isListening()&&i.openEditor("",e)})),this.instance.view._wt.update("onCellDblClick",(function(e,t,n){return i.onCellDblClick(e,t,n)}))}var t,n;return t=e,n=[{key:"registerShortcuts",value:function(){var e=this,t=this.instance.getShortcutManager(),n=t.getContext("grid"),r=t.getContext("editor"),i={group:Or};r.addShortcuts([{keys:[["Enter"],["Enter","Shift"],["Enter","Control/Meta"],["Enter","Control/Meta","Shift"]],callback:function(n,r){e.closeEditorAndSaveChanges(t.isCtrlPressed()),e.moveSelectionAfterEnter(r.includes("shift"))}},{keys:[["Escape"],["Escape","Control/Meta"]],callback:function(){e.closeEditorAndRestoreOriginalValue(t.isCtrlPressed()),e.activeEditor.focus()}}],i),n.addShortcuts([{keys:[["F2"]],callback:function(t){e.openEditor(null,t,!0)}},{keys:[["Backspace"],["Delete"]],callback:function(){e.instance.emptySelectedCells(),e.prepareEditor()}},{keys:[["Enter"],["Enter","Shift"]],callback:function(t,n){e.instance.getSettings().enterBeginsEditing?e.cellProperties.readOnly?e.moveSelectionAfterEnter():e.openEditor(null,t,!0):e.moveSelectionAfterEnter(n.includes("shift")),Bn(t)}}],i)}},{key:"lockEditor",value:function(){this.lock=!0}},{key:"unlockEditor",value:function(){this.lock=!1}},{key:"destroyEditor",value:function(e){this.lock||this.closeEditor(e)}},{key:"getActiveEditor",value:function(){return this.activeEditor}},{key:"prepareEditor",value:function(){var e,t,n=this;if(!this.lock)if(this.activeEditor&&this.activeEditor.isWaiting())this.closeEditor(!1,!1,(function(e){e&&n.prepareEditor()}));else{var r=this.instance.getSelectedRangeLast().highlight,i=r.row,o=r.col,a=this.instance.runHooks("modifyGetCellCoords",i,o),s=i,l=o;if(Array.isArray(a)){var u=(t=2,function(e){if(Array.isArray(e))return e}(e=a)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Sr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());s=u[0],l=u[1]}this.cellProperties=this.instance.getCellMeta(s,l);var c=this.instance.rootDocument.activeElement;if(c&&c.blur(),this.isCellEditable()){var d=this.instance.getCell(i,o,!0);if(d){var h=this.instance.getCellEditor(this.cellProperties),f=this.instance.colToProp(l),p=this.instance.getSourceDataAtCell(this.instance.toPhysicalRow(s),l);this.activeEditor=mr(h,this.instance),this.activeEditor.prepare(i,o,f,d,p,this.cellProperties)}}else this.clearActiveEditor()}}},{key:"isEditorOpened",value:function(){return this.activeEditor&&this.activeEditor.isOpened()}},{key:"openEditor",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.isCellEditable()){if(!this.activeEditor){var r=this.instance.getSelectedRangeLast().highlight,i=r.row,o=r.col,a=this.instance.rowIndexMapper.getRenderableFromVisualIndex(i),s=this.instance.columnIndexMapper.getRenderableFromVisualIndex(o);this.instance.view.scrollViewport(this.instance._createCellCoords(a,s)),this.instance.view.render(),this.prepareEditor()}this.activeEditor&&(n&&this.activeEditor.enableFullEditMode(),this.activeEditor.beginEditing(e,t))}else this.clearActiveEditor()}},{key:"closeEditor",value:function(e,t,n){this.activeEditor?this.activeEditor.finishEditing(e,t,n):n&&n(!1)}},{key:"closeEditorAndSaveChanges",value:function(e){this.closeEditor(!1,e)}},{key:"closeEditorAndRestoreOriginalValue",value:function(e){this.closeEditor(!0,e)}},{key:"clearActiveEditor",value:function(){this.activeEditor=void 0}},{key:"isCellEditable",value:function(){var e=this.instance.getCellEditor(this.cellProperties),t=this.instance.getSelectedRangeLast().highlight,n=t.row,r=t.col,i=this.instance,o=i.rowIndexMapper,a=i.columnIndexMapper,s=o.isHidden(this.instance.toPhysicalRow(n))||a.isHidden(this.instance.toPhysicalColumn(r));return!(this.cellProperties.readOnly||!e||s)}},{key:"moveSelectionAfterEnter",value:function(e){var t="function"==typeof this.tableMeta.enterMoves?this.tableMeta.enterMoves(event):this.tableMeta.enterMoves;e?this.selection.transformStart(-t.row,-t.col):this.selection.transformStart(t.row,t.col,!0)}},{key:"onAfterDocumentKeyDown",value:function(e){var t=this;if(this.instance.isListening()){var n=e.keyCode;if(this.selection.isSelected()){var r=(e.ctrlKey||e.metaKey)&&!e.altKey;if((!this.activeEditor||this.activeEditor&&!this.activeEditor.isWaiting())&&!(Nn(n)||Yn(n)||r||this.isEditorOpened())){var i=this.instance.getShortcutManager().getContext("editor"),o={runOnlyIf:function(){return Je(t.instance.getSelected())},group:xr};i.addShortcuts([{keys:[["ArrowUp"]],callback:function(){t.instance.selection.transformStart(-1,0)}},{keys:[["ArrowDown"]],callback:function(){t.instance.selection.transformStart(1,0)}},{keys:[["ArrowLeft"]],callback:function(){t.instance.selection.transformStart(0,-1*t.instance.getDirectionFactor())}},{keys:[["ArrowRight"]],callback:function(){t.instance.selection.transformStart(0,t.instance.getDirectionFactor())}}],o),this.openEditor("",e)}}}}},{key:"onCellDblClick",value:function(e,t,n){"TD"===n.nodeName&&this.openEditor(null,e,!0)}},{key:"destroy",value:function(){this.destroyed=!0,this.eventManager.destroy()}}],n&&Mr(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Tr=new WeakMap;Cr.getInstance=function(e,t,n){var r=Tr.get(e);return r||(r=new Cr(e,t,n),Tr.set(e,r)),r};const Rr=Cr;function Dr(e){return function(e){if(Array.isArray(e))return Er(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Er(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Er(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Er(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(44991),n(73390),n(22569),n(22579),n(76198);var Ar={"&nbsp;":" ","&amp;":"&","&lt;":"<","&gt;":">"},Lr=new RegExp(Object.keys(Ar).map((function(e){return"(".concat(e,")")})).join("|"),"gi");function jr(e){return"TABLE"===(e&&e.nodeName||"")}function Pr(e){for(var t=e.hasColHeaders(),n=e.hasRowHeaders(),r=[t?-1:0,n?-1:0,e.countRows()-1,e.countCols()-1],i=e.getData.apply(e,r),o=i.length,a=o>0?i[0].length:0,s=["<table>","</table>"],l=t?["<thead>","</thead>"]:[],u=["<tbody>","</tbody>"],c=n?1:0,d=t?1:0,h=0;h<o;h+=1){for(var f=t&&0===h,p=[],m=0;m<a;m+=1){var g=!f&&n&&0===m,y="";if(f)y="<th>".concat(e.getColHeader(m-c),"</th>");else if(g)y="<th>".concat(e.getRowHeader(h-d),"</th>");else{var v=i[h][m],b=e.getCellMeta(h-d,m-c),w=b.hidden,_=b.rowspan,k=b.colspan;if(!w){var S=[];if(_&&S.push('rowspan="'.concat(_,'"')),k&&S.push('colspan="'.concat(k,'"')),et(v))y="<td ".concat(S.join(" "),"></td>");else{var M=v.toString().replace("<","&lt;").replace(">","&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,"<br>\r\n").replace(/\x20/gi,"&nbsp;").replace(/\t/gi,"&#9;");y="<td ".concat(S.join(" "),">").concat(M,"</td>")}}}p.push(y)}var x=["<tr>"].concat(p,["</tr>"]).join("");f?l.splice(1,0,x):u.splice(-1,0,x)}return s.splice(1,0,l.join(""),u.join("")),s.join("")}function Ir(e){for(var t=e.length,n=["<table>"],r=0;r<t;r+=1){var i=e[r],o=i.length,a=[];0===r&&n.push("<tbody>");for(var s=0;s<o;s+=1){var l=i[s],u=et(l)?"":l.toString().replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,"<br>\r\n").replace(/\x20/gi,"&nbsp;").replace(/\t/gi,"&#9;");a.push("<td>".concat(u,"</td>"))}n.push.apply(n,["<tr>"].concat(a,["</tr>"])),r+1===t&&n.push("</tbody>")}return n.push("</table>"),n.join("")}function Hr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n={},r=t.createDocumentFragment(),i=t.createElement("div");r.appendChild(i);var o=e;if("string"==typeof o){var a=o.replace(/<td\b[^>]*?>([\s\S]*?)<\/\s*td>/g,(function(e){var t=e.match(/<td\b[^>]*?>/g)[0],n=e.substring(t.length,e.lastIndexOf("<")).replace(/(<(?!br)([^>]+)>)/gi,"");return"".concat(t).concat(n).concat("</td>")}));i.insertAdjacentHTML("afterbegin","".concat(a)),o=i.querySelector("table")}if(o&&jr(o)){var s=i.querySelector('meta[name$="enerator"]'),l=null!==o.querySelector("tbody th"),u=o.querySelector("tr"),c=u?Array.from(u.cells).reduce((function(e,t){return e+t.colSpan}),0)-(l?1:0):0,d=o.tFoot&&Array.from(o.tFoot.rows)||[],h=[],f=!1,p=0,m=0;if(o.tHead){var g=Array.from(o.tHead.rows).filter((function(e){var t=null!==e.querySelector("td");return t&&h.push(e),!t}));f=(p=g.length)>0,p>1?n.nestedHeaders=Array.from(g).reduce((function(e,t){var n=Array.from(t.cells).reduce((function(e,t,n){if(l&&0===n)return e;var r=t.colSpan,i=t.innerHTML,o=r>1?{label:i,colspan:r}:i;return e.push(o),e}),[]);return e.push(n),e}),[]):f&&(n.colHeaders=Array.from(g[0].children).reduce((function(e,t,n){return l&&0===n||e.push(t.innerHTML),e}),[]))}h.length&&(n.fixedRowsTop=h.length),d.length&&(n.fixedRowsBottom=d.length);var y=[].concat(h,Dr(Array.from(o.tBodies).reduce((function(e,t){return e.push.apply(e,Dr(Array.from(t.rows))),e}),[])),Dr(d));m=y.length;for(var v=new Array(m),b=0;b<m;b++)v[b]=new Array(c);for(var w=[],_=[],k=0;k<m;k++)for(var S=y[k],M=Array.from(S.cells),x=M.length,O=0;O<x;O++){var C=M[O],T=C.nodeName,R=C.innerHTML,D=C.rowSpan,E=C.colSpan,A=v[k].findIndex((function(e){return void 0===e}));if("TD"===T){if(D>1||E>1){for(var L=k;L<k+D;L++)if(L<m)for(var j=A;j<A+E;j++)v[L][j]=null;var P=C.getAttribute("style"),I=P&&P.includes("mso-ignore:colspan");I||w.push({col:A,row:k,rowspan:D,colspan:E})}var H="";H=s&&/excel/gi.test(s.content)?R.replace(/[\r\n][\x20]{0,2}/g," ").replace(/<br(\s*|\/)>[\r\n]?[\x20]{0,3}/gim,"\r\n"):R.replace(/<br(\s*|\/)>[\r\n]?/gim,"\r\n"),v[k][A]=H.replace(Lr,(function(e){return Ar[e]}))}else _.push(R)}return w.length&&(n.mergeCells=w),_.length&&(n.rowHeaders=_),v.length&&(n.data=v),n}}function Nr(e){return function(e){if(Array.isArray(e))return Fr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Fr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yr(e){return Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yr(e)}function zr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Yr(e);if("number"===n)return!isNaN(e)&&isFinite(e);if("string"===n){if(0===e.length)return!1;if(1===e.length)return/\d/.test(e);var r=Array.from(new Set(["."].concat(Nr(t)))).map((function(e){return"\\".concat(e)})).join("|");return new RegExp("^[+-]?\\s*(((".concat(r,")?\\d+((").concat(r,")\\d+)?(e[+-]?\\d+)?)|(0x[a-f\\d]+))$"),"i").test(e.trim())}return"object"===n&&!(!e||"number"!=typeof e.valueOf()||e instanceof Date)}function Br(e){return zr(e,[","])}function Wr(e,t,n){var r=-1;for("function"==typeof t?(n=t,t=e):r=e-1;++r<=t&&!1!==n(r););}function $r(e,t,n){var r=e+1;for("function"==typeof t&&(n=t,t=0);--r>=t&&!1!==n(r););}function Ur(e,t){return t=parseInt(t.toString().replace("%",""),10),t=isNaN(t)?0:t,parseInt(e*t/100,10)}function Vr(e){return function(e){if(Array.isArray(e))return Kr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Gr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||Gr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gr(e,t){if(e){if("string"==typeof e)return Kr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kr(e,t):void 0}}function Kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zr="asc",Xr=new Map([[Zr,[-1,1]],["desc",[1,-1]]]),Jr=function(e){return"The priority '".concat(e,"' is already declared in a map.")},Qr=function(e){return"The priority '".concat(e,"' is not a number.")};function ei(e){return function(e){if(Array.isArray(e))return ri(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ni(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ti(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||ni(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ni(e,t){if(e){if("string"==typeof e)return ri(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ri(e,t):void 0}}function ri(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(73732);var ii=function(e){return"The id '".concat(e,"' is already declared in a map.")};function oi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.errorIdExists,n=new Map;function r(e,r){if(u(e))throw new Error(t(e));n.set(e,r)}function i(e){return n.delete(e)}function o(){n.clear()}function a(e){var t=l().find((function(t){var n=ti(t,2),r=n[0],i=n[1];return e===i&&r}))||[null];return ti(t,1)[0]}function s(e){return n.get(e)}function l(){return ei(n)}function u(e){return n.has(e)}return t=xn(t)?t:ii,{addItem:r,clear:o,getId:a,getItem:s,getItems:l,hasItem:u,removeItem:i}}function ai(e){return function(e){if(Array.isArray(e))return si(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return si(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?si(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function si(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var li=function(e){return"'".concat(e,"' value is already declared in a unique set.")};function ui(e){return function(e){if(Array.isArray(e))return di(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ci(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ci(e,t){if(e){if("string"==typeof e)return di(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?di(e,t):void 0}}function di(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hi=function(e){return'There is already registered "'.concat(e,'" plugin.')},fi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.errorPriorityExists,n=e.errorPriorityNaN,r=new Map;function i(e,i){if(!zr(e))throw new Error(n(e));if(r.has(e))throw new Error(t(e));r.set(e,i)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zr,t=Xr.get(e)||Xr.get(Zr),n=qr(t,2),i=n[0],o=n[1];return Vr(r).sort((function(e,t){return e[0]<t[0]?i:o})).map((function(e){return e[1]}))}return t=xn(t)?t:Jr,n=xn(n)?n:Qr,{addItem:i,getItems:o}}({errorPriorityExists:function(e){return'There is already registered plugin on priority "'.concat(e,'".')},errorPriorityNaN:function(e){return'The priority "'.concat(e,'" is not a number.')}}),pi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.errorItemExists,n=new Set;function r(e){if(n.has(e))throw new Error(t(e));n.add(e)}function i(){return ai(n)}function o(){n.clear()}return t=xn(t)?t:li,{addItem:r,clear:o,getItems:i}}({errorItemExists:hi}),mi=oi({errorIdExists:hi});function gi(){return[].concat(ui(fi.getItems()),ui(pi.getItems()))}function yi(e){var t=mt(e);return mi.getItem(t)}function vi(e,t,n){var r,i,o=function(e,t,n){return"function"==typeof e&&(e=(t=e).PLUGIN_KEY,n=t.PLUGIN_PRIORITY),[e,t,n]}(e,t,n),a=(i=3,function(e){if(Array.isArray(e))return e}(r=o)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(r,i)||ci(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());e=a[0],t=a[1],n=a[2],void 0===yi(e)&&function(e,t,n){var r=mt(e);if(mi.hasItem(r))throw new Error(hi(r));void 0===n?pi.addItem(r):fi.addItem(n,r),mi.addItem(r,t)}(e,t,n)}var bi=sr("renderers"),wi=bi.register,_i=bi.getItem,ki=bi.hasItem,Si=bi.getNames;function Mi(e){if("function"==typeof e)return e;if(!ki(e))throw Error('No registered renderer found under "'.concat(e,'" name'));return _i(e)}function xi(e,t){"string"!=typeof e&&(e=(t=e).RENDERER_TYPE),wi(e,t)}bi.getValues;var Oi=sr("validators"),Ci=Oi.register,Ti=Oi.getItem,Ri=Oi.hasItem,Di=Oi.getNames;function Ei(e){if("function"==typeof e)return e;if(!Ri(e))throw Error('No registered validator found under "'.concat(e,'" name'));return Ti(e)}function Ai(e,t){"string"!=typeof e&&(e=(t=e).VALIDATOR_TYPE),Ci(e,t)}function Li(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ji(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Oi.getValues,n(74557),n(44497);var Pi=new WeakMap,Ii=function(){function e(t,n,r,i,o,a){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Li(this,e),this.wtSettings=r,this.domBindings=n,this.wtTable=o,this.selections=a,this.parent=s,this.eventManager=i,this.facadeGetter=t,Pi.set(this,{selectedCellBeforeTouchEnd:void 0,dblClickTimeout:[null,null],dblClickOrigin:[null,null]}),this.registerEvents()}var t,n;return t=e,n=[{key:"registerEvents",value:function(){var e=this;this.eventManager.addEventListener(this.wtTable.holder,"contextmenu",(function(t){return e.onContextMenu(t)})),this.eventManager.addEventListener(this.wtTable.TABLE,"mouseover",(function(t){return e.onMouseOver(t)})),this.eventManager.addEventListener(this.wtTable.TABLE,"mouseout",(function(t){return e.onMouseOut(t)}));var t=function(){e.eventManager.addEventListener(e.wtTable.holder,"touchstart",(function(t){return e.onTouchStart(t)})),e.eventManager.addEventListener(e.wtTable.holder,"touchend",(function(t){return e.onTouchEnd(t)})),e.momentumScrolling||(e.momentumScrolling={}),e.eventManager.addEventListener(e.wtTable.holder,"scroll",(function(){clearTimeout(e.momentumScrolling._timeout),e.momentumScrolling.ongoing||e.wtSettings.getSetting("onBeforeTouchScroll"),e.momentumScrolling.ongoing=!0,e.momentumScrolling._timeout=setTimeout((function(){e.touchApplied||(e.momentumScrolling.ongoing=!1,e.wtSettings.getSetting("onAfterMomentumScroll"))}),200)}))};je()?t():(j()&&t(),e.eventManager.addEventListener(e.wtTable.holder,"mouseup",(function(t){return e.onMouseUp(t)})),e.eventManager.addEventListener(e.wtTable.holder,"mousedown",(function(t){return e.onMouseDown(t)})))}},{key:"selectedCellWasTouched",value:function(e){var t=Pi.get(this),n=this.parentCell(e).coords;if(t.selectedCellBeforeTouchEnd&&n){var r=[n.row,t.selectedCellBeforeTouchEnd.from.row],i=r[0],o=r[1],a=[n.col,t.selectedCellBeforeTouchEnd.from.col];return i===o&&a[0]===a[1]}return!1}},{key:"parentCell",value:function(e){var t={},n=Rt(e,["TD","TH"],this.wtTable.TABLE);return n?(t.coords=this.wtTable.getCoords(n),t.TD=n):It(e,"wtBorder")&&It(e,"current")?(t.coords=this.selections.getCell().cellRange.highlight,t.TD=this.wtTable.getCell(t.coords)):It(e,"wtBorder")&&It(e,"area")&&this.selections.createOrGetArea().cellRange&&(t.coords=this.selections.createOrGetArea().cellRange.to,t.TD=this.wtTable.getCell(t.coords)),t}},{key:"onMouseDown",value:function(e){var t=Pi.get(this),n=this.domBindings.rootDocument.activeElement,r=Dn(Mt,e.target),i=e.target;if(i!==n&&r(0)!==n&&r(1)!==n){var o=this.parentCell(i);It(i,"corner")?this.wtSettings.getSetting("onCellCornerMouseDown",e,i):o.TD&&this.wtSettings.has("onCellMouseDown")&&this.callListener("onCellMouseDown",e,o.coords,o.TD),(0===e.button||this.touchApplied)&&o.TD&&(t.dblClickOrigin[0]=o.TD,clearTimeout(t.dblClickTimeout[0]),t.dblClickTimeout[0]=setTimeout((function(){t.dblClickOrigin[0]=null}),1e3))}}},{key:"onContextMenu",value:function(e){if(this.wtSettings.has("onCellContextMenu")){var t=this.parentCell(e.target);t.TD&&this.callListener("onCellContextMenu",e,t.coords,t.TD)}}},{key:"onMouseOver",value:function(e){if(this.wtSettings.has("onCellMouseOver")){var t=this.wtTable.TABLE,n=Rt(e.target,["TD","TH"],t),r=this.parent||this;n&&n!==r.lastMouseOver&&Dt(n,t)&&(r.lastMouseOver=n,this.callListener("onCellMouseOver",e,this.wtTable.getCoords(n),n))}}},{key:"onMouseOut",value:function(e){if(this.wtSettings.has("onCellMouseOut")){var t=this.wtTable.TABLE,n=Rt(e.target,["TD","TH"],t),r=Rt(e.relatedTarget,["TD","TH"],t);n&&n!==r&&Dt(n,t)&&this.callListener("onCellMouseOut",e,this.wtTable.getCoords(n),n)}}},{key:"onMouseUp",value:function(e){var t=Pi.get(this),n=this.parentCell(e.target);n.TD&&this.wtSettings.has("onCellMouseUp")&&this.callListener("onCellMouseUp",e,n.coords,n.TD),(0===e.button||this.touchApplied)&&(n.TD===t.dblClickOrigin[0]&&n.TD===t.dblClickOrigin[1]?(It(e.target,"corner")?this.callListener("onCellCornerDblClick",e,n.coords,n.TD):this.callListener("onCellDblClick",e,n.coords,n.TD),t.dblClickOrigin[0]=null,t.dblClickOrigin[1]=null):n.TD===t.dblClickOrigin[0]&&(t.dblClickOrigin[1]=n.TD,clearTimeout(t.dblClickTimeout[1]),t.dblClickTimeout[1]=setTimeout((function(){t.dblClickOrigin[1]=null}),500)))}},{key:"onTouchStart",value:function(e){Pi.get(this).selectedCellBeforeTouchEnd=this.selections.getCell().cellRange,this.touchApplied=!0,this.onMouseDown(e)}},{key:"onTouchEnd",value:function(e){var t,n=e.target,r=null===(t=this.parentCell(n))||void 0===t?void 0:t.coords,i=Je(r)&&r.row>=0&&r.col>=0;e.cancelable&&i&&this.wtSettings.getSetting("isDataViewInstance")&&(Pe()&&(xe()||Ce())&&this.selectedCellWasTouched(n)&&!["A","BUTTON","INPUT"].includes(n.tagName)?e.preventDefault():this.selectedCellWasTouched(n)||e.preventDefault()),this.onMouseUp(e),this.touchApplied=!1}},{key:"callListener",value:function(e,t,n,r){var i=this.wtSettings.getSettingPure(e);i&&i(t,n,r,this.facadeGetter())}},{key:"destroy",value:function(){var e=Pi.get(this);clearTimeout(e.dblClickTimeout[0]),clearTimeout(e.dblClickTimeout[1]),this.eventManager.destroy()}}],n&&ji(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const Hi=Ii;function Ni(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Fi=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.offset=t,this.total=n,this.countTH=r}var t,n;return t=e,n=[{key:"offsetted",value:function(e){return e+this.offset}},{key:"unOffsetted",value:function(e){return e-this.offset}},{key:"renderedToSource",value:function(e){return this.offsetted(e)}},{key:"sourceToRendered",value:function(e){return this.unOffsetted(e)}},{key:"offsettedTH",value:function(e){return e-this.countTH}},{key:"unOffsettedTH",value:function(e){return e+this.countTH}},{key:"visibleRowHeadedColumnToSourceColumn",value:function(e){return this.renderedToSource(this.offsettedTH(e))}},{key:"sourceColumnToVisibleRowHeadedColumn",value:function(e){return this.unOffsettedTH(this.sourceToRendered(e))}}],n&&Ni(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const Yi=Fi;function zi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Bi=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.offset=t,this.total=n,this.countTH=r}var t,n;return t=e,n=[{key:"offsetted",value:function(e){return e+this.offset}},{key:"unOffsetted",value:function(e){return e-this.offset}},{key:"renderedToSource",value:function(e){return this.offsetted(e)}},{key:"sourceToRendered",value:function(e){return this.unOffsetted(e)}},{key:"offsettedTH",value:function(e){return e-this.countTH}},{key:"unOffsettedTH",value:function(e){return e+this.countTH}},{key:"visibleColHeadedRowToSourceRow",value:function(e){return this.renderedToSource(this.offsettedTH(e))}},{key:"sourceRowToVisibleColHeadedRow",value:function(e){return this.unOffsettedTH(this.sourceToRendered(e))}}],n&&zi(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const Wi=Bi;function $i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ui=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentSize=0,this.nextSize=0,this.currentOffset=0,this.nextOffset=0}var t,n;return t=e,n=[{key:"setSize",value:function(e){this.currentSize=this.nextSize,this.nextSize=e}},{key:"setOffset",value:function(e){this.currentOffset=this.nextOffset,this.nextOffset=e}}],n&&$i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Vi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var qi=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.size=new Ui,this.workingSpace=0,this.sharedSize=null}var t,n;return t=e,n=[{key:"setSize",value:function(e){this.size.setSize(e)}},{key:"setOffset",value:function(e){this.size.setOffset(e)}},{key:"getViewSize",value:function(){return this.size}},{key:"isShared",value:function(){return this.sharedSize instanceof Ui}},{key:"isPlaceOn",value:function(e){return this.workingSpace===e}},{key:"append",value:function(e){this.workingSpace=1,e.workingSpace=2,this.sharedSize=e.getViewSize()}},{key:"prepend",value:function(e){this.workingSpace=2,e.workingSpace=1,this.sharedSize=e.getViewSize()}}],n&&Vi(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ki=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rootNode=t,this.nodesPool=n,this.sizeSet=new qi,this.childNodeType=r.toUpperCase(),this.visualIndex=0,this.collectedNodes=[]}var t,n;return t=e,n=[{key:"setSize",value:function(e){return this.sizeSet.setSize(e),this}},{key:"setOffset",value:function(e){return this.sizeSet.setOffset(e),this}},{key:"isSharedViewSet",value:function(){return this.sizeSet.isShared()}},{key:"getNode",value:function(e){return e<this.collectedNodes.length?this.collectedNodes[e]:null}},{key:"getCurrentNode",value:function(){var e=this.collectedNodes.length;return e>0?this.collectedNodes[e-1]:null}},{key:"getRenderedChildCount",value:function(){var e=this.rootNode,t=this.sizeSet,n=0;if(this.isSharedViewSet())for(var r=e.firstElementChild;r;){if(r.tagName===this.childNodeType)n+=1;else if(t.isPlaceOn(1))break;r=r.nextElementSibling}else n=e.childElementCount;return n}},{key:"start",value:function(){this.collectedNodes.length=0,this.visualIndex=0;for(var e=this.rootNode,t=this.sizeSet,n=this.isSharedViewSet(),r=t.getViewSize().nextSize,i=this.getRenderedChildCount();i<r;){var o=this.nodesPool();!n||n&&t.isPlaceOn(2)?e.appendChild(o):e.insertBefore(o,e.firstChild),i+=1}for(var a=n&&t.isPlaceOn(1);i>r;)e.removeChild(a?e.firstChild:e.lastChild),i-=1}},{key:"render",value:function(){var e=this.rootNode,t=this.sizeSet,n=this.visualIndex;this.isSharedViewSet()&&t.isPlaceOn(2)&&(n+=t.sharedSize.nextSize);var r=e.childNodes[n];if(r.tagName!==this.childNodeType){var i=this.nodesPool();e.replaceChild(i,r),r=i}this.collectedNodes.push(r),this.visualIndex+=1}},{key:"end",value:function(){}}],n&&Gi(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Zi(e){return Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zi(e)}function Xi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ji(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qi(e,t){return Qi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qi(e,t)}function eo(e,t){if(t&&("object"===Zi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function to(e){return to=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},to(e)}var no=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qi(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=to(r);if(i){var n=to(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return eo(this,e)});function a(){return Xi(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"prependView",value:function(e){return this.sizeSet.prepend(e.sizeSet),e.sizeSet.append(this.sizeSet),this}},{key:"appendView",value:function(e){return this.sizeSet.append(e.sizeSet),e.sizeSet.prepend(this.sizeSet),this}}])&&Ji(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(Ki);function ro(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var io=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.nodeType=t.toUpperCase()}var t,n;return t=e,(n=[{key:"setRootDocument",value:function(e){this.rootDocument=e}},{key:"obtain",value:function(){return this.rootDocument.createElement(this.nodeType)}}])&&ro(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function oo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ao=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.nodesPool="string"==typeof t?new io(t):null,this.nodeType=t,this.rootNode=n,this.table=null,this.renderedNodes=0}var t,n;return t=e,n=[{key:"setTable",value:function(e){this.nodesPool&&this.nodesPool.setRootDocument(e.rootDocument),this.table=e}},{key:"adjust",value:function(){}},{key:"render",value:function(){}}],n&&oo(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function so(e){return so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},so(e)}function lo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uo(e,t){return uo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},uo(e,t)}function co(e,t){if(t&&("object"===so(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ho(e){return ho=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ho(e)}var fo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uo(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ho(r);if(i){var n=ho(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return co(this,e)});function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this,"TH")).orderViews=new WeakMap,e.sourceRowIndex=0,e}return t=a,(n=[{key:"obtainOrderView",value:function(e){var t,n=this;return this.orderViews.has(e)?t=this.orderViews.get(e):(t=new no(e,(function(e){return n.nodesPool.obtain(n.sourceRowIndex,e)}),this.nodeType),this.orderViews.set(e,t)),t}},{key:"render",value:function(){for(var e=this.table,t=e.rowsToRender,n=e.rowHeaderFunctions,r=e.rowHeadersCount,i=e.rows,o=e.cells,a=0;a<t;a++){var s=this.table.renderedRowToSource(a),l=i.getRenderedNode(a);this.sourceRowIndex=s;var u=this.obtainOrderView(l),c=o.obtainOrderView(l);u.appendView(c).setSize(r).setOffset(this.table.renderedColumnToSource(0)).start();for(var d=0;d<r;d++){u.render();var h=u.getCurrentNode();h.className="",h.removeAttribute("style"),n[d](s,h,d)}u.end()}}}])&&lo(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(ao);function po(e){return po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},po(e)}function mo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function go(e,t){return go=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},go(e,t)}function yo(e,t){if(t&&("object"===po(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function vo(e){return vo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vo(e)}var bo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&go(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=vo(r);if(i){var n=vo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return yo(this,e)});function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.call(this,null,e)}return t=a,(n=[{key:"adjust",value:function(){var e=this.table,t=e.columnHeadersCount,n=e.rowHeadersCount,r=this.rootNode.firstChild;if(t){for(var i=this.table.columnsToRender+n,o=0,a=t;o<a;o++){for((r=this.rootNode.childNodes[o])||(r=this.table.rootDocument.createElement("tr"),this.rootNode.appendChild(r)),this.renderedNodes=r.childNodes.length;this.renderedNodes<i;)r.appendChild(this.table.rootDocument.createElement("th")),this.renderedNodes+=1;for(;this.renderedNodes>i;)r.removeChild(r.lastChild),this.renderedNodes-=1}var s=this.rootNode.childNodes.length;if(s>t)for(var l=t;l<s;l++)this.rootNode.removeChild(this.rootNode.lastChild)}else r&&Yt(r)}},{key:"render",value:function(){for(var e=this.table.columnHeadersCount,t=0;t<e;t+=1)for(var n=this.table,r=n.columnHeaderFunctions,i=n.columnsToRender,o=n.rowHeadersCount,a=this.rootNode.childNodes[t],s=-1*o;s<i;s+=1){var l=this.table.renderedColumnToSource(s),u=a.childNodes[s+o];u.className="",u.removeAttribute("style"),r[t](l,u,t)}}}])&&mo(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(ao);function wo(e){return wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wo(e)}function _o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ko(e,t){return ko=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ko(e,t)}function So(e,t){if(t&&("object"===wo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Mo(e){return Mo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mo(e)}var xo,Oo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ko(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Mo(r);if(i){var n=Mo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return So(this,e)});function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.call(this,null,e)}return t=a,(n=[{key:"adjust",value:function(){for(var e=this.table,t=e.columnsToRender+e.rowHeadersCount;this.renderedNodes<t;)this.rootNode.appendChild(this.table.rootDocument.createElement("col")),this.renderedNodes+=1;for(;this.renderedNodes>t;)this.rootNode.removeChild(this.rootNode.lastChild),this.renderedNodes-=1}},{key:"render",value:function(){this.adjust();for(var e=this.table,t=e.columnsToRender,n=e.rowHeadersCount,r=0;r<n;r++){var i=this.table.renderedColumnToSource(r),o=this.table.columnUtils.getHeaderWidth(i);this.rootNode.childNodes[r].style.width="".concat(o,"px")}for(var a=0;a<t;a++){var s=this.table.renderedColumnToSource(a),l=this.table.columnUtils.getStretchedColumnWidth(s);this.rootNode.childNodes[a+n].style.width="".concat(l,"px")}var u=this.rootNode.firstChild;u&&Ht(u,"rowHeader")}}])&&_o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(ao);function Co(e){return Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Co(e)}function To(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ro(e,t){return Ro=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ro(e,t)}function Do(e,t){if(t&&("object"===Co(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Eo(e){return Eo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Eo(e)}var Ao=!1,Lo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ro(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Eo(r);if(i){var n=Eo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Do(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,"TR",e)).orderView=new Ki(e,(function(e){return t.nodesPool.obtain(e)}),t.nodeType),t}return t=a,n=[{key:"getRenderedNode",value:function(e){return this.orderView.getNode(e)}},{key:"render",value:function(){var e=this.table.rowsToRender;!Ao&&e>1e3&&(Ao=!0,Vn(Ge(xo||(xo=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(['Performance tip: Handsontable rendered more than 1000 visible rows. Consider limiting \n        the number of rendered rows by specifying the table height and/or turning off the "renderAllRows" option.'],['Performance tip: Handsontable rendered more than 1000 visible rows. Consider limiting\\x20\n        the number of rendered rows by specifying the table height and/or turning off the "renderAllRows" option.']))))),this.orderView.setSize(e).setOffset(this.table.renderedRowToSource(0)).start();for(var t=0;t<e;t++)this.orderView.render();this.orderView.end()}}],n&&To(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(ao);function jo(e){return jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jo(e)}function Po(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Io(e,t){return Io=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Io(e,t)}function Ho(e,t){if(t&&("object"===jo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function No(e){return No=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},No(e)}var Fo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Io(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=No(r);if(i){var n=No(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ho(this,e)});function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this,"TD")).orderViews=new WeakMap,e.sourceRowIndex=0,e}return t=a,(n=[{key:"obtainOrderView",value:function(e){var t,n=this;return this.orderViews.has(e)?t=this.orderViews.get(e):(t=new no(e,(function(e){return n.nodesPool.obtain(n.sourceRowIndex,e)}),this.nodeType),this.orderViews.set(e,t)),t}},{key:"render",value:function(){for(var e=this.table,t=e.rowsToRender,n=e.columnsToRender,r=e.rows,i=e.rowHeaders,o=0;o<t;o++){var a=this.table.renderedRowToSource(o),s=r.getRenderedNode(o);this.sourceRowIndex=a;var l=this.obtainOrderView(s),u=i.obtainOrderView(s);l.prependView(u).setSize(n).setOffset(this.table.renderedColumnToSource(0)).start();for(var c=0;c<n;c++){l.render();var d=l.getCurrentNode(),h=this.table.renderedColumnToSource(c);It(d,"hide")||(d.className=""),d.removeAttribute("style"),d.removeAttribute("dir"),this.table.cellRenderer(a,h,d)}l.end()}}}])&&Po(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(ao);function Yo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Bo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.cellRenderer;Yo(this,e),this.rootNode=t,this.rootDocument=this.rootNode.ownerDocument,this.rowHeaders=null,this.columnHeaders=null,this.colGroup=null,this.rows=null,this.cells=null,this.rowFilter=null,this.columnFilter=null,this.rowUtils=null,this.columnUtils=null,this.rowsToRender=0,this.columnsToRender=0,this.rowHeaderFunctions=[],this.rowHeadersCount=0,this.columnHeaderFunctions=[],this.columnHeadersCount=0,this.cellRenderer=r}var t,n;return t=e,n=[{key:"setAxisUtils",value:function(e,t){this.rowUtils=e,this.columnUtils=t}},{key:"setViewportSize",value:function(e,t){this.rowsToRender=e,this.columnsToRender=t}},{key:"setFilters",value:function(e,t){this.rowFilter=e,this.columnFilter=t}},{key:"setHeaderContentRenderers",value:function(e,t){this.rowHeaderFunctions=e,this.rowHeadersCount=e.length,this.columnHeaderFunctions=t,this.columnHeadersCount=t.length}},{key:"setRenderers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.rowHeaders,n=e.columnHeaders,r=e.colGroup,i=e.rows,o=e.cells;t.setTable(this),n.setTable(this),r.setTable(this),i.setTable(this),o.setTable(this),this.rowHeaders=t,this.columnHeaders=n,this.colGroup=r,this.rows=i,this.cells=o}},{key:"renderedRowToSource",value:function(e){return this.rowFilter.renderedToSource(e)}},{key:"renderedColumnToSource",value:function(e){return this.columnFilter.renderedToSource(e)}},{key:"render",value:function(){this.colGroup.adjust(),this.columnHeaders.adjust(),this.rows.adjust(),this.rowHeaders.adjust(),this.columnHeaders.render(),this.rows.render(),this.rowHeaders.render(),this.cells.render(),this.columnUtils.calculateWidths(),this.colGroup.render();for(var e=this.rowsToRender,t=this.rows,n=0;n<e;n++){var r=t.getRenderedNode(n);if(r.firstChild){var i=this.renderedRowToSource(n),o=this.rowUtils.getHeight(i);r.firstChild.style.height=o?"".concat(o-1,"px"):""}}}}],n&&zo(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Wo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Uo=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.TABLE,r=t.THEAD,i=t.COLGROUP,o=t.TBODY,a=t.rowUtils,s=t.columnUtils,l=t.cellRenderer;Wo(this,e),this.renderer=new Bo(n,{cellRenderer:l}),this.renderer.setRenderers({rowHeaders:new fo,columnHeaders:new bo(r),colGroup:new Oo(i),rows:new Lo(o),cells:new Fo}),this.renderer.setAxisUtils(a,s)}var t,n;return t=e,(n=[{key:"setFilters",value:function(e,t){return this.renderer.setFilters(e,t),this}},{key:"setViewportSize",value:function(e,t){return this.renderer.setViewportSize(e,t),this}},{key:"setHeaderContentRenderers",value:function(e,t){return this.renderer.setHeaderContentRenderers(e,t),this}},{key:"adjust",value:function(){this.renderer.adjust()}},{key:"render",value:function(){this.renderer.render()}}])&&$o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Vo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var qo=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dataAccessObject=t,this.wtSettings=n,this.headerWidths=new Map}var t,n;return t=e,(n=[{key:"getWidth",value:function(e){return this.wtSettings.getSetting("columnWidth",e)||this.wtSettings.getSetting("defaultColumnWidth")}},{key:"getStretchedColumnWidth",value:function(e){var t=this.dataAccessObject.wtViewport.columnsRenderCalculator,n=this.getWidth(e);if(t){var r=t.getStretchedColumnWidth(e,n);r&&(n=r)}return n}},{key:"getHeaderHeight",value:function(e){var t=this.wtSettings.getSetting("defaultRowHeight"),n=this.dataAccessObject.wtViewport.oversizedColumnHeaders[e];return void 0!==n&&(t=t?Math.max(t,n):n),t}},{key:"getHeaderWidth",value:function(e){return this.headerWidths.get(this.dataAccessObject.wtTable.columnFilter.sourceToRendered(e))}},{key:"calculateWidths",value:function(){var e=this.wtSettings,t=this.dataAccessObject,n=t.wtTable,r=t.wtViewport,i=t.cloneSource,o=i?i.wtTable.holder:n.holder,a=o.offsetHeight<o.scrollHeight?mn():0,s=e.getSetting("rowHeaderWidth");if(r.columnsRenderCalculator.refreshStretching(r.getViewportWidth()-a),null!=(s=e.getSetting("onModifyRowHeaderWidth",s)))for(var l=e.getSetting("rowHeaders").length,u=e.getSetting("defaultColumnWidth"),c=0;c<l;c++){var d=Array.isArray(s)?s[c]:s;d=null==d?u:d,this.headerWidths.set(c,d)}}}])&&Vo(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Go(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ko=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dataAccessObject=t,this.wtSettings=n}var t,n;return t=e,(n=[{key:"getHeight",value:function(e){var t=this.wtSettings.getSetting("rowHeight",e),n=this.dataAccessObject.wtViewport.oversizedRows[e];return void 0!==n&&(t=void 0===t?n:Math.max(t,n)),t}}])&&Go(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Zo="top",Xo="bottom",Jo="inline_start",Qo="top_inline_start_corner",ea="bottom_inline_start_corner",ta=[Zo,Xo,Jo,Qo,ea],na=new Map([[Zo,"ht_clone_".concat(Zo)],[Xo,"ht_clone_".concat(Xo)],[Jo,"ht_clone_".concat(Jo," ht_clone_left")],[Qo,"ht_clone_".concat(Qo," ht_clone_top_left_corner")],[ea,"ht_clone_".concat(ea," ht_clone_bottom_left_corner")]]);function ra(e,t){if(e){if("string"==typeof e)return ia(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ia(e,t):void 0}}function ia(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sa=function(){function e(t,n,r,i,o){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),aa(this,"wtSettings",null),aa(this,"domBindings",void 0),aa(this,"TBODY",null),aa(this,"THEAD",null),aa(this,"COLGROUP",null),aa(this,"hasTableHeight",!0),aa(this,"hasTableWidth",!0),aa(this,"isTableVisible",!1),aa(this,"tableOffset",0),aa(this,"holderOffset",0),this.domBindings=r,this.isMaster="master"===o,this.name=o,this.dataAccessObject=t,this.facadeGetter=n,this.wtSettings=i,this.instance=this.dataAccessObject.wot,this.wot=this.dataAccessObject.wot,this.TABLE=r.rootTable,Ft(this.TABLE),this.spreader=this.createSpreader(this.TABLE),this.hider=this.createHider(this.spreader),this.holder=this.createHolder(this.hider),this.wtRootElement=this.holder.parentNode,this.isMaster&&this.alignOverlaysWithTrimmingContainer(),this.fixTableDomTree(),this.rowFilter=null,this.columnFilter=null,this.correctHeaderWidth=!1;var s=this.wtSettings.getSettingPure("rowHeaderWidth");this.wtSettings.update("rowHeaderWidth",(function(){return a._modifyRowHeaderWidth(s)})),this.rowUtils=new Ko(this.dataAccessObject,this.wtSettings),this.columnUtils=new qo(this.dataAccessObject,this.wtSettings),this.tableRenderer=new Uo({TABLE:this.TABLE,THEAD:this.THEAD,COLGROUP:this.COLGROUP,TBODY:this.TBODY,rowUtils:this.rowUtils,columnUtils:this.columnUtils,cellRenderer:this.wtSettings.getSettingPure("cellRenderer")})}var t,n;return t=e,n=[{key:"is",value:function(e){return this.name===e}},{key:"fixTableDomTree",value:function(){var e=this.domBindings.rootDocument;this.TBODY=this.TABLE.querySelector("tbody"),this.TBODY||(this.TBODY=e.createElement("tbody"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.querySelector("thead"),this.THEAD||(this.THEAD=e.createElement("thead"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.querySelector("colgroup"),this.COLGROUP||(this.COLGROUP=e.createElement("colgroup"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD))}},{key:"createSpreader",value:function(e){var t,n=e.parentNode;return n&&n.nodeType===Node.ELEMENT_NODE&&It(n,"wtHolder")||((t=this.domBindings.rootDocument.createElement("div")).className="wtSpreader",n&&n.insertBefore(t,e),t.appendChild(e)),t.style.position="relative",t}},{key:"createHider",value:function(e){var t,n=e.parentNode;return n&&n.nodeType===Node.ELEMENT_NODE&&It(n,"wtHolder")||((t=this.domBindings.rootDocument.createElement("div")).className="wtHider",n&&n.insertBefore(t,e),t.appendChild(e)),t}},{key:"createHolder",value:function(e){var t,n=e.parentNode;return n&&n.nodeType===Node.ELEMENT_NODE&&It(n,"wtHolder")||((t=this.domBindings.rootDocument.createElement("div")).style.position="relative",t.className="wtHolder",n&&n.insertBefore(t,e),this.isMaster&&(t.parentNode.className+="ht_master handsontable",t.parentNode.setAttribute("dir",this.wtSettings.getSettingPure("rtlMode")?"rtl":"ltr")),t.appendChild(e)),t}},{key:"draw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.wtSettings,n=this.dataAccessObject,r=n.wtOverlays,i=n.wtViewport,o=t.getSetting("totalRows"),a=t.getSetting("totalColumns"),s=t.getSetting("rowHeaders"),l=s.length,u=t.getSetting("columnHeaders"),c=u.length,d=!1,h=e;if(this.isMaster&&(this.holderOffset=Vt(this.holder),h=i.createRenderCalculators(h),l&&!t.getSetting("fixedColumnsStart"))){var f=r.inlineStartOverlay.getScrollPosition(),p=this.correctHeaderWidth;this.correctHeaderWidth=0!==f,p!==this.correctHeaderWidth&&(h=!1)}if(this.isMaster&&(d=r.updateStateOfRendering()),h)this.isMaster&&i.createVisibleCalculators(),r&&r.refresh(!0);else{this.isMaster?this.tableOffset=Vt(this.TABLE):this.tableOffset=this.dataAccessObject.parentTableOffset;var m=o>0?this.getFirstRenderedRow():0,g=a>0?this.getFirstRenderedColumn():0;this.rowFilter=new Wi(m,o,c),this.columnFilter=new Yi(g,a,l);var y,v=!0;if(this.isMaster){this.alignOverlaysWithTrimmingContainer();var b={};this.wtSettings.getSetting("beforeDraw",!0,b),v=!0!==b.skipRender}if(v)if(this.tableRenderer.setHeaderContentRenderers(s,u),(this.is(Xo)||this.is(ea))&&this.tableRenderer.setHeaderContentRenderers(s,[]),this.resetOversizedRows(),this.tableRenderer.setViewportSize(this.getRenderedRowsCount(),this.getRenderedColumnsCount()).setFilters(this.rowFilter,this.columnFilter).render(),this.isMaster&&(y=this.dataAccessObject.workspaceWidth,this.dataAccessObject.wtViewport.containerWidth=null,this.markOversizedColumnHeaders()),this.adjustColumnHeaderHeights(),(this.isMaster||this.is(Xo))&&this.markOversizedRows(),this.isMaster){this.dataAccessObject.wtViewport.createVisibleCalculators(),this.dataAccessObject.wtOverlays.refresh(!1),this.dataAccessObject.wtOverlays.applyToDOM();var w=nn(this.hider),_=nn(this.TABLE);0!==w&&_!==w&&(this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),y!==this.dataAccessObject.wtViewport.getWorkspaceWidth()&&(this.dataAccessObject.wtViewport.containerWidth=null,this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),this.wtSettings.getSetting("onDraw",!0)}else this.is(Xo)&&this.dataAccessObject.cloneSource.wtOverlays.adjustElementsSize()}var k=!1;return this.isMaster&&(k=r.topOverlay.resetFixedPosition(),r.bottomOverlay.clone&&(k=r.bottomOverlay.resetFixedPosition()||k),k=r.inlineStartOverlay.resetFixedPosition()||k,r.topInlineStartCornerOverlay&&r.topInlineStartCornerOverlay.resetFixedPosition(),r.bottomInlineStartCornerOverlay&&r.bottomInlineStartCornerOverlay.clone&&r.bottomInlineStartCornerOverlay.resetFixedPosition()),k?(r.refreshAll(),r.adjustElementsSize()):this.refreshSelections(h),d&&r.syncScrollWithMaster(),this.dataAccessObject.drawn=!0,this}},{key:"markIfOversizedColumnHeader",value:function(e){for(var t,n,r,i=this.columnFilter.renderedToSource(e),o=this.wtSettings.getSetting("columnHeaders").length,a=this.wtSettings.getSetting("defaultRowHeight"),s=this.wtSettings.getSetting("columnHeaderHeight")||[];o;)o-=1,t=this.getColumnHeaderHeight(o),(n=this.getColumnHeader(i,o))&&(r=on(n),(!t&&a<r||t<r)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[o]=r),Array.isArray(s)?null!==s[o]&&void 0!==s[o]&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[o]=s[o]):isNaN(s)||(this.dataAccessObject.wtViewport.oversizedColumnHeaders[o]=s),this.dataAccessObject.wtViewport.oversizedColumnHeaders[o]<(s[o]||s)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[o]=s[o]||s))}},{key:"adjustColumnHeaderHeights",value:function(){for(var e=this.wtSettings,t=this.THEAD.childNodes,n=this.dataAccessObject.wtViewport.oversizedColumnHeaders,r=0,i=e.getSetting("columnHeaders").length;r<i;r++)if(n[r]){if(!t[r]||0===t[r].childNodes.length)return;t[r].childNodes[0].style.height="".concat(n[r],"px")}}},{key:"resetOversizedRows",value:function(){var e=this.wtSettings,t=this.dataAccessObject.wtViewport;if((this.isMaster||this.is(Xo))&&!e.getSetting("externalRowCalculator"))for(var n=this.getRenderedRowsCount(),r=0;r<n;r++){var i=this.rowFilter.renderedToSource(r);t.oversizedRows&&t.oversizedRows[i]&&(t.oversizedRows[i]=void 0)}}},{key:"removeClassFromCells",value:function(e){for(var t=this.TABLE.querySelectorAll(".".concat(e)),n=0,r=t.length;n<r;n++)Nt(t[n],e)}},{key:"refreshSelections",value:function(e){var t=this.wtSettings,n=this.dataAccessObject.selections;if(n){var r=Array.from(n),i=r.length;if(e){for(var o=[],a=0;a<i;a++){for(var s=r[a].settings,l=s.highlightHeaderClassName,u=s.highlightRowClassName,c=s.highlightColumnClassName,d=r[a].classNames,h=d.length,f=0;f<h;f++)o.includes(d[f])||o.push(d[f]);l&&!o.includes(l)&&o.push(l),u&&!o.includes(u)&&o.push(u),c&&!o.includes(c)&&o.push(c)}var p=t.getSetting("onBeforeRemoveCellClassNames");if(Array.isArray(p))for(var m=0;m<p.length;m++)o.push(p[m]);for(var g=o.length,y=0;y<g;y++)this.removeClassFromCells(o[y])}for(var v=0;v<i;v++)r[v].draw(this.facadeGetter(),e)}}},{key:"getCell",value:function(e){var t,n,r,i=e.row,o=e.col,a=this.wtSettings.getSetting("onModifyGetCellCoords",i,o);if(a&&Array.isArray(a)){var s=(r=2,function(e){if(Array.isArray(e))return e}(n=a)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(n,r)||ra(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());i=s[0],o=s[1]}if(this.isRowBeforeRenderedRows(i))return-1;if(this.isRowAfterRenderedRows(i))return-2;if(this.isColumnBeforeRenderedColumns(o))return-3;if(this.isColumnAfterRenderedColumns(o))return-4;if(!(t=i<0?this.THEAD.childNodes[this.rowFilter.sourceRowToVisibleColHeadedRow(i)]:this.TBODY.childNodes[this.rowFilter.sourceToRendered(i)])&&i>=0)throw new Error("TR was expected to be rendered but is not");var l=t.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(o)];if(!l&&o>=0)throw new Error("TD or TH was expected to be rendered but is not");return l}},{key:"getColumnHeader",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.THEAD.childNodes[t];return null==n?void 0:n.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(e)]}},{key:"getColumnHeaders",value:function(e){var t=[],n=this.columnFilter.sourceColumnToVisibleRowHeadedColumn(e);return this.THEAD.childNodes.forEach((function(e){var r=e.childNodes[n];r&&t.push(r)})),t}},{key:"getRowHeader",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0!==this.columnFilter.sourceColumnToVisibleRowHeadedColumn(0)){var n=this.wtSettings.getSetting("rowHeaders").length;if(!(t>=n)){var r=this.TBODY.childNodes[this.rowFilter.sourceToRendered(e)];return null==r?void 0:r.childNodes[t]}}}},{key:"getRowHeaders",value:function(e){if(0===this.columnFilter.sourceColumnToVisibleRowHeadedColumn(0))return[];for(var t=[],n=this.wtSettings.getSetting("rowHeaders").length,r=0;r<n;r++){var i=this.TBODY.childNodes[this.rowFilter.sourceToRendered(e)],o=null==i?void 0:i.childNodes[r];o&&t.push(o)}return t}},{key:"getCoords",value:function(e){var t=e;if("TD"!==t.nodeName&&"TH"!==t.nodeName&&(t=Tt(t,["TD","TH"])),null===t)return null;var n=t.parentNode,r=n.parentNode,i=Et(n),o=t.cellIndex;return At(Qo,t,this.wtRootElement)||At(Zo,t,this.wtRootElement)?"THEAD"===r.nodeName&&(i-=r.childNodes.length):i=At(ea,t,this.wtRootElement)||At(Xo,t,this.wtRootElement)?this.wtSettings.getSetting("totalRows")-r.childNodes.length+i:r===this.THEAD?this.rowFilter.visibleColHeadedRowToSourceRow(i):this.rowFilter.renderedToSource(i),o=At(Qo,t,this.wtRootElement)||At(Jo,t,this.wtRootElement)||At(ea,t,this.wtRootElement)?this.columnFilter.offsettedTH(o):this.columnFilter.visibleRowHeadedColumnToSourceColumn(o),this.wot.createCellCoords(i,o)}},{key:"markOversizedRows",value:function(){if(!this.wtSettings.getSetting("externalRowCalculator")){var e,t,n,r,i,o=this.TBODY.childNodes.length;if(o*this.wtSettings.getSetting("defaultRowHeight")!=on(this.TBODY)-1||this.wtSettings.getSetting("fixedRowsBottom"))for(;o;)o-=1,n=this.rowFilter.renderedToSource(o),e=this.getRowHeight(n),t=(i=(r=this.getTrForRow(n)).querySelector("th"))?on(i):on(r)-1,(!e&&this.wtSettings.getSetting("defaultRowHeight")<t||e<t)&&(t+=1,this.dataAccessObject.wtViewport.oversizedRows[n]=t)}}},{key:"getTrForRow",value:function(e){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(e)]}},{key:"isColumnHeaderRendered",value:function(e){if(e>=0)return!1;var t=this.wtSettings.getSetting("rowHeaders").length;return Math.abs(e)<=t}},{key:"isRowHeaderRendered",value:function(e){if(e>=0)return!1;var t=this.wtSettings.getSetting("columnHeaders").length;return Math.abs(e)<=t}},{key:"isRowBeforeRenderedRows",value:function(e){var t=this.getFirstRenderedRow();return e<0&&t<=0?!this.isRowHeaderRendered(e):e<t}},{key:"isRowAfterRenderedRows",value:function(e){return e>this.getLastRenderedRow()}},{key:"isColumnBeforeRenderedColumns",value:function(e){var t=this.getFirstRenderedColumn();return e<0&&t<=0?!this.isColumnHeaderRendered(e):e<t}},{key:"isColumnAfterRenderedColumns",value:function(e){return this.columnFilter&&e>this.getLastRenderedColumn()}},{key:"isColumnAfterViewport",value:function(e){return this.columnFilter&&e>this.getLastVisibleColumn()}},{key:"isRowAfterViewport",value:function(e){return this.rowFilter&&e>this.getLastVisibleRow()}},{key:"isColumnBeforeViewport",value:function(e){return this.columnFilter&&this.columnFilter.sourceToRendered(e)<0&&e>=0}},{key:"isLastRowFullyVisible",value:function(){return this.getLastVisibleRow()===this.getLastRenderedRow()}},{key:"isLastColumnFullyVisible",value:function(){return this.getLastVisibleColumn()===this.getLastRenderedColumn()}},{key:"allRowsInViewport",value:function(){return this.wtSettings.getSetting("totalRows")===this.getVisibleRowsCount()}},{key:"allColumnsInViewport",value:function(){return this.wtSettings.getSetting("totalColumns")===this.getVisibleColumnsCount()}},{key:"getRowHeight",value:function(e){return this.rowUtils.getHeight(e)}},{key:"getColumnHeaderHeight",value:function(e){return this.columnUtils.getHeaderHeight(e)}},{key:"getColumnWidth",value:function(e){return this.columnUtils.getWidth(e)}},{key:"getStretchedColumnWidth",value:function(e){return this.columnUtils.getStretchedColumnWidth(e)}},{key:"hasDefinedSize",value:function(){return this.hasTableHeight&&this.hasTableWidth}},{key:"getWidth",value:function(){return nn(this.TABLE)}},{key:"getHeight",value:function(){return rn(this.TABLE)}},{key:"getTotalWidth",value:function(){var e=nn(this.hider);return 0!==e?e:this.getWidth()}},{key:"getTotalHeight",value:function(){var e=rn(this.hider);return 0!==e?e:this.getHeight()}},{key:"isVisible",value:function(){return Ut(this.TABLE)}},{key:"_modifyRowHeaderWidth",value:function(e){var t,n=xn(e)?e():null;return Array.isArray(n)?(t=n,n=function(e){if(Array.isArray(e))return ia(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||ra(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[n.length-1]=this._correctRowHeaderWidth(n[n.length-1]):n=this._correctRowHeaderWidth(n),n}},{key:"_correctRowHeaderWidth",value:function(e){var t=e;return"number"!=typeof e&&(t=this.wtSettings.getSetting("defaultColumnWidth")),this.correctHeaderWidth&&(t+=1),t}}],n&&oa(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const la=sa;var ua={getFirstRenderedRow:function(){return 0===this.wtSettings.getSetting("totalRows")?-1:0},getFirstVisibleRow:function(){return this.getFirstRenderedRow()},getLastRenderedRow:function(){return this.getRenderedRowsCount()-1},getLastVisibleRow:function(){return this.getLastRenderedRow()},getRenderedRowsCount:function(){var e=this.wtSettings.getSetting("totalRows");return Math.min(this.wtSettings.getSetting("fixedRowsTop"),e)},getVisibleRowsCount:function(){return this.getRenderedRowsCount()}};he(ua,"MIXIN_NAME","stickyRowsTop",{writable:!1,enumerable:!1});const ca=ua;var da={getFirstRenderedColumn:function(){var e=this.dataAccessObject.startColumnRendered;return null===e?-1:e},getFirstVisibleColumn:function(){var e=this.dataAccessObject.startColumnVisible;return null===e?-1:e},getLastRenderedColumn:function(){var e=this.dataAccessObject.endColumnRendered;return null===e?-1:e},getLastVisibleColumn:function(){var e=this.dataAccessObject.endColumnVisible;return null===e?-1:e},getRenderedColumnsCount:function(){return this.dataAccessObject.countColumnsRendered},getVisibleColumnsCount:function(){return this.dataAccessObject.countColumnsVisible}};he(da,"MIXIN_NAME","calculatedColumns",{writable:!1,enumerable:!1});const ha=da;function fa(e){return fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fa(e)}function pa(e,t){return pa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pa(e,t)}function ma(e,t){if(t&&("object"===fa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ga(e){return ga=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ga(e)}var ya=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pa(e,t)}(o,e);var t,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ga(n);if(r){var i=ga(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return ma(this,e)});function o(e,t,n,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.call(this,e,t,n,r,Zo)}return t=o,Object.defineProperty(t,"prototype",{writable:!1}),t}(la);ue(ya,ca),ue(ya,ha);const va=ya;function ba(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),wa(this,"dataAccessObject",void 0),wa(this,"lastScrolledColumnPos",-1),wa(this,"lastScrolledRowPos",-1),this.dataAccessObject=t}var t,n;return t=e,n=[{key:"scrollViewport",value:function(e,t,n,r,i){var o=this.scrollViewportHorizontally(e.col,n,i),a=this.scrollViewportVertically(e.row,t,r);return o||a}},{key:"scrollViewportHorizontally",value:function(e,t,n){var r=this.dataAccessObject,i=r.drawn,o=r.totalColumns;if(!i||!Number.isInteger(e)||e<0||e>o)return!1;var a=this.getFirstVisibleColumn(),s=this.getLastVisibleColumn(),l=void 0===t&&void 0===n,u=this.dataAccessObject,c=u.fixedColumnsStart,d=u.inlineStartOverlay;if(l&&e<c)return!1;var h=!1;return-1===a?h=d.scrollTo(e,l?e>this.lastScrolledColumnPos:t):(l&&(e<a||e>s)||!l)&&(h=d.scrollTo(e,l?e>s:t)),h&&(this.lastScrolledColumnPos=e),h}},{key:"scrollViewportVertically",value:function(e,t,n){var r=this.dataAccessObject,i=r.drawn,o=r.totalRows;if(!i||!Number.isInteger(e)||e<0||e>o)return!1;var a=this.getFirstVisibleRow(),s=this.getLastVisibleRow(),l=void 0===t&&void 0===n,u=this.dataAccessObject,c=u.fixedRowsBottom,d=u.fixedRowsTop,h=u.topOverlay;if(l&&(e<d||e>o-c-1))return!1;var f=!1;return-1===a?f=h.scrollTo(e,l?e>this.lastScrolledRowPos:n):(l&&(e<a||e>s)||!l)&&(f=h.scrollTo(e,l?e>s:n)),f&&(this.lastScrolledRowPos=e),f}},{key:"getFirstVisibleRow",value:function(){var e=this.dataAccessObject,t=e.topOverlay,n=e.wtTable,r=e.wtViewport,i=e.totalRows,o=e.fixedRowsTop,a=e.rootWindow,s=n.getFirstVisibleRow();if(t.mainTableScrollableElement===a){var l=Vt(n.wtRootElement),u=on(n.hider),c=on(a),d=Kt(a,a);if(l.top+u-c<=d){var h=r.getColumnHeaderHeight();h+=t.sumCellSizes(0,o);for(var f=i;f>0;f--)if(h+=t.sumCellSizes(f-1,f),l.top+u-h<=d){s=f;break}}}return s}},{key:"getLastVisibleRow",value:function(){var e=this.dataAccessObject,t=e.topOverlay,n=e.wtTable,r=e.wtViewport,i=e.totalRows,o=e.rootWindow,a=n.getLastVisibleRow();if(t.mainTableScrollableElement===o){var s=Vt(n.wtRootElement),l=Kt(o,o);if(s.top>l)for(var u=on(o),c=r.getColumnHeaderHeight(),d=1;d<=i;d++)if(c+=t.sumCellSizes(d-1,d),s.top+c-l>=u){a=d-2;break}}return a}},{key:"getFirstVisibleColumn",value:function(){var e=this.dataAccessObject,t=e.inlineStartOverlay,n=e.wtTable,r=e.wtViewport,i=e.totalColumns,o=e.rootWindow,a=n.getFirstVisibleColumn();if(t.mainTableScrollableElement===o){var s=Vt(n.wtRootElement),l=an(n.hider),u=an(o),c=Math.abs(Zt(o,o));if(s.left+l-u<=c)for(var d=r.getRowHeaderWidth(),h=i;h>0;h--)if(d+=t.sumCellSizes(h-1,h),s.left+l-d<=c){a=h;break}}return a}},{key:"getLastVisibleColumn",value:function(){var e=this.dataAccessObject,t=e.inlineStartOverlay,n=e.wtTable,r=e.wtViewport,i=e.totalColumns,o=e.rootWindow,a=n.getLastVisibleColumn();if(t.mainTableScrollableElement===o){var s=Vt(n.wtRootElement),l=Math.abs(Zt(o,o));if(s.left>l)for(var u=an(o),c=r.getRowHeaderWidth(),d=1;d<=i;d++)if(c+=t.sumCellSizes(d-1,d),s.left+c-l>=u){a=d-2;break}}return a}}],n&&ba(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const ka=_a;function Sa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ma(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xa(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Oa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ca(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Ra(e,t,"get"))}function Ta(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Ra(e,t,"set"),n),n}function Ra(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var Da=new WeakMap,Ea=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Sa(this,e),Oa(this,"row",null),Oa(this,"col",null),xa(this,Da,{writable:!0,value:!1}),Ta(this,Da,r),void 0!==t&&void 0!==n&&(this.row=t,this.col=n)}var t,n;return t=e,n=[{key:"isValid",value:function(e){return!(this.row<0||this.col<0||this.row>=e.getSetting("totalRows")||this.col>=e.getSetting("totalColumns"))}},{key:"isEqual",value:function(e){return e===this||this.row===e.row&&this.col===e.col}},{key:"isSouthEastOf",value:function(e){return this.row>=e.row&&(Ca(this,Da)?this.col<=e.col:this.col>=e.col)}},{key:"isNorthWestOf",value:function(e){return this.row<=e.row&&(Ca(this,Da)?this.col>=e.col:this.col<=e.col)}},{key:"isSouthWestOf",value:function(e){return this.row>=e.row&&(Ca(this,Da)?this.col>=e.col:this.col<=e.col)}},{key:"isNorthEastOf",value:function(e){return this.row<=e.row&&(Ca(this,Da)?this.col<=e.col:this.col>=e.col)}},{key:"normalize",value:function(){return this.row=null===this.row?this.row:Math.max(this.row,0),this.col=null===this.col?this.col:Math.max(this.col,0),this}},{key:"clone",value:function(){return new e(this.row,this.col,Ca(this,Da))}},{key:"toObject",value:function(){return{row:this.row,col:this.col}}}],n&&Ma(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const Aa=Ea;function La(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ja(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pa(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Ia(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ha(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Fa(e,t,"get"))}function Na(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Fa(e,t,"set"),n),n}function Fa(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var Ya=new WeakMap,za=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];La(this,e),Ia(this,"highlight",null),Ia(this,"from",null),Ia(this,"to",null),Pa(this,Ya,{writable:!0,value:!1}),this.highlight=t.clone().normalize(),this.from=n.clone(),this.to=r.clone(),Na(this,Ya,i)}var t,n;return t=e,n=[{key:"setHighlight",value:function(e){return this.highlight=e.clone().normalize(),this}},{key:"setFrom",value:function(e){return this.from=e.clone(),this}},{key:"setTo",value:function(e){return this.to=e.clone(),this}},{key:"isValid",value:function(e){return this.from.isValid(e)&&this.to.isValid(e)}},{key:"isSingle",value:function(){return this.from.row>=0&&this.from.row===this.to.row&&this.from.col>=0&&this.from.col===this.to.col}},{key:"getOuterHeight",value:function(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1}},{key:"getOuterWidth",value:function(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1}},{key:"getHeight",value:function(){var e=Math.max(this.from.row,0),t=Math.max(this.to.row,0);return Math.max(e,t)-Math.min(e,t)+1}},{key:"getWidth",value:function(){var e=Math.max(this.from.col,0),t=Math.max(this.to.col,0);return Math.max(e,t)-Math.min(e,t)+1}},{key:"getCellsCount",value:function(){return this.getWidth()*this.getHeight()}},{key:"includes",value:function(e){var t=e.row,n=e.col,r=this.getOuterTopStartCorner(),i=this.getOuterBottomEndCorner();return r.row<=t&&i.row>=t&&r.col<=n&&i.col>=n}},{key:"includesRange",value:function(e){return this.includes(e.getOuterTopStartCorner())&&this.includes(e.getOuterBottomEndCorner())}},{key:"isEqual",value:function(e){return Math.min(this.from.row,this.to.row)===Math.min(e.from.row,e.to.row)&&Math.max(this.from.row,this.to.row)===Math.max(e.from.row,e.to.row)&&Math.min(this.from.col,this.to.col)===Math.min(e.from.col,e.to.col)&&Math.max(this.from.col,this.to.col)===Math.max(e.from.col,e.to.col)}},{key:"overlaps",value:function(e){return e.isSouthEastOf(this.getOuterTopLeftCorner())&&e.isNorthWestOf(this.getOuterBottomRightCorner())}},{key:"isSouthEastOf",value:function(e){return this.getOuterTopLeftCorner().isSouthEastOf(e)||this.getOuterBottomRightCorner().isSouthEastOf(e)}},{key:"isNorthWestOf",value:function(e){return this.getOuterTopLeftCorner().isNorthWestOf(e)||this.getOuterBottomRightCorner().isNorthWestOf(e)}},{key:"isOverlappingHorizontally",value:function(e){return this.getOuterTopRightCorner().col>=e.getOuterTopLeftCorner().col&&this.getOuterTopRightCorner().col<=e.getOuterTopRightCorner().col||this.getOuterTopLeftCorner().col<=e.getOuterTopRightCorner().col&&this.getOuterTopLeftCorner().col>=e.getOuterTopLeftCorner().col}},{key:"isOverlappingVertically",value:function(e){return this.getOuterBottomRightCorner().row>=e.getOuterTopRightCorner().row&&this.getOuterBottomRightCorner().row<=e.getOuterBottomRightCorner().row||this.getOuterTopRightCorner().row<=e.getOuterBottomRightCorner().row&&this.getOuterTopRightCorner().row>=e.getOuterTopRightCorner().row}},{key:"expand",value:function(e){var t=this.getOuterTopStartCorner(),n=this.getOuterBottomEndCorner();return(e.row<t.row||e.col<t.col||e.row>n.row||e.col>n.col)&&(this.from=this._createCellCoords(Math.min(t.row,e.row),Math.min(t.col,e.col)),this.to=this._createCellCoords(Math.max(n.row,e.row),Math.max(n.col,e.col)),!0)}},{key:"expandByRange",value:function(e){if(this.includesRange(e)||!this.overlaps(e))return!1;var t=this.getOuterTopStartCorner(),n=this.getOuterBottomEndCorner(),r=this.getDirection(),i=e.getOuterTopStartCorner(),o=e.getOuterBottomEndCorner(),a=Math.min(t.row,i.row),s=Math.min(t.col,i.col),l=Math.max(n.row,o.row),u=Math.max(n.col,o.col),c=this._createCellCoords(a,s),d=this._createCellCoords(l,u);return this.from=c,this.to=d,this.setDirection(r),this.highlight.row===this.getOuterBottomRightCorner().row&&"N-S"===this.getVerticalDirection()&&this.flipDirectionVertically(),this.highlight.col===this.getOuterTopRightCorner().col&&"W-E"===this.getHorizontalDirection()&&this.flipDirectionHorizontally(),!0}},{key:"getDirection",value:function(){return this.from.isNorthWestOf(this.to)?"NW-SE":this.from.isNorthEastOf(this.to)?"NE-SW":this.from.isSouthEastOf(this.to)?"SE-NW":this.from.isSouthWestOf(this.to)?"SW-NE":void 0}},{key:"setDirection",value:function(e){switch(e){case"NW-SE":var t=[this.getOuterTopLeftCorner(),this.getOuterBottomRightCorner()];this.from=t[0],this.to=t[1];break;case"NE-SW":var n=[this.getOuterTopRightCorner(),this.getOuterBottomLeftCorner()];this.from=n[0],this.to=n[1];break;case"SE-NW":var r=[this.getOuterBottomRightCorner(),this.getOuterTopLeftCorner()];this.from=r[0],this.to=r[1];break;case"SW-NE":var i=[this.getOuterBottomLeftCorner(),this.getOuterTopRightCorner()];this.from=i[0],this.to=i[1]}}},{key:"getVerticalDirection",value:function(){return["NE-SW","NW-SE"].indexOf(this.getDirection())>-1?"N-S":"S-N"}},{key:"getHorizontalDirection",value:function(){return["NW-SE","SW-NE"].indexOf(this.getDirection())>-1?"W-E":"E-W"}},{key:"flipDirectionVertically",value:function(){switch(this.getDirection()){case"NW-SE":this.setDirection("SW-NE");break;case"NE-SW":this.setDirection("SE-NW");break;case"SE-NW":this.setDirection("NE-SW");break;case"SW-NE":this.setDirection("NW-SE")}}},{key:"flipDirectionHorizontally",value:function(){switch(this.getDirection()){case"NW-SE":this.setDirection("NE-SW");break;case"NE-SW":this.setDirection("NW-SE");break;case"SE-NW":this.setDirection("SW-NE");break;case"SW-NE":this.setDirection("SE-NW")}}},{key:"getTopStartCorner",value:function(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}},{key:"getTopLeftCorner",value:function(){return Ha(this,Ya)?this.getTopEndCorner():this.getTopStartCorner()}},{key:"getBottomEndCorner",value:function(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}},{key:"getBottomRightCorner",value:function(){return Ha(this,Ya)?this.getBottomStartCorner():this.getBottomEndCorner()}},{key:"getTopEndCorner",value:function(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}},{key:"getTopRightCorner",value:function(){return Ha(this,Ya)?this.getTopStartCorner():this.getTopEndCorner()}},{key:"getBottomStartCorner",value:function(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}},{key:"getBottomLeftCorner",value:function(){return Ha(this,Ya)?this.getBottomEndCorner():this.getBottomStartCorner()}},{key:"getOuterTopStartCorner",value:function(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}},{key:"getOuterTopLeftCorner",value:function(){return Ha(this,Ya)?this.getOuterTopEndCorner():this.getOuterTopStartCorner()}},{key:"getOuterBottomEndCorner",value:function(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}},{key:"getOuterBottomRightCorner",value:function(){return Ha(this,Ya)?this.getOuterBottomStartCorner():this.getOuterBottomEndCorner()}},{key:"getOuterTopEndCorner",value:function(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}},{key:"getOuterTopRightCorner",value:function(){return Ha(this,Ya)?this.getOuterTopStartCorner():this.getOuterTopEndCorner()}},{key:"getOuterBottomStartCorner",value:function(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}},{key:"getOuterBottomLeftCorner",value:function(){return Ha(this,Ya)?this.getOuterBottomEndCorner():this.getOuterBottomStartCorner()}},{key:"isCorner",value:function(e,t){return!!(t&&t.includes(e)&&(this.getOuterTopLeftCorner().isEqual(this._createCellCoords(t.from.row,t.from.col))||this.getOuterTopRightCorner().isEqual(this._createCellCoords(t.from.row,t.to.col))||this.getOuterBottomLeftCorner().isEqual(this._createCellCoords(t.to.row,t.from.col))||this.getOuterBottomRightCorner().isEqual(this._createCellCoords(t.to.row,t.to.col))))||e.isEqual(this.getOuterTopLeftCorner())||e.isEqual(this.getOuterTopRightCorner())||e.isEqual(this.getOuterBottomLeftCorner())||e.isEqual(this.getOuterBottomRightCorner())}},{key:"getOppositeCorner",value:function(e,t){if(!(e instanceof Aa))return!1;if(t){var n=t.from,r=t.to;if(t.includes(e)){if(this.getOuterTopStartCorner().isEqual(this._createCellCoords(n.row,n.col)))return this.getOuterBottomEndCorner();if(this.getOuterTopEndCorner().isEqual(this._createCellCoords(n.row,r.col)))return this.getOuterBottomStartCorner();if(this.getOuterBottomStartCorner().isEqual(this._createCellCoords(r.row,n.col)))return this.getOuterTopEndCorner();if(this.getOuterBottomEndCorner().isEqual(this._createCellCoords(r.row,r.col)))return this.getOuterTopStartCorner()}}return e.isEqual(this.getOuterBottomEndCorner())?this.getOuterTopStartCorner():e.isEqual(this.getOuterTopStartCorner())?this.getOuterBottomEndCorner():e.isEqual(this.getOuterTopEndCorner())?this.getOuterBottomStartCorner():e.isEqual(this.getOuterBottomStartCorner())?this.getOuterTopEndCorner():void 0}},{key:"getBordersSharedWith",value:function(e){if(!this.includesRange(e))return[];var t=Math.min(this.from.row,this.to.row),n=Math.max(this.from.row,this.to.row),r=Math.min(this.from.col,this.to.col),i=Math.max(this.from.col,this.to.col),o=Math.min(e.from.row,e.to.row),a=Math.max(e.from.row,e.to.row),s=Math.min(e.from.col,e.to.col),l=Math.max(e.from.col,e.to.col),u=[];return t===o&&u.push("top"),i===l&&u.push("right"),n===a&&u.push("bottom"),r===s&&u.push("left"),u}},{key:"getInner",value:function(){for(var e=this.getOuterTopStartCorner(),t=this.getOuterBottomEndCorner(),n=[],r=e.row;r<=t.row;r++)for(var i=e.col;i<=t.col;i++)this.from.row===r&&this.from.col===i||this.to.row===r&&this.to.col===i||n.push(this._createCellCoords(r,i));return n}},{key:"getAll",value:function(){for(var e=this.getOuterTopStartCorner(),t=this.getOuterBottomEndCorner(),n=[],r=e.row;r<=t.row;r++)for(var i=e.col;i<=t.col;i++)e.row===r&&e.col===i?n.push(e):t.row===r&&t.col===i?n.push(t):n.push(this._createCellCoords(r,i));return n}},{key:"forAll",value:function(e){for(var t=this.getOuterTopStartCorner(),n=this.getOuterBottomEndCorner(),r=t.row;r<=n.row;r++)for(var i=t.col;i<=n.col;i++)if(!1===e(r,i))return}},{key:"clone",value:function(){return new e(this.highlight,this.from,this.to,Ha(this,Ya))}},{key:"toObject",value:function(){return{from:this.from.toObject(),to:this.to.toObject()}}},{key:"_createCellCoords",value:function(e,t){return new Aa(e,t,Ha(this,Ya))}}],n&&ja(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const Ba=za;function Wa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ua=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),$a(this,"wtTable",void 0),$a(this,"wtScroll",void 0),$a(this,"wtViewport",void 0),$a(this,"wtOverlays",void 0),$a(this,"selections",void 0),$a(this,"wtEvent",void 0),$a(this,"guid","wt_".concat(yt())),$a(this,"drawInterrupted",!1),$a(this,"drawn",!1),$a(this,"domBindings",void 0),$a(this,"wtSettings",void 0),this.domBindings={rootTable:t,rootDocument:t.ownerDocument,rootWindow:t.ownerDocument.defaultView},this.wtSettings=n,this.wtScroll=new ka(this.createScrollDao())}var t,n;return t=e,n=[{key:"eventManager",get:function(){return new kr(this)}},{key:"findOriginalHeaders",value:function(){var e=[];if(this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(var t=0,n=this.wtTable.THEAD.childNodes[0].childNodes.length;t<n;t++)e.push(this.wtTable.THEAD.childNodes[0].childNodes[t].innerHTML);this.wtSettings.getSetting("columnHeaders").length||this.wtSettings.update("columnHeaders",[function(t,n){$t(n,e[t])}])}}},{key:"createCellCoords",value:function(e,t){return new Aa(e,t,this.wtSettings.getSetting("rtlMode"))}},{key:"createCellRange",value:function(e,t,n){return new Ba(e,t,n,this.wtSettings.getSetting("rtlMode"))}},{key:"draw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.drawInterrupted=!1,e||this.wtTable.isVisible()?this.wtTable.draw(e):this.drawInterrupted=!0,this}},{key:"getCell",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return this.wtTable.getCell(e);var n=this.wtSettings.getSetting("totalRows"),r=this.wtSettings.getSetting("fixedRowsTop"),i=this.wtSettings.getSetting("fixedRowsBottom"),o=this.wtSettings.getSetting("fixedColumnsStart");if(e.row<r&&e.col<o)return this.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.getCell(e);if(e.row<r)return this.wtOverlays.topOverlay.clone.wtTable.getCell(e);if(e.col<o&&e.row>=n-i){if(this.wtOverlays.bottomInlineStartCornerOverlay&&this.wtOverlays.bottomInlineStartCornerOverlay.clone)return this.wtOverlays.bottomInlineStartCornerOverlay.clone.wtTable.getCell(e)}else{if(e.col<o)return this.wtOverlays.inlineStartOverlay.clone.wtTable.getCell(e);if(e.row<n&&e.row>=n-i&&this.wtOverlays.bottomOverlay&&this.wtOverlays.bottomOverlay.clone)return this.wtOverlays.bottomOverlay.clone.wtTable.getCell(e)}return this.wtTable.getCell(e)}},{key:"scrollViewport",value:function(e,t,n,r,i){return!(e.col<0||e.row<0)&&this.wtScroll.scrollViewport(e,t,n,r,i)}},{key:"scrollViewportHorizontally",value:function(e,t,n){return!(e<0)&&this.wtScroll.scrollViewportHorizontally(e,t,n)}},{key:"scrollViewportVertically",value:function(e,t,n){return!(e<0)&&this.wtScroll.scrollViewportVertically(e,t,n)}},{key:"getViewport",value:function(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]}},{key:"destroy",value:function(){this.wtOverlays.destroy(),this.wtEvent.destroy()}},{key:"createScrollDao",value:function(){var e=this;return{get drawn(){return e.drawn},get topOverlay(){return e.wtOverlays.topOverlay},get inlineStartOverlay(){return e.wtOverlays.inlineStartOverlay},get wtTable(){return e.wtTable},get wtViewport(){return e.wtViewport},get rootWindow(){return e.domBindings.rootWindow},get totalRows(){return e.wtSettings.getSetting("totalRows")},get totalColumns(){return e.wtSettings.getSetting("totalColumns")},get fixedRowsTop(){return e.wtSettings.getSetting("fixedRowsTop")},get fixedRowsBottom(){return e.wtSettings.getSetting("fixedRowsBottom")},get fixedColumnsStart(){return e.wtSettings.getSetting("fixedColumnsStart")}}}},{key:"getTableDao",value:function(){var e=this;return{get wot(){return e},get parentTableOffset(){return e.cloneSource.wtTable.tableOffset},get cloneSource(){return e.cloneSource},get workspaceWidth(){return e.wtViewport.getWorkspaceWidth()},get wtViewport(){return e.wtViewport},get wtOverlays(){return e.wtOverlays},get selections(){return e.selections},get drawn(){return e.drawn},set drawn(t){e.drawn=t},get wtTable(){return e.wtTable},get startColumnRendered(){return e.wtViewport.columnsRenderCalculator.startColumn},get startColumnVisible(){return e.wtViewport.columnsVisibleCalculator.startColumn},get endColumnRendered(){return e.wtViewport.columnsRenderCalculator.endColumn},get endColumnVisible(){return e.wtViewport.columnsVisibleCalculator.endColumn},get countColumnsRendered(){return e.wtViewport.columnsRenderCalculator.count},get countColumnsVisible(){return e.wtViewport.columnsVisibleCalculator.count},get startRowRendered(){return e.wtViewport.rowsRenderCalculator.startRow},get startRowVisible(){return e.wtViewport.rowsVisibleCalculator.startRow},get endRowRendered(){return e.wtViewport.rowsRenderCalculator.endRow},get endRowVisible(){return e.wtViewport.rowsVisibleCalculator.endRow},get countRowsRendered(){return e.wtViewport.rowsRenderCalculator.count},get countRowsVisible(){return e.wtViewport.rowsVisibleCalculator.count}}}}],n&&Wa(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Va(e){return Va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Va(e)}function qa(e,t){return qa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qa(e,t)}function Ga(e,t){if(t&&("object"===Va(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ka(e)}function Ka(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Za(e){return Za=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Za(e)}function Xa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ja=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qa(e,t)}(o,e);var t,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Za(n);if(r){var i=Za(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return Ga(this,e)});function o(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Xa(Ka(r=i.call(this,e,t)),"cloneSource",void 0),Xa(Ka(r),"cloneOverlay",void 0);var a=r.wtSettings.getSetting("facade",Ka(r));return r.cloneSource=n.source,r.cloneOverlay=n.overlay,r.wtTable=r.cloneOverlay.createTable(r.getTableDao(),a,r.domBindings,r.wtSettings),r.wtViewport=n.viewport,r.selections=n.selections,r.wtEvent=new Hi(a,r.domBindings,r.wtSettings,r.eventManager,r.wtTable,r.selections,n.event),r.findOriginalHeaders(),r}return t=o,Object.defineProperty(t,"prototype",{writable:!1}),t}(Ua);function Qa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var es=function(){function e(t,n,r,i,o){var a,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(s="wtSettings")in(a=this)?Object.defineProperty(a,s,{value:null,enumerable:!0,configurable:!0,writable:!0}):a[s]=null,he(this,"wot",t,{writable:!1}),this.domBindings=o,this.facadeGetter=n,this.wtSettings=i;var l=this.wot.wtTable,u=l.TABLE,c=l.hider,d=l.spreader,h=l.holder,f=l.wtRootElement;this.instance=this.wot,this.type=r,this.mainTableScrollableElement=null,this.TABLE=u,this.hider=c,this.spreader=d,this.holder=h,this.wtRootElement=f,this.trimmingContainer=Jt(this.hider.parentNode.parentNode),this.updateStateOfRendering(),this.clone=this.makeClone()}var t,n;return t=e,n=[{key:"updateStateOfRendering",value:function(){var e=this.needFullRender;this.needFullRender=this.shouldBeRendered();var t=e!==this.needFullRender;return t&&!this.needFullRender&&this.reset(),t}},{key:"shouldBeRendered",value:function(){return!0}},{key:"updateTrimmingContainer",value:function(){this.trimmingContainer=Jt(this.hider.parentNode.parentNode)}},{key:"updateMainScrollableElement",value:function(){var e=this.wot.wtTable;"hidden"===this.domBindings.rootWindow.getComputedStyle(e.wtRootElement.parentNode).getPropertyValue("overflow")?this.mainTableScrollableElement=this.wot.wtTable.holder:this.mainTableScrollableElement=Xt(e.TABLE)}},{key:"getRelativeCellPosition",value:function(e,t,n){if(!1!==this.clone.wtTable.holder.contains(e)){var r=this.mainTableScrollableElement===this.domBindings.rootWindow,i=n<this.wtSettings.getSetting("fixedColumnsStart"),o=t<this.wtSettings.getSetting("fixedRowsTop"),a=t>=this.wtSettings.getSetting("totalRows")-this.wtSettings.getSetting("fixedRowsBottom"),s=this.clone.wtTable.spreader,l={start:this.getRelativeStartPosition(s),top:s.offsetTop},u={start:this.getRelativeStartPosition(e),top:e.offsetTop};return r?this.getRelativeCellPositionWithinWindow(o,i,u,l):this.getRelativeCellPositionWithinHolder(o,a,i,u,l)}Vn("The provided element is not a child of the ".concat(this.type," overlay"))}},{key:"getRelativeStartPosition",value:function(e){return this.isRtl()?e.offsetParent.offsetWidth-e.offsetLeft-e.offsetWidth:e.offsetLeft}},{key:"getRelativeCellPositionWithinWindow",value:function(e,t,n,r){var i,o=this.wot.wtTable.wtRootElement.getBoundingClientRect(),a=0;if(t){var s=o.left;this.isRtl()&&(s=this.domBindings.rootWindow.innerWidth-(o.left+o.width+mn())),a=s<=0?-1*s:0}else a=r.start;return i=e?this.clone.wtTable.TABLE.getBoundingClientRect().top-o.top:r.top,{start:n.start+a,top:n.top+i}}},{key:"getRelativeCellPositionWithinHolder",value:function(e,t,n,r,i){var o=this.wot.wtOverlays.inlineStartOverlay.getScrollPosition(),a=this.wot.wtOverlays.topOverlay.getScrollPosition(),s=0,l=0;if(n||(s=o-i.start),t){var u=this.wot.wtTable.wtRootElement.getBoundingClientRect();l=-1*this.clone.wtTable.TABLE.getBoundingClientRect().top+u.top}else e||(l=a-i.top);return{start:r.start-s,top:r.top-l}}},{key:"makeClone",value:function(){if(-1===ta.indexOf(this.type))throw new Error('Clone type "'.concat(this.type,'" is not supported.'));var e=this.wot.wtTable,t=this.domBindings,n=t.rootDocument,r=t.rootWindow,i=n.createElement("DIV"),o=n.createElement("TABLE"),a=e.wtRootElement.parentNode;i.className="".concat(na.get(this.type)," handsontable"),i.setAttribute("dir",this.isRtl()?"rtl":"ltr"),i.style.position="absolute",i.style.top=0,i.style.overflow="visible",this.isRtl()?i.style.right=0:i.style.left=0,o.className=e.TABLE.className,i.appendChild(o),a.appendChild(i);var s=this.wtSettings.getSetting("preventOverflow");return!0===s||"horizontal"===s&&this.type===Zo||"vertical"===s&&this.type===Jo?this.mainTableScrollableElement=r:"hidden"===r.getComputedStyle(a).getPropertyValue("overflow")?this.mainTableScrollableElement=e.holder:this.mainTableScrollableElement=Xt(e.TABLE),new Ja(o,this.wtSettings,{source:this.wot,overlay:this,viewport:this.wot.wtViewport,event:this.wot.wtEvent,selections:this.wot.selections})}},{key:"refresh",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.shouldBeRendered();this.clone&&(this.needFullRender||t)&&this.clone.draw(e),this.needFullRender=t}},{key:"reset",value:function(){if(this.clone){var e=this.clone.wtTable.holder,t=this.clone.wtTable.hider;$([e.style,t.style,e.parentNode.style],(function(e){e.width="",e.height=""}))}}},{key:"isRtl",value:function(){return this.wtSettings.getSetting("rtlMode")}},{key:"destroy",value:function(){this.clone.eventManager.destroy()}}],n&&Qa(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ts(e){return ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ts(e)}function ns(e,t,n){return ns=ss()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&is(i,n.prototype),i},ns.apply(null,arguments)}function rs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function is(e,t){return is=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},is(e,t)}function os(e,t){if(t&&("object"===ts(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return as(e)}function as(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ss(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ls(e){return ls=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ls(e)}var us=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&is(e,t)}(a,e);var t,n,r,i,o=(t=a,n=ss(),function(){var e,r=ls(t);if(n){var i=ls(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return os(this,e)});function a(e,t,n,r){var i,s,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),s=as(i=o.call(this,e,t,Zo,n,r)),(l="cachedFixedRowsTop")in s?Object.defineProperty(s,l,{value:-1,enumerable:!0,configurable:!0,writable:!0}):s[l]=-1,i.cachedFixedRowsTop=i.wtSettings.getSetting("fixedRowsTop"),i}return r=a,i=[{key:"createTable",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ns(va,t)}},{key:"shouldBeRendered",value:function(){return this.wtSettings.getSetting("shouldRenderTopOverlay")}},{key:"resetFixedPosition",value:function(){if(!this.needFullRender||!this.wot.wtTable.holder.parentNode)return!1;var e=this.clone.wtTable.holder.parentNode,t=this.domBindings.rootWindow,n=this.wtSettings.getSetting("preventOverflow"),r=0,i=!1;if(this.trimmingContainer!==t||n&&"vertical"===n)r=this.getScrollPosition(),wn(e);else{var o=this.wot.wtTable.hider.getBoundingClientRect();i=Math.ceil(o.bottom)===e.offsetHeight,r=this.getOverlayOffset(),vn(e,"0px","".concat(r,"px"))}var a=this.adjustHeaderBordersPosition(r,i);return this.adjustElementsSize(),a}},{key:"setScrollPosition",value:function(e){var t=this.domBindings.rootWindow,n=!1;return this.mainTableScrollableElement===t&&t.scrollY!==e?(t.scrollTo(Gt(t),e),n=!0):this.mainTableScrollableElement.scrollTop!==e&&(this.mainTableScrollableElement.scrollTop=e,n=!0),n}},{key:"onScroll",value:function(){this.wtSettings.getSetting("onScrollHorizontally")}},{key:"sumCellSizes",value:function(e,t){for(var n=this.wtSettings.getSetting("defaultRowHeight"),r=e,i=0;r<t;){var o=this.wot.wtTable.getRowHeight(r);i+=void 0===o?n:o,r+=1}return i}},{key:"adjustElementsSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||e)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}},{key:"adjustRootElementSize",value:function(){var e=this.wot.wtTable,t=this.domBindings,n=t.rootDocument,r=t.rootWindow,i=mn(n),o=this.clone.wtTable.holder.parentNode.style,a=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==r||"horizontal"===a){var s=this.wot.wtViewport.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(s-=i),s=Math.min(s,e.wtRootElement.scrollWidth),o.width="".concat(s,"px")}else o.width="";this.clone.wtTable.holder.style.width=o.width;var l=rn(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(l=0),o.height="".concat(l,"px")}},{key:"adjustRootChildrenSize",value:function(){var e,t=this.clone.wtTable.holder,n=this.wot.selections,r=this.facadeGetter(),i=Math.abs(null!==(e=null==n?void 0:n.getCell().getBorder(r).cornerCenterPointOffset)&&void 0!==e?e:0);this.clone.wtTable.hider.style.width=this.hider.style.width,t.style.width=t.parentNode.style.width,t.style.height="".concat(parseInt(t.parentNode.style.height,10)+i,"px")}},{key:"applyToDOM",value:function(){var e=this.wtSettings.getSetting("totalRows");if("number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition)this.spreader.style.top="".concat(this.wot.wtViewport.rowsRenderCalculator.startPosition,"px");else{if(0!==e)throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.top="0"}this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}},{key:"syncOverlayOffset",value:function(){var e=this.isRtl()?"right":"left",t=this.clone.wtTable.spreader;"number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition?t.style[e]="".concat(this.wot.wtViewport.columnsRenderCalculator.startPosition,"px"):t.style[e]=""}},{key:"scrollTo",value:function(e,t){var n=this.wot,r=this.wtSettings,i=(n.cloneSource?n.cloneSource:n).wtTable.holder,o=this.getTableParentOffset(),a=0;if(t&&this.wot.wtTable.getRowHeight(e)>this.wot.wtViewport.getViewportHeight()&&(t=!1),t&&i.offsetHeight!==i.clientHeight&&(a=mn(this.domBindings.rootDocument)),t){var s=r.getSetting("fixedRowsBottom"),l=r.getSetting("totalRows");o+=this.sumCellSizes(0,e+1),o-=n.wtViewport.getViewportHeight()-this.sumCellSizes(l-s,l),o+=1}else o+=this.sumCellSizes(r.getSetting("fixedRowsTop"),e);return o+=a,this.setScrollPosition(o)}},{key:"getTableParentOffset",value:function(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}},{key:"getScrollPosition",value:function(){return Kt(this.mainTableScrollableElement,this.domBindings.rootWindow)}},{key:"getOverlayOffset",value:function(){var e=this.domBindings.rootWindow,t=this.wtSettings.getSetting("preventOverflow"),n=0;if(this.trimmingContainer===e&&(!t||"vertical"!==t)){var r=this.wot.wtTable.getTotalHeight()-this.clone.wtTable.getTotalHeight();(n=Math.max(this.getScrollPosition()-this.getTableParentOffset(),0))>r&&(n=0)}return n}},{key:"adjustHeaderBordersPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.wot.wtTable.holder.parentNode,r=this.wtSettings.getSetting("totalColumns");r?Nt(n,"emptyColumns"):Ht(n,"emptyColumns");var i=!1;if(!t){var o=this.wtSettings.getSetting("fixedRowsTop"),a=this.cachedFixedRowsTop!==o,s=this.wtSettings.getSetting("columnHeaders");if((a||0===o)&&s.length>0){var l=It(n,"innerBorderTop");this.cachedFixedRowsTop=this.wtSettings.getSetting("fixedRowsTop"),e||0===this.wtSettings.getSetting("totalRows")?(Ht(n,"innerBorderTop"),i=!l):(Nt(n,"innerBorderTop"),i=l)}}return i}}],i&&rs(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),a}(es),cs={getFirstRenderedRow:function(){var e=this.wtSettings.getSetting("totalRows"),t=this.wtSettings.getSetting("fixedRowsBottom"),n=e-t;return 0===e||0===t?-1:n<0?0:n},getFirstVisibleRow:function(){return this.getFirstRenderedRow()},getLastRenderedRow:function(){return this.wtSettings.getSetting("totalRows")-1},getLastVisibleRow:function(){return this.getLastRenderedRow()},getRenderedRowsCount:function(){var e=this.wtSettings.getSetting("totalRows");return Math.min(this.wtSettings.getSetting("fixedRowsBottom"),e)},getVisibleRowsCount:function(){return this.getRenderedRowsCount()}};he(cs,"MIXIN_NAME","stickyRowsBottom",{writable:!1,enumerable:!1});const ds=cs;function hs(e){return hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hs(e)}function fs(e,t){return fs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fs(e,t)}function ps(e,t){if(t&&("object"===hs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ms(e){return ms=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ms(e)}var gs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fs(e,t)}(o,e);var t,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ms(n);if(r){var i=ms(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return ps(this,e)});function o(e,t,n,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.call(this,e,t,n,r,Xo)}return t=o,Object.defineProperty(t,"prototype",{writable:!1}),t}(la);ue(gs,ds),ue(gs,ha);const ys=gs;function vs(e){return vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vs(e)}function bs(e,t,n){return bs=Ms()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_s(i,n.prototype),i},bs.apply(null,arguments)}function ws(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _s(e,t){return _s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_s(e,t)}function ks(e,t){if(t&&("object"===vs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ss(e)}function Ss(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ms(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function xs(e){return xs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xs(e)}var Os=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_s(e,t)}(a,e);var t,n,r,i,o=(t=a,n=Ms(),function(){var e,r=xs(t);if(n){var i=xs(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return ks(this,e)});function a(e,t,n,r){var i,s,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),s=Ss(i=o.call(this,e,t,Xo,n,r)),(l="cachedFixedRowsBottom")in s?Object.defineProperty(s,l,{value:-1,enumerable:!0,configurable:!0,writable:!0}):s[l]=-1,i.cachedFixedRowsBottom=i.wtSettings.getSetting("fixedRowsBottom"),i}return r=a,i=[{key:"createTable",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return bs(ys,t)}},{key:"shouldBeRendered",value:function(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")}},{key:"resetFixedPosition",value:function(){if(!this.needFullRender||!this.wot.wtTable.holder.parentNode)return!1;var e=this.domBindings.rootWindow,t=this.clone.wtTable.holder.parentNode;t.style.top="";var n=0,r=this.wtSettings.getSetting("preventOverflow");this.trimmingContainer!==e||r&&"vertical"===r?(n=this.getScrollPosition(),this.repositionOverlay()):(n=this.getOverlayOffset(),t.style.bottom="".concat(n,"px"));var i=this.adjustHeaderBordersPosition(n);return this.adjustElementsSize(),i}},{key:"repositionOverlay",value:function(){var e=this.wot,t=e.wtTable,n=e.wtViewport,r=this.domBindings.rootDocument,i=this.clone.wtTable.holder.parentNode,o=0;n.hasVerticalScroll()||(o+=n.getWorkspaceHeight()-t.getTotalHeight()),n.hasVerticalScroll()&&n.hasHorizontalScroll()&&(o+=mn(r)),i.style.bottom="".concat(o,"px")}},{key:"setScrollPosition",value:function(e){var t=this.domBindings.rootWindow,n=!1;return this.mainTableScrollableElement===t?(t.scrollTo(Gt(t),e),n=!0):this.mainTableScrollableElement.scrollTop!==e&&(this.mainTableScrollableElement.scrollTop=e,n=!0),n}},{key:"onScroll",value:function(){this.wtSettings.getSetting("onScrollHorizontally")}},{key:"sumCellSizes",value:function(e,t){for(var n=this.wot,r=n.wtTable,i=n.wtSettings.getSetting("defaultRowHeight"),o=e,a=0;o<t;){var s=r.getRowHeight(o);a+=void 0===s?i:s,o+=1}return a}},{key:"adjustElementsSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||e)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}},{key:"adjustRootElementSize",value:function(){var e=this.wot,t=e.wtTable,n=e.wtViewport,r=this.domBindings,i=r.rootDocument,o=r.rootWindow,a=mn(i),s=this.clone.wtTable.holder.parentNode.style,l=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==o||"horizontal"===l){var u=n.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(u-=a),u=Math.min(u,t.wtRootElement.scrollWidth),s.width="".concat(u,"px")}else s.width="";this.clone.wtTable.holder.style.width=s.width;var c=rn(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(c=0),s.height="".concat(c,"px")}},{key:"adjustRootChildrenSize",value:function(){var e=this.clone.wtTable.holder;this.clone.wtTable.hider.style.width=this.hider.style.width,e.style.width=e.parentNode.style.width,e.style.height=e.parentNode.style.height}},{key:"applyToDOM",value:function(){var e=this.wtSettings.getSetting("totalRows");if("number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition)this.spreader.style.top="".concat(this.wot.wtViewport.rowsRenderCalculator.startPosition,"px");else{if(0!==e)throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.top="0"}this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}},{key:"syncOverlayOffset",value:function(){var e=this.isRtl()?"right":"left",t=this.clone.wtTable.spreader;"number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition?t.style[e]="".concat(this.wot.wtViewport.columnsRenderCalculator.startPosition,"px"):t.style[e]=""}},{key:"scrollTo",value:function(e,t){var n=this.getTableParentOffset(),r=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,i=0;t&&r.offsetHeight!==r.clientHeight&&(i=mn(this.domBindings.rootDocument)),t?(n+=this.sumCellSizes(0,e+1),n-=this.wot.wtViewport.getViewportHeight(),n+=1):n+=this.sumCellSizes(this.wtSettings.getSetting("fixedRowsBottom"),e),n+=i,this.setScrollPosition(n)}},{key:"getTableParentOffset",value:function(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}},{key:"getScrollPosition",value:function(){return Kt(this.mainTableScrollableElement,this.domBindings.rootWindow)}},{key:"getOverlayOffset",value:function(){var e=this.domBindings.rootWindow,t=this.wtSettings.getSetting("preventOverflow"),n=0;if(this.trimmingContainer===e&&(!t||"vertical"!==t)){var r=this.wot.wtTable.getTotalHeight(),i=r-this.clone.wtTable.getTotalHeight(),o=this.domBindings.rootDocument.documentElement.clientHeight;(n=Math.max(this.getTableParentOffset()-this.getScrollPosition()-o+r,0))>i&&(n=0)}return n}},{key:"adjustHeaderBordersPosition",value:function(e){var t=this.wtSettings.getSetting("fixedRowsBottom"),n=this.cachedFixedRowsBottom!==t,r=this.wtSettings.getSetting("columnHeaders"),i=!1;if((n||0===t)&&r.length>0){var o=this.wot.wtTable.holder.parentNode,a=It(o,"innerBorderBottom");this.cachedFixedRowsBottom=this.wtSettings.getSetting("fixedRowsBottom"),e||0===this.wtSettings.getSetting("totalRows")?(Ht(o,"innerBorderBottom"),i=!a):(Nt(o,"innerBorderBottom"),i=a)}return i}}],i&&ws(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),a}(es),Cs={getFirstRenderedRow:function(){var e=this.dataAccessObject.startRowRendered;return null===e?-1:e},getFirstVisibleRow:function(){var e=this.dataAccessObject.startRowVisible;return null===e?-1:e},getLastRenderedRow:function(){var e=this.dataAccessObject.endRowRendered;return null===e?-1:e},getLastVisibleRow:function(){var e=this.dataAccessObject.endRowVisible;return null===e?-1:e},getRenderedRowsCount:function(){return this.dataAccessObject.countRowsRendered},getVisibleRowsCount:function(){return this.dataAccessObject.countRowsVisible}};he(Cs,"MIXIN_NAME","calculatedRows",{writable:!1,enumerable:!1});const Ts=Cs;var Rs={getFirstRenderedColumn:function(){return 0===this.wtSettings.getSetting("totalColumns")?-1:0},getFirstVisibleColumn:function(){return this.getFirstRenderedColumn()},getLastRenderedColumn:function(){return this.getRenderedColumnsCount()-1},getLastVisibleColumn:function(){return this.getLastRenderedColumn()},getRenderedColumnsCount:function(){var e=this.wtSettings.getSetting("totalColumns");return Math.min(this.wtSettings.getSetting("fixedColumnsStart"),e)},getVisibleColumnsCount:function(){return this.getRenderedColumnsCount()}};he(Rs,"MIXIN_NAME","stickyColumnsStart",{writable:!1,enumerable:!1});const Ds=Rs;function Es(e){return Es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Es(e)}function As(e,t){return As=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},As(e,t)}function Ls(e,t){if(t&&("object"===Es(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function js(e){return js=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},js(e)}var Ps=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&As(e,t)}(o,e);var t,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=js(n);if(r){var i=js(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return Ls(this,e)});function o(e,t,n,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.call(this,e,t,n,r,Jo)}return t=o,Object.defineProperty(t,"prototype",{writable:!1}),t}(la);ue(Ps,Ts),ue(Ps,Ds);const Is=Ps;function Hs(e){return Hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(e)}function Ns(e,t,n){return Ns=Bs()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Ys(i,n.prototype),i},Ns.apply(null,arguments)}function Fs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ys(e,t){return Ys=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ys(e,t)}function zs(e,t){if(t&&("object"===Hs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Bs(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ws(e){return Ws=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ws(e)}var $s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ys(e,t)}(a,e);var t,n,r,i,o=(t=a,n=Bs(),function(){var e,r=Ws(t);if(n){var i=Ws(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return zs(this,e)});function a(e,t,n,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.call(this,e,t,Jo,n,r)}return r=a,i=[{key:"createTable",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ns(Is,t)}},{key:"shouldBeRendered",value:function(){return this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}},{key:"resetFixedPosition",value:function(){var e=this.wot.wtTable;if(!this.needFullRender||!e.holder.parentNode)return!1;var t=this.domBindings.rootWindow,n=this.clone.wtTable.holder.parentNode,r=this.wtSettings.getSetting("preventOverflow"),i=0;this.trimmingContainer!==t||r&&"horizontal"===r?(i=this.getScrollPosition(),wn(n)):(i=this.getOverlayOffset()*(this.isRtl()?-1:1),vn(n,"".concat(i,"px"),"0px"));var o=this.adjustHeaderBordersPosition(i);return this.adjustElementsSize(),o}},{key:"setScrollPosition",value:function(e){var t=this.domBindings.rootWindow,n=!1;return this.isRtl()&&(e=-e),this.mainTableScrollableElement===t&&t.scrollX!==e?(t.scrollTo(e,qt(t)),n=!0):this.mainTableScrollableElement.scrollLeft!==e&&(this.mainTableScrollableElement.scrollLeft=e,n=!0),n}},{key:"onScroll",value:function(){this.wtSettings.getSetting("onScrollVertically")}},{key:"sumCellSizes",value:function(e,t){for(var n=this.wtSettings.getSetting("defaultColumnWidth"),r=e,i=0;r<t;)i+=this.wot.wtTable.getStretchedColumnWidth(r)||n,r+=1;return i}},{key:"adjustElementsSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||e)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}},{key:"adjustRootElementSize",value:function(){var e=this.wot.wtTable,t=this.domBindings,n=t.rootDocument,r=t.rootWindow,i=mn(n),o=this.clone.wtTable.holder.parentNode.style,a=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==r||"vertical"===a){var s=this.wot.wtViewport.getWorkspaceHeight();this.wot.wtOverlays.hasScrollbarBottom&&(s-=i),s=Math.min(s,e.wtRootElement.scrollHeight),o.height="".concat(s,"px")}else o.height="";this.clone.wtTable.holder.style.height=o.height;var l=nn(this.clone.wtTable.TABLE);o.width="".concat(l,"px")}},{key:"adjustRootChildrenSize",value:function(){var e,t=this.clone.wtTable.holder,n=this.wot.selections,r=this.facadeGetter(),i=Math.abs(null!==(e=null==n?void 0:n.getCell().getBorder(r).cornerCenterPointOffset)&&void 0!==e?e:0);this.clone.wtTable.hider.style.height=this.hider.style.height,t.style.height=t.parentNode.style.height,t.style.width="".concat(parseInt(t.parentNode.style.width,10)+i,"px")}},{key:"applyToDOM",value:function(){var e=this.wtSettings.getSetting("totalColumns"),t=this.isRtl()?"right":"left";if("number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition)this.spreader.style[t]="".concat(this.wot.wtViewport.columnsRenderCalculator.startPosition,"px");else{if(0!==e)throw new Error("Incorrect value of the columnsRenderCalculator");this.spreader.style[t]="0"}this.isRtl()?this.spreader.style.left="":this.spreader.style.right="",this.needFullRender&&this.syncOverlayOffset()}},{key:"syncOverlayOffset",value:function(){"number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition?this.clone.wtTable.spreader.style.top="".concat(this.wot.wtViewport.rowsRenderCalculator.startPosition,"px"):this.clone.wtTable.spreader.style.top=""}},{key:"scrollTo",value:function(e,t){var n=this.getTableParentOffset(),r=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,i=0;return t&&this.wot.wtTable.getColumnWidth(e)>this.wot.wtViewport.getViewportWidth()&&(t=!1),t&&r.offsetWidth!==r.clientWidth&&(i=mn(this.domBindings.rootDocument)),t?(n+=this.sumCellSizes(0,e+1),n-=this.wot.wtViewport.getViewportWidth()):n+=this.sumCellSizes(this.wtSettings.getSetting("fixedColumnsStart"),e),n+=i,this.setScrollPosition(n)}},{key:"getTableParentOffset",value:function(){var e=0;return this.wtSettings.getSetting("preventOverflow")||this.trimmingContainer!==this.domBindings.rootWindow||(e=this.wot.wtTable.holderOffset.left),e}},{key:"getScrollPosition",value:function(){return Math.abs(Zt(this.mainTableScrollableElement,this.domBindings.rootWindow))}},{key:"getOverlayOffset",value:function(){var e=this.domBindings.rootWindow,t=this.wtSettings.getSetting("preventOverflow"),n=0;return this.trimmingContainer!==e||t&&"horizontal"===t||(n=this.isRtl()?Math.abs(Math.min(this.getTableParentOffset()-this.getScrollPosition(),0)):Math.max(this.getScrollPosition()-this.getTableParentOffset(),0))>this.wot.wtTable.getTotalWidth()-this.clone.wtTable.getTotalWidth()&&(n=0),n}},{key:"adjustHeaderBordersPosition",value:function(e){var t=this.wot.wtTable.holder.parentNode,n=this.wtSettings.getSetting("rowHeaders"),r=this.wtSettings.getSetting("fixedColumnsStart");this.wtSettings.getSetting("totalRows")?Nt(t,"emptyRows"):Ht(t,"emptyRows");var i=!1;if(r&&!n.length)Ht(t,"innerBorderLeft innerBorderInlineStart");else if(!r&&n.length){var o=It(t,"innerBorderInlineStart");e?(Ht(t,"innerBorderLeft innerBorderInlineStart"),i=!o):(Nt(t,"innerBorderLeft innerBorderInlineStart"),i=o)}return i}}],i&&Fs(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),a}(es);function Us(e){return Us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(e)}function Vs(e,t){return Vs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vs(e,t)}function qs(e,t){if(t&&("object"===Us(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Gs(e){return Gs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gs(e)}var Ks=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vs(e,t)}(o,e);var t,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Gs(n);if(r){var i=Gs(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return qs(this,e)});function o(e,t,n,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.call(this,e,t,n,r,Qo)}return t=o,Object.defineProperty(t,"prototype",{writable:!1}),t}(la);ue(Ks,ca),ue(Ks,Ds);const Zs=Ks;function Xs(e){return Xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xs(e)}function Js(e,t,n){return Js=rl()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&el(i,n.prototype),i},Js.apply(null,arguments)}function Qs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function el(e,t){return el=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},el(e,t)}function tl(e,t){if(t&&("object"===Xs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nl(e)}function nl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rl(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function il(e){return il=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},il(e)}function ol(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var al=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&el(e,t)}(a,e);var t,n,r,i,o=(t=a,n=rl(),function(){var e,r=il(t);if(n){var i=il(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return tl(this,e)});function a(e,t,n,r,i,s){var l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),ol(nl(l=o.call(this,e,t,Qo,n,r)),"topOverlay",void 0),ol(nl(l),"inlineStartOverlay",void 0),l.topOverlay=i,l.inlineStartOverlay=s,l}return r=a,i=[{key:"createTable",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Js(Zs,t)}},{key:"shouldBeRendered",value:function(){return this.wtSettings.getSetting("shouldRenderTopOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}},{key:"resetFixedPosition",value:function(){if(this.updateTrimmingContainer(),!this.wot.wtTable.holder.parentNode)return!1;var e=this.clone.wtTable.holder.parentNode;if(this.trimmingContainer===this.domBindings.rootWindow){var t=this.inlineStartOverlay.getOverlayOffset()*(this.isRtl()?-1:1),n=this.topOverlay.getOverlayOffset();vn(e,"".concat(t,"px"),"".concat(n,"px"))}else wn(e);var r=rn(this.clone.wtTable.TABLE),i=nn(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(r=0),e.style.height="".concat(r,"px"),e.style.width="".concat(i,"px"),!1}}],i&&Qs(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),a}(es);function sl(e){return sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sl(e)}function ll(e,t){return ll=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ll(e,t)}function ul(e,t){if(t&&("object"===sl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function cl(e){return cl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cl(e)}var dl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ll(e,t)}(o,e);var t,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=cl(n);if(r){var i=cl(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return ul(this,e)});function o(e,t,n,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.call(this,e,t,n,r,ea)}return t=o,Object.defineProperty(t,"prototype",{writable:!1}),t}(la);ue(dl,ds),ue(dl,Ds);const hl=dl;function fl(e){return fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(e)}function pl(e,t,n){return pl=vl()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&gl(i,n.prototype),i},pl.apply(null,arguments)}function ml(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gl(e,t){return gl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gl(e,t)}function yl(e,t){if(t&&("object"===fl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function vl(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function bl(e){return bl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bl(e)}var wl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gl(e,t)}(a,e);var t,n,r,i,o=(t=a,n=vl(),function(){var e,r=bl(t);if(n){var i=bl(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return yl(this,e)});function a(e,t,n,r,i,s){var l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(l=o.call(this,e,t,ea,n,r)).bottomOverlay=i,l.inlineStartOverlay=s,l}return r=a,i=[{key:"createTable",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return pl(hl,t)}},{key:"shouldBeRendered",value:function(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}},{key:"resetFixedPosition",value:function(){var e=this.wot;if(this.updateTrimmingContainer(),!e.wtTable.holder.parentNode)return!1;var t=this.clone.wtTable.holder.parentNode;if(t.style.top="",this.trimmingContainer===this.domBindings.rootWindow){var n=this.inlineStartOverlay.getOverlayOffset(),r=this.bottomOverlay.getOverlayOffset();t.style[this.isRtl()?"right":"left"]="".concat(n,"px"),t.style.bottom="".concat(r,"px")}else wn(t),this.repositionOverlay();var i=rn(this.clone.wtTable.TABLE),o=nn(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(i=0),t.style.height="".concat(i,"px"),t.style.width="".concat(o,"px"),!1}},{key:"repositionOverlay",value:function(){var e=this.wot,t=e.wtTable,n=e.wtViewport,r=this.domBindings.rootDocument,i=this.clone.wtTable.holder.parentNode,o=0;n.hasVerticalScroll()||(o+=n.getWorkspaceHeight()-t.getTotalHeight()),n.hasVerticalScroll()&&n.hasHorizontalScroll()&&(o+=mn(r)),i.style.bottom="".concat(o,"px")}}],i&&ml(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),a}(es);function _l(e,t,n){return _l=kl()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Sl(i,n.prototype),i},_l.apply(null,arguments)}function kl(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Sl(e,t){return Sl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sl(e,t)}function Ml(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ol=function(){function e(t,n,r,i,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),xl(this,"wot",null),xl(this,"topOverlay",null),xl(this,"bottomOverlay",null),xl(this,"inlineStartOverlay",null),xl(this,"topInlineStartCornerOverlay",null),xl(this,"bottomInlineStartCornerOverlay",null),xl(this,"browserLineHeight",void 0),xl(this,"wtSettings",null),this.wot=t,this.wtSettings=i,this.domBindings=r,this.facadeGetter=n,this.wtTable=a;var s=this.domBindings,l=s.rootDocument,u=s.rootWindow;this.instance=this.wot,this.eventManager=o,this.scrollbarSize=mn(l);var c="hidden"===u.getComputedStyle(a.wtRootElement.parentNode).getPropertyValue("overflow");this.scrollableElement=c?a.holder:Xt(a.TABLE),this.initOverlays(),this.hasScrollbarBottom=!1,this.hasScrollbarRight=!1,this.destroyed=!1,this.keyPressed=!1,this.spreaderLastSize={width:null,height:null},this.verticalScrolling=!1,this.horizontalScrolling=!1,this.initBrowserLineHeight(),this.registerListeners(),this.lastScrollX=u.scrollX,this.lastScrollY=u.scrollY}var t,n;return t=e,n=[{key:"initBrowserLineHeight",value:function(){var e=this.domBindings,t=e.rootWindow,n=e.rootDocument,r=t.getComputedStyle(n.body),i=parseInt(r.lineHeight,10),o=1.2*parseInt(r.fontSize,10);this.browserLineHeight=i||o}},{key:"initOverlays",value:function(){var e=[this.wot,this.facadeGetter,this.wtSettings,this.domBindings];this.topOverlay=_l(us,e),this.bottomOverlay=_l(Os,e),this.inlineStartOverlay=_l($s,e),this.topInlineStartCornerOverlay=_l(al,e.concat([this.topOverlay,this.inlineStartOverlay])),this.bottomInlineStartCornerOverlay=_l(wl,e.concat([this.bottomOverlay,this.inlineStartOverlay]))}},{key:"updateStateOfRendering",value:function(){var e=this.topOverlay.updateStateOfRendering();return e=this.bottomOverlay.updateStateOfRendering()||e,e=this.inlineStartOverlay.updateStateOfRendering()||e,this.inlineStartOverlay.needFullRender&&(this.topOverlay.needFullRender&&(e=this.topInlineStartCornerOverlay.updateStateOfRendering()||e),this.bottomOverlay.needFullRender&&(e=this.bottomInlineStartCornerOverlay.updateStateOfRendering()||e)),e}},{key:"refreshAll",value:function(){this.wot.drawn&&(this.wtTable.holder.parentNode?(this.wot.draw(!0),this.verticalScrolling&&this.inlineStartOverlay.onScroll(),this.horizontalScrolling&&this.topOverlay.onScroll(),this.verticalScrolling=!1,this.horizontalScrolling=!1):this.destroy())}},{key:"registerListeners",value:function(){var e=this,t=this.domBindings,n=t.rootDocument,r=t.rootWindow,i=this.topOverlay.mainTableScrollableElement,o=this.inlineStartOverlay.mainTableScrollableElement;this.eventManager.addEventListener(n.documentElement,"keydown",(function(t){return e.onKeyDown(t)})),this.eventManager.addEventListener(n.documentElement,"keyup",(function(){return e.onKeyUp()})),this.eventManager.addEventListener(n,"visibilitychange",(function(){return e.onKeyUp()})),this.eventManager.addEventListener(i,"scroll",(function(t){return e.onTableScroll(t)}),{passive:!0}),i!==o&&this.eventManager.addEventListener(o,"scroll",(function(t){return e.onTableScroll(t)}),{passive:!0});var a,s=r.devicePixelRatio&&r.devicePixelRatio>1,l=this.scrollableElement===r,u=this.wtSettings.getSetting("preventWheel"),c={passive:l};(u||s||!Me())&&this.eventManager.addEventListener(this.wtTable.wtRootElement,"wheel",(function(t){return e.onCloneWheel(t,u)}),c),[this.topOverlay,this.bottomOverlay,this.inlineStartOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay].forEach((function(t){if(t&&t.needFullRender){var n=t.clone.wtTable.holder;e.eventManager.addEventListener(n,"wheel",(function(t){return e.onCloneWheel(t,u)}),c)}})),this.eventManager.addEventListener(r,"resize",(function(){clearTimeout(a),a=setTimeout((function(){e.wtSettings.getSetting("onWindowResize")}),200)}))}},{key:"deregisterListeners",value:function(){this.eventManager.clearEvents(!0)}},{key:"onTableScroll",value:function(e){var t=this.domBindings.rootWindow,n=this.inlineStartOverlay.mainTableScrollableElement,r=this.topOverlay.mainTableScrollableElement,i=e.target;this.keyPressed&&(r!==t&&i!==t&&!e.target.contains(r)||n!==t&&i!==t&&!e.target.contains(n))||this.syncScrollPositions(e)}},{key:"onCloneWheel",value:function(e,t){var n=this.domBindings.rootWindow,r=this.inlineStartOverlay.mainTableScrollableElement,i=this.topOverlay.mainTableScrollableElement,o=e.target,a=i!==n&&o!==n&&!o.contains(i),s=r!==n&&o!==n&&!o.contains(r);if(!this.keyPressed||!a&&!s){var l=this.translateMouseWheelToScroll(e);(t||this.scrollableElement!==n&&l)&&e.preventDefault()}}},{key:"onKeyDown",value:function(e){this.keyPressed=zn(e.keyCode,"ARROW_UP|ARROW_RIGHT|ARROW_DOWN|ARROW_LEFT")}},{key:"onKeyUp",value:function(){this.keyPressed=!1}},{key:"translateMouseWheelToScroll",value:function(e){var t=isNaN(e.deltaY)?-1*e.wheelDeltaY:e.deltaY,n=isNaN(e.deltaX)?-1*e.wheelDeltaX:e.deltaX;1===e.deltaMode&&(n+=n*this.browserLineHeight,t+=t*this.browserLineHeight);var r=this.scrollVertically(t),i=this.scrollHorizontally(n);return r||i}},{key:"scrollVertically",value:function(e){var t=this.scrollableElement.scrollTop;return this.scrollableElement.scrollTop+=e,t!==this.scrollableElement.scrollTop}},{key:"scrollHorizontally",value:function(e){var t=this.scrollableElement.scrollLeft;return this.scrollableElement.scrollLeft+=e,t!==this.scrollableElement.scrollLeft}},{key:"syncScrollPositions",value:function(){if(!this.destroyed){var e=this.domBindings.rootWindow,t=this.topOverlay.clone.wtTable.holder,n=this.inlineStartOverlay.clone.wtTable.holder,r=[this.scrollableElement.scrollLeft,this.scrollableElement.scrollTop],i=r[0],o=r[1];if(this.horizontalScrolling=t.scrollLeft!==i||this.lastScrollX!==e.scrollX,this.verticalScrolling=n.scrollTop!==o||this.lastScrollY!==e.scrollY,this.lastScrollX=e.scrollX,this.lastScrollY=e.scrollY,this.horizontalScrolling){t.scrollLeft=i;var a=this.bottomOverlay.needFullRender?this.bottomOverlay.clone.wtTable.holder:null;a&&(a.scrollLeft=i)}this.verticalScrolling&&(n.scrollTop=o),this.refreshAll()}}},{key:"syncScrollWithMaster",value:function(){var e=this.topOverlay.mainTableScrollableElement,t=e.scrollLeft,n=e.scrollTop;this.topOverlay.needFullRender&&(this.topOverlay.clone.wtTable.holder.scrollLeft=t),this.bottomOverlay.needFullRender&&(this.bottomOverlay.clone.wtTable.holder.scrollLeft=t),this.inlineStartOverlay.needFullRender&&(this.inlineStartOverlay.clone.wtTable.holder.scrollTop=n)}},{key:"updateMainScrollableElements",value:function(){this.deregisterListeners(),this.inlineStartOverlay.updateMainScrollableElement(),this.topOverlay.updateMainScrollableElement(),this.bottomOverlay.needFullRender&&this.bottomOverlay.updateMainScrollableElement();var e=this.wtTable;"hidden"===this.domBindings.rootWindow.getComputedStyle(e.wtRootElement.parentNode).getPropertyValue("overflow")?this.scrollableElement=e.holder:this.scrollableElement=Xt(e.TABLE),this.registerListeners()}},{key:"destroy",value:function(){this.eventManager.destroy(),this.topOverlay.destroy(),this.bottomOverlay.clone&&this.bottomOverlay.destroy(),this.inlineStartOverlay.destroy(),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.destroy(),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.destroy(),this.destroyed=!0}},{key:"refresh",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.wtTable.spreader,n=t.clientWidth,r=t.clientHeight;n===this.spreaderLastSize.width&&r===this.spreaderLastSize.height||(this.spreaderLastSize.width=n,this.spreaderLastSize.height=r,this.adjustElementsSize()),this.bottomOverlay.clone&&this.bottomOverlay.refresh(e),this.inlineStartOverlay.refresh(e),this.topOverlay.refresh(e),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.refresh(e),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.refresh(e)}},{key:"adjustElementsSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.wot.wtViewport,n=this.wtTable,r=this.wtSettings.getSetting("totalColumns"),i=this.wtSettings.getSetting("totalRows"),o=t.getRowHeaderWidth(),a=t.getColumnHeaderHeight(),s=n.hider.style;if(s.width="".concat(o+this.inlineStartOverlay.sumCellSizes(0,r),"px"),s.height="".concat(a+this.topOverlay.sumCellSizes(0,i)+1,"px"),this.scrollbarSize>0){var l=n.wtRootElement,u=l.scrollHeight,c=l.scrollWidth,d=n.holder,h=d.scrollHeight,f=d.scrollWidth;this.hasScrollbarRight=u<h,this.hasScrollbarBottom=c<f,this.hasScrollbarRight&&n.hider.scrollWidth+this.scrollbarSize>c?this.hasScrollbarBottom=!0:this.hasScrollbarBottom&&n.hider.scrollHeight+this.scrollbarSize>u&&(this.hasScrollbarRight=!0)}this.topOverlay.adjustElementsSize(e),this.inlineStartOverlay.adjustElementsSize(e),this.bottomOverlay.adjustElementsSize(e)}},{key:"applyToDOM",value:function(){this.wtTable.isVisible()&&(this.topOverlay.applyToDOM(),this.bottomOverlay.clone&&this.bottomOverlay.applyToDOM(),this.inlineStartOverlay.applyToDOM())}},{key:"getParentOverlay",value:function(e){if(!e)return null;var t=[this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay],n=null;return $(t,(function(t){t&&t.clone&&t.clone.wtTable.TABLE.contains(e)&&(n=t.clone)})),n}},{key:"syncOverlayTableClassNames",value:function(){var e=this.wtTable.TABLE;$([this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay],(function(t){t&&(t.clone.wtTable.TABLE.className=e.className)}))}}],n&&Ml(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const Cl=Ol;function Tl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dl=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Rl(this,"settings",{}),Rl(this,"defaults",Object.freeze(this.getDefaults())),fe(this.defaults,(function(e,r){if(void 0!==t[r])n.settings[r]=t[r];else{if(void 0===e)throw new Error('A required setting "'.concat(r,'" was not provided'));n.settings[r]=e}}))}var t,n;return t=e,n=[{key:"getDefaults",value:function(){var e=this;return{facade:void 0,table:void 0,isDataViewInstance:!0,externalRowCalculator:!1,stretchH:"none",currentRowClassName:null,currentColumnClassName:null,preventOverflow:function(){return!1},preventWheel:!1,data:void 0,freezeOverlays:!1,fixedColumnsStart:0,fixedRowsTop:0,fixedRowsBottom:0,shouldRenderInlineStartOverlay:function(){return e.getSetting("fixedColumnsStart")>0||e.getSetting("rowHeaders").length>0},shouldRenderTopOverlay:function(){return e.getSetting("fixedRowsTop")>0||e.getSetting("columnHeaders").length>0},shouldRenderBottomOverlay:function(){return e.getSetting("fixedRowsBottom")>0},minSpareRows:0,rowHeaders:function(){return[]},columnHeaders:function(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:function(t,n,r){var i=e.getSetting("data",t,n);$t(r,null==i?"":i)},columnWidth:function(){},rowHeight:function(){},defaultRowHeight:23,defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,onCellMouseDown:null,onCellContextMenu:null,onCellMouseOver:null,onCellMouseOut:null,onCellMouseUp:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeRemoveCellClassNames:null,onAfterDrawSelection:null,onBeforeDrawBorders:null,onScrollVertically:null,onScrollHorizontally:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,onBeforeStretchingColumnWidth:function(e){return e},onModifyRowHeaderWidth:null,onModifyGetCellCoords:null,onBeforeHighlightingRowHeader:function(e){return e},onBeforeHighlightingColumnHeader:function(e){return e},onWindowResize:null,renderAllRows:!1,groups:!1,rowHeaderWidth:null,columnHeaderHeight:null,headerClassName:null,rtlMode:!1}}},{key:"update",value:function(e,t){var n=this;return void 0===t?fe(e,(function(e,t){n.settings[t]=e})):this.settings[e]=t,this}},{key:"getSetting",value:function(e,t,n,r,i){return"function"==typeof this.settings[e]?this.settings[e](t,n,r,i):void 0!==t&&Array.isArray(this.settings[e])?this.settings[e][t]:this.settings[e]}},{key:"getSettingPure",value:function(e){return this.settings[e]}},{key:"has",value:function(e){return!!this.settings[e]}}],n&&Tl(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function El(e){return El="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(e)}function Al(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ll(e,t){return Ll=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ll(e,t)}function jl(e,t){if(t&&("object"===El(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Pl(e){return Pl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pl(e)}var Il=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ll(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Pl(r);if(i){var n=Pl(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return jl(this,e)});function a(e,t,n,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.call(this,e,t,n,r,"master")}return t=a,(n=[{key:"alignOverlaysWithTrimmingContainer",value:function(){var e=Jt(this.wtRootElement),t=this.domBindings.rootWindow;if(e===t)this.wtSettings.getSetting("preventOverflow")||(this.holder.style.overflow="visible",this.wtRootElement.style.overflow="visible");else{var n=e.parentElement,r=Qt(e,"height",t),i=Qt(e,"overflow",t),o=this.holder.style,a=e.scrollWidth,s=e.scrollHeight,l=e.getBoundingClientRect(),u=l.width,c=l.height;if(n&&["auto","hidden","scroll"].includes(i)){var d=e.cloneNode(!1);d.style.overflow="auto",e.nextElementSibling?n.insertBefore(d,e.nextElementSibling):n.appendChild(d);var h=parseInt(tn(d,t).height,10);n.removeChild(d),0===h&&(c=0)}c=Math.min(c,s),o.height="auto"===r?"auto":"".concat(c,"px"),u=Math.min(u,a),o.width="".concat(u,"px"),o.overflow="",this.hasTableHeight="auto"===o.height||c>0,this.hasTableWidth=u>0}this.isTableVisible=Ut(this.TABLE)}},{key:"markOversizedColumnHeaders",value:function(){var e=this.wtSettings,t=this.dataAccessObject.wtViewport,n=e.getSetting("columnHeaders").length;if(n&&!t.hasOversizedColumnHeadersMarked.master){for(var r=e.getSetting("rowHeaders").length,i=this.getRenderedColumnsCount(),o=0;o<n;o++)for(var a=-1*r;a<i;a++)this.markIfOversizedColumnHeader(a);t.hasOversizedColumnHeadersMarked.master=!0}}}])&&Al(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(la);ue(Il,Ts),ue(Il,ha);const Hl=Il;function Nl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Yl=new WeakMap;const zl=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.viewportSize,r=t.scrollOffset,i=t.totalItems,o=t.itemSizeFn,a=t.overrideFn,s=t.calculationType,l=t.scrollbarHeight;Nl(this,e),Yl.set(this,{viewportHeight:n,scrollOffset:r,totalRows:i,rowHeightFn:o,overrideFn:a,calculationType:s,horizontalScrollbarHeight:l}),this.count=0,this.startRow=null,this.endRow=null,this.startPosition=null,this.calculate()}var t,n,r;return t=e,r=[{key:"DEFAULT_HEIGHT",get:function(){return 23}}],(n=[{key:"calculate",value:function(){for(var t,n=0,r=!0,i=[],o=Yl.get(this),a=o.calculationType,s=o.overrideFn,l=o.rowHeightFn,u=o.scrollOffset,c=o.totalRows,d=o.viewportHeight,h=o.horizontalScrollbarHeight||0,f=0;f<c;f++)if(t=l(f),isNaN(t)&&(t=e.DEFAULT_HEIGHT),n<=u&&2!==a&&(this.startRow=f),n>=u&&n+(2===a?t:0)<=u+d-h&&(null===this.startRow&&(this.startRow=f),this.endRow=f),i.push(n),n+=t,2!==a&&(this.endRow=f),n>=u+d-h){r=!1;break}if(this.endRow===c-1&&r)for(this.startRow=this.endRow;this.startRow>0;){var p=i[this.endRow]+t-i[this.startRow-1];if((p<=d-h||2!==a)&&(this.startRow-=1),p>=d-h)break}1===a&&null!==this.startRow&&s&&s(this),this.startPosition=i[this.startRow],void 0===this.startPosition&&(this.startPosition=null),c<this.endRow&&(this.endRow=c-1),null!==this.startRow&&(this.count=this.endRow-this.startRow+1)}}])&&Fl(t.prototype,n),r&&Fl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Bl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $l=new WeakMap,Ul=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.viewportSize,r=t.scrollOffset,i=t.totalItems,o=t.itemSizeFn,a=t.overrideFn,s=t.calculationType,l=t.stretchMode,u=t.stretchingItemWidthFn,c=void 0===u?function(e){return e}:u;Bl(this,e),$l.set(this,{viewportWidth:n,scrollOffset:r,totalColumns:i,columnWidthFn:o,overrideFn:a,calculationType:s,stretchingColumnWidthFn:c}),this.count=0,this.startColumn=null,this.endColumn=null,this.startPosition=null,this.stretchAllRatio=0,this.stretchLastWidth=0,this.stretch=l,this.totalTargetWidth=0,this.needVerifyLastColumnWidth=!0,this.stretchAllColumnsWidth=[],this.calculate()}var t,n,r;return t=e,n=[{key:"calculate",value:function(){for(var e,t=0,n=!0,r=[],i=$l.get(this),o=i.calculationType,a=i.overrideFn,s=i.scrollOffset,l=i.totalColumns,u=i.viewportWidth,c=0;c<l;c++)if(e=this._getColumnWidth(c),t<=s&&2!==o&&(this.startColumn=c),t>=s&&t+(2===o?e:0)<=s+(s>0?u+1:u)&&(null!==this.startColumn&&void 0!==this.startColumn||(this.startColumn=c),this.endColumn=c),r.push(t),t+=e,2!==o&&(this.endColumn=c),t>=s+u){n=!1;break}if(this.endColumn===l-1&&n)for(this.startColumn=this.endColumn;this.startColumn>0;){var d=r[this.endColumn]+e-r[this.startColumn-1];if((d<=u||2!==o)&&(this.startColumn-=1),d>u)break}1===o&&null!==this.startColumn&&a&&a(this),this.startPosition=r[this.startColumn],void 0===this.startPosition&&(this.startPosition=null),l<this.endColumn&&(this.endColumn=l-1),null!==this.startColumn&&(this.count=this.endColumn-this.startColumn+1)}},{key:"refreshStretching",value:function(e){if("none"!==this.stretch){var t=e;this.totalTargetWidth=t;for(var n=$l.get(this),r=n.totalColumns,i=0,o=0;o<r;o++){var a=this._getColumnWidth(o),s=n.stretchingColumnWidthFn(void 0,o);"number"==typeof s?t-=s:i+=a}var l=t-i;if("all"===this.stretch&&l>0)this.stretchAllRatio=t/i,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0;else if("last"===this.stretch&&t!==1/0){var u=this._getColumnWidth(r-1),c=l+u;this.stretchLastWidth=c>=0?c:u}}}},{key:"getStretchedColumnWidth",value:function(e,t){var n=null;return"all"===this.stretch&&0!==this.stretchAllRatio?n=this._getStretchedAllColumnWidth(e,t):"last"===this.stretch&&0!==this.stretchLastWidth&&(n=this._getStretchedLastColumnWidth(e)),n}},{key:"_getStretchedAllColumnWidth",value:function(e,t){var n=0,r=$l.get(this),i=r.totalColumns;if(!this.stretchAllColumnsWidth[e]){var o=Math.round(t*this.stretchAllRatio),a=r.stretchingColumnWidthFn(o,e);this.stretchAllColumnsWidth[e]=void 0===a?o:isNaN(a)?this._getColumnWidth(e):a}if(this.stretchAllColumnsWidth.length===i&&this.needVerifyLastColumnWidth){this.needVerifyLastColumnWidth=!1;for(var s=0;s<this.stretchAllColumnsWidth.length;s++)n+=this.stretchAllColumnsWidth[s];n!==this.totalTargetWidth&&(this.stretchAllColumnsWidth[this.stretchAllColumnsWidth.length-1]+=this.totalTargetWidth-n)}return this.stretchAllColumnsWidth[e]}},{key:"_getStretchedLastColumnWidth",value:function(e){return e===$l.get(this).totalColumns-1?this.stretchLastWidth:null}},{key:"_getColumnWidth",value:function(t){var n=$l.get(this).columnWidthFn(t);return isNaN(n)&&(n=e.DEFAULT_WIDTH),n}}],r=[{key:"DEFAULT_WIDTH",get:function(){return 50}}],n&&Wl(t.prototype,n),r&&Wl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();const Vl=Ul;function ql(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Gl=function(){function e(t,n,r,i,o){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dataAccessObject=t,this.wot=t.wot,this.instance=this.wot,this.domBindings=n,this.wtSettings=r,this.wtTable=o,this.oversizedRows=[],this.oversizedColumnHeaders=[],this.hasOversizedColumnHeadersMarked={},this.clientHeight=0,this.containerWidth=NaN,this.rowHeaderWidth=NaN,this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,this.eventManager=i,this.eventManager.addEventListener(this.domBindings.rootWindow,"resize",(function(){a.clientHeight=a.getWorkspaceHeight()}))}var t,n;return t=e,n=[{key:"getWorkspaceHeight",value:function(){var e=this.domBindings.rootDocument,t=this.dataAccessObject.topOverlayTrimmingContainer;return t===this.domBindings.rootWindow?e.documentElement.clientHeight:rn(t)>0&&t.clientHeight>0?t.clientHeight:1/0}},{key:"getWorkspaceWidth",value:function(){var e,t,n=this.wtSettings,r=this.domBindings,i=r.rootDocument,o=r.rootWindow,a=this.dataAccessObject.inlineStartOverlayTrimmingContainer,s=i.documentElement.offsetWidth,l=n.getSetting("totalColumns"),u=n.getSetting("preventOverflow"),c=n.getSetting("rtlMode"),d=this.wtTable.TABLE.getBoundingClientRect(),h=s-(c?d.right-s:d.left);if(u)return nn(this.wtTable.wtRootElement);if(e=n.getSetting("freezeOverlays")?Math.min(h,s):Math.min(this.getContainerFillWidth(),h,s),a===o&&l>0&&this.sumColumnWidths(0,l-1)>e)return i.documentElement.clientWidth;if(a!==o&&("scroll"===(t=Qt(this.dataAccessObject.inlineStartOverlayTrimmingContainer,"overflow",o))||"hidden"===t||"auto"===t))return Math.max(e,a.clientWidth);var f=n.getSetting("stretchH");return"none"!==f&&f?e:Math.max(e,nn(this.wtTable.TABLE))}},{key:"hasVerticalScroll",value:function(){return this.wtTable.hider.offsetHeight>this.getWorkspaceHeight()}},{key:"hasHorizontalScroll",value:function(){return this.wtTable.hider.offsetWidth>this.getWorkspaceWidth()}},{key:"sumColumnWidths",value:function(e,t){for(var n=0,r=e;r<t;)n+=this.wtTable.getColumnWidth(r),r+=1;return n}},{key:"getContainerFillWidth",value:function(){if(this.containerWidth)return this.containerWidth;var e=this.wtTable.holder,t=this.domBindings.rootDocument.createElement("div");t.style.width="100%",t.style.height="1px",e.appendChild(t);var n=t.offsetWidth;return this.containerWidth=n,e.removeChild(t),n}},{key:"getWorkspaceOffset",value:function(){return Vt(this.wtTable.TABLE)}},{key:"getColumnHeaderHeight",value:function(){return this.wtSettings.getSetting("columnHeaders").length?isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=rn(this.wtTable.THEAD)):this.columnHeaderHeight=0,this.columnHeaderHeight}},{key:"getViewportHeight",value:function(){var e=this.getWorkspaceHeight();if(e===1/0)return e;var t=this.getColumnHeaderHeight();return t>0&&(e-=t),e}},{key:"getRowHeaderWidth",value:function(){var e=this.wtSettings.getSetting("rowHeaderWidth"),t=this.wtSettings.getSetting("rowHeaders");if(e){this.rowHeaderWidth=0;for(var n=0,r=t.length;n<r;n++)this.rowHeaderWidth+=e[n]||e}if(isNaN(this.rowHeaderWidth))if(t.length){var i=this.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(var o=0,a=t.length;o<a;o++)i?(this.rowHeaderWidth+=nn(i),i=i.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0;return this.rowHeaderWidth=this.wtSettings.getSetting("onModifyRowHeaderWidth",this.rowHeaderWidth)||this.rowHeaderWidth,this.rowHeaderWidth}},{key:"getViewportWidth",value:function(){var e=this.getWorkspaceWidth();if(e===1/0)return e;var t=this.getRowHeaderWidth();return t>0?e-t:e}},{key:"createRowsCalculator",value:function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=this.wtSettings,o=this.wtTable;this.rowHeaderWidth=NaN,e=i.getSetting("renderAllRows")&&1===r?1/0:this.getViewportHeight();var a=this.dataAccessObject.topScrollPosition-this.dataAccessObject.topParentOffset;a<0&&(a=0);var s=i.getSetting("fixedRowsTop"),l=i.getSetting("fixedRowsBottom"),u=i.getSetting("totalRows");return s&&(a+=n=this.dataAccessObject.topOverlay.sumCellSizes(0,s),e-=n),l&&this.dataAccessObject.bottomOverlay.clone&&(e-=n=this.dataAccessObject.bottomOverlay.sumCellSizes(u-l,u)),t=o.holder.clientHeight===o.holder.offsetHeight?0:mn(this.domBindings.rootDocument),new zl({viewportSize:e,scrollOffset:a,totalItems:i.getSetting("totalRows"),itemSizeFn:function(e){return o.getRowHeight(e)},overrideFn:i.getSettingPure("viewportRowCalculatorOverride"),calculationType:r,scrollbarHeight:t})}},{key:"createColumnsCalculator",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.wtSettings,n=this.wtTable,r=this.getViewportWidth(),i=Math.abs(this.dataAccessObject.inlineStartScrollPosition)-this.dataAccessObject.inlineStartParentOffset;this.columnHeaderHeight=NaN,i<0&&(i=0);var o=t.getSetting("fixedColumnsStart");if(o){var a=this.dataAccessObject.inlineStartOverlay.sumCellSizes(0,o);i+=a,r-=a}return n.holder.clientWidth!==n.holder.offsetWidth&&(r-=mn(this.domBindings.rootDocument)),new Vl({viewportSize:r,scrollOffset:Math.abs(i),totalItems:t.getSetting("totalColumns"),itemSizeFn:function(e){return n.getColumnWidth(e)},overrideFn:t.getSettingPure("viewportColumnCalculatorOverride"),calculationType:e,stretchMode:t.getSetting("stretchH"),stretchingItemWidthFn:function(e,n){return t.getSetting("onBeforeStretchingColumnWidth",e,n)}})}},{key:"createRenderCalculators",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e;if(t){var n=this.createRowsCalculator(2),r=this.createColumnsCalculator(2);this.areAllProposedVisibleRowsAlreadyRendered(n)&&this.areAllProposedVisibleColumnsAlreadyRendered(r)||(t=!1)}return t||(this.rowsRenderCalculator=this.createRowsCalculator(1),this.columnsRenderCalculator=this.createColumnsCalculator(1)),this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,t}},{key:"createVisibleCalculators",value:function(){this.rowsVisibleCalculator=this.createRowsCalculator(2),this.columnsVisibleCalculator=this.createColumnsCalculator(2)}},{key:"areAllProposedVisibleRowsAlreadyRendered",value:function(e){if(!this.rowsVisibleCalculator)return!1;var t=e.startRow,n=e.endRow;if(null===t&&null===n)return!1;var r=this.rowsRenderCalculator,i=r.startRow,o=r.endRow;return!(t<i||t===i&&t>0||n>o||n===o&&n<this.wtSettings.getSetting("totalRows")-1)}},{key:"areAllProposedVisibleColumnsAlreadyRendered",value:function(e){if(!this.columnsVisibleCalculator)return!1;var t=e.startColumn,n=e.endColumn;if(null===t&&null===n)return!1;var r=this.columnsRenderCalculator,i=r.startColumn,o=r.endColumn;return!(t<i||t===i&&t>0||n>o||n===o&&n<this.wtSettings.getSetting("totalColumns")-1)}},{key:"resetHasOversizedColumnHeadersMarked",value:function(){fe(this.hasOversizedColumnHeadersMarked,(function(e,t,n){n[t]=void 0}))}}],n&&ql(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const Kl=Gl;function Zl(e){return Zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(e)}function Xl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jl(e,t){return Jl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Jl(e,t)}function Ql(e,t){if(t&&("object"===Zl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return eu(e)}function eu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tu(e){return tu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tu(e)}var nu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jl(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=tu(r);if(i){var n=tu(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ql(this,e)});function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=(n=o.call(this,e,new Dl(t))).wtSettings.getSetting("facade",eu(n));return n.wtTable=new Hl(n.getTableDao(),r,n.domBindings,n.wtSettings),n.wtViewport=new Kl(n.getViewportDao(),n.domBindings,n.wtSettings,n.eventManager,n.wtTable),n.selections=n.wtSettings.getSetting("selections"),n.wtEvent=new Hi(r,n.domBindings,n.wtSettings,n.eventManager,n.wtTable,n.selections),n.wtOverlays=new Cl(eu(n),r,n.domBindings,n.wtSettings,n.eventManager,n.wtTable),n.exportSettingsAsClassNames(),n.findOriginalHeaders(),n}return t=a,(n=[{key:"exportSettingsAsClassNames",value:function(){var e=this,t=[],n=[];fe({rowHeaders:"htRowHeaders",columnHeaders:"htColumnHeaders"},(function(r,i){e.wtSettings.getSetting(i).length&&n.push(r),t.push(r)})),Nt(this.wtTable.wtRootElement.parentNode,t),Ht(this.wtTable.wtRootElement.parentNode,n)}},{key:"getViewportDao",value:function(){var e=this;return{get wot(){return e},get topOverlayTrimmingContainer(){return e.wtOverlays.topOverlay.trimmingContainer},get inlineStartOverlayTrimmingContainer(){return e.wtOverlays.inlineStartOverlay.trimmingContainer},get topScrollPosition(){return e.wtOverlays.topOverlay.getScrollPosition()},get topParentOffset(){return e.wtOverlays.topOverlay.getTableParentOffset()},get inlineStartScrollPosition(){return e.wtOverlays.inlineStartOverlay.getScrollPosition()},get inlineStartParentOffset(){return e.wtOverlays.inlineStartOverlay.getTableParentOffset()},get topOverlay(){return e.wtOverlays.topOverlay},get inlineStartOverlay(){return e.wtOverlays.inlineStartOverlay},get bottomOverlay(){return e.wtOverlays.bottomOverlay}}}}])&&Xl(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(Ua);function ru(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var iu=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t instanceof Ua?this._wot=t:this._initFromSettings(t)}var t,n;return t=e,n=[{key:"_initFromSettings",value:function(t){t.facade=function(t){var n=new e(t);return function(){return n}},this._wot=new nu(t.table,t)}},{key:"guid",get:function(){return this._wot.guid}},{key:"rootDocument",get:function(){return this._wot.domBindings.rootDocument}},{key:"rootWindow",get:function(){return this._wot.domBindings.rootWindow}},{key:"wtSettings",get:function(){return this._wot.wtSettings}},{key:"cloneSource",get:function(){return this._wot.cloneSource}},{key:"cloneOverlay",get:function(){return this._wot.cloneOverlay}},{key:"selections",get:function(){return this._wot.selections}},{key:"wtViewport",get:function(){return this._wot.wtViewport}},{key:"wtOverlays",get:function(){return this._wot.wtOverlays}},{key:"wtTable",get:function(){return this._wot.wtTable}},{key:"wtEvent",get:function(){return this._wot.wtEvent}},{key:"wtScroll",get:function(){return this._wot.wtScroll}},{key:"drawn",get:function(){return this._wot.drawn},set:function(e){this._wot.drawn=e}},{key:"drawInterrupted",get:function(){return this._wot.drawInterrupted},set:function(e){this._wot.drawInterrupted=e}},{key:"lastMouseOver",get:function(){return this._wot.lastMouseOver},set:function(e){this._wot.lastMouseOver=e}},{key:"momentumScrolling",get:function(){return this._wot.momentumScrolling},set:function(e){this._wot.momentumScrolling=e}},{key:"touchApplied",get:function(){return this._wot.touchApplied},set:function(e){this._wot.touchApplied=e}},{key:"domBindings",get:function(){return this._wot.domBindings}},{key:"eventListeners",get:function(){return this._wot.eventListeners},set:function(e){this._wot.eventListeners=e}},{key:"eventManager",get:function(){return this._wot.eventManager}},{key:"createCellCoords",value:function(e,t){return this._wot.createCellCoords(e,t)}},{key:"createCellRange",value:function(e,t,n){return this._wot.createCellRange(e,t,n)}},{key:"draw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._wot.draw(e),this}},{key:"getCell",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._wot.getCell(e,t)}},{key:"scrollViewport",value:function(e,t,n,r,i){return this._wot.scrollViewport(e,t,n,r,i)}},{key:"scrollViewportHorizontally",value:function(e,t,n){return this._wot.scrollViewportHorizontally(e,t,n)}},{key:"scrollViewportVertically",value:function(e,t,n){return this._wot.scrollViewportVertically(e,t,n)}},{key:"getViewport",value:function(){return this._wot.getViewport()}},{key:"getOverlayName",value:function(){return this._wot.cloneOverlay?this._wot.cloneOverlay.type:"master"}},{key:"exportSettingsAsClassNames",value:function(){return this._wot.exportSettingsAsClassNames()}},{key:"update",value:function(e,t){return this._wot.wtSettings.update(e,t),this}},{key:"getSetting",value:function(e,t,n,r,i){return this._wot.wtSettings.getSetting(e,t,n,r,i)}},{key:"hasSetting",value:function(e){return this._wot.wtSettings.hasSetting(e)}},{key:"destroy",value:function(){this._wot.destroy()}}],n&&ru(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ou(e){var t=e.isShiftKey,n=e.isLeftClick,r=e.isRightClick,i=e.coords,o=e.selection,a=e.controller,s=e.cellCoordsFactory,l=o.isSelected()?o.getSelectedRange().current():null,u=o.isSelectedByCorner(),c=o.isSelectedByRowHeader();if(t&&l)i.row>=0&&i.col>=0&&!a.cell?o.setRangeEnd(i):(u||c)&&i.row>=0&&i.col>=0&&!a.cell?o.setRangeEnd(s(i.row,i.col)):u&&i.row<0&&!a.column?o.setRangeEnd(s(l.to.row,i.col)):c&&i.col<0&&!a.row?o.setRangeEnd(s(i.row,l.to.col)):(!u&&!c&&i.col<0||u&&i.col<0)&&!a.row?o.selectRows(Math.max(l.from.row,0),i.row,i.col):(!u&&!c&&i.row<0||c&&i.row<0)&&!a.column&&o.selectColumns(Math.max(l.from.col,0),i.col,i.row);else{var d=!o.inInSelection(i),h=n||r&&d;i.row<0&&i.col>=0&&!a.column?h&&o.selectColumns(i.col,i.col,i.row):i.col<0&&i.row>=0&&!a.row?h&&o.selectRows(i.row,i.row,i.col):i.col>=0&&i.row>=0&&!a.cell?h&&o.setRangeStart(i):i.col<0&&i.row<0&&o.selectAll(!0,!0)}}var au=new Map([["mousedown",ou],["mouseover",function(e){var t=e.isLeftClick,n=e.coords,r=e.selection,i=e.controller,o=e.cellCoordsFactory;if(t){var a=r.isSelectedByRowHeader(),s=r.isSelectedByColumnHeader(),l=r.tableProps.countCols(),u=r.tableProps.countRows();s&&!i.column?r.setRangeEnd(o(u-1,n.col)):a&&!i.row?r.setRangeEnd(o(n.row,l-1)):i.cell||r.setRangeEnd(n)}}],["touchstart",ou]]);function su(e,t){var n=t.coords,r=t.selection,i=t.controller,o=t.cellCoordsFactory;au.get(e.type)({coords:n,selection:r,controller:i,cellCoordsFactory:o,isShiftKey:e.shiftKey,isLeftClick:Un(e)||"touchstart"===e.type,isRightClick:$n(e)})}var lu=new WeakMap,uu=Symbol("rootInstance");function cu(e){lu.set(e,!0)}function du(e){return e===uu}function hu(e){return lu.has(e)}function fu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||mu(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pu(e){return function(e){if(Array.isArray(e))return gu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||mu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mu(e,t){if(e){if("string"==typeof e)return gu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gu(e,t):void 0}}function gu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var vu=new WeakMap,bu=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.instance=t,this.eventManager=new kr(t),this.settings=t.getSettings(),this.THEAD=void 0,this.TBODY=void 0,this._wt=void 0,this.activeWt=void 0,this.postponedAdjustElementsSize=!1,vu.set(this,{selectionMouseDown:!1,mouseDown:void 0,table:void 0,lastWidth:0,lastHeight:0}),this.createElements(),this.registerEvents(),this.initializeWalkontable()}var t,n;return t=e,n=[{key:"render",value:function(){this.instance.isRenderSuspended()||(this.instance.runHooks("beforeRender",this.instance.forceFullRender),this.postponedAdjustElementsSize&&(this.postponedAdjustElementsSize=!1,this.adjustElementsSize(!0)),this._wt.draw(!this.instance.forceFullRender),this.instance.runHooks("afterRender",this.instance.forceFullRender),this.instance.forceFullRender=!1,this.instance.renderCall=!1)}},{key:"adjustElementsSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.instance.isRenderSuspended()?this.postponedAdjustElementsSize=!0:this._wt.wtOverlays.adjustElementsSize(e)}},{key:"getCellAtCoords",value:function(e,t){var n=this._wt.getCell(e,t);return n<0?null:n}},{key:"scrollViewport",value:function(e,t,n,r,i){return this._wt.scrollViewport(e,t,n,r,i)}},{key:"scrollViewportHorizontally",value:function(e,t,n){return this._wt.scrollViewportHorizontally(e,t,n)}},{key:"scrollViewportVertically",value:function(e,t,n){return this._wt.scrollViewportVertically(e,t,n)}},{key:"createElements",value:function(){var e=vu.get(this),t=this.instance,n=t.rootElement,r=t.rootDocument,i=n.getAttribute("style");i&&n.setAttribute("data-originalstyle",i),Ht(n,"handsontable"),e.table=r.createElement("TABLE"),Ht(e.table,"htCore"),this.instance.getSettings().tableClassName&&Ht(e.table,this.instance.getSettings().tableClassName),this.THEAD=r.createElement("THEAD"),e.table.appendChild(this.THEAD),this.TBODY=r.createElement("TBODY"),e.table.appendChild(this.TBODY),this.instance.table=e.table,this.instance.container.insertBefore(e.table,this.instance.container.firstChild)}},{key:"registerEvents",value:function(){var e=this,t=vu.get(this),n=this.instance,r=n.rootElement,i=n.rootDocument,o=n.selection,a=i.documentElement;this.eventManager.addEventListener(r,"mousedown",(function(n){if(t.selectionMouseDown=!0,!e.isTextSelectionAllowed(n.target)){var r=e.instance.rootWindow;hn(r),n.preventDefault(),r.focus()}})),this.eventManager.addEventListener(r,"mouseup",(function(){t.selectionMouseDown=!1})),this.eventManager.addEventListener(r,"mousemove",(function(n){t.selectionMouseDown&&!e.isTextSelectionAllowed(n.target)&&(e.settings.fragmentSelection&&hn(e.instance.rootWindow),n.preventDefault())})),this.eventManager.addEventListener(a,"keyup",(function(e){o.isInProgress()&&!e.shiftKey&&o.finish()})),this.eventManager.addEventListener(a,"mouseup",(function(n){o.isInProgress()&&Un(n)&&o.finish(),t.mouseDown=!1,!kn(i.activeElement)&&(o.isSelected()||o.isSelectedByAnyHeader()||r.contains(n.target)||$n(n))||e.instance.unlisten()})),this.eventManager.addEventListener(a,"contextmenu",(function(e){o.isInProgress()&&$n(e)&&(o.finish(),t.mouseDown=!1)})),this.eventManager.addEventListener(a,"touchend",(function(){o.isInProgress()&&o.finish(),t.mouseDown=!1})),this.eventManager.addEventListener(a,"mousedown",(function(n){var o=n.target,s=n.x||n.clientX,l=n.y||n.clientY,u=n.target;if(!t.mouseDown&&r&&e.instance.view){var c=e.instance.view._wt.wtTable.holder;if(u===c){var d=mn(i);if(i.elementFromPoint(s+d,l)!==c||i.elementFromPoint(s,l+d)!==c)return}else for(;u!==a;){if(null===u){if(n.isTargetWebComponent)break;return}if(u===r)return;u=u.parentNode}("function"==typeof e.settings.outsideClickDeselects?e.settings.outsideClickDeselects(o):e.settings.outsideClickDeselects)?e.instance.deselectCell():e.instance.destroyEditor(!1,!1)}})),this.eventManager.addEventListener(t.table,"selectstart",(function(t){e.settings.fragmentSelection||_n(t.target)||t.preventDefault()}))}},{key:"translateFromRenderableToVisualCoords",value:function(e){var t,n=e.row,r=e.col;return(t=this.instance)._createCellCoords.apply(t,pu(this.translateFromRenderableToVisualIndex(n,r)))}},{key:"translateFromRenderableToVisualIndex",value:function(e,t){var n=e>=0?this.instance.rowIndexMapper.getVisualFromRenderableIndex(e):e,r=t>=0?this.instance.columnIndexMapper.getVisualFromRenderableIndex(t):t;return null===n&&(n=e),null===r&&(r=t),[n,r]}},{key:"countRenderableIndexes",value:function(e,t){var n=Math.min(e.getNotTrimmedIndexesLength(),t),r=e.getNearestNotHiddenIndex(n-1,-1);return null===r?0:e.getRenderableFromVisualIndex(r)+1}},{key:"countRenderableColumns",value:function(){return this.countRenderableIndexes(this.instance.columnIndexMapper,this.settings.maxCols)}},{key:"countRenderableRows",value:function(){return this.countRenderableIndexes(this.instance.rowIndexMapper,this.settings.maxRows)}},{key:"countNotHiddenRowIndexes",value:function(e,t){return this.countNotHiddenIndexes(e,t,this.instance.rowIndexMapper,this.countRenderableRows())}},{key:"countNotHiddenColumnIndexes",value:function(e,t){return this.countNotHiddenIndexes(e,t,this.instance.columnIndexMapper,this.countRenderableColumns())}},{key:"countNotHiddenIndexes",value:function(e,t,n,r){if(isNaN(e)||e<0)return 0;var i=n.getNearestNotHiddenIndex(e,t),o=n.getRenderableFromVisualIndex(i);if(!Number.isInteger(o))return 0;var a=0;return t<0?a=o+1:t>0&&(a=r-o),a}},{key:"countNotHiddenFixedColumnsStart",value:function(){var e=this.instance.countCols(),t=Math.min(parseInt(this.settings.fixedColumnsStart,10),e)-1;return this.countNotHiddenColumnIndexes(t,-1)}},{key:"countNotHiddenFixedRowsTop",value:function(){var e=this.instance.countRows(),t=Math.min(parseInt(this.settings.fixedRowsTop,10),e)-1;return this.countNotHiddenRowIndexes(t,-1)}},{key:"countNotHiddenFixedRowsBottom",value:function(){var e=this.instance.countRows(),t=Math.max(e-parseInt(this.settings.fixedRowsBottom,10),0);return this.countNotHiddenRowIndexes(t,1)}},{key:"isMainTableNotFullyCoveredByOverlays",value:function(){var e=this.countNotHiddenFixedRowsTop()+this.countNotHiddenFixedRowsBottom(),t=this.countNotHiddenFixedColumnsStart();return this.instance.countRenderedRows()>e&&this.instance.countRenderedCols()>t}},{key:"initializeWalkontable",value:function(){var e=this,t=vu.get(this),n={rtlMode:this.instance.isRtl(),externalRowCalculator:this.instance.getPlugin("autoRowSize")&&this.instance.getPlugin("autoRowSize").isEnabled(),table:t.table,isDataViewInstance:function(){return hu(e.instance)},preventOverflow:function(){return e.settings.preventOverflow},preventWheel:function(){return e.settings.preventWheel},stretchH:function(){return e.settings.stretchH},data:function(t,n){var r;return(r=e.instance).getDataAtCell.apply(r,pu(e.translateFromRenderableToVisualIndex(t,n)))},totalRows:function(){return e.countRenderableRows()},totalColumns:function(){return e.countRenderableColumns()},fixedColumnsStart:function(){return e.countNotHiddenFixedColumnsStart()},fixedRowsTop:function(){return e.countNotHiddenFixedRowsTop()},fixedRowsBottom:function(){return e.countNotHiddenFixedRowsBottom()},shouldRenderInlineStartOverlay:function(){return e.settings.fixedColumnsStart>0||n.rowHeaders().length>0},shouldRenderTopOverlay:function(){return e.settings.fixedRowsTop>0||n.columnHeaders().length>0},shouldRenderBottomOverlay:function(){return e.settings.fixedRowsBottom>0},minSpareRows:function(){return e.settings.minSpareRows},renderAllRows:this.settings.renderAllRows,rowHeaders:function(){var t=[];return e.instance.hasRowHeaders()&&t.push((function(t,n){var r=t>=0?e.instance.rowIndexMapper.getVisualFromRenderableIndex(t):t;e.appendRowHeader(r,n)})),e.instance.runHooks("afterGetRowHeaderRenderers",t),t},columnHeaders:function(){var t=[];return e.instance.hasColHeaders()&&t.push((function(t,n){var r=t>=0?e.instance.columnIndexMapper.getVisualFromRenderableIndex(t):t;e.appendColHeader(r,n)})),e.instance.runHooks("afterGetColumnHeaderRenderers",t),t},columnWidth:function(t){var n=e.instance.columnIndexMapper.getVisualFromRenderableIndex(t);return e.instance.getColWidth(null===n?t:n)},rowHeight:function(t){var n=e.instance.rowIndexMapper.getVisualFromRenderableIndex(t);return e.instance.getRowHeight(null===n?t:n)},cellRenderer:function(t,n,r){var i=fu(e.translateFromRenderableToVisualIndex(t,n),2),o=i[0],a=i[1],s=e.instance.runHooks("modifyGetCellCoords",o,a),l=o,u=a;if(Array.isArray(s)){var c=fu(s,2);l=c[0],u=c[1]}var d=e.instance.getCellMeta(l,u),h=e.instance.colToProp(u),f=e.instance.getDataAtRowProp(l,h);e.instance.hasHook("beforeValueRender")&&(f=e.instance.runHooks("beforeValueRender",f,d)),e.instance.runHooks("beforeRenderer",r,o,a,h,f,d),e.instance.getCellRenderer(d)(e.instance,r,o,a,h,f,d),e.instance.runHooks("afterRenderer",r,o,a,h,f,d)},selections:this.instance.selection.highlight,hideBorderOnMouseDownOver:function(){return e.settings.fragmentSelection},onWindowResize:function(){e.instance&&!e.instance.isDestroyed&&e.instance.refreshDimensions()},onCellMouseDown:function(n,r,i,o){var a=e.translateFromRenderableToVisualCoords(r),s={row:!1,column:!1,cell:!1};e.instance.listen(),e.activeWt=o,t.mouseDown=!0,e.instance.runHooks("beforeOnCellMouseDown",n,a,i,s),Wn(n)||(su(n,{coords:a,selection:e.instance.selection,controller:s,cellCoordsFactory:function(t,n){return e.instance._createCellCoords(t,n)}}),e.instance.runHooks("afterOnCellMouseDown",n,a,i),e.activeWt=e._wt)},onCellContextMenu:function(n,r,i,o){var a=e.translateFromRenderableToVisualCoords(r);e.activeWt=o,t.mouseDown=!1,e.instance.selection.isInProgress()&&e.instance.selection.finish(),e.instance.runHooks("beforeOnCellContextMenu",n,a,i),Wn(n)||(e.instance.runHooks("afterOnCellContextMenu",n,a,i),e.activeWt=e._wt)},onCellMouseOut:function(t,n,r,i){var o=e.translateFromRenderableToVisualCoords(n);e.activeWt=i,e.instance.runHooks("beforeOnCellMouseOut",t,o,r),Wn(t)||(e.instance.runHooks("afterOnCellMouseOut",t,o,r),e.activeWt=e._wt)},onCellMouseOver:function(n,r,i,o){var a=e.translateFromRenderableToVisualCoords(r),s={row:!1,column:!1,cell:!1};e.activeWt=o,e.instance.runHooks("beforeOnCellMouseOver",n,a,i,s),Wn(n)||(t.mouseDown&&su(n,{coords:a,selection:e.instance.selection,controller:s,cellCoordsFactory:function(t,n){return e.instance._createCellCoords(t,n)}}),e.instance.runHooks("afterOnCellMouseOver",n,a,i),e.activeWt=e._wt)},onCellMouseUp:function(t,n,r,i){var o=e.translateFromRenderableToVisualCoords(n);e.activeWt=i,e.instance.runHooks("beforeOnCellMouseUp",t,o,r),Wn(t)||e.instance.isDestroyed||(e.instance.runHooks("afterOnCellMouseUp",t,o,r),e.activeWt=e._wt)},onCellCornerMouseDown:function(t){t.preventDefault(),e.instance.runHooks("afterOnCellCornerMouseDown",t)},onCellCornerDblClick:function(t){t.preventDefault(),e.instance.runHooks("afterOnCellCornerDblClick",t)},beforeDraw:function(t,n){return e.beforeRender(t,n)},onDraw:function(t){return e.afterRender(t)},onScrollVertically:function(){return e.instance.runHooks("afterScrollVertically")},onScrollHorizontally:function(){return e.instance.runHooks("afterScrollHorizontally")},onBeforeRemoveCellClassNames:function(){return e.instance.runHooks("beforeRemoveCellClassNames")},onBeforeHighlightingRowHeader:function(t,n,r){var i=e.instance.rowIndexMapper,o=i.getVisualFromRenderableIndex(t),a=e.instance.runHooks("beforeHighlightingRowHeader",o,n,r);return i.getRenderableFromVisualIndex(i.getNearestNotHiddenIndex(a,1))},onBeforeHighlightingColumnHeader:function(t,n,r){var i=e.instance.columnIndexMapper,o=i.getVisualFromRenderableIndex(t),a=e.instance.runHooks("beforeHighlightingColumnHeader",o,n,r);return i.getRenderableFromVisualIndex(i.getNearestNotHiddenIndex(a,1))},onAfterDrawSelection:function(t,n,r){var i,o=fu(e.translateFromRenderableToVisualIndex(t,n),2),a=o[0],s=o[1],l=e.instance.selection.getSelectedRange(),u=l.size();if(u>0){var c=(null!=r?r:0)+1-u,d=l.peekByIndex(c);i=[d.from.row,d.from.col,d.to.row,d.to.col]}return e.instance.runHooks("afterDrawSelection",a,s,i,r)},onBeforeDrawBorders:function(t,n){var r=fu(t,4),i=r[0],o=r[1],a=r[2],s=r[3],l=[e.instance.rowIndexMapper.getVisualFromRenderableIndex(i),e.instance.columnIndexMapper.getVisualFromRenderableIndex(o),e.instance.rowIndexMapper.getVisualFromRenderableIndex(a),e.instance.columnIndexMapper.getVisualFromRenderableIndex(s)];return e.instance.runHooks("beforeDrawBorders",l,n)},onBeforeTouchScroll:function(){return e.instance.runHooks("beforeTouchScroll")},onAfterMomentumScroll:function(){return e.instance.runHooks("afterMomentumScroll")},onBeforeStretchingColumnWidth:function(t,n){var r=e.instance.columnIndexMapper.getVisualFromRenderableIndex(n);return e.instance.runHooks("beforeStretchingColumnWidth",t,r)},onModifyRowHeaderWidth:function(t){return e.instance.runHooks("modifyRowHeaderWidth",t)},onModifyGetCellCoords:function(t,n,r){var i=e.instance.rowIndexMapper,o=e.instance.columnIndexMapper,a=n>=0?o.getVisualFromRenderableIndex(n):n,s=t>=0?i.getVisualFromRenderableIndex(t):t,l=e.instance.runHooks("modifyGetCellCoords",s,a,r);if(Array.isArray(l)){var u=fu(l,4),c=u[0],d=u[1],h=u[2],f=u[3];return[c>=0?i.getRenderableFromVisualIndex(i.getNearestNotHiddenIndex(c,1)):c,d>=0?o.getRenderableFromVisualIndex(o.getNearestNotHiddenIndex(d,1)):d,h>=0?i.getRenderableFromVisualIndex(i.getNearestNotHiddenIndex(h,-1)):h,f>=0?o.getRenderableFromVisualIndex(o.getNearestNotHiddenIndex(f,-1)):f]}},viewportRowCalculatorOverride:function(t){var n=e.settings.viewportRowRenderingOffset;if("auto"===n&&e.settings.fixedRowsTop&&(n=10),n>0||"auto"===n){var r=e.countRenderableRows(),i=t.startRow,o=t.endRow;if("number"==typeof n)t.startRow=Math.max(i-n,0),t.endRow=Math.min(o+n,r-1);else if("auto"===n){var a=Math.ceil(o/r*12);t.startRow=Math.max(i-a,0),t.endRow=Math.min(o+a,r-1)}}e.instance.runHooks("afterViewportRowCalculatorOverride",t)},viewportColumnCalculatorOverride:function(t){var n=e.settings.viewportColumnRenderingOffset;if("auto"===n&&e.settings.fixedColumnsStart&&(n=10),n>0||"auto"===n){var r=e.countRenderableColumns(),i=t.startColumn,o=t.endColumn;if("number"==typeof n&&(t.startColumn=Math.max(i-n,0),t.endColumn=Math.min(o+n,r-1)),"auto"===n){var a=Math.ceil(o/r*6);t.startColumn=Math.max(i-a,0),t.endColumn=Math.min(o+a,r-1)}}e.instance.runHooks("afterViewportColumnCalculatorOverride",t)},rowHeaderWidth:function(){return e.settings.rowHeaderWidth},columnHeaderHeight:function(){var t=e.instance.runHooks("modifyColumnHeaderHeight");return e.settings.columnHeaderHeight||t}};this.instance.runHooks("beforeInitWalkontable",n),this._wt=new iu(n),this.activeWt=this._wt;var r=this._wt.wtTable.spreader,i=this.instance.rootElement.getBoundingClientRect(),o=i.width,a=i.height;this.setLastSize(o,a),this.eventManager.addEventListener(r,"mousedown",(function(e){e.target===r&&3===e.which&&e.stopPropagation()})),this.eventManager.addEventListener(r,"contextmenu",(function(e){e.target===r&&3===e.which&&e.stopPropagation()})),this.eventManager.addEventListener(this.instance.rootDocument.documentElement,"click",(function(){e.settings.observeDOMVisibility&&e._wt.drawInterrupted&&(e.instance.forceFullRender=!0,e.render())}))}},{key:"isTextSelectionAllowed",value:function(e){if(_n(e))return!0;var t=Dt(e,this.instance.view._wt.wtTable.spreader);return!(!0!==this.settings.fragmentSelection||!t)||!("cell"!==this.settings.fragmentSelection||!this.isSelectedOnlyCell()||!t)||!(this.settings.fragmentSelection||!this.isCellEdited()||!this.isSelectedOnlyCell())}},{key:"isMouseDown",value:function(){return vu.get(this).mouseDown}},{key:"isSelectedOnlyCell",value:function(){var e,t;return null!==(e=null===(t=this.instance.getSelectedRangeLast())||void 0===t?void 0:t.isSingle())&&void 0!==e&&e}},{key:"isCellEdited",value:function(){var e=this.instance.getActiveEditor();return e&&e.isOpened()}},{key:"beforeRender",value:function(e,t){e&&this.instance.runHooks("beforeViewRender",this.instance.forceFullRender,t)}},{key:"afterRender",value:function(e){e&&this.instance.runHooks("afterViewRender",this.instance.forceFullRender)}},{key:"appendRowHeader",value:function(e,t){if(t.firstChild){var n=t.firstChild;if(!It(n,"relative"))return Yt(t),void this.appendRowHeader(e,t);this.updateCellHeader(n.querySelector(".rowHeader"),e,this.instance.getRowHeader)}else{var r=this.instance,i=r.rootDocument,o=r.getRowHeader,a=i.createElement("div"),s=i.createElement("span");a.className="relative",s.className="rowHeader",this.updateCellHeader(s,e,o),a.appendChild(s),t.appendChild(a)}this.instance.runHooks("afterGetRowHeader",e,t)}},{key:"appendColHeader",value:function(e,t){if(t.firstChild){var n=t.firstChild;It(n,"relative")?this.updateCellHeader(n.querySelector(".colHeader"),e,this.instance.getColHeader):(Yt(t),this.appendColHeader(e,t))}else{var r=this.instance.rootDocument,i=r.createElement("div"),o=r.createElement("span");i.className="relative",o.className="colHeader",this.updateCellHeader(o,e,this.instance.getColHeader),i.appendChild(o),t.appendChild(i)}this.instance.runHooks("afterGetColHeader",e,t)}},{key:"updateCellHeader",value:function(e,t,n){var r=t,i=this._wt.wtOverlays.getParentOverlay(e)||this._wt;e.parentNode&&(It(e,"colHeader")?r=i.wtTable.columnFilter.sourceToRendered(t):It(e,"rowHeader")&&(r=i.wtTable.rowFilter.sourceToRendered(t))),r>-1?Wt(e,n(t)):($t(e,String.fromCharCode(160)),Ht(e,"cornerHeader"))}},{key:"maximumVisibleElementWidth",value:function(e){var t=this._wt.wtViewport.getWorkspaceWidth()-e;return t>0?t:0}},{key:"maximumVisibleElementHeight",value:function(e){var t=this._wt.wtViewport.getWorkspaceHeight()-e;return t>0?t:0}},{key:"setLastSize",value:function(e,t){var n=vu.get(this),r=[e,t];n.lastWidth=r[0],n.lastHeight=r[1]}},{key:"getLastSize",value:function(){var e=vu.get(this);return{width:e.lastWidth,height:e.lastHeight}}},{key:"getFirstFullyVisibleRow",value:function(){return this.instance.rowIndexMapper.getVisualFromRenderableIndex(this.instance.view._wt.wtScroll.getFirstVisibleRow())}},{key:"getLastFullyVisibleRow",value:function(){return this.instance.rowIndexMapper.getVisualFromRenderableIndex(this.instance.view._wt.wtScroll.getLastVisibleRow())}},{key:"getFirstFullyVisibleColumn",value:function(){return this.instance.columnIndexMapper.getVisualFromRenderableIndex(this.instance.view._wt.wtScroll.getFirstVisibleColumn())}},{key:"getLastFullyVisibleColumn",value:function(){return this.instance.columnIndexMapper.getVisualFromRenderableIndex(this.instance.view._wt.wtScroll.getLastVisibleColumn())}},{key:"destroy",value:function(){this._wt.destroy(),this.eventManager.destroy()}}],n&&yu(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const wu=bu;var _u=sr("cellTypes"),ku=_u.register,Su=_u.getItem,Mu=_u.hasItem,xu=_u.getNames;function Ou(e){if(!Mu(e))throw Error('You declared cell type "'.concat(e,'" as a string that is not mapped to a known object.\n                 Cell type must be an object or a string mapped to an object registered by\n                 "Handsontable.cellTypes.registerCellType" method'));return Su(e)}function Cu(e,t){"string"!=typeof e&&(e=(t=e).CELL_TYPE);var n=t,r=n.editor,i=n.renderer,o=n.validator;r&&yr(e,r),i&&xi(e,i),o&&Ai(e,o),ku(e,t)}function Tu(e){return Tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(e)}_u.getValues;var Ru="ABCDEFGHIJKLMNOPQRSTUVWXYZ",Du=Ru.length;function Eu(e){for(var t,n=e+1,r="";n>0;)t=(n-1)%Du,r=String.fromCharCode(65+t)+r,n=parseInt((n-t)/Du,10);return r}function Au(e){var t=0;if(e)for(var n=0,r=e.length-1;n<e.length;n+=1,r-=1)t+=Math.pow(Du,r)*(Ru.indexOf(e[n])+1);return t-1}function Lu(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,i=[];for(e=0;e<n;e++){var o=[];for(t=0;t<r;t++)o.push(Eu(t)+(e+1));i.push(o)}return i}function ju(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,i=[];for(e=0;e<n;e++){var o={};for(t=0;t<r;t++)o["prop".concat(t)]=Eu(t)+(e+1);i.push(o)}return i}function Pu(e,t){for(var n,r=[],i=0;i<e;i++){n=[];for(var o=0;o<t;o++)n.push("");r.push(n)}return r}function Iu(e,t){var n=void 0===t||t;return function(t,r){return function t(r){if(r){if(ve(r,e)&&void 0!==r[e])return r[e];if(ve(r,"type")&&r.type){if("string"!=typeof r.type)throw new Error('Cell "type" must be a string');var i=Ou(r.type);if(ve(i,e))return i[e];if(n)return}return t(Object.getPrototypeOf(r))}}("number"==typeof t?this.getCellMeta(t,r):t)}}function Hu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e,r=[];return Array.isArray(e)&&Array.isArray(e[0])||(n=[e]),n.forEach((function(e,n){Array.isArray(e)?e.forEach((function(e,i){r.push([n+t,i,e])})):Object.keys(e).forEach((function(i){r.push([n+t,i,e[i]])}))})),r}function Nu(e){var t=0;return Array.isArray(e)&&(e[0]&&Array.isArray(e[0])?t=e[0].length:e[0]&&de(e[0])&&(t=ge(e[0]))),t}function Fu(e){return!!(Array.isArray(e)&&e.length&&e.every((function(e){return Array.isArray(e)})))}function Yu(e){return!!(Array.isArray(e)&&e.length&&e.every((function(e){return"object"===Tu(e)&&!Array.isArray(e)&&null!==e})))}function zu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Wu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];zu(this,e),this.hot=t,this.data=n,this.dataType="array",this.colToProp=function(){},this.propToCol=function(){}}var t,n;return t=e,n=[{key:"modifyRowData",value:function(e){var t;return this.hot.hasHook("modifyRowData")&&(t=this.hot.runHooks("modifyRowData",e)),void 0===t||Number.isInteger(t)?this.data[e]:t}},{key:"getData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.data&&0!==this.data.length?this.getByRange(null,null,e):this.data}},{key:"setData",value:function(e){this.data=e}},{key:"getAtColumn",value:function(e){var t=this,n=[];return $(this.data,(function(r,i){var o=t.getAtCell(i,e);n.push(o)})),n}},{key:"getAtRow",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=void 0===t&&void 0===n,a=null,s=null;if(a=this.modifyRowData(e),Array.isArray(a))s=[],o?a.forEach((function(t,n){s[n]=r.getAtPhysicalCell(e,n,a)})):Wr(t,n,(function(n){s[n-t]=r.getAtPhysicalCell(e,n,a)}));else if(de(a)||xn(a))if(s=i?[]:{},!o||i){var l=0,u=this.countFirstRowKeys()-1;Wr(l,u,(function(o){var c=r.colToProp(o);if(o>=(t||l)&&o<=(n||u)&&!Number.isInteger(c)){var d=r.getAtPhysicalCell(e,c,a);i?s.push(d):me(s,c,d)}}))}else fe(a,(function(t,n){me(s,n,r.getAtPhysicalCell(e,n,a))}));return s}},{key:"setAtCell",value:function(e,t,n){if(!(e>=this.countRows()||t>=this.countFirstRowKeys())){if(this.hot.hasHook("modifySourceData")){var r=ye(n);this.hot.runHooks("modifySourceData",e,this.propToCol(t),r,"set"),r.isTouched()&&(n=r.value)}Number.isInteger(t)?this.data[e][t]=n:me(this.data[e],t,n)}}},{key:"getAtPhysicalCell",value:function(e,t,n){var r=null;if(n&&(r="string"==typeof t?pe(n,t):"function"==typeof t?t(n):n[t]),this.hot.hasHook("modifySourceData")){var i=ye(r);this.hot.runHooks("modifySourceData",e,this.colToProp(t),i,"get"),i.isTouched()&&(r=i.value)}return r}},{key:"getAtCell",value:function(e,t){var n=this.modifyRowData(e);return this.getAtPhysicalCell(e,this.colToProp(t),n)}},{key:"getByRange",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!1,o=null,a=null,s=null,l=null;null===t||null===n?(i=!0,o=0,s=this.countRows()-1):(o=Math.min(t.row,n.row),a=Math.min(t.col,n.col),s=Math.max(t.row,n.row),l=Math.max(t.col,n.col));var u=[];return Wr(o,s,(function(t){u.push(i?e.getAtRow(t,void 0,void 0,r):e.getAtRow(t,a,l,r))})),u}},{key:"countRows",value:function(){if(this.hot.hasHook("modifySourceLength")){var e=this.hot.runHooks("modifySourceLength");if(Number.isInteger(e))return e}return this.data.length}},{key:"countFirstRowKeys",value:function(){return Nu(this.data)}},{key:"destroy",value:function(){this.data=null,this.hot=null}}],n&&Bu(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const $u=Wu;n(38211),n(90869);var Uu={_localHooks:Object.create(null),addLocalHook:function(e,t){return this._localHooks[e]||(this._localHooks[e]=[]),this._localHooks[e].push(t),this},runLocalHooks:function(e,t,n,r,i,o,a){if(this._localHooks[e])for(var s=this._localHooks[e].length,l=0;l<s;l++)Ln(this._localHooks[e][l],this,t,n,r,i,o,a)},clearLocalHooks:function(){return this._localHooks={},this}};he(Uu,"MIXIN_NAME","localHooks",{writable:!1,enumerable:!1});const Vu=Uu;function qu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ku=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;qu(this,e),this.indexedValues=[],this.initValueOrFn=t}var t,n;return t=e,n=[{key:"getValues",value:function(){return this.indexedValues}},{key:"getValueAtIndex",value:function(e){var t=this.indexedValues;if(e<t.length)return t[e]}},{key:"setValues",value:function(e){this.indexedValues=e.slice(),this.runLocalHooks("change")}},{key:"setValueAtIndex",value:function(e,t){return e<this.indexedValues.length&&(this.indexedValues[e]=t,this.runLocalHooks("change"),!0)}},{key:"clear",value:function(){this.setDefaultValues()}},{key:"getLength",value:function(){return this.getValues().length}},{key:"setDefaultValues",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.indexedValues.length;this.indexedValues.length=0,xn(this.initValueOrFn)?Wr(t-1,(function(t){return e.indexedValues.push(e.initValueOrFn(t))})):Wr(t-1,(function(){return e.indexedValues.push(e.initValueOrFn)})),this.runLocalHooks("change")}},{key:"init",value:function(e){return this.setDefaultValues(e),this.runLocalHooks("init"),this}},{key:"insert",value:function(){this.runLocalHooks("change")}},{key:"remove",value:function(){this.runLocalHooks("change")}},{key:"destroy",value:function(){this.clearLocalHooks(),this.indexedValues=null,this.initValueOrFn=null}}],n&&Gu(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Zu(e){return function(e){if(Array.isArray(e))return Xu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Xu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xu(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ju(e,t,n,r){var i=n.length?n[0]:void 0;return[].concat(Zu(e.slice(0,i)),Zu(n.map((function(e,t){return xn(r)?r(e,t):r}))),Zu(void 0===i?[]:e.slice(i)))}function Qu(e,t){return B(e,(function(e,n){return!1===t.includes(n)}))}function ec(e){return ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(e)}function tc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rc(){return rc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=ic(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},rc.apply(this,arguments)}function ic(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=sc(e)););return e}function oc(e,t){return oc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oc(e,t)}function ac(e,t){if(t&&("object"===ec(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function sc(e){return sc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sc(e)}ue(Ku,Vu);var lc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oc(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=sc(r);if(i){var n=sc(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ac(this,e)});function a(){return tc(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"insert",value:function(e,t){this.indexedValues=Ju(this.indexedValues,0,t,this.initValueOrFn),rc(sc(a.prototype),"insert",this).call(this,e,t)}},{key:"remove",value:function(e){this.indexedValues=Qu(this.indexedValues,e),rc(sc(a.prototype),"remove",this).call(this,e)}}])&&nc(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(Ku);function uc(e){return uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(e)}function cc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hc(e,t){return hc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hc(e,t)}function fc(e,t){if(t&&("object"===uc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function pc(e){return pc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pc(e)}var mc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hc(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=pc(r);if(i){var n=pc(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return fc(this,e)});function a(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return cc(this,a),o.call(this,e)}return t=a,(n=[{key:"getHiddenIndexes",value:function(){return z(this.getValues(),(function(e,t,n){return t&&e.push(n),e}),[])}}])&&dc(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(lc);function gc(e){return function(e){if(Array.isArray(e))return yc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return yc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yc(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vc(e,t,n){return[].concat(gc(e.slice(0,t)),gc(n),gc(e.slice(t)))}function bc(e,t){return B(e,(function(e){return!1===t.includes(e)}))}function wc(e,t){return W(e,(function(e){return e-t.filter((function(t){return t<e})).length}))}function _c(e,t){var n=t[0],r=t.length;return W(e,(function(e){return e>=n?e+r:e}))}function kc(e){return kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(e)}function Sc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oc(){return Oc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Cc(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Oc.apply(this,arguments)}function Cc(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ec(e)););return e}function Tc(e,t){return Tc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Tc(e,t)}function Rc(e,t){if(t&&("object"===kc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Dc(e)}function Dc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ec(e){return Ec=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ec(e)}function Ac(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tc(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ec(r);if(i){var n=Ec(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Rc(this,e)});function a(){var e;Mc(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ac(Dc(e=o.call.apply(o,[this].concat(n))),"orderOfIndexes",[]),e}return t=a,n=[{key:"getValues",value:function(){var e=this;return this.orderOfIndexes.map((function(t){return e.indexedValues[t]}))}},{key:"setValues",value:function(e){var t;this.orderOfIndexes=function(e){if(Array.isArray(e))return Sc(e)}(t=Array(e.length).keys())||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return Sc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sc(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),Oc(Ec(a.prototype),"setValues",this).call(this,e)}},{key:"setValueAtIndex",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.orderOfIndexes.length;return e<this.indexedValues.length&&(this.indexedValues[e]=t,!1===this.orderOfIndexes.includes(e)&&this.orderOfIndexes.splice(n,0,e),this.runLocalHooks("change"),!0)}},{key:"clearValue",value:function(e){this.orderOfIndexes=bc(this.orderOfIndexes,[e]),xn(this.initValueOrFn)?Oc(Ec(a.prototype),"setValueAtIndex",this).call(this,e,this.initValueOrFn(e)):Oc(Ec(a.prototype),"setValueAtIndex",this).call(this,e,this.initValueOrFn)}},{key:"getLength",value:function(){return this.orderOfIndexes.length}},{key:"setDefaultValues",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.indexedValues.length;this.orderOfIndexes.length=0,Oc(Ec(a.prototype),"setDefaultValues",this).call(this,e)}},{key:"insert",value:function(e,t){this.indexedValues=Ju(this.indexedValues,0,t,this.initValueOrFn),this.orderOfIndexes=_c(this.orderOfIndexes,t),Oc(Ec(a.prototype),"insert",this).call(this,e,t)}},{key:"remove",value:function(e){this.indexedValues=Qu(this.indexedValues,e),this.orderOfIndexes=bc(this.orderOfIndexes,e),this.orderOfIndexes=wc(this.orderOfIndexes,e),Oc(Ec(a.prototype),"remove",this).call(this,e)}},{key:"getEntries",value:function(){var e=this;return this.orderOfIndexes.map((function(t){return[t,e.getValueAtIndex(t)]}))}}],n&&xc(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(Ku);function jc(e){return jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(e)}function Pc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ic(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hc(e,t){return Hc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hc(e,t)}function Nc(e,t){if(t&&("object"===jc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Fc(e){return Fc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fc(e)}var Yc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hc(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Fc(r);if(i){var n=Fc(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Nc(this,e)});function a(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Pc(this,a),o.call(this,e)}return t=a,(n=[{key:"getTrimmedIndexes",value:function(){return z(this.getValues(),(function(e,t,n){return t&&e.push(n),e}),[])}}])&&Ic(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(lc),zc=new Map([["hiding",mc],["index",Ku],["linkedPhysicalIndexToValue",Lc],["physicalIndexToValue",lc],["trimming",Yc]]);function Bc(e){return Bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(e)}function Wc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $c(){return $c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Uc(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},$c.apply(this,arguments)}function Uc(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Gc(e)););return e}function Vc(e,t){return Vc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vc(e,t)}function qc(e,t){if(t&&("object"===Bc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Gc(e){return Gc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gc(e)}var Kc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vc(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Gc(r);if(i){var n=Gc(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return qc(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.call(this,(function(e){return e}))}return t=a,(n=[{key:"insert",value:function(e,t){var n=_c(this.indexedValues,t);this.indexedValues=vc(n,e,t),$c(Gc(a.prototype),"insert",this).call(this,e,t)}},{key:"remove",value:function(e){var t=bc(this.indexedValues,e);this.indexedValues=wc(t,e),$c(Gc(a.prototype),"remove",this).call(this,e)}}])&&Wc(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(Ku);function Zc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Xc=0,Jc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.collection=new Map}var t,n;return t=e,(n=[{key:"register",value:function(e,t){var n=this;!1===this.collection.has(e)&&(this.collection.set(e,t),t.addLocalHook("change",(function(){return n.runLocalHooks("change",t)})),Xc+=1)}},{key:"unregister",value:function(e){var t=this.collection.get(e);Je(t)&&(t.destroy(),this.collection.delete(e),this.runLocalHooks("change",t),Xc-=1)}},{key:"unregisterAll",value:function(){var e=this;this.collection.forEach((function(t,n){return e.unregister(n)})),this.collection.clear()}},{key:"get",value:function(e){return Qe(e)?Array.from(this.collection.values()):this.collection.get(e)}},{key:"getLength",value:function(){return this.collection.size}},{key:"removeFromEvery",value:function(e){this.collection.forEach((function(t){t.remove(e)}))}},{key:"insertToEvery",value:function(e,t){this.collection.forEach((function(n){n.insert(e,t)}))}},{key:"initEvery",value:function(e){this.collection.forEach((function(t){t.init(e)}))}}])&&Zc(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Qc(e){return Qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(e)}function ed(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function td(e,t){return td=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},td(e,t)}function nd(e,t){if(t&&("object"===Qc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function rd(e){return rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rd(e)}ue(Jc,Vu);var id=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&td(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=rd(r);if(i){var n=rd(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return nd(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=o.call(this)).mergedValuesCache=[],n.aggregationFunction=e,n.fallbackValue=t,n}return t=a,n=[{key:"getMergedValues",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!0===e)return this.mergedValuesCache;if(0===this.getLength())return[];for(var t=W(this.get(),(function(e){return e.getValues()})),n=[],r=Je(t[0])&&t[0].length||0,i=0;i<r;i+=1){for(var o=[],a=0;a<this.getLength();a+=1)o.push(t[a][i]);n.push(o)}return W(n,this.aggregationFunction)}},{key:"getMergedValueAtIndex",value:function(e,t){var n=this.getMergedValues(t)[e];return Je(n)?n:this.fallbackValue}},{key:"updateCache",value:function(){this.mergedValuesCache=this.getMergedValues(!1)}}],n&&ed(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(Jc);function od(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ad(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var sd=new WeakMap,ld=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}(this,sd,{writable:!0,value:[]})}var t,n;return t=e,(n=[{key:"subscribe",value:function(e){return this.addLocalHook("change",e),this._write(function(e,t){return t.get?t.get.call(e):t.value}(this,ad(this,sd,"get"))),this}},{key:"unsubscribe",value:function(){return this.runLocalHooks("unsubscribe"),this.clearLocalHooks(),this}},{key:"_write",value:function(e){return e.length>0&&this.runLocalHooks("change",e),this}},{key:"_writeInitialChanges",value:function(e){!function(e,t,n){(function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}})(e,ad(e,t,"set"),n)}(this,sd,e)}}])&&od(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ud(e,t){for(var n=[],r=0,i=0;r<e.length&&i<t.length;r++,i++)e[r]!==t[i]&&n.push({op:"replace",index:i,oldValue:e[r],newValue:t[i]});for(;r<t.length;r++)n.push({op:"insert",index:r,oldValue:void 0,newValue:t[r]});for(;i<e.length;i++)n.push({op:"remove",index:i,oldValue:e[i],newValue:void 0});return n}function cd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hd(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function fd(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,md(e,t,"get"))}function pd(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,md(e,t,"set"),n),n}function md(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}ue(ld,Vu);var gd,yd=new WeakMap,vd=new WeakMap,bd=new WeakMap,wd=new WeakMap,_d=new WeakMap,kd=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.initialIndexValue;cd(this,e),hd(this,yd,{writable:!0,value:new Set}),hd(this,vd,{writable:!0,value:[]}),hd(this,bd,{writable:!0,value:[]}),hd(this,wd,{writable:!0,value:!1}),hd(this,_d,{writable:!0,value:!1}),pd(this,_d,null!=n&&n)}var t,n;return t=e,(n=[{key:"createObserver",value:function(){var e=this,t=new ld;return fd(this,yd).add(t),t.addLocalHook("unsubscribe",(function(){fd(e,yd).delete(t)})),t._writeInitialChanges(ud(fd(this,vd),fd(this,bd))),t}},{key:"emit",value:function(e){var t=fd(this,bd);fd(this,wd)&&fd(this,vd).length===e.length||(0===e.length?e=new Array(t.length).fill(fd(this,_d)):pd(this,vd,new Array(e.length).fill(fd(this,_d))),fd(this,wd)||(pd(this,wd,!0),t=fd(this,vd)));var n=ud(t,e);fd(this,yd).forEach((function(e){return e._write(n)})),pd(this,bd,e)}}])&&dd(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Sd(e){return function(e){if(Array.isArray(e))return Md(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Md(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Md(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Md(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xd(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Od(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Cd,Td=new Set(["getFirstNotHiddenIndex"]),Rd=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.indexesSequence=new Kc,this.trimmingMapsCollection=new id((function(e){return e.some((function(e){return!0===e}))}),!1),this.hidingMapsCollection=new id((function(e){return e.some((function(e){return!0===e}))}),!1),this.variousMapsCollection=new Jc,this.hidingChangesObservable=new kd({initialIndexValue:!1}),this.notTrimmedIndexesCache=[],this.notHiddenIndexesCache=[],this.isBatched=!1,this.indexesSequenceChanged=!1,this.trimmedIndexesChanged=!1,this.hiddenIndexesChanged=!1,this.renderablePhysicalIndexesCache=[],this.fromPhysicalToVisualIndexesCache=new Map,this.fromVisualToRenderableIndexesCache=new Map,this.indexesSequence.addLocalHook("change",(function(){t.indexesSequenceChanged=!0,t.updateCache(),t.runLocalHooks("change",t.indexesSequence,null)})),this.trimmingMapsCollection.addLocalHook("change",(function(e){t.trimmedIndexesChanged=!0,t.updateCache(),t.runLocalHooks("change",e,t.trimmingMapsCollection)})),this.hidingMapsCollection.addLocalHook("change",(function(e){t.hiddenIndexesChanged=!0,t.updateCache(),t.runLocalHooks("change",e,t.hidingMapsCollection)})),this.variousMapsCollection.addLocalHook("change",(function(e){t.runLocalHooks("change",e,t.variousMapsCollection)}))}var t,n;return t=e,n=[{key:"suspendOperations",value:function(){this.isBatched=!0}},{key:"resumeOperations",value:function(){this.isBatched=!1,this.updateCache()}},{key:"createChangesObserver",value:function(e){if("hiding"!==e)throw new Error('Unsupported index map type "'.concat(e,'".'));return this.hidingChangesObservable.createObserver()}},{key:"createAndRegisterIndexMap",value:function(e,t,n){return this.registerMap(e,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!zc.has(e))throw new Error('The provided map type ("'.concat(e,'") does not exist.'));return new(zc.get(e))(t)}(t,n))}},{key:"registerMap",value:function(e,t){if(this.trimmingMapsCollection.get(e)||this.hidingMapsCollection.get(e)||this.variousMapsCollection.get(e))throw Error('Map with name "'.concat(e,'" has been already registered.'));t instanceof Yc?this.trimmingMapsCollection.register(e,t):t instanceof mc?this.hidingMapsCollection.register(e,t):this.variousMapsCollection.register(e,t);var n=this.getNumberOfIndexes();return n>0&&t.init(n),t}},{key:"unregisterMap",value:function(e){this.trimmingMapsCollection.unregister(e),this.hidingMapsCollection.unregister(e),this.variousMapsCollection.unregister(e)}},{key:"unregisterAll",value:function(){this.trimmingMapsCollection.unregisterAll(),this.hidingMapsCollection.unregisterAll(),this.variousMapsCollection.unregisterAll()}},{key:"getPhysicalFromVisualIndex",value:function(e){var t=this.notTrimmedIndexesCache[e];return Je(t)?t:null}},{key:"getPhysicalFromRenderableIndex",value:function(e){var t=this.renderablePhysicalIndexesCache[e];return Je(t)?t:null}},{key:"getVisualFromPhysicalIndex",value:function(e){var t=this.fromPhysicalToVisualIndexesCache.get(e);return Je(t)?t:null}},{key:"getVisualFromRenderableIndex",value:function(e){return this.getVisualFromPhysicalIndex(this.getPhysicalFromRenderableIndex(e))}},{key:"getRenderableFromVisualIndex",value:function(e){var t=this.fromVisualToRenderableIndexesCache.get(e);return Je(t)?t:null}},{key:"getFirstNotHiddenIndex",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e-t;Td.has("getFirstNotHiddenIndex")&&(Td.delete("getFirstNotHiddenIndex"),Vn(Ge(gd||(gd=xd(['The method "getFirstNotHiddenIndex" is deprecated and will be removed in the next \n                        major release. Please use "getNearestNotHiddenIndex" instead.'],['The method "getFirstNotHiddenIndex" is deprecated and will be removed in the next\\x20\n                        major release. Please use "getNearestNotHiddenIndex" instead.'])))));var i=this.getPhysicalFromVisualIndex(e);return null===i?!0===n&&r!==e-t?this.getFirstNotHiddenIndex(r,-t,!1,r):null:!1===this.isHidden(i)?e:this.getFirstNotHiddenIndex(e+t,t,n,r)}},{key:"getNearestNotHiddenIndex",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.getPhysicalFromVisualIndex(e);if(null===r)return null;if(this.fromVisualToRenderableIndexesCache.has(e))return e;var i=Array.from(this.fromVisualToRenderableIndexesCache.keys()),o=-1;return-1===(o=t>0?i.findIndex((function(t){return t>e})):i.reverse().findIndex((function(t){return t<e})))?n?this.getNearestNotHiddenIndex(e,-t,!1):null:i[o]}},{key:"initToLength",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getNumberOfIndexes();this.notTrimmedIndexesCache=Sd(new Array(e).keys()),this.notHiddenIndexesCache=Sd(new Array(e).keys()),this.suspendOperations(),this.indexesSequence.init(e),this.trimmingMapsCollection.initEvery(e),this.resumeOperations(),this.suspendOperations(),this.hidingMapsCollection.initEvery(e),this.variousMapsCollection.initEvery(e),this.resumeOperations(),this.runLocalHooks("init")}},{key:"fitToLength",value:function(e){var t=this.getNumberOfIndexes();if(e<t){var n=Sd(Array(this.getNumberOfIndexes()-e).keys()).map((function(t){return t+e}));this.removeIndexes(n)}else this.insertIndexes(t,e-t)}},{key:"getIndexesSequence",value:function(){return this.indexesSequence.getValues()}},{key:"setIndexesSequence",value:function(e){this.indexesSequence.setValues(e)}},{key:"getNotTrimmedIndexes",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!0===t)return this.notTrimmedIndexesCache;var n=this.getIndexesSequence();return n.filter((function(t){return!1===e.isTrimmed(t)}))}},{key:"getNotTrimmedIndexesLength",value:function(){return this.getNotTrimmedIndexes().length}},{key:"getNotHiddenIndexes",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!0===t)return this.notHiddenIndexesCache;var n=this.getIndexesSequence();return n.filter((function(t){return!1===e.isHidden(t)}))}},{key:"getNotHiddenIndexesLength",value:function(){return this.getNotHiddenIndexes().length}},{key:"getRenderableIndexes",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!0===t)return this.renderablePhysicalIndexesCache;var n=this.getNotTrimmedIndexes();return n.filter((function(t){return!1===e.isHidden(t)}))}},{key:"getRenderableIndexesLength",value:function(){return this.getRenderableIndexes().length}},{key:"getNumberOfIndexes",value:function(){return this.getIndexesSequence().length}},{key:"moveIndexes",value:function(e,t){var n=this;"number"==typeof e&&(e=[e]);var r=W(e,(function(e){return n.getPhysicalFromVisualIndex(e)})),i=this.getNotTrimmedIndexesLength(),o=e.length,a=bc(this.getIndexesSequence(),r),s=i-o;if(t+o<i){var l=a.filter((function(e){return!1===n.isTrimmed(e)}))[t];s=a.indexOf(l)}this.setIndexesSequence(vc(a,s,r))}},{key:"isTrimmed",value:function(e){return this.trimmingMapsCollection.getMergedValueAtIndex(e)}},{key:"isHidden",value:function(e){return this.hidingMapsCollection.getMergedValueAtIndex(e)}},{key:"insertIndexes",value:function(e,t){var n=this.getNotTrimmedIndexes()[e],r=Je(n)?n:this.getNumberOfIndexes(),i=this.getIndexesSequence().includes(n)?this.getIndexesSequence().indexOf(n):this.getNumberOfIndexes(),o=W(new Array(t).fill(r),(function(e,t){return e+t}));this.suspendOperations(),this.indexesSequence.insert(i,o),this.trimmingMapsCollection.insertToEvery(i,o),this.hidingMapsCollection.insertToEvery(i,o),this.variousMapsCollection.insertToEvery(i,o),this.resumeOperations()}},{key:"removeIndexes",value:function(e){this.suspendOperations(),this.indexesSequence.remove(e),this.trimmingMapsCollection.removeFromEvery(e),this.hidingMapsCollection.removeFromEvery(e),this.variousMapsCollection.removeFromEvery(e),this.resumeOperations()}},{key:"updateCache",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.indexesSequenceChanged||this.trimmedIndexesChanged||this.hiddenIndexesChanged;(!0===e||!1===this.isBatched&&!0===t)&&(this.trimmingMapsCollection.updateCache(),this.hidingMapsCollection.updateCache(),this.notTrimmedIndexesCache=this.getNotTrimmedIndexes(!1),this.notHiddenIndexesCache=this.getNotHiddenIndexes(!1),this.renderablePhysicalIndexesCache=this.getRenderableIndexes(!1),this.cacheFromPhysicalToVisualIndexes(),this.cacheFromVisualToRenderableIndexes(),this.hiddenIndexesChanged&&this.hidingChangesObservable.emit(this.hidingMapsCollection.getMergedValues()),this.runLocalHooks("cacheUpdated",{indexesSequenceChanged:this.indexesSequenceChanged,trimmedIndexesChanged:this.trimmedIndexesChanged,hiddenIndexesChanged:this.hiddenIndexesChanged}),this.indexesSequenceChanged=!1,this.trimmedIndexesChanged=!1,this.hiddenIndexesChanged=!1)}},{key:"cacheFromPhysicalToVisualIndexes",value:function(){var e=this.getNotTrimmedIndexesLength();this.fromPhysicalToVisualIndexesCache.clear();for(var t=0;t<e;t+=1){var n=this.getPhysicalFromVisualIndex(t);this.fromPhysicalToVisualIndexesCache.set(n,t)}}},{key:"cacheFromVisualToRenderableIndexes",value:function(){var e=this.getRenderableIndexesLength();this.fromVisualToRenderableIndexesCache.clear();for(var t=0;t<e;t+=1){var n=this.getPhysicalFromRenderableIndex(t),r=this.getVisualFromPhysicalIndex(n);this.fromVisualToRenderableIndexesCache.set(r,t)}}}],n&&Od(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Dd(e){var t=/^([a-zA-Z]{2})-([a-zA-Z]{2})$/.exec(e);return t?"".concat(t[1].toLowerCase(),"-").concat(t[2].toUpperCase()):e}function Ed(e){Je(e)&&qn(Ge(Cd||(Cd=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(['Language with code "','" was not found. You should register particular language \n    before using it. Read more about this issue at: https://docs.handsontable.com/i18n/missing-language-code.'],['Language with code "','" was not found. You should register particular language\\x20\n    before using it. Read more about this issue at: https://docs.handsontable.com/i18n/missing-language-code.'])),e))}ue(Rd,Vu);var Ad=sr("phraseFormatters"),Ld=Ad.register,jd=Ad.getValues;Ld("pluralize",(function(e,t){return Array.isArray(e)&&Number.isInteger(t)?e[t]:e}));var Pd,Id="ContextMenu:items",Hd="".concat(Id,".noItems"),Nd="".concat(Id,".insertRowAbove"),Fd="".concat(Id,".insertRowBelow"),Yd="".concat(Id,".insertColumnOnTheLeft"),zd="".concat(Id,".insertColumnOnTheRight"),Bd="".concat(Id,".removeRow"),Wd="".concat(Id,".removeColumn"),$d="".concat(Id,".undo"),Ud="".concat(Id,".redo"),Vd="".concat(Id,".readOnly"),qd="".concat(Id,".clearColumn"),Gd="".concat(Id,".copy"),Kd="".concat(Id,".cut"),Zd="".concat(Id,".freezeColumn"),Xd="".concat(Id,".unfreezeColumn"),Jd="".concat(Id,".mergeCells"),Qd="".concat(Id,".unmergeCells"),eh="".concat(Id,".addComment"),th="".concat(Id,".editComment"),nh="".concat(Id,".removeComment"),rh="".concat(Id,".readOnlyComment"),ih="".concat(Id,".align"),oh="".concat(Id,".align.left"),ah="".concat(Id,".align.center"),sh="".concat(Id,".align.right"),lh="".concat(Id,".align.justify"),uh="".concat(Id,".align.top"),ch="".concat(Id,".align.middle"),dh="".concat(Id,".align.bottom"),hh="".concat(Id,".borders"),fh="".concat(Id,".borders.top"),ph="".concat(Id,".borders.right"),mh="".concat(Id,".borders.bottom"),gh="".concat(Id,".borders.left"),yh="".concat(Id,".borders.remove"),vh="".concat(Id,".nestedHeaders.insertChildRow"),bh="".concat(Id,".nestedHeaders.detachFromParent"),wh="".concat(Id,".hideColumn"),_h="".concat(Id,".showColumn"),kh="".concat(Id,".hideRow"),Sh="".concat(Id,".showRow"),Mh="Filters:",xh="".concat(Mh,"conditions"),Oh="".concat(xh,".none"),Ch="".concat(xh,".isEmpty"),Th="".concat(xh,".isNotEmpty"),Rh="".concat(xh,".isEqualTo"),Dh="".concat(xh,".isNotEqualTo"),Eh="".concat(xh,".beginsWith"),Ah="".concat(xh,".endsWith"),Lh="".concat(xh,".contains"),jh="".concat(xh,".doesNotContain"),Ph="".concat(xh,".byValue"),Ih="".concat(xh,".greaterThan"),Hh="".concat(xh,".greaterThanOrEqualTo"),Nh="".concat(xh,".lessThan"),Fh="".concat(xh,".lessThanOrEqualTo"),Yh="".concat(xh,".isBetween"),zh="".concat(xh,".isNotBetween"),Bh="".concat(xh,".after"),Wh="".concat(xh,".before"),$h="".concat(xh,".today"),Uh="".concat(xh,".tomorrow"),Vh="".concat(xh,".yesterday"),qh="".concat(Mh,"labels.filterByCondition"),Gh="".concat(Mh,"labels.filterByValue"),Kh="".concat(Mh,"labels.conjunction"),Zh="".concat(Mh,"labels.disjunction"),Xh="".concat(Mh,"values.blankCells"),Jh="".concat(Mh,"buttons.selectAll"),Qh="".concat(Mh,"buttons.clear"),ef="".concat(Mh,"buttons.ok"),tf="".concat(Mh,"buttons.cancel"),nf="".concat(Mh,"buttons.placeholder.search"),rf="".concat(Mh,"buttons.placeholder.value"),of="".concat(Mh,"buttons.placeholder.secondValue");function af(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const sf=(af(Pd={languageCode:"en-US"},Hd,"No available options"),af(Pd,Nd,"Insert row above"),af(Pd,Fd,"Insert row below"),af(Pd,Yd,"Insert column left"),af(Pd,zd,"Insert column right"),af(Pd,Bd,["Remove row","Remove rows"]),af(Pd,Wd,["Remove column","Remove columns"]),af(Pd,$d,"Undo"),af(Pd,Ud,"Redo"),af(Pd,Vd,"Read only"),af(Pd,qd,"Clear column"),af(Pd,ih,"Alignment"),af(Pd,oh,"Left"),af(Pd,ah,"Center"),af(Pd,sh,"Right"),af(Pd,lh,"Justify"),af(Pd,uh,"Top"),af(Pd,ch,"Middle"),af(Pd,dh,"Bottom"),af(Pd,Zd,"Freeze column"),af(Pd,Xd,"Unfreeze column"),af(Pd,hh,"Borders"),af(Pd,fh,"Top"),af(Pd,ph,"Right"),af(Pd,mh,"Bottom"),af(Pd,gh,"Left"),af(Pd,yh,"Remove border(s)"),af(Pd,eh,"Add comment"),af(Pd,th,"Edit comment"),af(Pd,nh,"Delete comment"),af(Pd,rh,"Read-only comment"),af(Pd,Jd,"Merge cells"),af(Pd,Qd,"Unmerge cells"),af(Pd,Gd,"Copy"),af(Pd,Kd,"Cut"),af(Pd,vh,"Insert child row"),af(Pd,bh,"Detach from parent"),af(Pd,wh,["Hide column","Hide columns"]),af(Pd,_h,["Show column","Show columns"]),af(Pd,kh,["Hide row","Hide rows"]),af(Pd,Sh,["Show row","Show rows"]),af(Pd,Oh,"None"),af(Pd,Ch,"Is empty"),af(Pd,Th,"Is not empty"),af(Pd,Rh,"Is equal to"),af(Pd,Dh,"Is not equal to"),af(Pd,Eh,"Begins with"),af(Pd,Ah,"Ends with"),af(Pd,Lh,"Contains"),af(Pd,jh,"Does not contain"),af(Pd,Ih,"Greater than"),af(Pd,Hh,"Greater than or equal to"),af(Pd,Nh,"Less than"),af(Pd,Fh,"Less than or equal to"),af(Pd,Yh,"Is between"),af(Pd,zh,"Is not between"),af(Pd,Bh,"After"),af(Pd,Wh,"Before"),af(Pd,$h,"Today"),af(Pd,Uh,"Tomorrow"),af(Pd,Vh,"Yesterday"),af(Pd,Xh,"Blank cells"),af(Pd,qh,"Filter by condition"),af(Pd,Gh,"Filter by value"),af(Pd,Kh,"And"),af(Pd,Zh,"Or"),af(Pd,Jh,"Select all"),af(Pd,Qh,"Clear"),af(Pd,ef,"OK"),af(Pd,tf,"Cancel"),af(Pd,nf,"Search"),af(Pd,rf,"Value"),af(Pd,of,"Second value"),Pd);var lf=sf.languageCode,uf=sr("languagesDictionaries"),cf=uf.register,df=uf.getItem,hf=uf.hasItem,ff=uf.getValues;function pf(e,t){var n=e,r=t;return de(e)&&(n=(r=e).languageCode),function(e,t){var n;e!==lf&&(n=t,fe(df(lf),(function(e,t){Qe(n[t])&&(n[t]=e)})))}(n,r),cf(n,se(r)),se(r)}function mf(e){return gf(e)?se(df(e)):null}function gf(e){return hf(e)}function yf(e,t,n){var r=mf(e);if(null===r)return null;var i=r[t];if(Qe(i))return null;var o=function(e,t){var n=e;return $(jd(),(function(r){n=r(e,t)})),n}(i,n);return Array.isArray(o)?o[0]:o}function vf(e){var t=Dd(e);return gf(t)||(t=lf,Ed(e)),t}pf(sf),n(40674);var bf="active-header",wf="area",_f="cell",kf="fill",Sf="header",Mf="custom-selection";function xf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Of(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Of(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Of(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(82730);var Tf=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n&&(this.eventManager=t.eventManager,this.instance=t,this.wot=t,this.settings=n,this.mouseDown=!1,this.main=null,this.top=null,this.bottom=null,this.start=null,this.end=null,this.topStyle=null,this.bottomStyle=null,this.startStyle=null,this.endStyle=null,this.cornerDefaultStyle={width:"6px",height:"6px",borderWidth:"1px",borderStyle:"solid",borderColor:"#FFF"},this.cornerCenterPointOffset=-parseInt(this.cornerDefaultStyle.width,10)/2,this.corner=null,this.cornerStyle=null,this.createBorders(n),this.registerListeners())}var t,n;return t=e,n=[{key:"registerListeners",value:function(){var e=this,t=this.wot.rootDocument.body;this.eventManager.addEventListener(t,"mousedown",(function(){return e.onMouseDown()})),this.eventManager.addEventListener(t,"mouseup",(function(){return e.onMouseUp()}));for(var n=function(t,n){var r=e.main.childNodes[t];e.eventManager.addEventListener(r,"mouseenter",(function(n){return e.onMouseEnter(n,e.main.childNodes[t])}))},r=0,i=this.main.childNodes.length;r<i;r++)n(r)}},{key:"onMouseDown",value:function(){this.mouseDown=!0}},{key:"onMouseUp",value:function(){this.mouseDown=!1}},{key:"onMouseEnter",value:function(e,t){if(this.mouseDown&&this.wot.getSetting("hideBorderOnMouseDownOver")){e.preventDefault(),Bn(e);var n=this,r=this.wot.rootDocument.body,i=t.getBoundingClientRect();t.style.display="none",this.eventManager.addEventListener(r,"mousemove",(function e(o){var a;((a=o).clientY<Math.floor(i.top)||a.clientY>Math.ceil(i.top+i.height)||a.clientX<Math.floor(i.left)||a.clientX>Math.ceil(i.left+i.width))&&(n.eventManager.removeEventListener(r,"mousemove",e),t.style.display="block")}))}}},{key:"createBorders",value:function(e){var t=this.wot.rootDocument;this.main=t.createElement("div");var n=["top","start","bottom","end","corner"],r=this.main.style;r.position="absolute",r.top=0,r.left=0;for(var i=0;i<5;i++){var o=n[i],a=t.createElement("div");a.className="wtBorder ".concat(this.settings.className||""),this.settings[o]&&this.settings[o].hide&&(a.className+=" hidden"),(r=a.style).backgroundColor=this.settings[o]&&this.settings[o].color?this.settings[o].color:e.border.color,r.height=this.settings[o]&&this.settings[o].width?"".concat(this.settings[o].width,"px"):"".concat(e.border.width,"px"),r.width=this.settings[o]&&this.settings[o].width?"".concat(this.settings[o].width,"px"):"".concat(e.border.width,"px"),this.main.appendChild(a)}this.top=this.main.childNodes[0],this.start=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.end=this.main.childNodes[3],this.topStyle=this.top.style,this.startStyle=this.start.style,this.bottomStyle=this.bottom.style,this.endStyle=this.end.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.height=this.cornerDefaultStyle.height,this.cornerStyle.border=[this.cornerDefaultStyle.borderWidth,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),je()&&this.createMultipleSelectorHandles(),this.disappear();var s=this.wot.wtTable,l=s.bordersHolder;l||((l=t.createElement("div")).className="htBorders",s.bordersHolder=l,s.spreader.appendChild(l)),l.appendChild(this.main)}},{key:"createMultipleSelectorHandles",value:function(){var e=this,t=this.wot.rootDocument;this.selectionHandles={top:t.createElement("DIV"),topHitArea:t.createElement("DIV"),bottom:t.createElement("DIV"),bottomHitArea:t.createElement("DIV")},this.selectionHandles.top.className="topSelectionHandle topLeftSelectionHandle",this.selectionHandles.topHitArea.className="topSelectionHandle-HitArea topLeftSelectionHandle-HitArea",this.selectionHandles.bottom.className="bottomSelectionHandle bottomRightSelectionHandle",this.selectionHandles.bottomHitArea.className="bottomSelectionHandle-HitArea bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={top:this.selectionHandles.top.style,topHitArea:this.selectionHandles.topHitArea.style,bottom:this.selectionHandles.bottom.style,bottomHitArea:this.selectionHandles.bottomHitArea.style},fe({position:"absolute",height:"".concat(40,"px"),width:"".concat(40,"px"),"border-radius":"".concat(parseInt(40/1.5,10),"px")},(function(t,n){e.selectionHandles.styles.bottomHitArea[n]=t,e.selectionHandles.styles.topHitArea[n]=t})),fe({position:"absolute",height:"".concat(10,"px"),width:"".concat(10,"px"),"border-radius":"".concat(parseInt(10/1.5,10),"px"),background:"#F5F5FF",border:"1px solid #4285c8"},(function(t,n){e.selectionHandles.styles.bottom[n]=t,e.selectionHandles.styles.top[n]=t})),this.main.appendChild(this.selectionHandles.top),this.main.appendChild(this.selectionHandles.bottom),this.main.appendChild(this.selectionHandles.topHitArea),this.main.appendChild(this.selectionHandles.bottomHitArea)}},{key:"isPartRange",value:function(e,t){var n=this.wot.selections.createOrGetArea();return!(!n.cellRange||e===n.cellRange.to.row&&t===n.cellRange.to.col)}},{key:"updateMultipleSelectionHandlesPosition",value:function(e,t,n,r,i,o){var a=this.wot.wtSettings.getSetting("rtlMode")?"right":"left",s=this.selectionHandles.styles,l=s.top,u=s.topHitArea,c=s.bottom,d=s.bottomHitArea,h=parseInt(l.borderWidth,10),f=parseInt(l.width,10),p=parseInt(u.width,10),m=this.wot.wtTable.getWidth(),g=this.wot.wtTable.getHeight();l.top="".concat(parseInt(n-f-1,10),"px"),l[a]="".concat(parseInt(r-f-1,10),"px"),u.top="".concat(parseInt(n-p/4*3,10),"px"),u[a]="".concat(parseInt(r-p/4*3,10),"px");var y=Math.min(parseInt(r+i,10),m-f-2*h),v=Math.min(parseInt(r+i-p/4,10),m-p-2*h);c[a]="".concat(y,"px"),d[a]="".concat(v,"px");var b=Math.min(parseInt(n+o,10),g-f-2*h),w=Math.min(parseInt(n+o-p/4,10),g-p-2*h);c.top="".concat(b,"px"),d.top="".concat(w,"px"),this.settings.border.cornerVisible&&this.settings.border.cornerVisible()?(l.display="block",u.display="block",this.isPartRange(e,t)?(c.display="none",d.display="none"):(c.display="block",d.display="block")):(l.display="none",c.display="none",u.display="none",d.display="none"),e===this.wot.wtSettings.getSetting("fixedRowsTop")||t===this.wot.wtSettings.getSetting("fixedColumnsStart")?(l.zIndex="9999",u.zIndex="9999"):(l.zIndex="",u.zIndex="")}},{key:"appear",value:function(e){if(!this.disabled){for(var t,n,r,i,o,a,s=this.wot,l=s.wtTable,u=s.rootDocument,c=s.rootWindow,d=l.getRenderedRowsCount(),h=0;h<d;h+=1){var f=l.rowFilter.renderedToSource(h);if(f>=e[0]&&f<=e[2]){t=f,o=e[0];break}}for(var p=d-1;p>=0;p-=1){var m=l.rowFilter.renderedToSource(p);if(m>=e[0]&&m<=e[2]){n=m;break}}for(var g=l.getRenderedColumnsCount(),y=0;y<g;y+=1){var v=l.columnFilter.renderedToSource(y);if(v>=e[1]&&v<=e[3]){r=v,a=e[1];break}}for(var b=g-1;b>=0;b-=1){var w=l.columnFilter.renderedToSource(b);if(w>=e[1]&&w<=e[3]){i=w;break}}if(void 0!==t&&void 0!==r){var _=l.getCell(this.wot.createCellCoords(t,r)),k=t!==n||r!==i,S=k?l.getCell(this.wot.createCellCoords(n,i)):_,M=Vt(_),x=k?Vt(S):M,O=Vt(l.TABLE),C=nn(l.TABLE),T=M.top,R=M.left,D=this.wot.wtSettings.getSetting("rtlMode"),E=0,A=0;if(D){var L=nn(_),j=c.innerWidth-O.left-C;A=R+L-x.left,E=c.innerWidth-R-L-j-1}else A=x.left+nn(S)-R,E=R-O.left-1;if(this.isEntireColumnSelected(t,n)){var P=this.getDimensionsFromHeader("columns",r,i,o,O),I=null;if(P){var H=xf(P,3);I=H[0],E=H[1],A=H[2]}I&&(_=I)}var N=T-O.top-1,F=x.top+rn(S)-T;if(this.isEntireRowSelected(r,i)){var Y=this.getDimensionsFromHeader("rows",t,n,a,O),z=null;if(Y){var B=xf(Y,3);z=B[0],N=B[1],F=B[2]}z&&(_=z)}var W=tn(_,c);parseInt(W.borderTopWidth,10)>0&&(N+=1,F=F>0?F-1:0),parseInt(W[D?"borderRightWidth":"borderLeftWidth"],10)>0&&(E+=1,A=A>0?A-1:0);var $=D?"right":"left";this.topStyle.top="".concat(N,"px"),this.topStyle[$]="".concat(E,"px"),this.topStyle.width="".concat(A,"px"),this.topStyle.display="block",this.startStyle.top="".concat(N,"px"),this.startStyle[$]="".concat(E,"px"),this.startStyle.height="".concat(F,"px"),this.startStyle.display="block";var U=Math.floor(this.settings.border.width/2);this.bottomStyle.top="".concat(N+F-U,"px"),this.bottomStyle[$]="".concat(E,"px"),this.bottomStyle.width="".concat(A,"px"),this.bottomStyle.display="block",this.endStyle.top="".concat(N,"px"),this.endStyle[$]="".concat(E+A-U,"px"),this.endStyle.height="".concat(F+1,"px"),this.endStyle.display="block";var V=this.settings.border.cornerVisible;V="function"==typeof V?V(this.settings.layerLevel):V;var q=this.wot.getSetting("onModifyGetCellCoords",n,i),G=n,K=i;if(q&&Array.isArray(q)){var Z=xf(q,4);G=Z[2],K=Z[3]}if(je()||!V||this.isPartRange(G,K))this.cornerStyle.display="none";else{this.cornerStyle.top="".concat(N+F+this.cornerCenterPointOffset-1,"px"),this.cornerStyle[$]="".concat(E+A+this.cornerCenterPointOffset-1,"px"),this.cornerStyle.borderRightWidth=this.cornerDefaultStyle.borderWidth,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="none";var X=Jt(l.TABLE),J=X===c;J&&(X=u.documentElement);var Q=parseInt(this.cornerDefaultStyle.width,10)/2,ee=parseInt(this.cornerDefaultStyle.height,10)/2;if(i===this.wot.getSetting("totalColumns")-1){var te=J?S.getBoundingClientRect().left:S.offsetLeft;(D?te-parseInt(this.cornerDefaultStyle.width,10)/2<0:te+nn(S)+parseInt(this.cornerDefaultStyle.width,10)/2>=an(X))&&(this.cornerStyle[$]="".concat(Math.floor(E+A+this.cornerCenterPointOffset-Q),"px"),this.cornerStyle[D?"borderLeftWidth":"borderRightWidth"]=0)}n===this.wot.getSetting("totalRows")-1&&(J?S.getBoundingClientRect().top:S.offsetTop)+rn(S)+parseInt(this.cornerDefaultStyle.height,10)/2>=on(X)&&(this.cornerStyle.top="".concat(Math.floor(N+F+this.cornerCenterPointOffset-ee),"px"),this.cornerStyle.borderBottomWidth=0),this.cornerStyle.display="block"}je()&&this.updateMultipleSelectionHandlesPosition(n,i,N,E,A,F)}else this.disappear()}}},{key:"isEntireColumnSelected",value:function(e,t){return e===this.wot.wtTable.getFirstRenderedRow()&&t===this.wot.wtTable.getLastRenderedRow()}},{key:"isEntireRowSelected",value:function(e,t){return e===this.wot.wtTable.getFirstRenderedColumn()&&t===this.wot.wtTable.getLastRenderedColumn()}},{key:"getDimensionsFromHeader",value:function(e,t,n,r,i){var o=this.wot.wtTable,a=o.wtRootElement.parentNode,s=null,l=null,u=null,c=null,d=null,h=null,f=null,p=null;switch(e){case"rows":s=function(){return o.getRowHeader.apply(o,arguments)},l=function(){return rn.apply(void 0,arguments)},u="ht__selection--rows",h="top";break;case"columns":s=function(){return o.getColumnHeader.apply(o,arguments)},l=function(){return nn.apply(void 0,arguments)},u="ht__selection--columns",h="left"}if(a.classList.contains(u)){var m=this.wot.getSetting("columnHeaders").length;if(f=s(t,m-r),p=s(n,m-r),!f||!p)return!1;var g=Vt(f),y=Vt(p);return f&&p&&(c=g[h]-i[h]-1,d=y[h]+l(p)-g[h]),[f,c,d]}return!1}},{key:"changeBorderStyle",value:function(e,t){var n=this[e].style,r=t[e];!r||r.hide?Ht(this[e],"hidden"):(It(this[e],"hidden")&&Nt(this[e],"hidden"),n.backgroundColor=r.color,"top"!==e&&"bottom"!==e||(n.height="".concat(r.width,"px")),"start"!==e&&"end"!==e||(n.width="".concat(r.width,"px")))}},{key:"changeBorderToDefaultStyle",value:function(e){var t=this[e].style;t.backgroundColor="#000",t.width="".concat(1,"px"),t.height="".concat(1,"px")}},{key:"toggleHiddenClass",value:function(e,t){this.changeBorderToDefaultStyle(e),t?Ht(this[e],"hidden"):Nt(this[e],"hidden")}},{key:"disappear",value:function(){this.topStyle.display="none",this.bottomStyle.display="none",this.startStyle.display="none",this.endStyle.display="none",this.cornerStyle.display="none",je()&&(this.selectionHandles.styles.top.display="none",this.selectionHandles.styles.topHitArea.display="none",this.selectionHandles.styles.bottom.display="none",this.selectionHandles.styles.bottomHitArea.display="none")}},{key:"destroy",value:function(){this.eventManager.destroyWithOwnEventsOnly(),this.main.parentNode.removeChild(this.main)}}],n&&Cf(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const Rf=Tf;function Df(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ef(e){return Ef="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(e)}function Af(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Lf=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.settings=t,this.cellRange=n||null,this.instanceBorders={},this.classNames=[this.settings.className],this.classNameGenerator=this.linearClassNameGenerator(this.settings.className,this.settings.layerLevel)}var t,n;return t=e,n=[{key:"getBorder",value:function(e){return this.instanceBorders[e.guid]||(this.instanceBorders[e.guid]=new Rf(e,this.settings)),this.instanceBorders[e.guid]}},{key:"isEmpty",value:function(){return null===this.cellRange}},{key:"add",value:function(e){return this.isEmpty()?this.cellRange=this.settings.createCellRange(e):this.cellRange.expand(e),this}},{key:"replace",value:function(e,t){if(!this.isEmpty()){if(this.cellRange.from.isEqual(e))return this.cellRange.from=t,!0;if(this.cellRange.to.isEqual(e))return this.cellRange.to=t,!0}return!1}},{key:"clear",value:function(){return this.cellRange=null,this}},{key:"getCorners",value:function(){var e=this.cellRange.getOuterTopStartCorner(),t=this.cellRange.getOuterBottomEndCorner();return[e.row,e.col,t.row,t.col]}},{key:"addClassAtCoords",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=e.wtTable.getCell(this.settings.createCellCoords(t,n));if("object"===Ef(o)){var a=r;i&&(a=this.classNameGenerator(o),this.classNames.includes(a)||this.classNames.push(a)),Ht(o,a)}return this}},{key:"linearClassNameGenerator",value:function(e,t){return function n(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(0===t||0===i)return e;var o=i>=0?i:t,a=e,s=0==(o-=1)?e:"".concat(e,"-").concat(o);if(It(r,s)){var l=o+1;a="".concat(e,"-").concat(l)}else a=n(r,o);return a}}},{key:"draw",value:function(e){if(this.isEmpty())this.settings.border&&this.getBorder(e).disappear();else{var t=e.wtTable.getRenderedRowsCount(),n=e.wtTable.getRenderedColumnsCount(),r=this.getCorners(),i=(N=4,function(e){if(Array.isArray(e))return e}(H=r)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(H,N)||function(e,t){if(e){if("string"==typeof e)return Df(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Df(e,t):void 0}}(H,N)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[0],a=i[1],s=i[2],l=i[3],u=this.settings,c=u.highlightHeaderClassName,d=u.highlightColumnClassName,h=u.highlightRowClassName,f=u.highlightOnlyClosestHeader,p=u.selectionType,m=void 0===p||["active-header","header"].includes(p);if(m&&null!==a&&null!==l)for(var g=0,y=0;y<n;y+=1){var v=e.wtTable.columnFilter.renderedToSource(y);if(v>=a&&v<=l){var b=e.wtTable.getColumnHeaders(v),w=b.length-1;f&&b.length>1&&(b=[b[w]]);for(var _=0;_<b.length;_+=1){var k=[],S=b[_];c&&k.push(c),d&&k.push(d),_=f?w:_;var M=e.getSetting("onBeforeHighlightingColumnHeader",v,_,{selectionType:p,columnCursor:g,selectionWidth:l-a+1,classNames:k});M!==v&&(S=e.wtTable.getColumnHeader(M,_)),Ht(S,k)}g+=1}}if(null!==o&&null!==s)for(var x=0,O=0;O<t;O+=1){var C=e.wtTable.rowFilter.renderedToSource(O);if(m&&C>=o&&C<=s){var T=e.wtTable.getRowHeaders(C),R=T.length-1;f&&T.length>1&&(T=[T[R]]);for(var D=0;D<T.length;D+=1){var E=[],A=T[D];c&&E.push(c),h&&E.push(h),D=f?R:D;var L=e.getSetting("onBeforeHighlightingRowHeader",C,D,{selectionType:p,rowCursor:x,selectionHeight:s-o+1,classNames:E});L!==C&&(A=e.wtTable.getRowHeader(L,D)),Ht(A,E)}x+=1}if(null!==a&&null!==l)for(var j=0;j<n;j+=1){var P=e.wtTable.columnFilter.renderedToSource(j);C>=o&&C<=s&&P>=a&&P<=l?this.settings.className&&this.addClassAtCoords(e,C,P,this.settings.className,this.settings.markIntersections):C>=o&&C<=s?h&&this.addClassAtCoords(e,C,P,h):P>=a&&P<=l&&d&&this.addClassAtCoords(e,C,P,d);var I=e.getSetting("onAfterDrawSelection",C,P,this.settings.layerLevel);"string"==typeof I&&this.addClassAtCoords(e,C,P,I)}}e.getSetting("onBeforeDrawBorders",r,this.settings.className),this.settings.border&&this.getBorder(e).appear(r)}var H,N}},{key:"destroy",value:function(){Object.values(this.instanceBorders).forEach((function(e){return e.destroy()}))}}],n&&Af(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function jf(e){return jf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(e)}function Pf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function If(){return If="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Hf(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},If.apply(this,arguments)}function Hf(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zf(e)););return e}function Nf(e,t){return Nf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nf(e,t)}function Ff(e,t){if(t&&("object"===jf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Yf(e)}function Yf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zf(e){return zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zf(e)}const Bf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nf(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=zf(r);if(i){var n=zf(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ff(this,e)});function a(e,t){var n,r,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=Yf(n=o.call(this,e,null)),(i="visualCellRange")in r?Object.defineProperty(r,i,{value:null,enumerable:!0,configurable:!0,writable:!0}):r[i]=null,n.visualCellRange=t||null,n.commit(),n}return t=a,n=[{key:"add",value:function(e){return null===this.visualCellRange?this.visualCellRange=this.settings.createCellRange(e):this.visualCellRange.expand(e),this}},{key:"clear",value:function(){return this.visualCellRange=null,If(zf(a.prototype),"clear",this).call(this)}},{key:"trimToVisibleCellsRangeOnly",value:function(e){var t=e.from,n=e.to,r=this.getNearestNotHiddenCoords(t,1),i=this.getNearestNotHiddenCoords(n,-1);if(null===r||null===i)return null;if(r.row>i.row||r.col>i.col){if("header"!==this.settings.type&&"active-header"!==this.settings.type)return null;r=t,i=n}return this.settings.createCellRange(r,r,i)}},{key:"getNearestNotHiddenCoords",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=this.getNearestNotHiddenIndex(this.settings.rowIndexMapper(),e.row,t);if(null===r)return null;var i=this.getNearestNotHiddenIndex(this.settings.columnIndexMapper(),e.col,n);return null===i?null:this.settings.createCellCoords(r,i)}},{key:"getNearestNotHiddenIndex",value:function(e,t,n){if(t<0)return t;var r=e.getNearestNotHiddenIndex(t,n);return"header"!==this.settings.type&&"active-header"!==this.settings.type||null!==r?r:-1}},{key:"commit",value:function(){if(null===this.visualCellRange)return this;var e=this.trimToVisibleCellsRangeOnly(this.visualCellRange);return this.cellRange=null===e?null:this.createRenderableCellRange(e.from,e.to),this}},{key:"syncWith",value:function(e){var t="N-S"===e.getVerticalDirection()?1:-1,n="W-E"===e.getHorizontalDirection()?1:-1,r=this.getNearestNotHiddenCoords(e.from.clone().normalize(),t,n);if(null!==r&&e.overlaps(r)){if(null===this.cellRange){var i=this.settings.visualToRenderableCoords(r);this.cellRange=this.settings.createCellRange(i)}return e.setHighlight(r),this}return e.setHighlight(e.from),this}},{key:"getCorners",value:function(){var e=this.cellRange,t=e.from,n=e.to,r=null===t.row||null===n.row,i=null===t.col||null===n.col,o=this.settings.createCellCoords(r?null:Math.min(t.row,n.row),i?null:Math.min(t.col,n.col)),a=this.settings.createCellCoords(r?null:Math.max(t.row,n.row),i?null:Math.max(t.col,n.col));return[o.row,o.col,a.row,a.col]}},{key:"getVisualCorners",value:function(){var e=this.settings.renderableToVisualCoords(this.cellRange.getTopStartCorner()),t=this.settings.renderableToVisualCoords(this.cellRange.getBottomEndCorner());return[e.row,e.col,t.row,t.col]}},{key:"createRenderableCellRange",value:function(e,t){var n=this.settings.visualToRenderableCoords(e),r=this.settings.visualToRenderableCoords(t);return this.settings.createCellRange(n,n,r)}}],n&&Pf(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(Lf);var Wf=["activeHeaderClassName"];function $f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$f(Object(n),!0).forEach((function(t){Vf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qf=["layerLevel","areaCornerVisible"];function Gf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gf(Object(n),!0).forEach((function(t){Zf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xf=["cellCornerVisible"];function Jf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jf(Object(n),!0).forEach((function(t){ep(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ep(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tp=["border","visualCellRange"];function np(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?np(Object(n),!0).forEach((function(t){ip(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):np(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ip(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function op(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ap(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?op(Object(n),!0).forEach((function(t){sp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):op(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(76477);var lp=["headerClassName","rowClassName","columnClassName"];function up(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?up(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):up(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pp=sr("highlight/types"),mp=pp.register,gp=pp.getItem;function yp(e,t){return gp(e)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hp(Object(n),!0).forEach((function(t){fp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:e},t))}function vp(e){return function(e){if(Array.isArray(e))return bp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return bp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bp(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wp(Object(n),!0).forEach((function(t){kp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}mp(bf,(function(e){var t=e.activeHeaderClassName,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Wf);return new Bf(Uf(Uf({highlightHeaderClassName:t},n),{},{selectionType:bf}))})),mp(wf,(function(e){var t=e.layerLevel,n=e.areaCornerVisible,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,qf);return new Bf(Kf(Kf({className:"area",markIntersections:!0,layerLevel:Math.min(t,7),border:{width:1,color:"#4b89ff",cornerVisible:n}},r),{},{selectionType:wf}))})),mp(_f,(function(e){var t=e.cellCornerVisible,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Xf);return new Bf(Qf(Qf({className:"current",border:{width:2,color:"#4b89ff",cornerVisible:t}},n),{},{selectionType:_f}))})),mp(Mf,(function(e){var t=e.border,n=e.visualCellRange,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,tp);return new Bf(rp(rp(rp({},t),r),{},{selectionType:Mf}),n)})),mp(kf,(function(e){var t=Object.assign({},e);return new Bf(ap(ap({className:"fill",border:{width:1,color:"#ff0000"}},t),{},{selectionType:kf}))})),mp(Sf,(function(e){var t=e.headerClassName,n=e.rowClassName,r=e.columnClassName,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,lp);return new Bf(cp(cp({className:"highlight",highlightHeaderClassName:t,highlightRowClassName:n,highlightColumnClassName:r},i),{},{highlightOnlyClosestHeader:!0,selectionType:Sf}))}));var Mp=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this.layerLevel=0,this.cell=yp(_f,e),this.fill=yp(kf,e),this.areas=new Map,this.headers=new Map,this.activeHeaders=new Map,this.customSelections=[]}var n,r;return n=t,r=[{key:"isEnabledFor",value:function(e,t){var n=e;e===_f&&(n="current");var r=this.options.disabledCellSelection(t.row,t.col);return"string"==typeof r&&(r=[r]),!1===r||Array.isArray(r)&&!r.includes(n)}},{key:"useLayerLevel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.layerLevel=e,this}},{key:"getCell",value:function(){return this.cell}},{key:"getFill",value:function(){return this.fill}},{key:"createOrGetArea",value:function(){var e,t=this.layerLevel;return this.areas.has(t)?e=this.areas.get(t):(e=yp(wf,_p({layerLevel:t},this.options)),this.areas.set(t,e)),e}},{key:"getAreas",value:function(){return vp(this.areas.values())}},{key:"createOrGetHeader",value:function(){var e,t=this.layerLevel;return this.headers.has(t)?e=this.headers.get(t):(e=yp(Sf,_p({},this.options)),this.headers.set(t,e)),e}},{key:"getHeaders",value:function(){return vp(this.headers.values())}},{key:"createOrGetActiveHeader",value:function(){var e,t=this.layerLevel;return this.activeHeaders.has(t)?e=this.activeHeaders.get(t):(e=yp(bf,_p({},this.options)),this.activeHeaders.set(t,e)),e}},{key:"getActiveHeaders",value:function(){return vp(this.activeHeaders.values())}},{key:"getCustomSelections",value:function(){return vp(this.customSelections.values())}},{key:"addCustomSelection",value:function(e){this.customSelections.push(yp(Mf,_p(_p({},this.options),e)))}},{key:"clear",value:function(){this.cell.clear(),this.fill.clear(),$(this.areas.values(),(function(e){e.clear()})),$(this.headers.values(),(function(e){e.clear()})),$(this.activeHeaders.values(),(function(e){e.clear()}))}},{key:Symbol.iterator,value:function(){return[this.cell,this.fill].concat(vp(this.areas.values()),vp(this.headers.values()),vp(this.activeHeaders.values()),vp(this.customSelections))[Symbol.iterator]()}}],r&&Sp(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();const xp=Mp;function Op(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Cp=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.ranges=[],this.createCellRange=e}var n,r;return n=t,r=[{key:"isEmpty",value:function(){return 0===this.size()}},{key:"set",value:function(e){return this.clear(),this.ranges.push(this.createCellRange(e)),this}},{key:"add",value:function(e){return this.ranges.push(this.createCellRange(e)),this}},{key:"pop",value:function(){return this.ranges.pop(),this}},{key:"current",value:function(){return this.peekByIndex(0)}},{key:"previous",value:function(){return this.peekByIndex(-1)}},{key:"includes",value:function(e){return this.ranges.some((function(t){return t.includes(e)}))}},{key:"clear",value:function(){return this.ranges.length=0,this}},{key:"size",value:function(){return this.ranges.length}},{key:"peekByIndex",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=this.size()+t-1;return n>=0&&(e=this.ranges[n]),e}},{key:Symbol.iterator,value:function(){return this.ranges[Symbol.iterator]()}}],r&&Op(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();const Tp=Cp;function Rp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Dp=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.range=t,this.options=n}var t,n;return t=e,n=[{key:"transformStart",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.options.createCellCoords(e,t),i=this.range.current().highlight,o=this.options.visualToRenderableCoords(i),a=o.row,s=o.col,l=i,u=0,c=0;if(this.runLocalHooks("beforeTransformStart",r),null!==a&&null!==s){var d=this.options.countRows(),h=this.options.countCols(),f=this.options.fixedRowsBottom(),p=this.options.minSpareRows(),m=this.options.minSpareCols(),g=this.options.autoWrapRow(),y=this.options.autoWrapCol();a+e>d-1?n&&p>0&&!(f&&a>=d-f-1)?(this.runLocalHooks("insertRowRequire",d),d=this.options.countRows()):y&&(r.row=1-d,r.col=s+r.col===h-1?1-h:1):y&&a+r.row<0&&s+r.col>=0&&(r.row=d-1,r.col=s+r.col===0?h-1:-1),s+r.col>h-1?n&&m>0?(this.runLocalHooks("insertColRequire",h),h=this.options.countCols()):g&&(r.row=a+r.row===d-1?1-d:1,r.col=1-h):g&&s+r.col<0&&a+r.row>=0&&(r.row=a+r.row===0?d-1:-1,r.col=h-1);var v=this.options.createCellCoords(a+r.row,s+r.col);u=0,c=0,v.row<0?(u=-1,v.row=0):v.row>0&&v.row>=d&&(u=1,v.row=d-1),v.col<0?(c=-1,v.col=0):v.col>0&&v.col>=h&&(c=1,v.col=h-1),l=this.options.renderableToVisualCoords(v)}return this.runLocalHooks("afterTransformStart",l,u,c),l}},{key:"transformEnd",value:function(e,t){var n=this.options.createCellCoords(e,t),r=this.range.current(),i=r.to,o=0,a=0;this.runLocalHooks("beforeTransformEnd",n);var s=this.options.visualToRenderableCoords(r.highlight),l=s.row,u=s.col;if(null!==l&&null!==u){var c=this.options.countRows(),d=this.options.countCols(),h=this.options.visualToRenderableCoords(r.to),f=h.row,p=h.col,m=this.options.createCellCoords(f+n.row,p+n.col);o=0,a=0,m.row<0?(o=-1,m.row=0):m.row>0&&m.row>=c&&(o=1,m.row=c-1),m.col<0?(a=-1,m.col=0):m.col>0&&m.col>=d&&(a=1,m.col=d-1),i=this.options.renderableToVisualCoords(m)}return this.runLocalHooks("afterTransformEnd",i,o,a),i}}],n&&Rp(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();ue(Dp,Vu);const Ep=Dp;function Ap(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Lp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jp(e){return jp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(e)}var Pp,Ip=[3,2],Hp=[["number"],["number","string"],["number","undefined"],["number","string","undefined"]],Np=Symbol("root"),Fp=Symbol("child");function Yp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Np;if(t!==Np&&t!==Fp)throw new Error("The second argument is used internally only and cannot be overwritten.");var n=Array.isArray(e),r=t===Np,i=0;if(n){var o=e[0];if(0===e.length)i=1;else if(r&&o instanceof Ba)i=3;else if(r&&Array.isArray(o))i=Yp(o,Fp);else if(e.length>=2&&e.length<=4){var a=!e.some((function(e,t){return!Hp[t].includes(jp(e))}));a&&(i=2)}}return i}function zp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.keepDirection,r=void 0!==n&&n,i=t.propToCol;if(!Ip.includes(e))throw new Error("Unsupported selection ranges schema type was provided.");return function(t){var n=3===e,o=n?t.from.row:t[0],a=n?t.from.col:t[1],s=n?t.to.row:t[2],l=n?t.to.col:t[3];if("function"==typeof i&&("string"==typeof a&&(a=i(a)),"string"==typeof l&&(l=i(l))),Qe(s)&&(s=o),Qe(l)&&(l=a),!r){var u=o,c=a,d=s,h=l;o=Math.min(u,d),a=Math.min(c,h),s=Math.max(u,d),l=Math.max(c,h)}return[o,a,s,l]}}function Bp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return"number"==typeof e&&e>=0&&e<t}function Wp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Up(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Vp=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.settings=t,this.tableProps=n,this.inProgress=!1,this.selectedByCorner=!1,this.selectedByRowHeader=new Set,this.selectedByColumnHeader=new Set,this.selectedRange=new Tp((function(e,t,n){return r.tableProps.createCellRange(e,t,n)})),this.highlight=new xp({headerClassName:t.currentHeaderClassName,activeHeaderClassName:t.activeHeaderClassName,rowClassName:t.currentRowClassName,columnClassName:t.currentColClassName,disabledCellSelection:function(e,t){return r.tableProps.isDisabledCellSelection(e,t)},cellCornerVisible:function(){return r.isCellCornerVisible.apply(r,arguments)},areaCornerVisible:function(){return r.isAreaCornerVisible.apply(r,arguments)},visualToRenderableCoords:function(e){return r.tableProps.visualToRenderableCoords(e)},renderableToVisualCoords:function(e){return r.tableProps.renderableToVisualCoords(e)},createCellCoords:function(e,t){return r.tableProps.createCellCoords(e,t)},createCellRange:function(e,t,n){return r.tableProps.createCellRange(e,t,n)},rowIndexMapper:function(){return r.tableProps.rowIndexMapper()},columnIndexMapper:function(){return r.tableProps.columnIndexMapper()}}),this.transformation=new Ep(this.selectedRange,{countRows:function(){return r.tableProps.countRowsTranslated()},countCols:function(){return r.tableProps.countColsTranslated()},visualToRenderableCoords:function(e){return r.tableProps.visualToRenderableCoords(e)},renderableToVisualCoords:function(e){return r.tableProps.renderableToVisualCoords(e)},createCellCoords:function(e,t){return r.tableProps.createCellCoords(e,t)},fixedRowsBottom:function(){return t.fixedRowsBottom},minSpareRows:function(){return t.minSpareRows},minSpareCols:function(){return t.minSpareCols},autoWrapRow:function(){return t.autoWrapRow},autoWrapCol:function(){return t.autoWrapCol}}),this.transformation.addLocalHook("beforeTransformStart",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runLocalHooks.apply(r,["beforeModifyTransformStart"].concat(t))})),this.transformation.addLocalHook("afterTransformStart",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runLocalHooks.apply(r,["afterModifyTransformStart"].concat(t))})),this.transformation.addLocalHook("beforeTransformEnd",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runLocalHooks.apply(r,["beforeModifyTransformEnd"].concat(t))})),this.transformation.addLocalHook("afterTransformEnd",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runLocalHooks.apply(r,["afterModifyTransformEnd"].concat(t))})),this.transformation.addLocalHook("insertRowRequire",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runLocalHooks.apply(r,["insertRowRequire"].concat(t))})),this.transformation.addLocalHook("insertColRequire",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runLocalHooks.apply(r,["insertColRequire"].concat(t))}))}var t,n;return t=e,n=[{key:"getSelectedRange",value:function(){return this.selectedRange}},{key:"begin",value:function(){this.inProgress=!0}},{key:"finish",value:function(){this.runLocalHooks("afterSelectionFinished",Array.from(this.selectedRange)),this.inProgress=!1}},{key:"isInProgress",value:function(){return this.inProgress}},{key:"setRangeStart",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r="multiple"===this.settings.selectionMode,i=Qe(t)?this.tableProps.getShortcutManager().isCtrlPressed():t,o=e.row<0,a=e.col<0,s=o&&a,l=e.clone();this.selectedByCorner=s,this.runLocalHooks("beforeSetRangeStart".concat(n?"Only":""),l),(!r||r&&!i&&Qe(t))&&this.selectedRange.clear(),this.selectedRange.add(l),0===this.getLayerLevel()&&(this.selectedByRowHeader.clear(),this.selectedByColumnHeader.clear()),!s&&a&&this.selectedByRowHeader.add(this.getLayerLevel()),!s&&o&&this.selectedByColumnHeader.add(this.getLayerLevel()),n||this.setRangeEnd(e)}},{key:"setRangeStartOnly",value:function(e,t){this.setRangeStart(e,t,!0)}},{key:"setRangeEnd",value:function(e){if(!this.selectedRange.isEmpty()){var t=e.clone();this.runLocalHooks("beforeSetRangeEnd",t),this.begin();var n=this.selectedRange.current();"single"!==this.settings.selectionMode&&n.setTo(this.tableProps.createCellCoords(t.row,t.col)),this.highlight.getCell().clear(),this.highlight.isEnabledFor(_f,n.highlight)&&this.highlight.getCell().add(this.selectedRange.current().highlight).commit().syncWith(n);var r=this.getLayerLevel();r<this.highlight.layerLevel&&($(this.highlight.getAreas(),(function(e){e.clear()})),$(this.highlight.getHeaders(),(function(e){e.clear()})),$(this.highlight.getActiveHeaders(),(function(e){e.clear()}))),this.highlight.useLayerLevel(r);var i=this.highlight.createOrGetArea(),o=this.highlight.createOrGetHeader(),a=this.highlight.createOrGetActiveHeader();if(i.clear(),o.clear(),a.clear(),this.highlight.isEnabledFor(wf,n.highlight)&&(this.isMultiple()||r>=1)&&(i.add(n.from).add(n.to).commit(),1===r)){var s=this.selectedRange.previous();this.highlight.useLayerLevel(r-1).createOrGetArea().add(s.from).commit().syncWith(s),this.highlight.useLayerLevel(r)}if(this.highlight.isEnabledFor(Sf,n.highlight)){var l=0===this.tableProps.countRowsTranslated(),u=0===this.tableProps.countColsTranslated(),c=n;(l||u)&&(c=n.clone()),l&&(c.from.row=-1),u&&(c.from.col=-1),"single"===this.settings.selectionMode?(this.isSelectedByAnyHeader()&&c.from.normalize(),o.add(c.from).commit()):o.add(c.from).add(c.to).commit(),this.isEntireRowSelected()&&this.tableProps.countCols()===n.getWidth()&&a.add(this.tableProps.createCellCoords(n.from.row,-1)).add(this.tableProps.createCellCoords(n.to.row,-1)).commit(),this.isEntireColumnSelected()&&this.tableProps.countRows()===n.getHeight()&&a.add(this.tableProps.createCellCoords(-1,n.from.col)).add(this.tableProps.createCellCoords(-1,n.to.col)).commit()}this.runLocalHooks("afterSetRangeEnd",e)}}},{key:"isMultiple",value:function(){var e=ye(!this.selectedRange.current().isSingle());return this.runLocalHooks("afterIsMultipleSelection",e),e.value}},{key:"transformStart",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.setRangeStart(this.transformation.transformStart(e,t,n))}},{key:"transformEnd",value:function(e,t){this.setRangeEnd(this.transformation.transformEnd(e,t))}},{key:"getLayerLevel",value:function(){return this.selectedRange.size()-1}},{key:"isSelected",value:function(){return!this.selectedRange.isEmpty()}},{key:"isSelectedByRowHeader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner(e)&&this.isEntireRowSelected(e)}},{key:"isEntireRowSelected",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();return-1===e?this.selectedByRowHeader.size>0:this.selectedByRowHeader.has(e)}},{key:"isSelectedByColumnHeader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner()&&this.isEntireColumnSelected(e)}},{key:"isEntireColumnSelected",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();return-1===e?this.selectedByColumnHeader.size>0:this.selectedByColumnHeader.has(e)}},{key:"isSelectedByAnyHeader",value:function(){return this.isSelectedByRowHeader(-1)||this.isSelectedByColumnHeader(-1)||this.isSelectedByCorner()}},{key:"isSelectedByCorner",value:function(){return this.selectedByCorner}},{key:"inInSelection",value:function(e){return this.selectedRange.includes(e)}},{key:"isCellCornerVisible",value:function(){return this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&!this.isMultiple()}},{key:"isAreaCornerVisible",value:function(e){return(!Number.isInteger(e)||e===this.getLayerLevel())&&this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&this.isMultiple()}},{key:"clear",value:function(){this.selectedRange.clear(),this.highlight.clear()}},{key:"deselect",value:function(){this.isSelected()&&(this.inProgress=!1,this.clear(),this.runLocalHooks("afterDeselect"))}},{key:"selectAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.tableProps.countRows(),r=this.tableProps.countCols();if(e||t||0!==n&&0!==r){var i=this.tableProps.createCellCoords(t?-1:0,e?-1:0);this.clear(),this.setRangeStartOnly(i),this.selectedByRowHeader.add(this.getLayerLevel()),this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(this.tableProps.createCellCoords(n-1,r-1)),this.finish()}}},{key:"selectCells",value:function(e){var t=this,n=Yp(e);if(1===n)return!1;if(0===n)throw new Error(Ge(Pp||(Pp=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["Unsupported format of the selection ranges was passed. To select cells pass \n        the coordinates as an array of arrays ([[rowStart, columnStart/columnPropStart, rowEnd, \n        columnEnd/columnPropEnd]]) or as an array of CellRange objects."],["Unsupported format of the selection ranges was passed. To select cells pass\\x20\n        the coordinates as an array of arrays ([[rowStart, columnStart/columnPropStart, rowEnd,\\x20\n        columnEnd/columnPropEnd]]) or as an array of CellRange objects."]))));var r=zp(n,{propToCol:function(e){return t.tableProps.propToCol(e)},keepDirection:!0}),i=this.tableProps.countRows(),o=this.tableProps.countCols(),a=!e.some((function(e){var t=Wp(r(e),4),n=t[0],a=t[1],s=t[2],l=t[3];return!(Bp(n,i)&&Bp(a,o)&&Bp(s,i)&&Bp(l,o))}));return a&&(this.clear(),$(e,(function(e){var n=Wp(r(e),4),i=n[0],o=n[1],a=n[2],s=n[3];t.setRangeStartOnly(t.tableProps.createCellCoords(i,o),!1),t.setRangeEnd(t.tableProps.createCellCoords(a,s)),t.finish()}))),a}},{key:"selectColumns",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r="string"==typeof e?this.tableProps.propToCol(e):e,i="string"==typeof t?this.tableProps.propToCol(t):t,o=this.tableProps.countCols(),a=this.tableProps.countRows(),s=Bp(r,o)&&Bp(i,o);return s&&(this.setRangeStartOnly(this.tableProps.createCellCoords(n,r)),this.setRangeEnd(this.tableProps.createCellCoords(a-1,i)),this.finish()),s}},{key:"selectRows",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=this.tableProps.countRows(),i=this.tableProps.countCols(),o=Bp(e,r)&&Bp(t,r);return o&&(this.setRangeStartOnly(this.tableProps.createCellCoords(e,n)),this.setRangeEnd(this.tableProps.createCellCoords(t,i-1)),this.finish()),o}},{key:"refresh",value:function(){if(this.highlight.getCustomSelections().forEach((function(e){e.commit()})),this.isSelected()){var e=this.highlight.getCell(),t=this.getLayerLevel();e.commit().syncWith(this.selectedRange.current());for(var n=0;n<this.selectedRange.size();n+=1){this.highlight.useLayerLevel(n);var r=this.highlight.createOrGetArea(),i=this.highlight.createOrGetHeader(),o=this.highlight.createOrGetActiveHeader();r.commit(),i.commit(),o.commit()}this.highlight.useLayerLevel(t)}}}],n&&Up(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();ue(Vp,Vu);const qp=Vp;function Gp(e,t){var n="string"==typeof e?Ou(e):e;if(de(n)){var r=de(t),i={};return fe(n,(function(e,n){"CELL_TYPE"===n||r&&(!r||ve(t,n))||(i[n]=e)})),i}}function Kp(e){return Number.isInteger(e)&&e>=0}function Zp(e,t){if(!e())throw new Error("Assertion failed: ".concat(t))}function Xp(e){return null==e}function Jp(e){return Jp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(e)}const Qp=function(){return{activeHeaderClassName:"ht__active_highlight",allowEmpty:!0,allowHtml:!1,allowInsertColumn:!0,allowInsertRow:!0,allowInvalid:!0,allowRemoveColumn:!0,allowRemoveRow:!0,autoColumnSize:void 0,autoRowSize:void 0,autoWrapCol:!1,autoWrapRow:!1,bindRowsWithHeaders:void 0,cell:[],cells:void 0,checkedTemplate:void 0,className:void 0,colHeaders:null,collapsibleColumns:void 0,columnHeaderHeight:void 0,columns:void 0,columnSorting:void 0,columnSummary:void 0,colWidths:void 0,commentedCellClassName:"htCommentCell",comments:!1,contextMenu:void 0,copyable:!0,copyPaste:!0,correctFormat:!1,currentColClassName:void 0,currentHeaderClassName:"ht__highlight",currentRowClassName:void 0,customBorders:!1,data:void 0,dataSchema:void 0,dateFormat:"DD/MM/YYYY",datePickerConfig:void 0,defaultDate:void 0,disableVisualSelection:!1,dragToScroll:!0,dropdownMenu:void 0,editor:void 0,enterBeginsEditing:!0,enterMoves:{col:0,row:1},fillHandle:{autoInsertRow:!1},filter:!0,filteringCaseSensitive:!1,filters:void 0,fixedColumnsLeft:0,fixedColumnsStart:0,fixedRowsBottom:0,fixedRowsTop:0,formulas:void 0,fragmentSelection:!1,height:void 0,hiddenColumns:void 0,hiddenRows:void 0,invalidCellClassName:"htInvalid",isEmptyCol:function(e){var t,n;for(t=0,n=this.countRows();t<n;t++)if(!1===et(this.getDataAtCell(t,e)))return!1;return!0},isEmptyRow:function(e){var t,n,r,i;for(t=0,n=this.countCols();t<n;t++)if(!1===et(r=this.getDataAtCell(e,t)))return"object"===Jp(r)&&(i=this.getCellMeta(e,t),ce(this.getSchema()[i.prop],r));return!0},label:void 0,language:"en-US",layoutDirection:"inherit",licenseKey:void 0,locale:"en-US",manualColumnFreeze:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,maxCols:1/0,maxRows:1/0,mergeCells:!1,minCols:0,minRows:0,minSpareCols:0,minSpareRows:0,multiColumnSorting:void 0,nestedHeaders:void 0,nestedRows:void 0,noWordWrapClassName:"htNoWrap",numericFormat:void 0,observeDOMVisibility:!0,outsideClickDeselects:!0,persistentState:void 0,placeholder:void 0,placeholderCellClassName:"htPlaceholder",preventOverflow:!1,preventWheel:!1,readOnly:!1,readOnlyCellClassName:"htDimmed",renderAllRows:void 0,renderer:void 0,rowHeaders:void 0,rowHeaderWidth:void 0,rowHeights:void 0,search:!1,selectionMode:"multiple",selectOptions:void 0,skipColumnOnPaste:!1,skipRowOnPaste:!1,sortByRelevance:!0,source:void 0,startCols:5,startRows:5,stretchH:"none",strict:void 0,tableClassName:void 0,tabMoves:{row:0,col:1},title:void 0,trimDropdown:!0,trimRows:void 0,trimWhitespace:!0,type:"text",uncheckedTemplate:void 0,undo:void 0,validator:void 0,viewportColumnRenderingOffset:"auto",viewportRowRenderingOffset:"auto",visibleRows:10,width:void 0,wordWrap:!0}};function em(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tm(e,t,n){return t&&em(e.prototype,t),n&&em(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var rm=function(){function e(t){nm(this,e),this.metaCtor=tm((function e(){nm(this,e)})),this.meta=this.metaCtor.prototype,oe(this.meta,Qp()),this.meta.instance=t}return tm(e,[{key:"getMetaConstructor",value:function(){return this.metaCtor}},{key:"getMeta",value:function(){return this.meta}},{key:"updateMeta",value:function(e){oe(this.meta,e),oe(this.meta,Gp(e.type,e))}}]),e}();function im(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var om=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.getMetaConstructor();this.meta=new n}var t,n;return t=e,(n=[{key:"getMeta",value:function(){return this.meta}},{key:"updateMeta",value:function(e){oe(this.meta,e),oe(this.meta,Gp(e.type,e))}}])&&im(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function am(e){return function(e){if(Array.isArray(e))return sm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return sm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sm(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var um=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.valueFactory=e,this.data=[],this.index=[],this.holes=new Set}var n,r;return n=t,r=[{key:"obtain",value:function(e){Zp((function(){return Kp(e)}),"Expecting an unsigned number.");var t,n=this._getStorageIndexByKey(e);if(n>=0)void 0===(t=this.data[n])&&(t=this.valueFactory(e),this.data[n]=t);else if(t=this.valueFactory(e),this.holes.size>0){var r=this.holes.values().next().value;this.holes.delete(r),this.data[r]=t,this.index[e]=r}else this.data.push(t),this.index[e]=this.data.length-1;return t}},{key:"insert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Zp((function(){return Kp(e)||Xp(e)}),"Expecting an unsigned number or null/undefined argument.");for(var n=[],r=this.data.length,i=0;i<t;i++)n.push(r+i),this.data.push(void 0);var o=Xp(e)?this.index.length:e;this.index=[].concat(am(this.index.slice(0,o)),n,am(this.index.slice(o)))}},{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Zp((function(){return Kp(e)||Xp(e)}),"Expecting an unsigned number or null/undefined argument.");for(var n=this.index.splice(Xp(e)?this.index.length-t:e,t),r=0;r<n.length;r++){var i=n[r];"number"==typeof i&&this.holes.add(i)}}},{key:"size",value:function(){return this.data.length-this.holes.size}},{key:"values",value:function(){var e=this;return B(this.data,(function(t,n){return!e.holes.has(n)}))[Symbol.iterator]()}},{key:"entries",value:function(){for(var e=[],t=0;t<this.data.length;t++){var n=this._getKeyByStorageIndex(t);-1!==n&&e.push([n,this.data[t]])}var r=0;return{next:function(){if(r<e.length){var t=e[r];return r+=1,{value:t,done:!1}}return{done:!0}}}}},{key:"clear",value:function(){this.data=[],this.index=[],this.holes.clear()}},{key:"_getStorageIndexByKey",value:function(e){return this.index.length>e?this.index[e]:-1}},{key:"_getKeyByStorageIndex",value:function(e){return this.index.indexOf(e)}},{key:Symbol.iterator,value:function(){return this.entries()}}],r&&lm(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function cm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var dm=["data","width"],hm=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.globalMeta=t,this.metas=new um((function(){return n._createMeta()}))}var t,n;return t=e,n=[{key:"updateMeta",value:function(e,t){var n=this.getMeta(e);oe(n,t),oe(n,Gp(t.type,n))}},{key:"createColumn",value:function(e,t){this.metas.insert(e,t)}},{key:"removeColumn",value:function(e,t){this.metas.remove(e,t)}},{key:"getMeta",value:function(e){return this.metas.obtain(e)}},{key:"getMetaConstructor",value:function(e){return this.metas.obtain(e).constructor}},{key:"clearCache",value:function(){this.metas.clear()}},{key:"_createMeta",value:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];function n(){}ie(n,e);for(var r=0;r<t.length;r++)n.prototype[t[r]]=void 0;return n}(this.globalMeta.getMetaConstructor(),dm).prototype}}],n&&cm(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function fm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var mm=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.columnMeta=t,this.metas=new um((function(){return n._createRow()}))}var t,n;return t=e,n=[{key:"updateMeta",value:function(e,t,n){var r=this.getMeta(e,t);oe(r,n),oe(r,Gp(n.type,r))}},{key:"createRow",value:function(e,t){this.metas.insert(e,t)}},{key:"createColumn",value:function(e,t){for(var n=0;n<this.metas.size();n++)this.metas.obtain(n).insert(e,t)}},{key:"removeRow",value:function(e,t){this.metas.remove(e,t)}},{key:"removeColumn",value:function(e,t){for(var n=0;n<this.metas.size();n++)this.metas.obtain(n).remove(e,t)}},{key:"getMeta",value:function(e,t,n){var r=this.metas.obtain(e).obtain(t);return void 0===n?r:r[n]}},{key:"setMeta",value:function(e,t,n,r){this.metas.obtain(e).obtain(t)[n]=r}},{key:"removeMeta",value:function(e,t,n){delete this.metas.obtain(e).obtain(t)[n]}},{key:"getMetas",value:function(){for(var e=[],t=Array.from(this.metas.values()),n=0;n<t.length;n++)e.push.apply(e,function(e){if(Array.isArray(e))return fm(e)}(r=t[n].values())||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return fm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fm(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var r;return e}},{key:"getMetasAtRow",value:function(e){Zp((function(){return Kp(e)}),"Expecting an unsigned number.");var t=new Map(this.metas);return t.has(e)?Array.from(t.get(e).values()):[]}},{key:"clearCache",value:function(){this.metas.clear()}},{key:"_createRow",value:function(){var e=this;return new um((function(t){return e._createMeta(t)}))}},{key:"_createMeta",value:function(e){return new(this.columnMeta.getMetaConstructor(e))}}],n&&pm(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function gm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ym(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var vm=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];gm(this,e),this.hot=t,this.globalMeta=new rm(t),this.tableMeta=new om(this.globalMeta),this.columnMeta=new hm(this.globalMeta),this.cellMeta=new mm(this.columnMeta),i.forEach((function(e){return new e(n)})),this.globalMeta.updateMeta(r)}var t,n;return t=e,n=[{key:"getGlobalMeta",value:function(){return this.globalMeta.getMeta()}},{key:"updateGlobalMeta",value:function(e){this.globalMeta.updateMeta(e)}},{key:"getTableMeta",value:function(){return this.tableMeta.getMeta()}},{key:"updateTableMeta",value:function(e){this.tableMeta.updateMeta(e)}},{key:"getColumnMeta",value:function(e){return this.columnMeta.getMeta(e)}},{key:"updateColumnMeta",value:function(e,t){this.columnMeta.updateMeta(e,t)}},{key:"getCellMeta",value:function(e,t,n){var r=n.visualRow,i=n.visualColumn,o=this.cellMeta.getMeta(e,t);return o.visualRow=r,o.visualCol=i,o.row=e,o.col=t,this.runLocalHooks("afterGetCellMeta",o),o}},{key:"getCellMetaKeyValue",value:function(e,t,n){if("string"!=typeof n)throw new Error("The passed cell meta object key is not a string");return this.cellMeta.getMeta(e,t,n)}},{key:"setCellMeta",value:function(e,t,n,r){this.cellMeta.setMeta(e,t,n,r)}},{key:"updateCellMeta",value:function(e,t,n){this.cellMeta.updateMeta(e,t,n)}},{key:"removeCellMeta",value:function(e,t,n){this.cellMeta.removeMeta(e,t,n)}},{key:"getCellsMeta",value:function(){return this.cellMeta.getMetas()}},{key:"getCellsMetaAtRow",value:function(e){return this.cellMeta.getMetasAtRow(e)}},{key:"createRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cellMeta.createRow(e,t)}},{key:"removeRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cellMeta.removeRow(e,t)}},{key:"createColumn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cellMeta.createColumn(e,t),this.columnMeta.createColumn(e,t)}},{key:"removeColumn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cellMeta.removeColumn(e,t),this.columnMeta.removeColumn(e,t)}},{key:"clearCellsCache",value:function(){this.cellMeta.clearCache()}},{key:"clearCache",value:function(){this.cellMeta.clearCache(),this.columnMeta.clearCache()}}],n&&ym(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function bm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}ue(vm,Vu);var wm=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.metaManager=t,this.metaSyncMemo=new Map,t.addLocalHook("afterGetCellMeta",(function(e){return n.extendCellMeta(e)})),rr.getSingleton().add("beforeRender",(function(e){e&&n.metaSyncMemo.clear()}),this.metaManager.hot)}var t,n;return t=e,(n=[{key:"extendCellMeta",value:function(e){var t,n=e.row,r=e.col;if(null===(t=this.metaSyncMemo.get(n))||void 0===t||!t.has(r)){var i=e.visualRow,o=e.visualCol,a=this.metaManager.hot,s=a.colToProp(o);e.prop=s,a.runHooks("beforeGetCellMeta",i,o,e);var l,u=ve(e,"type")?e.type:null,c=xn(e.cells)?e.cells(n,r,s):null;u&&(c?c.type=null!==(l=c.type)&&void 0!==l?l:u:c={type:u}),c&&this.metaManager.updateCellMeta(n,r,c),a.runHooks("afterGetCellMeta",i,o,e),this.metaSyncMemo.has(n)||this.metaSyncMemo.set(n,new Set),this.metaSyncMemo.get(n).add(r)}}}])&&bm(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function _m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var km=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.metaManager=t,this.usageTracker=new Set,this.propDescriptors=new Map([["fixedColumnsLeft",{target:"fixedColumnsStart",onChange:function(e){if(this.metaManager.hot.isRtl()&&"fixedColumnsLeft"===e)throw new Error("The `fixedColumnsLeft` is not supported for RTL. Please use option `fixedColumnsStart`.");if(this.usageTracker.has("fixedColumnsLeft")&&this.usageTracker.has("fixedColumnsStart"))throw new Error("The `fixedColumnsLeft` and `fixedColumnsStart` should not be used together. Please use only the option `fixedColumnsStart`.")}}],["layoutDirection",{onChange:function(e,t,n){if(!n)throw new Error("The `".concat(e,"` option can not be updated after the Handsontable is initialized."))}}]]),this.extendMetaProps()}var t,n;return t=e,n=[{key:"extendMetaProps",value:function(){var e=this;this.propDescriptors.forEach((function(t,n){var r=t.target,i=t.onChange,o=void 0===i?function(){}:i,a="string"==typeof r,s=a?r:n,l="_".concat(s);e.metaManager.globalMeta.meta[l]=e.metaManager.globalMeta.meta[s],e.installPropWatcher(n,l,o),a&&e.installPropWatcher(r,l,o)}))}},{key:"installPropWatcher",value:function(e,t,n){var r=this;Object.defineProperty(this.metaManager.globalMeta.meta,e,{get:function(){return this[t]},set:function(i){var o=!r.usageTracker.has(e);r.usageTracker.add(e),n.call(r,e,i,o),this[t]=i},enumerable:!0,configurable:!0})}}],n&&_m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Sm=(n(57535),/^(\r\n|\n\r|\r|\n)/),Mm=/^[^\t\r\n]+/,xm=/^\t/;function Om(e){var t,n,r,i,o,a="";for(t=0,n=e.length;t<n;t+=1){for(i=e[t].length,r=0;r<i;r+=1)r>0&&(a+="\t"),"string"==typeof(o=e[t][r])?o.indexOf("\n")>-1?a+='"'.concat(o.replace(/"/g,'""'),'"'):a+=o:a+=null==o?"":o;t!==n-1&&(a+="\n")}return a}function Cm(e){return function(e){if(Array.isArray(e))return Tm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Tm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tm(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rm(e){return Rm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rm(e)}function Dm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Em=Iu("copyable",!1),Am=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.instance=t,this.tableMeta=r,this.dataSource=n,this.duckSchema=this.dataSource&&this.dataSource[0]?re(this.dataSource[0]):{},this.colToPropCache=void 0,this.propToColCache=void 0,this.createMap()}var t,n,r;return t=e,n=[{key:"createMap",value:function(){var e=this.getSchema();if(void 0===e)throw new Error("trying to create `columns` definition but you didn't provide `schema` nor `data`");var t,n=this.tableMeta.columns;if(this.colToPropCache=[],this.propToColCache=new Map,n){var r=0,i=0,o=!1;if("function"==typeof n){var a=ge(e);r=a>0?a:this.countFirstRowKeys(),o=!0}else{var s=this.tableMeta.maxCols;r=Math.min(s,n.length)}for(t=0;t<r;t++){var l=o?n(t):n[t];if(de(l)){if(void 0!==l.data){var u=o?i:t;this.colToPropCache[u]=l.data,this.propToColCache.set(l.data,u)}i+=1}}}else this.recursiveDuckColumns(e)}},{key:"countFirstRowKeys",value:function(){return Nu(this.dataSource)}},{key:"recursiveDuckColumns",value:function(e,t,n){var r,i=this,o=t,a=n;return void 0===o&&(o=0,a=""),"object"!==Rm(e)||Array.isArray(e)||fe(e,(function(e,t){null===e?(r=a+t,i.colToPropCache.push(r),i.propToColCache.set(r,o),o+=1):o=i.recursiveDuckColumns(e,o,"".concat(t,"."))})),o}},{key:"colToProp",value:function(e){if(!1===Number.isInteger(e))return e;var t=this.instance.toPhysicalColumn(e);return null===t?e:this.colToPropCache&&Je(this.colToPropCache[t])?this.colToPropCache[t]:t}},{key:"propToCol",value:function(e){var t=this.propToColCache.get(e);if(Je(t))return this.instance.toVisualColumn(t);var n=this.instance.toVisualColumn(e);return null===n?e:n}},{key:"getSchema",value:function(){var e=this.tableMeta.dataSchema;return e?"function"==typeof e?e():e:this.duckSchema}},{key:"createRow",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0,i=this.instance.countSourceRows(),o=i,a=0,s=e;("number"!=typeof s||s>=i)&&(s=i),s<this.instance.countRows()&&(o=this.instance.toPhysicalRow(s));var l=this.instance.runHooks("beforeCreateRow",s,n,r);if(!1===l||null===o)return 0;for(var u=this.tableMeta.maxRows,c=this.instance.countCols(),d=[],h=function(){var e=null;"array"===t.instance.dataType?t.tableMeta.dataSchema?e=se(t.getSchema()):(e=[],Wr(c-1,(function(){return e.push(null)}))):"function"===t.instance.dataType?e=t.tableMeta.dataSchema(s+a):ae(e={},t.getSchema()),d.push(e),a+=1};a<n&&i+a<u;)h();return this.instance.rowIndexMapper.insertIndexes(s,a),this.spliceData(o,0,d),this.instance.runHooks("afterCreateRow",s,a,r),this.instance.forceFullRender=!0,a}},{key:"createCol",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;if(!this.instance.isColumnModificationAllowed())throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");var r=this.dataSource,i=this.tableMeta.maxCols,o=e;("number"!=typeof o||o>=this.instance.countSourceCols())&&(o=this.instance.countSourceCols());var a=this.instance.runHooks("beforeCreateCol",o,t,n);if(!1===a)return 0;var s=this.instance.countSourceCols();o<this.instance.countCols()&&(s=this.instance.toPhysicalColumn(o));for(var l=this.instance.countSourceRows(),u=this.instance.countCols(),c=0,d=s;c<t&&u<i;){if("number"!=typeof o||o>=u)if(l>0)for(var h=0;h<l;h+=1)void 0===r[h]&&(r[h]=[]),r[h].push(null);else r.push([null]);else for(var f=0;f<l;f++)r[f].splice(d,0,null);c+=1,d+=1,u+=1}return this.instance.columnIndexMapper.insertIndexes(o,c),this.instance.runHooks("afterCreateCol",o,c,n),this.instance.forceFullRender=!0,c}},{key:"removeRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,r=Number.isInteger(e)?e:-t,i=this.visualRowsToPhysical(r,t),o=this.instance.countSourceRows();r=(o+r)%o;var a=this.instance.runHooks("beforeRemoveRow",r,i.length,i,n);if(!1===a)return!1;var s=i.length;if(this.filterData(r,s,i),r<this.instance.countRows()){this.instance.rowIndexMapper.removeIndexes(i);var l=Je(this.tableMeta.columns)||Je(this.tableMeta.dataSchema);0===this.instance.rowIndexMapper.getNotTrimmedIndexesLength()&&!1===l&&this.instance.columnIndexMapper.setIndexesSequence([])}return this.instance.runHooks("afterRemoveRow",r,s,i,n),this.instance.forceFullRender=!0,!0}},{key:"removeCol",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;if("object"===this.instance.dataType||this.tableMeta.columns)throw new Error("cannot remove column with object data source or columns option specified");var r="number"!=typeof e?-t:e;r=(this.instance.countCols()+r)%this.instance.countCols();var i=this.visualColumnsToPhysical(r,t),o=i.slice(0).sort((function(e,t){return t-e})),a=this.instance.runHooks("beforeRemoveCol",r,t,i,n);if(!1===a)return!1;for(var s=!0,l=o.length,u=this.dataSource,c=0;c<l;c++)s&&i[0]!==i[c]-c&&(s=!1);if(s)for(var d=0,h=this.instance.countSourceRows();d<h;d++)u[d].splice(i[0],t);else for(var f=0,p=this.instance.countSourceRows();f<p;f++)for(var m=0;m<l;m++)u[f].splice(o[m],1);return r<this.instance.countCols()&&(this.instance.columnIndexMapper.removeIndexes(i),0===this.instance.columnIndexMapper.getNotTrimmedIndexesLength()&&this.instance.rowIndexMapper.setIndexesSequence([])),this.instance.runHooks("afterRemoveCol",r,t,i,n),this.instance.forceFullRender=!0,!0}},{key:"spliceCol",value:function(e,t,n){for(var r=this.instance.getDataAtCol(e),i=r.slice(t,t+n),o=r.slice(t+n),a=arguments.length,s=new Array(a>3?a-3:0),l=3;l<a;l++)s[l-3]=arguments[l];F(s,o);for(var u=0;u<n;)s.push(null),u+=1;return N(s),this.instance.populateFromArray(t,e,s,null,null,"spliceCol"),i}},{key:"spliceRow",value:function(e,t,n){for(var r=this.instance.getSourceDataAtRow(e),i=r.slice(t,t+n),o=r.slice(t+n),a=arguments.length,s=new Array(a>3?a-3:0),l=3;l<a;l++)s[l-3]=arguments[l];F(s,o);for(var u=0;u<n;)s.push(null),u+=1;return this.instance.populateFromArray(e,t,[s],null,null,"spliceRow"),i}},{key:"spliceData",value:function(e,t,n){var r=this;if(!1!==this.instance.runHooks("beforeDataSplice",e,t,n)){var i=[].concat(Cm(this.dataSource.slice(0,e)),Cm(n),Cm(this.dataSource.slice(e)));this.dataSource.length=0,i.forEach((function(e){return r.dataSource.push(e)}))}}},{key:"filterData",value:function(e,t,n){var r=this.instance.runHooks("filterData",e,t,n);!1===Array.isArray(r)&&(r=this.dataSource.filter((function(e,t){return-1===n.indexOf(t)}))),this.dataSource.length=0,Array.prototype.push.apply(this.dataSource,r)}},{key:"get",value:function(e,t){var n=this.instance.toPhysicalRow(e),r=this.dataSource[n],i=this.instance.runHooks("modifyRowData",n),o=null;if((r=isNaN(i)?i:r)&&r.hasOwnProperty&&ve(r,t))o=r[t];else if("string"==typeof t&&t.indexOf(".")>-1){var a=t.split("."),s=r;if(!s)return null;for(var l=0,u=a.length;l<u;l++)if(void 0===(s=s[a[l]]))return null;o=s}else"function"==typeof t&&(o=t(this.dataSource.slice(n,n+1)[0]));if(this.instance.hasHook("modifyData")){var c=ye(o);this.instance.runHooks("modifyData",n,this.propToCol(t),c,"get"),c.isTouched()&&(o=c.value)}return o}},{key:"getCopyable",value:function(e,t){return Em.call(this.instance,e,this.propToCol(t))?this.get(e,t):""}},{key:"set",value:function(e,t,n){var r=this.instance.toPhysicalRow(e),i=n,o=this.dataSource[r],a=this.instance.runHooks("modifyRowData",r);if(o=isNaN(a)?a:o,this.instance.hasHook("modifyData")){var s=ye(i);this.instance.runHooks("modifyData",r,this.propToCol(t),s,"set"),s.isTouched()&&(i=s.value)}if(o&&o.hasOwnProperty&&ve(o,t))o[t]=i;else if("string"==typeof t&&t.indexOf(".")>-1){var l,u=t.split("."),c=o,d=0;for(d=0,l=u.length-1;d<l;d++)void 0===c[u[d]]&&(c[u[d]]={}),c=c[u[d]];c[u[d]]=i}else"function"==typeof t?t(this.dataSource.slice(r,r+1)[0],i):o[t]=i}},{key:"visualRowsToPhysical",value:function(e,t){for(var n,r=this.instance.countSourceRows(),i=[],o=(r+e)%r,a=t;o<r&&a;)n=this.instance.toPhysicalRow(o),i.push(n),a-=1,o+=1;return i}},{key:"visualColumnsToPhysical",value:function(e,t){for(var n=this.instance.countCols(),r=[],i=(n+e)%n,o=t;i<n&&o;){var a=this.instance.toPhysicalColumn(i);r.push(a),o-=1,i+=1}return r}},{key:"clear",value:function(){for(var e=0;e<this.instance.countSourceRows();e++)for(var t=0;t<this.instance.countCols();t++)this.set(e,this.colToProp(t),"")}},{key:"getLength",value:function(){var e,t=this.tableMeta.maxRows;e=t<0||0===t?0:t||1/0;var n=this.instance.rowIndexMapper.getNotTrimmedIndexesLength();return Math.min(n,e)}},{key:"getAll",value:function(){var t={row:0,col:0},n={row:Math.max(this.instance.countRows()-1,0),col:Math.max(this.instance.countCols()-1,0)};return t.row-n.row!=0||this.instance.countSourceRows()?this.getRange(t,n,e.DESTINATION_RENDERER):[]}},{key:"countCachedColumns",value:function(){return this.colToPropCache.length}},{key:"getRange",value:function(t,n,r){var i,o,a,s=[],l=this.tableMeta.maxRows,u=this.tableMeta.maxCols;if(0===l||0===u)return[];var c=r===e.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get,d=Math.min(Math.max(l-1,0),Math.max(t.row,n.row)),h=Math.min(Math.max(u-1,0),Math.max(t.col,n.col));for(i=Math.min(t.row,n.row);i<=d;i++){a=[];var f=i>=0?this.instance.toPhysicalRow(i):i;for(o=Math.min(t.col,n.col);o<=h&&null!==f;o++)a.push(c.call(this,i,this.colToProp(o)));null!==f&&s.push(a)}return s}},{key:"getText",value:function(t,n){return Om(this.getRange(t,n,e.DESTINATION_RENDERER))}},{key:"getCopyableText",value:function(t,n){return Om(this.getRange(t,n,e.DESTINATION_CLIPBOARD_GENERATOR))}},{key:"destroy",value:function(){this.instance=null,this.tableMeta=null,this.dataSource=null,this.duckSchema=null,this.colToPropCache.length=0,this.propToColCache.clear(),this.propToColCache=void 0}}],r=[{key:"DESTINATION_RENDERER",get:function(){return 1}},{key:"DESTINATION_CLIPBOARD_GENERATOR",get:function(){return 2}}],n&&Dm(t.prototype,n),r&&Dm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();const Lm=Am;function jm(e){return jm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(e)}function Pm(e,t,n,r){var i=r.hotInstance,o=r.dataMap,a=r.dataSource,s=r.internalSource,l=r.source,u=r.firstRun,c=mt(s),d=i.getSettings();Array.isArray(d.dataSchema)?i.dataType="array":xn(d.dataSchema)?i.dataType="function":i.dataType="object",o&&o.destroy(),e=i.runHooks("before".concat(c),e,u,l);var h=new Lm(i,e,d);if(t(h),"object"===jm(e)&&null!==e)e.push&&e.splice||(e=[e]);else{if(null!==e)throw new Error("".concat(s," only accepts array of objects or array of arrays (").concat(jm(e)," given)"));var f,p=h.getSchema();e=[];var m,g=0;for(g=0,m=d.startRows;g<m;g++)if("object"!==i.dataType&&"function"!==i.dataType||!d.dataSchema)if("array"===i.dataType)f=se(p[0]),e.push(f);else{f=[];for(var y=0,v=d.startCols;y<v;y++)f.push(null);e.push(f)}else f=se(p),e.push(f)}Array.isArray(e[0])&&(i.dataType="array"),d.data=e,h.dataSource=e,a.data=e,a.dataType=i.dataType,a.colToProp=h.colToProp.bind(h),a.propToCol=h.propToCol.bind(h),a.countCachedColumns=h.countCachedColumns.bind(h),n(h),i.runHooks("after".concat(c),e,u,l),u||(i.runHooks("afterChange",null,s),i.render())}var Im,Hm=new Map([[" ","space"],["spacebar","space"],["scroll","scrolllock"],["del","delete"],["esc","escape"],["medianexttrack","mediatracknext"],["mediaprevioustrack","mediatrackprevious"],["volumeup","audiovolumeup"],["volumedown","audiovolumedown"],["volumemute","audiovolumemute"],["multiply","*"],["add","+"],["divide","/"],["subtract","-"],["left","arrowleft"],["right","arrowright"],["up","arrowup"],["down","arrowdown"]]),Nm=function(e){return e.map((function(e){var t=e.toLowerCase();return Hm.has(t)?Hm.get(t):t})).sort().join("+")},Fm=function(e){return e.toLowerCase()};function Ym(e,t){if(e){if("string"==typeof e)return zm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zm(e,t):void 0}}function zm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bm(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Wm,$m=["meta","alt","shift","control"],Um=(Wm=new Set,{press:function(e){Wm.add(e)},release:function(e){Wm.delete(e)},releaseAll:function(){Wm.clear()},isPressed:function(e){return Wm.has(e)}}),Vm=function(e){var t=e.ownerWindow,n=e.handleEvent,r=e.beforeKeyDown,i=e.afterKeyDown,o=oi({errorIdExists:function(e){return'The "'.concat(e,'" context name is already registered.')}}),a="grid",s=function(){return a},l=function(e){return o.getItem(e)},u=!1,c=function(e,t,n,r,i){var o=function(e){return $m.includes(e)},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];return e.altKey&&n.push("alt"),t&&(e.ctrlKey||e.metaKey)?n.push("control/meta"):(e.ctrlKey&&n.push("control"),e.metaKey&&n.push("meta")),e.shiftKey&&n.push("shift"),n},s=function(e){if(!1!==t(e)){var s=n(e);if(229!==e.keyCode&&!1!==s&&!Wn(e)){var l=Fm(e.key),u=[];o(l)?Um.press(l):u=a(e);var c=[l].concat(u);!i(e,c)&&(Ne()&&u.includes("meta")||!Ne()&&u.includes("control"))&&i(e,[l].concat(a(e,!0))),r(e)}}},l=function(e){if(!1!==t(e)){var n=Fm(e.key);!1!==o(n)&&Um.release(n)}},u=function(){Um.releaseAll()};return{mount:function(){for(var t=e;t;)t.document.documentElement.addEventListener("keydown",s),t.document.documentElement.addEventListener("keyup",l),t.document.documentElement.addEventListener("blur",u),t=Ot(t)},unmount:function(){for(var t=e;t;)t.document.documentElement.removeEventListener("keydown",s),t.document.documentElement.removeEventListener("keyup",l),t.document.documentElement.removeEventListener("blur",u),t=Ot(t)},isPressed:function(e){return Um.isPressed(e)}}}(t,n,r,i,(function(e,t){var n=l(s()),r=!1;if(!n.hasShortcut(t))return r;for(var i=n.getShortcuts(t),o=0;o<i.length;o++){var a=i[o],c=a.callback,d=a.runOnlyIf,h=a.preventDefault,f=a.stopPropagation,p=a.captureCtrl;if(!1!==d(e)&&(u=p,r=!1===c(e,t),u=!1,h&&e.preventDefault(),f&&e.stopPropagation(),r))break}return r}));return c.mount(),{addContext:function(e){var t,n,r,i,a=(t=e,n=oi({errorIdExists:function(e){return'The "'.concat(e,'" shortcut is already registered in the "').concat(t,'" context.')}}),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.keys,r=e.callback,i=e.group,o=e.runOnlyIf,a=void 0===o?function(){return!0}:o,s=e.captureCtrl,l=void 0!==s&&s,u=e.preventDefault,c=void 0===u||u,d=e.stopPropagation,h=void 0!==d&&d,f=e.relativeToGroup,p=e.position;if(Qe(i))throw new Error("You need to define the shortcut's group.");if(!1===xn(r))throw new Error("The shortcut's callback needs to be a function.");if(!1===Array.isArray(t))throw new Error(Ge(Im||(Im=Bm(["Pass the shortcut's keys as an array of arrays, \n      using the KeyboardEvent.key properties: \n      https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values."],["Pass the shortcut\\'s keys as an array of arrays,\\x20\n      using the KeyboardEvent.key properties:\\x20\n      https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values."]))));var m={callback:r,group:i,runOnlyIf:a,captureCtrl:l,preventDefault:c,stopPropagation:h};if(Je(f)){var g=[f,p];m.relativeToGroup=g[0],m.position=g[1]}t.forEach((function(e){var t=Nm(e);if(n.hasItem(t)){var r=n.getItem(t),i=r.findIndex((function(e){return e.group===f}));-1!==i?"before"===p?i-=1:i+=1:i=r.length,r.splice(i,0,m)}else n.addItem(t,[m])}))},{addShortcut:r,addShortcuts:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e){fe(t,(function(n,r){!1===Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=t[r])})),r(e)}))},getShortcuts:function(e){var t=Nm(e),r=n.getItem(t);return Je(r)?r.slice():[]},hasShortcut:function(e){var t=Nm(e);return n.hasItem(t)},removeShortcutsByKeys:i=function(e){var t=Nm(e);n.removeItem(t)},removeShortcutsByGroup:function(e){n.getItems().forEach((function(t){var n,r,o=(r=2,function(e){if(Array.isArray(e))return e}(n=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(n,r)||Ym(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],s=o[1],l=s.filter((function(t){return t.group!==e}));0===l.length?i(function(e){return e.split("+")}(a)):(s.length=0,s.push.apply(s,function(e){return function(e){if(Array.isArray(e))return zm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ym(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(l)))}))}});return o.addItem(e,a),a},getActiveContextName:s,getContext:l,setActiveContextName:function(e){a=e},isCtrlPressed:function(){return!u&&(c.isPressed("control")||c.isPressed("meta"))},destroy:function(){return c.unmount()}}};function qm(e){return qm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(e)}function Gm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||Zm(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Km(e){return function(e){if(Array.isArray(e))return Xm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Zm(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zm(e,t){if(e){if("string"==typeof e)return Xm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xm(e,t):void 0}}function Xm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Jm="gridDefault",Qm=null;function eg(e,t){var n,r,i,o,a,s=this,l=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=!1,c=this,d=new kr(c),h=!0;du(l)&&cu(this),this.rootElement=e,this.rootDocument=e.ownerDocument,this.rootWindow=this.rootDocument.defaultView,this.isDestroyed=!1,this.renderSuspendedCounter=0,this.executionSuspendedCounter=0;var f=null!==(n=null==t?void 0:t.layoutDirection)&&void 0!==n?n:"inherit",p=["rtl","ltr"].includes(f)?f:this.rootWindow.getComputedStyle(this.rootElement).direction;this.rootElement.setAttribute("dir",p),this.isRtl=function(){return"rtl"===p},this.isLtr=function(){return!c.isRtl()},this.getDirectionFactor=function(){return c.isLtr()?1:-1},t.language=vf(t.language);var m=new vm(c,t,[wm,km]),g=m.getTableMeta(),y=m.getGlobalMeta(),v=oi();this.container=this.rootDocument.createElement("div"),this.renderCall=!1,e.insertBefore(this.container,e.firstChild),hu(this)&&pt(t.licenseKey,e),this.guid="ht_".concat(yt()),this.columnIndexMapper=new Rd,this.rowIndexMapper=new Rd,i=new $u(c),this.rootElement.id&&"ht_"!==this.rootElement.id.substring(0,3)||(this.rootElement.id=this.guid);var b=function(e){var t=e.row,n=e.col;return c._createCellCoords(t>=0?c.rowIndexMapper.getRenderableFromVisualIndex(t):t,n>=0?c.columnIndexMapper.getRenderableFromVisualIndex(n):n)},w=function(e){var t=e.row,n=e.col;return c._createCellCoords(t>=0?c.rowIndexMapper.getVisualFromRenderableIndex(t):t,n>=0?c.columnIndexMapper.getVisualFromRenderableIndex(n):n)},_=new qp(g,{rowIndexMapper:function(){return c.rowIndexMapper},columnIndexMapper:function(){return c.columnIndexMapper},countCols:function(){return c.countCols()},countRows:function(){return c.countRows()},propToCol:function(e){return r.propToCol(e)},isEditorOpened:function(){return!!c.getActiveEditor()&&c.getActiveEditor().isOpened()},countColsTranslated:function(){return s.view.countRenderableColumns()},countRowsTranslated:function(){return s.view.countRenderableRows()},getShortcutManager:function(){return c.getShortcutManager()},createCellCoords:function(e,t){return c._createCellCoords(e,t)},createCellRange:function(e,t,n){return c._createCellRange(e,t,n)},visualToRenderableCoords:b,renderableToVisualCoords:w,isDisabledCellSelection:function(e,t){return c.getCellMeta(e,t).disableVisualSelection}});this.selection=_;var k=function(e){e.hiddenIndexesChanged&&s.selection.refresh()};function S(e){var t=Dd(e);gf(t)?(c.runHooks("beforeLanguageChange",t),y.language=t,c.runHooks("afterLanguageChange",t)):Ed(e)}function M(e,t){var n="className"===e?c.rootElement:c.table;if(h)Ht(n,t);else{var r=[],i=[];y[e]&&(r=Array.isArray(y[e])?y[e]:ee(y[e])),t&&(i=Array.isArray(t)?t:ee(t));var o=X(r,i),a=X(i,r);o.length&&Nt(n,o),a.length&&Ht(n,a)}y[e]=t}function x(){var e=!1;return{validatorsInQueue:0,valid:!0,addValidatorToQueue:function(){this.validatorsInQueue+=1,e=!1},removeValidatorFormQueue:function(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty:function(){},checkIfQueueIsEmpty:function(){0===this.validatorsInQueue&&!1===e&&(e=!0,this.onQueueEmpty(this.valid))}}}function O(e){var t=e.replace(",",".");return!1===isNaN(parseFloat(t))?parseFloat(t):e}function C(e,t,n){if(e.length){var i=c.getActiveEditor(),o=c.runHooks("beforeChange",e,t||"edit"),a=!0;if(!1!==o){var s=new x;s.onQueueEmpty=function(e){i&&a&&i.cancelChanges(),n(e)};for(var l=e.length-1;l>=0;l--)if(null===e[l])e.splice(l,1);else{var u=Gm(e[l],4),d=u[0],h=u[1],f=u[3],p=r.propToCol(h),m=c.getCellMeta(d,p);"numeric"===m.type&&"string"==typeof f&&Br(f)&&(e[l][3]=O(f)),c.getCellValidator(m)&&(s.addValidatorToQueue(),c.validateCell(e[l][3],m,function(t,n){return function(r){if("boolean"!=typeof r)throw new Error("Validation error: result is not boolean");if(!1===r&&!1===n.allowInvalid){a=!1,e.splice(t,1),n.valid=!0;var i=c.getCell(n.visualRow,n.visualCol);null!==i&&Nt(i,g.invalidCellClassName)}s.removeValidatorFormQueue()}}(l,m),t))}s.checkIfQueueIsEmpty()}else i&&i.cancelChanges()}}function T(e,t){var n=e.length-1;if(!(n<0)){for(;n>=0;n--){var i=!1;if(null!==e[n]){if(null!==e[n][2]&&void 0!==e[n][2]||null!==e[n][3]&&void 0!==e[n][3]){if(g.allowInsertRow)for(;e[n][0]>c.countRows()-1;){var s=r.createRow(void 0,void 0,t);if(!(s>=1)){i=!0;break}m.createRow(null,s)}if("array"===c.dataType&&(!g.columns||0===g.columns.length)&&g.allowInsertColumn)for(;r.propToCol(e[n][1])>c.countCols()-1;){var l=r.createCol(void 0,void 0,t);if(!(l>=1)){i=!0;break}m.createColumn(null,l)}i||r.set(e[n][0],e[n][1],e[n][3])}}else e.splice(n,1)}c.forceFullRender=!0,o.adjustRowsAndCols(),c.runHooks("beforeChangeRender",e,t),a.lockEditor(),c._refreshBorders(null),a.unlockEditor(),c.view.adjustElementsSize(),c.runHooks("afterChange",e,t||"edit");var u=c.getActiveEditor();u&&Je(u.refreshValue)&&u.refreshValue()}}function R(e,t,n){return Array.isArray(e)?e:[[e,t,n]]}this.columnIndexMapper.addLocalHook("cacheUpdated",k),this.rowIndexMapper.addLocalHook("cacheUpdated",k),this.selection.addLocalHook("beforeSetRangeStart",(function(e){s.runHooks("beforeSetRangeStart",e)})),this.selection.addLocalHook("beforeSetRangeStartOnly",(function(e){s.runHooks("beforeSetRangeStartOnly",e)})),this.selection.addLocalHook("beforeSetRangeEnd",(function(e){s.runHooks("beforeSetRangeEnd",e),e.row<0&&(e.row=s.view._wt.wtTable.getFirstVisibleRow()),e.col<0&&(e.col=s.view._wt.wtTable.getFirstVisibleColumn())})),this.selection.addLocalHook("afterSetRangeEnd",(function(e){var t=ye(!1),n=s.selection.getSelectedRange(),r=n.current(),i=r.from,o=r.to,a=n.size()-1;s.runHooks("afterSelection",i.row,i.col,o.row,o.col,t,a),s.runHooks("afterSelectionByProp",i.row,c.colToProp(i.col),o.row,c.colToProp(o.col),t,a);var l=s.selection.isSelectedByAnyHeader(),d=s.selection.selectedRange.current(),h=!0;u&&(h=!1),t.isTouched()&&(h=!t.value);var f=s.selection.isSelectedByRowHeader(),p=s.selection.isSelectedByColumnHeader();!1!==h&&(l?f?s.view.scrollViewportVertically(c.rowIndexMapper.getRenderableFromVisualIndex(e.row)):p&&s.view.scrollViewportHorizontally(c.columnIndexMapper.getRenderableFromVisualIndex(e.col)):d&&!s.selection.isMultiple()?s.view.scrollViewport(b(d.from)):s.view.scrollViewport(b(e))),f&&p?Ht(s.rootElement,["ht__selection--rows","ht__selection--columns"]):f?(Nt(s.rootElement,"ht__selection--columns"),Ht(s.rootElement,"ht__selection--rows")):p?(Nt(s.rootElement,"ht__selection--rows"),Ht(s.rootElement,"ht__selection--columns")):Nt(s.rootElement,["ht__selection--rows","ht__selection--columns"]),s._refreshBorders(null)})),this.selection.addLocalHook("afterSelectionFinished",(function(e){var t=e.length-1,n=e[t],r=n.from,i=n.to;s.runHooks("afterSelectionEnd",r.row,r.col,i.row,i.col,t),s.runHooks("afterSelectionEndByProp",r.row,c.colToProp(r.col),i.row,c.colToProp(i.col),t)})),this.selection.addLocalHook("afterIsMultipleSelection",(function(e){var t=s.runHooks("afterIsMultipleSelection",e.value);e.value&&(e.value=t)})),this.selection.addLocalHook("beforeModifyTransformStart",(function(e){s.runHooks("modifyTransformStart",e)})),this.selection.addLocalHook("afterModifyTransformStart",(function(e,t,n){s.runHooks("afterModifyTransformStart",e,t,n)})),this.selection.addLocalHook("beforeModifyTransformEnd",(function(e){s.runHooks("modifyTransformEnd",e)})),this.selection.addLocalHook("afterModifyTransformEnd",(function(e,t,n){s.runHooks("afterModifyTransformEnd",e,t,n)})),this.selection.addLocalHook("afterDeselect",(function(){a.destroyEditor(),s._refreshBorders(),Nt(s.rootElement,["ht__selection--rows","ht__selection--columns"]),s.runHooks("afterDeselect")})),this.selection.addLocalHook("insertRowRequire",(function(e){s.alter("insert_row",e,1,"auto")})),this.selection.addLocalHook("insertColRequire",(function(e){s.alter("insert_col",e,1,"auto")})),o={alter:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,l=function(e){if(0===e.length)return[];var t=Km(e);return t.sort((function(e,t){var n=Gm(e,1)[0],r=Gm(t,1)[0];return n===r?0:n>r?1:-1})),z(t,(function(e,t){var n=Gm(t,2),r=n[0],i=n[1],o=e[e.length-1],a=Gm(o,2),s=a[0]+a[1];if(r<=s){var l=Math.max(i-(s-r),0);o[1]+=l}else e.push([r,i]);return e}),[t[0]])};switch(e){case"insert_row":var u=c.countSourceRows();if(g.maxRows===u)return;if(t=Je(t)?t:u,n=r.createRow(t,i,a)){m.createRow(c.toPhysicalRow(t),i);var d=_.selectedRange.current(),h=null==d?void 0:d.from,f=null==h?void 0:h.row;if(Je(f)&&f>=t){var p=d.to,y=p.row,v=p.col,b=h.col;_.isSelectedByRowHeader()&&(b=-1),_.getSelectedRange().pop(),_.setRangeStartOnly(c._createCellCoords(f+n,b),!0),_.setRangeEnd(c._createCellCoords(y+n,v))}else c._refreshBorders()}break;case"insert_col":if(n=r.createCol(t,i,a)){if(m.createColumn(c.toPhysicalColumn(t),i),Array.isArray(g.colHeaders)){var w=[t,0];w.length+=n,Array.prototype.splice.apply(g.colHeaders,w)}var k=_.selectedRange.current(),S=null==k?void 0:k.from,M=null==S?void 0:S.col;if(Je(M)&&M>=t){var x=k.to,O=x.row,C=x.col,T=S.row;_.isSelectedByColumnHeader()&&(T=-1),_.getSelectedRange().pop(),_.setRangeStartOnly(c._createCellCoords(T,M+n),!0),_.setRangeEnd(c._createCellCoords(O,C+n))}else c._refreshBorders()}break;case"remove_row":var R=function(e){var t=0;$(e,(function(e){var n=Gm(e,2),i=n[0],o=n[1],s=et(i)?c.countRows()-1:Math.max(i-t,0);if(Number.isInteger(i)&&(i=Math.max(i-t,0)),r.removeRow(i,o,a)){m.removeRow(c.toPhysicalRow(s),o);var l=c.countRows(),u=g.fixedRowsTop;u>=s+1&&(g.fixedRowsTop-=Math.min(o,u-s));var d=g.fixedRowsBottom;d&&s>=l-d&&(g.fixedRowsBottom-=Math.min(o,d)),t+=o}}))};Array.isArray(t)?R(l(t)):R([[t,i]]),o.adjustRowsAndCols(),c._refreshBorders();break;case"remove_col":var D=function(e){var t=0;$(e,(function(e){var n=Gm(e,2),i=n[0],o=n[1],s=et(i)?c.countCols()-1:Math.max(i-t,0),l=c.toPhysicalColumn(s);if(Number.isInteger(i)&&(i=Math.max(i-t,0)),r.removeCol(i,o,a)){m.removeColumn(l,o);var u=g.fixedColumnsStart;u>=s+1&&(g.fixedColumnsStart-=Math.min(o,u-s)),Array.isArray(g.colHeaders)&&(void 0===l&&(l=-1),g.colHeaders.splice(l,o)),t+=o}}))};Array.isArray(t)?D(l(t)):D([[t,i]]),o.adjustRowsAndCols(),c._refreshBorders();break;default:throw new Error('There is no such action "'.concat(e,'"'))}s||o.adjustRowsAndCols()},adjustRowsAndCols:function(){var e,t=g.minRows,n=g.minSpareRows,i=g.minCols,o=g.minSpareCols;if(t){var a=c.countRows();a<t&&r.createRow(a,t-a,"auto")}if(n){var s=c.countEmptyRows(!0);if(s<n){var l=n-s,u=Math.min(l,g.maxRows-c.countSourceRows());r.createRow(c.countRows(),u,"auto")}}(i||o)&&(e=c.countEmptyCols(!0));var d=c.countCols();if(i&&!g.columns&&d<i){var h=i-d;e+=h,r.createCol(d,h,"auto")}if(o&&!g.columns&&"array"===c.dataType&&e<o){d=c.countCols();var f=o-e,p=Math.min(f,g.maxCols-d);r.createCol(d,p,"auto")}var m=c.countRows(),y=c.countCols();0!==m&&0!==y||_.deselect(),_.isSelected()&&$(_.selectedRange,(function(e){var t=!1,n=e.from.row,r=e.from.col,i=e.to.row,o=e.to.col;n>m-1?(t=!0,i>(n=m-1)&&(i=n)):i>m-1&&(t=!0,n>(i=m-1)&&(n=i)),r>y-1?(t=!0,o>(r=y-1)&&(o=r)):o>y-1&&(t=!0,r>(o=y-1)&&(r=o)),t&&c.selectCell(n,r,i,o)})),c.view&&c.view.adjustElementsSize()},populateFromArray:function(e,t,n,r,i,o,a){var s,l,u,d,h=[],f={},p=[],m=e.row,y=e.col;if(0===(l=t.length))return!1;var v=0,b=0;switch(de(n)&&(v=n.col-y+1,b=n.row-m+1),i){case"shift_down":var w=Y(t),_=w.length,k=Math.max(_,v),S=c.getData().slice(m),M=Y(S).slice(y,y+k);for(u=0;u<k;u+=1)if(u<_){for(s=0,l=w[u].length;s<b-l;s+=1)w[u].push(w[u][s%l]);u<M.length?p.push(w[u].concat(M[u])):p.push(w[u].concat(new Array(S.length).fill(null)))}else p.push(w[u%_].concat(M[u]));c.populateFromArray(m,y,Y(p));break;case"shift_right":var x=t.length,O=Math.max(x,b),C=c.getData().slice(m).map((function(e){return e.slice(y)}));for(s=0;s<O;s+=1)if(s<x){for(u=0,d=t[s].length;u<v-d;u+=1)t[s].push(t[s][u%d]);var T;if(s<C.length)for(var R=0;R<C[s].length;R+=1)t[s].push(C[s][R]);else(T=t[s]).push.apply(T,Km(new Array(C[0].length).fill(null)))}else t.push(t[s%l].slice(0,O).concat(C[s]));c.populateFromArray(m,y,t);break;default:f.row=e.row,f.col=e.col;var D,E={row:n&&e?n.row-e.row+1:1,col:n&&e?n.col-e.col+1:1},A=0,L=0,j=!0,P=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=t[e%t.length];return null!==n?r[n%r.length]:r},I=t.length,H=n?n.row-e.row+1:0;for(l=n?H:Math.max(I,H),s=0;s<l&&!(n&&f.row>n.row&&H>I||!g.allowInsertRow&&f.row>c.countRows()-1||f.row>=g.maxRows);s++){var N=s-A,F=P(N).length,z=n?n.col-e.col+1:0;if(d=n?z:Math.max(F,z),f.col=e.col,D=c.getCellMeta(f.row,f.col),"CopyPaste.paste"!==r&&"Autofill.fill"!==r||!D.skipRowOnPaste){for(L=0,u=0;u<d&&!(n&&f.col>n.col&&z>F||!g.allowInsertColumn&&f.col>c.countCols()-1||f.col>=g.maxCols);u++)if(D=c.getCellMeta(f.row,f.col),"CopyPaste.paste"!==r&&"Autofill.fill"!==r||!D.skipColumnOnPaste)if(D.readOnly&&"UndoRedo.undo"!==r)f.col+=1;else{var B=u-L,W=P(N,B),$=c.getDataAtCell(f.row,f.col),U={row:N,col:B};if("Autofill.fill"===r){var V=c.runHooks("beforeAutofillInsidePopulate",U,o,t,a,{},E);V&&(W=Qe(V.value)?W:V.value)}null!==W&&"object"===qm(W)?(Array.isArray(W)&&null===$&&($=[]),null===$||"object"!==qm($)?j=!1:ce(re(Array.isArray($)?$:$[0]||$),re(Array.isArray(W)?W:W[0]||W))?W=se(W):j=!1):null!==$&&"object"===qm($)&&(j=!1),j&&h.push([f.row,f.col,W]),j=!0,f.col+=1}else L+=1,f.col+=1,d+=1;f.row+=1}else A+=1,f.row+=1,l+=1}c.setDataAtCell(h,null,null,r||"populateFromArray")}}},this.init=function(){i.setData(g.data),c.runHooks("beforeInit"),(je()||Ie())&&Ht(c.rootElement,"mobile"),this.updateSettings(g,!0),this.view=new wu(this),a=Rr.getInstance(c,g,_),c.runHooks("init"),this.forceFullRender=!0,this.view.render(),"object"===qm(h)&&(c.runHooks("afterChange",h[0],h[1]),h=!1),c.runHooks("afterInit")},this._createCellCoords=function(e,t){return c.view._wt.createCellCoords(e,t)},this._createCellRange=function(e,t,n){return c.view._wt.createCellRange(e,t,n)},this.validateCell=function(e,t,n,r){var i,o=c.getCellValidator(t);function a(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(r&&!0!==t.hidden){var i=t.visualCol,o=t.visualRow,a=c.getCell(o,i,!0);if(a&&"TH"!==a.nodeName){var s=c.rowIndexMapper.getRenderableFromVisualIndex(o),l=c.columnIndexMapper.getRenderableFromVisualIndex(i);c.view._wt.getSetting("cellRenderer",s,l,a)}n(e)}else n(e)}tt(o)&&(i=o,o=function(e,t){t(i.test(e))}),xn(o)?(e=c.runHooks("beforeValidate",e,t.visualRow,t.prop,r),c._registerImmediate((function(){o.call(t,e,(function(n){c&&(n=c.runHooks("afterValidate",n,e,t.visualRow,t.prop,r),t.valid=n,a(n),c.runHooks("postAfterValidate",n,e,t.visualRow,t.prop,r))}))}))):c._registerImmediate((function(){t.valid=!0,a(t.valid,!1)}))},this.setDataAtCell=function(e,t,n,o){var a,s,l,u=R(e,t,n),d=[],h=o;for(a=0,s=u.length;a<s;a++){if("object"!==qm(u[a]))throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if("number"!=typeof u[a][1])throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");l=u[a][1]>=this.countCols()?u[a][1]:r.colToProp(u[a][1]),d.push([u[a][0],l,i.getAtCell(this.toPhysicalRow(u[a][0]),u[a][1]),u[a][2]])}h||"object"!==qm(e)||(h=t),c.runHooks("afterSetDataAtCell",d,h),C(d,h,(function(){T(d,h)}))},this.setDataAtRowProp=function(e,t,n,r){var o,a,s=R(e,t,n),l=[],u=r;for(o=0,a=s.length;o<a;o++)l.push([s[o][0],s[o][1],i.getAtCell(this.toPhysicalRow(s[o][0]),s[o][1]),s[o][2]]);u||"object"!==qm(e)||(u=t),c.runHooks("afterSetDataAtRowProp",l,u),C(l,u,(function(){T(l,u)}))},this.listen=function(){c&&!c.isListening()&&(Qm=c.guid,c.runHooks("afterListen"))},this.unlisten=function(){this.isListening()&&(Qm=null,c.runHooks("afterUnlisten"))},this.isListening=function(){return Qm===c.guid},this.destroyEditor=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];c._refreshBorders(e,t)},this.populateFromArray=function(e,t,n,r,i,a,s,l,u){if("object"!==qm(n)||"object"!==qm(n[0]))throw new Error("populateFromArray parameter `input` must be an array of arrays");var d="number"==typeof r?c._createCellCoords(r,i):null;return o.populateFromArray(c._createCellCoords(e,t),n,d,a,s,l,u)},this.spliceCol=function(e,t,n){for(var i,o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return(i=r).spliceCol.apply(i,[e,t,n].concat(a))},this.spliceRow=function(e,t,n){for(var i,o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return(i=r).spliceRow.apply(i,[e,t,n].concat(a))},this.getSelected=function(){if(_.isSelected())return W(_.getSelectedRange(),(function(e){var t=e.from,n=e.to;return[t.row,t.col,n.row,n.col]}))},this.getSelectedLast=function(){var e,t=this.getSelected();return t&&t.length>0&&(e=t[t.length-1]),e},this.getSelectedRange=function(){if(_.isSelected())return Array.from(_.getSelectedRange())},this.getSelectedRangeLast=function(){var e,t=this.getSelectedRange();return t&&t.length>0&&(e=t[t.length-1]),e},this.emptySelectedCells=function(e){var t=this;if(_.isSelected()&&0!==this.countRows()&&0!==this.countCols()){var n=[];$(_.getSelectedRange(),(function(e){var r=e.getTopStartCorner(),i=e.getBottomEndCorner();Wr(r.row,i.row,(function(e){Wr(r.col,i.col,(function(r){t.getCellMeta(e,r).readOnly||n.push([e,r,null])}))}))})),n.length>0&&this.setDataAtCell(n,e)}},this.isRenderSuspended=function(){return this.renderSuspendedCounter>0},this.suspendRender=function(){this.renderSuspendedCounter+=1},this.resumeRender=function(){var e=this.renderSuspendedCounter-1;this.renderSuspendedCounter=Math.max(e,0),this.isRenderSuspended()||e!==this.renderSuspendedCounter||(this.renderCall?this.render():this._refreshBorders(null))},this.render=function(){this.view&&(this.renderCall=!0,this.forceFullRender=!0,this.isRenderSuspended()||(a.lockEditor(),this._refreshBorders(null),a.unlockEditor()))},this.batchRender=function(e){this.suspendRender();var t=e();return this.resumeRender(),t},this.isExecutionSuspended=function(){return this.executionSuspendedCounter>0},this.suspendExecution=function(){this.executionSuspendedCounter+=1,this.columnIndexMapper.suspendOperations(),this.rowIndexMapper.suspendOperations()},this.resumeExecution=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.executionSuspendedCounter-1;this.executionSuspendedCounter=Math.max(t,0),(!this.isExecutionSuspended()&&t===this.executionSuspendedCounter||e)&&(this.columnIndexMapper.resumeOperations(),this.rowIndexMapper.resumeOperations())},this.batchExecution=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.suspendExecution();var n=e();return this.resumeExecution(t),n},this.batch=function(e){this.suspendRender(),this.suspendExecution();var t=e();return this.resumeExecution(),this.resumeRender(),t},this.refreshDimensions=function(){if(c.view){var e=c.view.getLastSize(),t=e.width,n=e.height,r=c.rootElement.getBoundingClientRect(),i=r.width,o=r.height,a=i!==t||o!==n;!1===c.runHooks("beforeRefreshDimensions",{width:t,height:n},{width:i,height:o},a)||((a||c.view._wt.wtOverlays.scrollableElement===c.rootWindow)&&(c.view.setLastSize(i,o),c.render()),c.runHooks("afterRefreshDimensions",{width:t,height:n},{width:i,height:o},a))}},this.updateData=function(e,t){var n=this;Pm(e,(function(e){r=e}),(function(e){r=e,c.columnIndexMapper.fitToLength(n.getInitialColumnCount()),c.rowIndexMapper.fitToLength(n.countSourceRows()),o.adjustRowsAndCols()}),{hotInstance:c,dataMap:r,dataSource:i,internalSource:"updateData",source:t,firstRun:h})},this.loadData=function(e,t){Pm(e,(function(e){r=e}),(function(){m.clearCellsCache(),c.initIndexMappers(),o.adjustRowsAndCols(),h&&(h=[null,"loadData"])}),{hotInstance:c,dataMap:r,dataSource:i,internalSource:"loadData",source:t,firstRun:h})},this.getInitialColumnCount=function(){var e=g.columns,t=0;if(Array.isArray(e))t=e.length;else if(xn(e))if("array"===c.dataType)for(var n=this.countSourceCols(),i=0;i<n;i+=1)e(i)&&(t+=1);else"object"!==c.dataType&&"function"!==c.dataType||(t=r.colToPropCache.length);else if(Je(g.dataSchema)){var o=r.getSchema();t=Array.isArray(o)?o.length:ge(o)}else t=this.countSourceCols();return t},this.initIndexMappers=function(){this.columnIndexMapper.initToLength(this.getInitialColumnCount()),this.rowIndexMapper.initToLength(this.countSourceRows())},this.getData=function(e,t,n,i){return Qe(e)?r.getAll():r.getRange(c._createCellCoords(e,t),c._createCellCoords(n,i),r.DESTINATION_RENDERER)},this.getCopyableText=function(e,t,n,i){return r.getCopyableText(c._createCellCoords(e,t),c._createCellCoords(n,i))},this.getCopyableData=function(e,t){return r.getCopyable(e,r.colToProp(t))},this.getSchema=function(){return r.getSchema()},this.updateSettings=function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=(h?c.loadData:c.updateData).bind(this),l=!1;if(Je(e.rows))throw new Error('The "rows" setting is no longer supported. Do you mean startRows, minRows or maxRows?');if(Je(e.cols))throw new Error('The "cols" setting is no longer supported. Do you mean startCols, minCols or maxCols?');if(Je(e.ganttChart))throw new Error('Since 8.0.0 the "ganttChart" setting is no longer supported.');for(t in e)"data"===t||("language"===t?S(e.language):"className"===t?M("className",e.className):"tableClassName"===t&&c.table?(M("tableClassName",e.tableClassName),c.view._wt.wtOverlays.syncOverlayTableClassNames()):rr.getSingleton().isRegistered(t)||rr.getSingleton().isDeprecated(t)?(xn(e[t])||Array.isArray(e[t]))&&(e[t].initialHook=!0,c.addHook(t,e[t])):!i&&ve(e,t)&&(y[t]=e[t]));void 0===e.data&&void 0===g.data?s(null,"updateSettings"):void 0!==e.data?s(e.data,"updateSettings"):void 0!==e.columns&&(r.createMap(),c.initIndexMappers());var u=c.countCols(),d=g.columns;if(d&&xn(d)&&(l=!0),void 0===e.cell&&void 0===e.cells&&void 0===e.columns||m.clearCache(),u>0)for(t=0,n=0;t<u;t++){if(d){var f=l?d(t):d[n];f&&m.updateColumnMeta(n,f)}n+=1}Je(e.cell)&&fe(e.cell,(function(e){c.setCellMetaObject(e.row,e.col,e)})),c.runHooks("afterCellMetaReset");var p=c.rootElement.style.height;""!==p&&(p=parseInt(c.rootElement.style.height,10));var v=e.height;if(xn(v)&&(v=v()),i){var b=c.rootElement.getAttribute("style");b&&c.rootElement.setAttribute("data-initialstyle",c.rootElement.getAttribute("style"))}if(null===v){var w=c.rootElement.getAttribute("data-initialstyle");w&&(w.indexOf("height")>-1||w.indexOf("overflow")>-1)?c.rootElement.setAttribute("style",w):(c.rootElement.style.height="",c.rootElement.style.overflow="")}else void 0!==v&&(c.rootElement.style.height=isNaN(v)?"".concat(v):"".concat(v,"px"),c.rootElement.style.overflow="hidden");if(void 0!==e.width){var _=e.width;xn(_)&&(_=_()),c.rootElement.style.width=isNaN(_)?"".concat(_):"".concat(_,"px")}i||(c.view&&(c.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked(),c.view._wt.exportSettingsAsClassNames()),c.runHooks("afterUpdateSettings",e)),o.adjustRowsAndCols(),c.view&&!h&&(c.forceFullRender=!0,a.lockEditor(),c._refreshBorders(null),c.view._wt.wtOverlays.adjustElementsSize(),a.unlockEditor()),i||!c.view||""!==p&&""!==v&&void 0!==v||p===v||c.view._wt.wtOverlays.updateMainScrollableElements()},this.getValue=function(){var e=c.getSelectedLast();if(g.getValue){if(xn(g.getValue))return g.getValue.call(c);if(e)return c.getData()[e[0][0]][g.getValue]}else if(e)return c.getDataAtCell(e[0],e[1])},this.getSettings=function(){return g},this.clear=function(){this.selectAll(),this.emptySelectedCells()},this.alter=function(e,t,n,r,i){o.alter(e,t,n,r,i)},this.getCell=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t,i=e;if(t>=0){if(this.columnIndexMapper.isHidden(this.toPhysicalColumn(t)))return null;r=this.columnIndexMapper.getRenderableFromVisualIndex(t)}if(e>=0){if(this.rowIndexMapper.isHidden(this.toPhysicalRow(e)))return null;i=this.rowIndexMapper.getRenderableFromVisualIndex(e)}return null===i||null===r?null:c.view.getCellAtCoords(c._createCellCoords(i,r),n)},this.getCoords=function(e){var t=this.view._wt.wtTable.getCoords(e);if(null===t)return null;var n=t.row,r=t.col,i=n,o=r;return n>=0&&(i=this.rowIndexMapper.getVisualFromRenderableIndex(n)),r>=0&&(o=this.columnIndexMapper.getVisualFromRenderableIndex(r)),c._createCellCoords(i,o)},this.colToProp=function(e){return r.colToProp(e)},this.propToCol=function(e){return r.propToCol(e)},this.toVisualRow=function(e){return s.rowIndexMapper.getVisualFromPhysicalIndex(e)},this.toVisualColumn=function(e){return s.columnIndexMapper.getVisualFromPhysicalIndex(e)},this.toPhysicalRow=function(e){return s.rowIndexMapper.getPhysicalFromVisualIndex(e)},this.toPhysicalColumn=function(e){return s.columnIndexMapper.getPhysicalFromVisualIndex(e)},this.getDataAtCell=function(e,t){return r.get(e,r.colToProp(t))},this.getDataAtRowProp=function(e,t){return r.get(e,t)},this.getDataAtCol=function(e){var t;return(t=[]).concat.apply(t,Km(r.getRange(c._createCellCoords(0,e),c._createCellCoords(g.data.length-1,e),r.DESTINATION_RENDERER)))},this.getDataAtProp=function(e){var t,n=r.getRange(c._createCellCoords(0,r.propToCol(e)),c._createCellCoords(g.data.length-1,r.propToCol(e)),r.DESTINATION_RENDERER);return(t=[]).concat.apply(t,Km(n))},this.getSourceData=function(e,t,n,r){return void 0===e?i.getData():i.getByRange(c._createCellCoords(e,t),c._createCellCoords(n,r))},this.getSourceDataArray=function(e,t,n,r){return void 0===e?i.getData(!0):i.getByRange(c._createCellCoords(e,t),c._createCellCoords(n,r),!0)},this.getSourceDataAtCol=function(e){return i.getAtColumn(e)},this.setSourceDataAtCell=function(e,t,n,r){var o=R(e,t,n),a=this.hasHook("afterSetSourceDataAtCell"),s=[];a&&$(o,(function(e){var t=Gm(e,3),n=t[0],r=t[1],o=t[2];s.push([n,r,i.getAtCell(n,r),o])})),$(o,(function(e){var t=Gm(e,3),n=t[0],r=t[1],o=t[2];i.setAtCell(n,r,o)})),a&&this.runHooks("afterSetSourceDataAtCell",s,r),this.render();var l=c.getActiveEditor();l&&Je(l.refreshValue)&&l.refreshValue()},this.getSourceDataAtRow=function(e){return i.getAtRow(e)},this.getSourceDataAtCell=function(e,t){return i.getAtCell(e,t)},this.getDataAtRow=function(e){return r.getRange(c._createCellCoords(e,0),c._createCellCoords(e,this.countCols()-1),r.DESTINATION_RENDERER)[0]||[]},this.getDataType=function(e,t,n,r){var i=this,o=void 0===e?[0,0,this.countRows(),this.countCols()]:[e,t,n,r],a=o[0],s=o[1],l=o[2],u=o[3],c=null,d=null;void 0===l&&(l=a),void 0===u&&(u=s);var h="mixed";return Wr(Math.max(Math.min(a,l),0),Math.max(a,l),(function(e){var t=!0;return Wr(Math.max(Math.min(s,u),0),Math.max(s,u),(function(n){var r=i.getCellMeta(e,n);return d=r.type,c?t=c===d:c=d,t})),h=t?d:"mixed",t})),h},this.removeCellMeta=function(e,t,n){var r=[this.toPhysicalRow(e),this.toPhysicalColumn(t)],i=r[0],o=r[1],a=m.getCellMetaKeyValue(i,o,n);!1!==c.runHooks("beforeRemoveCellMeta",e,t,n,a)&&(m.removeCellMeta(i,o,n),c.runHooks("afterRemoveCellMeta",e,t,n,a)),a=null},this.spliceCellsMeta=function(e){for(var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(i.length>0&&!Array.isArray(i[0]))throw new Error("The 3rd argument (cellMetaRows) has to be passed as an array of cell meta objects array.");n>0&&m.removeRow(this.toPhysicalRow(e),n),i.length>0&&$(i.reverse(),(function(n){m.createRow(t.toPhysicalRow(e)),$(n,(function(n,r){return t.setCellMetaObject(e,r,n)}))})),c.render()},this.setCellMetaObject=function(e,t,n){var r=this;"object"===qm(n)&&fe(n,(function(n,i){r.setCellMeta(e,t,i,n)}))},this.setCellMeta=function(e,t,n,r){if(!1!==c.runHooks("beforeSetCellMeta",e,t,n,r)){var i=e,o=t;e<this.countRows()&&(i=this.toPhysicalRow(e)),t<this.countCols()&&(o=this.toPhysicalColumn(t)),m.setCellMeta(i,o,n,r),c.runHooks("afterSetCellMeta",e,t,n,r)}},this.getCellsMeta=function(){return m.getCellsMeta()},this.getCellMeta=function(e,t){var n=this.toPhysicalRow(e),r=this.toPhysicalColumn(t);return null===n&&(n=e),null===r&&(r=t),m.getCellMeta(n,r,{visualRow:e,visualColumn:t})},this.getCellMetaAtRow=function(e){return m.getCellsMetaAtRow(e)},this.isColumnModificationAllowed=function(){return!("object"===c.dataType||g.columns)};var D=Iu("renderer");this.getCellRenderer=function(e,t){return Mi(D.call(this,e,t))},this.getCellEditor=Iu("editor");var E=Iu("validator");this.getCellValidator=function(e,t){var n=E.call(this,e,t);return"string"==typeof n&&(n=Ei(n)),n},this.validateCells=function(e){this._validateCells(e)},this.validateRows=function(e,t){if(!Array.isArray(e))throw new Error("validateRows parameter `rows` must be an array");this._validateCells(t,e)},this.validateColumns=function(e,t){if(!Array.isArray(e))throw new Error("validateColumns parameter `columns` must be an array");this._validateCells(t,void 0,e)},this._validateCells=function(e,t,n){var r=new x;e&&(r.onQueueEmpty=e);for(var i=c.countRows()-1;i>=0;)if(void 0===t||-1!==t.indexOf(i)){for(var o=c.countCols()-1;o>=0;)void 0===n||-1!==n.indexOf(o)?(r.addValidatorToQueue(),c.validateCell(c.getDataAtCell(i,o),c.getCellMeta(i,o),(function(e){if("boolean"!=typeof e)throw new Error("Validation error: result is not boolean");!1===e&&(r.valid=!1),r.removeValidatorFormQueue()}),"validateCells"),o-=1):o-=1;i-=1}else i-=1;r.checkIfQueueIsEmpty()},this.getRowHeader=function(e){var t=g.rowHeaders,n=e;return void 0!==n&&(n=c.runHooks("modifyRowHeader",n)),void 0===n?(t=[],Wr(c.countRows()-1,(function(e){t.push(c.getRowHeader(e))}))):Array.isArray(t)&&void 0!==t[n]?t=t[n]:xn(t)?t=t(n):t&&"string"!=typeof t&&"number"!=typeof t&&(t=n+1),t},this.hasRowHeaders=function(){return!!g.rowHeaders},this.hasColHeaders=function(){if(void 0!==g.colHeaders&&null!==g.colHeaders)return!!g.colHeaders;for(var e=0,t=c.countCols();e<t;e++)if(c.getColHeader(e))return!0;return!1},this.getColHeader=function(e){var t=c.runHooks("modifyColHeader",e),n=g.colHeaders;if(void 0===t){for(var r=[],i=c.countCols(),o=0;o<i;o++)r.push(c.getColHeader(o));n=r}else{var a=c.toPhysicalColumn(t),s=function(e){for(var t=[],n=c.countCols(),r=0;r<n;r++)xn(g.columns)&&g.columns(r)&&t.push(r);return t[e]}(a);!1===g.colHeaders?n=null:g.columns&&xn(g.columns)&&g.columns(s)&&g.columns(s).title?n=g.columns(s).title:g.columns&&g.columns[a]&&g.columns[a].title?n=g.columns[a].title:Array.isArray(g.colHeaders)&&void 0!==g.colHeaders[a]?n=g.colHeaders[a]:xn(g.colHeaders)?n=g.colHeaders(a):g.colHeaders&&"string"!=typeof g.colHeaders&&"number"!=typeof g.colHeaders&&(n=Eu(t))}return n},this._getColWidthFromSettings=function(e){var t;if(e>=0&&(t=c.getCellMeta(0,e).width),void 0!==t&&t!==g.width||(t=g.colWidths),null!=t){switch(qm(t)){case"object":t=t[e];break;case"function":t=t(e)}"string"==typeof t&&(t=parseInt(t,10))}return t},this.getColWidth=function(e){var t=c._getColWidthFromSettings(e);return void 0===(t=c.runHooks("modifyColWidth",t,e))&&(t=Vl.DEFAULT_WIDTH),t},this._getRowHeightFromSettings=function(e){var t=g.rowHeights;if(null!=t){switch(qm(t)){case"object":t=t[e];break;case"function":t=t(e)}"string"==typeof t&&(t=parseInt(t,10))}return t},this.getRowHeight=function(e){var t=c._getRowHeightFromSettings(e);return c.runHooks("modifyRowHeight",t,e)},this.countSourceRows=function(){return i.countRows()},this.countSourceCols=function(){return i.countFirstRowKeys()},this.countRows=function(){return r.getLength()},this.countCols=function(){var e=g.maxCols,t=this.columnIndexMapper.getNotTrimmedIndexesLength();return Math.min(e,t)},this.countRenderedRows=function(){return c.view._wt.drawn?c.view._wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return c.view._wt.drawn?c.view._wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return c.view._wt.drawn?c.view._wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return c.view._wt.drawn?c.view._wt.wtTable.getVisibleColumnsCount():-1},this.countEmptyRows=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=0;return $r(c.countRows()-1,(function(n){if(c.isEmptyRow(n))t+=1;else if(!0===e)return!1})),t},this.countEmptyCols=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(c.countRows()<1)return 0;var t=0;return $r(c.countCols()-1,(function(n){if(c.isEmptyCol(n))t+=1;else if(!0===e)return!1})),t},this.isEmptyRow=function(e){return g.isEmptyRow.call(c,e)},this.isEmptyCol=function(e){return g.isEmptyCol.call(c,e)},this.selectCell=function(e,t,n,r){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return!Qe(e)&&!Qe(t)&&this.selectCells([[e,t,n,r]],i,o)},this.selectCells=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[]],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];!1===t&&(u=!0);var r=_.selectCells(e);return r&&n&&c.listen(),u=!1,r},this.selectColumns=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return _.selectColumns(e,t)},this.selectRows=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return _.selectRows(e,t)},this.deselectCell=function(){_.deselect()},this.selectAll=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=e&&this.hasRowHeaders(),n=e&&this.hasColHeaders();u=!0,_.selectAll(t,n),u=!1};var A=function(e,t){return e.getNearestNotHiddenIndex(t,1,!0)};function L(e){return function(){throw new Error('The "'.concat(e,'" method cannot be called because this Handsontable instance has been destroyed'))}}this.scrollViewportTo=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!n,a=!r,s=e,l=t;if(i){var u=Number.isInteger(e),d=Number.isInteger(t),h=u?A(this.rowIndexMapper,e):void 0,f=d?A(this.columnIndexMapper,t):void 0;if(null===h||null===f)return!1;s=u?c.rowIndexMapper.getRenderableFromVisualIndex(h):void 0,l=d?c.columnIndexMapper.getRenderableFromVisualIndex(f):void 0}var p=Number.isInteger(s),m=Number.isInteger(l);return p&&m?c.view.scrollViewport(c._createCellCoords(s,l),o,r,n,a):p&&!1===m?c.view.scrollViewportVertically(s,o,n):!(!m||!1!==p)&&c.view.scrollViewportHorizontally(l,r,a)},this.destroy=function(){if(c._clearTimeouts(),c._clearImmediates(),c.view&&c.view.destroy(),i&&i.destroy(),i=null,this.getShortcutManager().destroy(),m.clearCache(),hu(c)){var e=this.rootDocument.querySelector("#hot-display-license-info");e&&e.parentNode.removeChild(e)}Yt(c.rootElement),d.destroy(),a&&a.destroy(),c.batchExecution((function(){c.rowIndexMapper.unregisterAll(),c.columnIndexMapper.unregisterAll(),v.getItems().forEach((function(e){Gm(e,2)[1].destroy()})),v.clear(),c.runHooks("afterDestroy")}),!0),rr.getSingleton().destroy(c),fe(c,(function(e,t,n){xn(e)?n[t]=L(t):"guid"!==t&&(n[t]=null)})),c.isDestroyed=!0,r&&r.destroy(),c.rowIndexMapper=null,c.columnIndexMapper=null,r=null,o=null,_=null,a=null,c=null},this.getActiveEditor=function(){return a.getActiveEditor()},this.getPlugin=function(e){var t=mt(e);return"UndoRedo"===t?this.undoRedo:v.getItem(t)},this.getPluginName=function(e){return e===this.undoRedo?this.undoRedo.constructor.PLUGIN_KEY:v.getId(e)},this.getInstance=function(){return c},this.addHook=function(e,t){rr.getSingleton().add(e,t,c)},this.hasHook=function(e){return rr.getSingleton().has(e,c)||rr.getSingleton().has(e)},this.addHookOnce=function(e,t){rr.getSingleton().once(e,t,c)},this.removeHook=function(e,t){rr.getSingleton().remove(e,t,c)},this.runHooks=function(e,t,n,r,i,o,a){return rr.getSingleton().run(c,e,t,n,r,i,o,a)},this.getTranslatedPhrase=function(e,t){return yf(g.language,e,t)},this.toHTML=function(){return Pr(s)},this.toTableElement=function(){var e=s.rootDocument.createElement("div");return e.insertAdjacentHTML("afterbegin",Pr(s)),e.firstElementChild},this.timeouts=[],this._registerTimeout=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e;"function"==typeof n&&(n=setTimeout(n,t)),this.timeouts.push(n)},this._clearTimeouts=function(){$(this.timeouts,(function(e){clearTimeout(e)}))},this.immediates=[],this._registerImmediate=function(e){this.immediates.push(setImmediate(e))},this._clearImmediates=function(){$(this.immediates,(function(e){clearImmediate(e)}))},this._refreshBorders=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];a.destroyEditor(e),c.view.render(),t&&_.isSelected()&&a.prepareEditor()},this.isRtl=function(){return"rtl"===c.rootWindow.getComputedStyle(c.rootElement).direction},this.isLtr=function(){return!c.isRtl()},this.getDirectionFactor=function(){return c.isLtr()?1:-1};var j=Vm({handleEvent:function(e){var t=c.isListening(),n=void 0!==(null==e?void 0:e.key);return t&&n},beforeKeyDown:function(e){return s.runHooks("beforeKeyDown",e)},afterKeyDown:function(e){s.isDestroyed||c.runHooks("afterDocumentKeyDown",e)},ownerWindow:this.rootWindow});this.getShortcutManager=function(){return j};var P=j.addContext("grid"),I={runOnlyIf:function(){return Je(c.getSelected())&&c.countRenderedRows()>0&&c.countRenderedCols()>0},group:Jm};j.setActiveContextName("grid"),P.addShortcuts([{keys:[["Control/Meta","A"]],callback:function(){c.selectAll()}},{keys:[["Control/Meta","Enter"]],callback:function(){for(var e=c.getSelectedRange(),t=e[e.length-1].highlight,n=t.row,r=t.col,i=c.getDataAtCell(n,r),o=new Map,a=0;a<e.length;a++)e[a].forAll((function(e,t){e>=0&&t>=0&&(e!==n||t!==r)&&(c.getCellMeta(e,t).readOnly||o.set("".concat(e,"x").concat(t),[e,t,i]))}));c.setDataAtCell(Array.from(o.values()))},runOnlyIf:function(){return c.getSelectedRangeLast().getCellsCount()>1}},{keys:[["ArrowUp"]],callback:function(){_.transformStart(-1,0)}},{keys:[["ArrowUp","Control/Meta"]],captureCtrl:!0,callback:function(){_.setRangeStart(c._createCellCoords(c.rowIndexMapper.getNearestNotHiddenIndex(0,1),c.getSelectedRangeLast().highlight.col))}},{keys:[["ArrowUp","Shift"]],callback:function(){_.transformEnd(-1,0)}},{keys:[["ArrowUp","Shift","Control/Meta"]],captureCtrl:!0,callback:function(){var e=c.getSelectedRangeLast(),t=e.from,n=e.to,r=c.rowIndexMapper.getNearestNotHiddenIndex(0,1);_.setRangeStart(t.clone()),_.setRangeEnd(c._createCellCoords(r,n.col))},runOnlyIf:function(){return!(c.selection.isSelectedByCorner()||c.selection.isSelectedByColumnHeader())}},{keys:[["ArrowDown"]],callback:function(){_.transformStart(1,0)}},{keys:[["ArrowDown","Control/Meta"]],captureCtrl:!0,callback:function(){_.setRangeStart(c._createCellCoords(c.rowIndexMapper.getNearestNotHiddenIndex(c.countRows()-1,-1),c.getSelectedRangeLast().highlight.col))}},{keys:[["ArrowDown","Shift"]],callback:function(){_.transformEnd(1,0)}},{keys:[["ArrowDown","Shift","Control/Meta"]],captureCtrl:!0,callback:function(){var e=c.getSelectedRangeLast(),t=e.from,n=e.to,r=c.rowIndexMapper.getNearestNotHiddenIndex(c.countRows()-1,-1);_.setRangeStart(t.clone()),_.setRangeEnd(c._createCellCoords(r,n.col))},runOnlyIf:function(){return!(c.selection.isSelectedByCorner()||c.selection.isSelectedByColumnHeader())}},{keys:[["ArrowLeft"]],callback:function(){_.transformStart(0,-1*c.getDirectionFactor())}},{keys:[["ArrowLeft","Control/Meta"]],captureCtrl:!0,callback:function(){var e,t=c.getSelectedRangeLast().highlight.row,n=(e=c.columnIndexMapper).getNearestNotHiddenIndex.apply(e,Km(c.isRtl()?[c.countCols()-1,-1]:[0,1]));_.setRangeStart(c._createCellCoords(t,n))}},{keys:[["ArrowLeft","Shift"]],callback:function(){_.transformEnd(0,-1*c.getDirectionFactor())}},{keys:[["ArrowLeft","Shift","Control/Meta"]],captureCtrl:!0,callback:function(){var e,t=c.getSelectedRangeLast(),n=t.from,r=t.to,i=(e=c.columnIndexMapper).getNearestNotHiddenIndex.apply(e,Km(c.isRtl()?[c.countCols()-1,-1]:[0,1]));_.setRangeStart(n.clone()),_.setRangeEnd(c._createCellCoords(r.row,i))},runOnlyIf:function(){return!(c.selection.isSelectedByCorner()||c.selection.isSelectedByRowHeader())}},{keys:[["ArrowRight"]],callback:function(){_.transformStart(0,c.getDirectionFactor())}},{keys:[["ArrowRight","Control/Meta"]],captureCtrl:!0,callback:function(){var e,t=c.getSelectedRangeLast().highlight.row,n=(e=c.columnIndexMapper).getNearestNotHiddenIndex.apply(e,Km(c.isRtl()?[0,1]:[c.countCols()-1,-1]));_.setRangeStart(c._createCellCoords(t,n))}},{keys:[["ArrowRight","Shift"]],callback:function(){_.transformEnd(0,c.getDirectionFactor())}},{keys:[["ArrowRight","Shift","Control/Meta"]],captureCtrl:!0,callback:function(){var e,t=c.getSelectedRangeLast(),n=t.from,r=t.to,i=(e=c.columnIndexMapper).getNearestNotHiddenIndex.apply(e,Km(c.isRtl()?[0,1]:[c.countCols()-1,-1]));_.setRangeStart(n.clone()),_.setRangeEnd(c._createCellCoords(r.row,i))},runOnlyIf:function(){return!(c.selection.isSelectedByCorner()||c.selection.isSelectedByRowHeader())}},{keys:[["Home"]],captureCtrl:!0,callback:function(){var e=parseInt(c.getSettings().fixedColumnsStart,10),t=c.getSelectedRangeLast().highlight.row,n=c.columnIndexMapper.getNearestNotHiddenIndex(e,1);_.setRangeStart(c._createCellCoords(t,n))},runOnlyIf:function(){return c.view.isMainTableNotFullyCoveredByOverlays()}},{keys:[["Home","Shift"]],callback:function(){_.setRangeEnd(c._createCellCoords(_.selectedRange.current().from.row,c.columnIndexMapper.getNearestNotHiddenIndex(0,1)))}},{keys:[["Home","Control/Meta"]],captureCtrl:!0,callback:function(){var e=parseInt(c.getSettings().fixedRowsTop,10),t=parseInt(c.getSettings().fixedColumnsStart,10),n=c.rowIndexMapper.getNearestNotHiddenIndex(e,1),r=c.columnIndexMapper.getNearestNotHiddenIndex(t,1);_.setRangeStart(c._createCellCoords(n,r))},runOnlyIf:function(){return c.view.isMainTableNotFullyCoveredByOverlays()}},{keys:[["End"]],captureCtrl:!0,callback:function(){_.setRangeStart(c._createCellCoords(c.getSelectedRangeLast().highlight.row,c.columnIndexMapper.getNearestNotHiddenIndex(c.countCols()-1,-1)))},runOnlyIf:function(){return c.view.isMainTableNotFullyCoveredByOverlays()}},{keys:[["End","Shift"]],callback:function(){_.setRangeEnd(c._createCellCoords(_.selectedRange.current().from.row,c.columnIndexMapper.getNearestNotHiddenIndex(c.countCols()-1,-1)))}},{keys:[["End","Control/Meta"]],captureCtrl:!0,callback:function(){var e=parseInt(c.getSettings().fixedRowsBottom,10),t=c.rowIndexMapper.getNearestNotHiddenIndex(c.countRows()-e-1,-1),n=c.columnIndexMapper.getNearestNotHiddenIndex(c.countCols()-1,-1);_.setRangeStart(c._createCellCoords(t,n))},runOnlyIf:function(){return c.view.isMainTableNotFullyCoveredByOverlays()}},{keys:[["PageUp"]],callback:function(){_.transformStart(-c.countVisibleRows(),0)}},{keys:[["PageUp","Shift"]],callback:function(){var e=c.getSelectedRangeLast().to,t=Math.max(e.row-c.countVisibleRows(),0),n=c.rowIndexMapper.getNearestNotHiddenIndex(t,1);if(null!==n){var r=c._createCellCoords(n,e.col),i=e.row-c.view.getFirstFullyVisibleRow(),o=Math.max(r.row-i,0);_.setRangeEnd(r),c.scrollViewportTo(o)}}},{keys:[["PageDown"]],callback:function(){_.transformStart(c.countVisibleRows(),0)}},{keys:[["PageDown","Shift"]],callback:function(){var e=c.getSelectedRangeLast().to,t=Math.min(e.row+c.countVisibleRows(),c.countRows()-1),n=c.rowIndexMapper.getNearestNotHiddenIndex(t,-1);if(null!==n){var r=c._createCellCoords(n,e.col),i=e.row-c.view.getFirstFullyVisibleRow(),o=Math.min(r.row-i,c.countRows()-1);_.setRangeEnd(r),c.scrollViewportTo(o)}}},{keys:[["Tab"]],callback:function(e){var t="function"==typeof g.tabMoves?g.tabMoves(e):g.tabMoves;_.transformStart(t.row,t.col,!0)}},{keys:[["Shift","Tab"]],callback:function(e){var t="function"==typeof g.tabMoves?g.tabMoves(e):g.tabMoves;_.transformStart(-t.row,-t.col)}}],I),gi().forEach((function(e){var t=yi(e);v.addItem(e,new t(s))})),rr.getSingleton().run(c,"construct")}var tg={_hooksStorage:Object.create(null),addHook:function(e,t){return this._hooksStorage[e]||(this._hooksStorage[e]=[]),this.hot.addHook(e,t),this._hooksStorage[e].push(t),this},removeHooksByKey:function(e){var t=this;$(this._hooksStorage[e]||[],(function(n){t.hot.removeHook(e,n)}))},clearHooks:function(){var e=this;fe(this._hooksStorage,(function(t,n){return e.removeHooksByKey(n)})),this._hooksStorage={}}};he(tg,"MIXIN_NAME","hooksRefRegisterer",{writable:!1,enumerable:!1});const ng=tg;function rg(e){return rg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rg(e)}function ig(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function og(e,t){return og=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},og(e,t)}function ag(e,t){if(t&&("object"===rg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function sg(e){return sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sg(e)}function lg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ug(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cg(e,t,n){return t&&ug(e.prototype,t),n&&ug(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var dg=Object.freeze({VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"}),hg="baseEditor",fg=function(){function e(t){lg(this,e),this.hot=t,this.instance=t,this.state=dg.VIRGIN,this._opened=!1,this._fullEditMode=!1,this._closeCallback=null,this.TD=null,this.row=null,this.col=null,this.prop=null,this.originalValue=null,this.cellProperties=null,this.init()}return cg(e,[{key:"_fireCallbacks",value:function(e){this._closeCallback&&(this._closeCallback(e),this._closeCallback=null)}},{key:"init",value:function(){}},{key:"getValue",value:function(){throw Error("Editor getValue() method unimplemented")}},{key:"setValue",value:function(){throw Error("Editor setValue() method unimplemented")}},{key:"open",value:function(){throw Error("Editor open() method unimplemented")}},{key:"close",value:function(){throw Error("Editor close() method unimplemented")}},{key:"prepare",value:function(e,t,n,r,i,o){this.TD=r,this.row=e,this.col=t,this.prop=n,this.originalValue=i,this.cellProperties=o,this.state=dg.VIRGIN}},{key:"extend",value:function(){return function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&og(e,t)}(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=sg(t);if(n){var i=sg(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return ag(this,e)});function i(){return lg(this,i),r.apply(this,arguments)}return cg(i)}(this.constructor)}},{key:"saveValue",value:function(e,t){var n,r,i,o,a=this;if(t){var s=this.hot.getSelectedLast();n=Math.max(Math.min(s[0],s[2]),0),r=Math.max(Math.min(s[1],s[3]),0),i=Math.max(s[0],s[2]),o=Math.max(s[1],s[3])}else{var l=[this.row,this.col,null,null];n=l[0],r=l[1],i=l[2],o=l[3]}var u,c,d=this.hot.runHooks("modifyGetCellCoords",n,r);if(Array.isArray(d)){var h=(c=2,function(e){if(Array.isArray(e))return e}(u=d)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(u,c)||function(e,t){if(e){if("string"==typeof e)return ig(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ig(e,t):void 0}}(u,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());n=h[0],r=h[1]}var f=this.hot.getShortcutManager().getContext("editor"),p={runOnlyIf:function(){return Je(a.hot.getSelected())},group:hg};this.isInFullEditMode()&&f.addShortcuts([{keys:[["ArrowUp"]],callback:function(){a.hot.selection.transformStart(-1,0)}},{keys:[["ArrowDown"]],callback:function(){a.hot.selection.transformStart(1,0)}},{keys:[["ArrowLeft"]],callback:function(){a.hot.selection.transformStart(0,-1*a.hot.getDirectionFactor())}},{keys:[["ArrowRight"]],callback:function(){a.hot.selection.transformStart(0,a.hot.getDirectionFactor())}}],p),this.hot.populateFromArray(n,r,e,i,o,"edit")}},{key:"beginEditing",value:function(e,t){if(this.state===dg.VIRGIN){var n=this.hot,r=n.rowIndexMapper.getRenderableFromVisualIndex(this.row),i=n.columnIndexMapper.getRenderableFromVisualIndex(this.col);if(n.view.scrollViewport(n._createCellCoords(r,i)),this.state=dg.EDITING,this.isInFullEditMode()){var o="string"==typeof e?e:Xe(this.originalValue);this.setValue(o)}this.open(t),this._opened=!0,this.focus(),n.view.render(),n.runHooks("afterBeginEditing",this.row,this.col)}}},{key:"finishEditing",value:function(e,t,n){var r,i=this;if(n){var o=this._closeCallback;this._closeCallback=function(e){o&&o(e),n(e),i.hot.view.render()}}if(!this.isWaiting()){var a=this.hot.getShortcutManager().getContext("editor");if(a.removeShortcutsByGroup(hg),a.removeShortcutsByGroup(xr),this.state!==dg.VIRGIN){if(this.state===dg.EDITING){if(e)return this.cancelChanges(),void this.hot.view.render();var s=this.getValue();r=this.cellProperties.trimWhitespace?[["string"==typeof s?String.prototype.trim.call(s||""):s]]:[[s]],this.state=dg.WAITING,this.saveValue(r,t),this.hot.getCellValidator(this.cellProperties)?this.hot.addHookOnce("postAfterValidate",(function(e){i.state=dg.FINISHED,i.discardEditor(e)})):(this.state=dg.FINISHED,this.discardEditor(!0))}}else this.hot._registerTimeout((function(){i._fireCallbacks(!0)}))}}},{key:"cancelChanges",value:function(){this.state=dg.FINISHED,this.discardEditor()}},{key:"discardEditor",value:function(e){this.state===dg.FINISHED&&(!1===e&&!0!==this.cellProperties.allowInvalid?(this.hot.selectCell(this.row,this.col),this.focus(),this.state=dg.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this._fullEditMode=!1,this.state=dg.VIRGIN,this._fireCallbacks(!0),this.hot.getShortcutManager().setActiveContextName("grid")))}},{key:"enableFullEditMode",value:function(){this._fullEditMode=!0}},{key:"isInFullEditMode",value:function(){return this._fullEditMode}},{key:"isOpened",value:function(){return this._opened}},{key:"isWaiting",value:function(){return this.state===dg.WAITING}},{key:"getEditedCellRect",value:function(){var e,t=this.getEditedCell();if(t){var n=this.hot.view._wt,r=n.wtOverlays,i=n.wtViewport,o=this.hot.rootWindow,a=Vt(t),s=nn(t),l=Vt(this.hot.rootElement),u=nn(this.hot.rootElement),c=r.topOverlay.holder,d=r.inlineStartOverlay.holder,h=c!==o?c.scrollTop:0,f=d!==o?d.scrollLeft:0,p=o.innerWidth-l.left-u,m=(null!==(e=r.getParentOverlay(t))&&void 0!==e?e:this.hot.view._wt).wtTable,g=m.name,y=["master","inline_start"].includes(g)?h:0,v=["master","top","bottom"].includes(g)?f:0,b=a.top===l.top?0:1,w=a.top-l.top-b-y,_=0;_=this.hot.isRtl()?o.innerWidth-a.left-s-p-1+v:a.left-l.left-1-v,["top","top_inline_start_corner"].includes(g)&&(w+=r.topOverlay.getOverlayOffset()),["inline_start","top_inline_start_corner"].includes(g)&&(_+=Math.abs(r.inlineStartOverlay.getOverlayOffset()));var k=this.hot.hasColHeaders(),S=this.hot.rowIndexMapper.getRenderableFromVisualIndex(this.row),M=this.hot.columnIndexMapper.getRenderableFromVisualIndex(this.col),x=this.hot.rowIndexMapper.getRenderableIndexesLength()-this.hot.view._wt.getSetting("fixedRowsBottom");(k&&S<=0||S===x)&&(w+=1),M<=0&&(_+=1);var O=i.rowsRenderCalculator.startPosition,C=i.columnsRenderCalculator.startPosition,T=Math.abs(r.inlineStartOverlay.getScrollPosition()),R=r.topOverlay.getScrollPosition(),D=mn(this.hot.rootDocument),E=t.offsetTop+O-R,A=0;if(this.hot.isRtl()){var L=t.offsetLeft;A=L>=0?m.getWidth()-t.offsetLeft:Math.abs(L),A+=C-T-s}else A=t.offsetLeft+C-T;var j=tn(this.TD,this.hot.rootWindow),P=this.hot.isRtl()?"borderRightWidth":"borderLeftWidth",I=parseInt(j[P],10)>0?0:1,H=parseInt(j.borderTopWidth,10)>0?0:1,N=nn(t)+I,F=rn(t)+H,Y=gn(c)?D:0,z=yn(d)?D:0,B=this.hot.view.maximumVisibleElementWidth(A)-Y+I;return{top:w,start:_,height:F,maxHeight:Math.max(this.hot.view.maximumVisibleElementHeight(E)-z+H,23),width:N,maxWidth:B}}}},{key:"getEditedCellsLayerClass",value:function(){switch(this.checkEditorSection()){case"inline-start":return"ht_clone_left ht_clone_inline_start";case"bottom":return"ht_clone_bottom";case"bottom-inline-start-corner":return"ht_clone_bottom_left_corner ht_clone_bottom_inline_start_corner";case"top":return"ht_clone_top";case"top-inline-start-corner":return"ht_clone_top_left_corner ht_clone_top_inline_start_corner";default:return"ht_clone_master"}}},{key:"getEditedCell",value:function(){return this.hot.getCell(this.row,this.col,!0)}},{key:"checkEditorSection",value:function(){var e=this.hot.countRows(),t="";return this.row<this.hot.getSettings().fixedRowsTop?t=this.col<this.hot.getSettings().fixedColumnsStart?"top-inline-start-corner":"top":this.hot.getSettings().fixedRowsBottom&&this.row>=e-this.hot.getSettings().fixedRowsBottom?t=this.col<this.hot.getSettings().fixedColumnsStart?"bottom-inline-start-corner":"bottom":this.col<this.hot.getSettings().fixedColumnsStart&&(t="inline-start"),t}}],[{key:"EDITOR_TYPE",get:function(){return"base"}}]),e}();function pg(){var e,t={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300},n=document.body,r=document.createTextNode(""),i=document.createElement("SPAN"),o=function(e,t,n){e.addEventListener(t,n,!1)},a=function(e,t,n){e.removeEventListener(t,n,!1)},s=function(o){var a,s;o?/^[a-zA-Z \.,\\\/\|0-9]$/.test(o)||(o="."):o="",void 0!==r.textContent?r.textContent=e.value+o:r.data=e.value+o,i.style.fontSize=u(e).fontSize,i.style.fontFamily=u(e).fontFamily,i.style.whiteSpace="pre",n.appendChild(i),a=i.clientWidth+2,n.removeChild(i),e.style.height=t.minHeight+"px",t.minWidth>a?e.style.width=t.minWidth+"px":a>t.maxWidth?e.style.width=t.maxWidth+"px":e.style.width=a+"px",s=e.scrollHeight?e.scrollHeight-1:0,t.minHeight>s?e.style.height=t.minHeight+"px":t.maxHeight<s?(e.style.height=t.maxHeight+"px",e.style.overflowY="visible"):e.style.height=s+"px"},l=function(){window.setTimeout(s,0)};function u(e){return e.currentStyle||document.defaultView.getComputedStyle(e)}return{init:function(n,a,u){!function(n,a,u){e=n,function(n){if(n&&n.minHeight)if("inherit"==n.minHeight)t.minHeight=e.clientHeight;else{var o=parseInt(n.minHeight);isNaN(o)||(t.minHeight=o)}if(n&&n.maxHeight)if("inherit"==n.maxHeight)t.maxHeight=e.clientHeight;else{var a=parseInt(n.maxHeight);isNaN(a)||(t.maxHeight=a)}if(n&&n.minWidth)if("inherit"==n.minWidth)t.minWidth=e.clientWidth;else{var s=parseInt(n.minWidth);isNaN(s)||(t.minWidth=s)}if(n&&n.maxWidth)if("inherit"==n.maxWidth)t.maxWidth=e.clientWidth;else{var l=parseInt(n.maxWidth);isNaN(l)||(t.maxWidth=l)}i.firstChild||(i.className="autoResize",i.style.display="inline-block",i.appendChild(r))}(a),"TEXTAREA"==e.nodeName&&(e.style.resize="none",e.style.overflowY="",e.style.height=t.minHeight+"px",e.style.minWidth=t.minWidth+"px",e.style.maxWidth=t.maxWidth+"px",e.style.overflowY="hidden"),u&&(o(e,"change",s),o(e,"cut",l),o(e,"paste",l),o(e,"drop",l),o(e,"keydown",l),o(e,"focus",s),o(e,"compositionstart",l),o(e,"compositionupdate",l),o(e,"compositionend",l)),s()}(n,a,u)},unObserve:function(){a(e,"change",s),a(e,"cut",l),a(e,"paste",l),a(e,"drop",l),a(e,"keydown",l),a(e,"focus",s),a(e,"compositionstart",l),a(e,"compositionupdate",l),a(e,"compositionend",l)},resize:s}}function mg(e,t){for(var n=un(t),r=t.value.split("\n"),i=n,o=0,a=0;a<r.length;a++){var s=r[a];0!==a&&(o+=r[a-1].length+1);var l=o+s.length;if("home"===e?i=o:"end"===e&&(i=l),n<=l)break}fn(t,i)}function gg(e){return gg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(e)}function yg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vg(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wg(){return wg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=_g(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},wg.apply(this,arguments)}function _g(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xg(e)););return e}function kg(e,t){return kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kg(e,t)}function Sg(e,t){if(t&&("object"===gg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mg(e)}function Mg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xg(e){return xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xg(e)}ue(fg,ng);var Og="ht_editor_hidden",Cg="textEditor",Tg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kg(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=xg(i);if(o){var n=xg(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Sg(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).eventManager=new kr(Mg(t)),t.autoResize=pg(),t.TEXTAREA=void 0,t.textareaStyle=void 0,t.TEXTAREA_PARENT=void 0,t.textareaParentStyle=void 0,t.layerClass=void 0,t.createElements(),t.bindEvents(),t.hot.addHookOnce("afterDestroy",(function(){return t.destroy()})),t}return t=s,n=[{key:"getValue",value:function(){return this.TEXTAREA.value}},{key:"setValue",value:function(e){this.TEXTAREA.value=e}},{key:"open",value:function(){var e=this;this.refreshDimensions(),this.showEditableElement(),this.hot.getShortcutManager().setActiveContextName("editor"),this.addHook("afterDocumentKeyDown",(function(t){return e.onAfterDocumentKeyDown(t)})),this.registerShortcuts()}},{key:"close",value:function(){this.autoResize.unObserve(),this.hot.rootDocument.activeElement===this.TEXTAREA&&this.hot.listen(),this.hideEditableElement(),this.unregisterShortcuts(),this.removeHooksByKey("afterDocumentKeyDown")}},{key:"prepare",value:function(e,t,n,r,i,o){var a=this.state;if(wg(xg(s.prototype),"prepare",this).call(this,e,t,n,r,i,o),!o.readOnly){this.refreshDimensions(!0);var l=o.allowInvalid,u=o.fragmentSelection;l&&(this.TEXTAREA.value=""),a!==dg.FINISHED&&this.hideEditableElement(),!u&&!je()&&this.focus()}}},{key:"beginEditing",value:function(e,t){this.state===dg.VIRGIN&&(this.TEXTAREA.value="",wg(xg(s.prototype),"beginEditing",this).call(this,e,t))}},{key:"focus",value:function(){this.TEXTAREA.select(),fn(this.TEXTAREA,this.TEXTAREA.value.length)}},{key:"createElements",value:function(){var e=this.hot.rootDocument;this.TEXTAREA=e.createElement("TEXTAREA"),this.TEXTAREA.setAttribute("data-hot-input",""),this.TEXTAREA.tabIndex=-1,Ht(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.textareaStyle.overflowY="visible",this.TEXTAREA_PARENT=e.createElement("DIV"),Ht(this.TEXTAREA_PARENT,"handsontableInputHolder"),It(this.TEXTAREA_PARENT,this.layerClass)&&Nt(this.TEXTAREA_PARENT,this.layerClass),Ht(this.TEXTAREA_PARENT,Og),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.hot.rootElement.appendChild(this.TEXTAREA_PARENT)}},{key:"hideEditableElement",value:function(){(Ee()||Re())&&(this.textareaStyle.textIndent="-99999px"),this.textareaStyle.overflowY="visible",this.textareaParentStyle.opacity="0",this.textareaParentStyle.height="1px",Nt(this.TEXTAREA_PARENT,this.layerClass),Ht(this.TEXTAREA_PARENT,Og)}},{key:"showEditableElement",value:function(){this.textareaParentStyle.height="",this.textareaParentStyle.overflow="",this.textareaParentStyle.position="",this.textareaParentStyle[this.hot.isRtl()?"left":"right"]="auto",this.textareaParentStyle.opacity="1",this.textareaStyle.textIndent="",this.textareaStyle.overflowY="hidden";var e=this.TEXTAREA_PARENT.childNodes,t=!1;Wr(e.length-1,(function(n){if(It(e[n],"handsontableEditor"))return t=!0,!1})),It(this.TEXTAREA_PARENT,Og)&&Nt(this.TEXTAREA_PARENT,Og),t?(this.layerClass="ht_editor_visible",Ht(this.TEXTAREA_PARENT,this.layerClass)):(this.layerClass=this.getEditedCellsLayerClass(),Ht(this.TEXTAREA_PARENT,this.layerClass))}},{key:"refreshValue",value:function(){var e=this.hot.toPhysicalRow(this.row),t=this.hot.getSourceDataAtCell(e,this.col);this.originalValue=t,this.setValue(t),this.refreshDimensions()}},{key:"refreshDimensions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.state===dg.EDITING||e)if(this.TD=this.getEditedCell(),this.TD){var t=this.getEditedCellRect(),n=t.top,r=t.start,i=t.width,o=t.maxWidth,a=t.height,s=t.maxHeight;this.textareaParentStyle.top="".concat(n,"px"),this.textareaParentStyle[this.hot.isRtl()?"right":"left"]="".concat(r,"px"),this.showEditableElement();var l=tn(this.TD,this.hot.rootWindow);this.TEXTAREA.style.fontSize=l.fontSize,this.TEXTAREA.style.fontFamily=l.fontFamily,this.TEXTAREA.style.backgroundColor=this.TD.style.backgroundColor;var u=tn(this.TEXTAREA),c=parseInt(u.paddingLeft,10)+parseInt(u.paddingRight,10),d=parseInt(u.paddingTop,10)+parseInt(u.paddingBottom,10),h=i-c,f=a-d,p=o-c,m=s-d;this.autoResize.init(this.TEXTAREA,{minWidth:Math.min(h,p),minHeight:Math.min(f,m),maxWidth:p,maxHeight:m},!0)}else e||this.close()}},{key:"bindEvents",value:function(){var e=this;this.eventManager.addEventListener(this.TEXTAREA,"cut",(function(e){return e.stopPropagation()})),this.eventManager.addEventListener(this.TEXTAREA,"paste",(function(e){return e.stopPropagation()})),Pe()&&this.eventManager.addEventListener(this.TEXTAREA,"focusout",(function(){return e.finishEditing(!1)})),this.addHook("afterScrollHorizontally",(function(){return e.refreshDimensions()})),this.addHook("afterScrollVertically",(function(){return e.refreshDimensions()})),this.addHook("afterColumnResize",(function(){e.refreshDimensions(),e.focus()})),this.addHook("afterRowResize",(function(){e.refreshDimensions(),e.focus()}))}},{key:"allowKeyEventPropagation",value:function(){}},{key:"destroy",value:function(){this.eventManager.destroy(),this.clearHooks()}},{key:"registerShortcuts",value:function(){var e=this,t=this.hot.getShortcutManager().getContext("editor"),n={runOnlyIf:function(){return Je(e.hot.getSelected())},group:Cg},r=function(){e.hot.rootDocument.execCommand("insertText",!1,"\n")};t.addShortcuts([{keys:[["Tab"]],callback:function(t){var n=e.hot.getSettings(),r="function"==typeof n.tabMoves?n.tabMoves(t):n.tabMoves;e.hot.selection.transformStart(r.row,r.col,!0)}},{keys:[["Shift","Tab"]],callback:function(t){var n=e.hot.getSettings(),r="function"==typeof n.tabMoves?n.tabMoves(t):n.tabMoves;e.hot.selection.transformStart(-r.row,-r.col)}},{keys:[["Control","Enter"]],callback:function(){return r(),!1},runOnlyIf:function(t){return!e.hot.selection.isMultiple()&&!t.altKey},relativeToGroup:Or,position:"before"},{keys:[["Meta","Enter"]],callback:function(){return r(),!1},runOnlyIf:function(){return!e.hot.selection.isMultiple()},relativeToGroup:Or,position:"before"},{keys:[["Alt","Enter"]],callback:function(){return r(),!1},relativeToGroup:Or,position:"before"},{keys:[["PageUp"]],callback:function(){e.hot.selection.transformStart(-e.hot.countVisibleRows(),0)}},{keys:[["PageDown"]],callback:function(){e.hot.selection.transformStart(e.hot.countVisibleRows(),0)}},{keys:[["Home"]],callback:function(t,n){mg(yg(n,1)[0],e.TEXTAREA)}},{keys:[["End"]],callback:function(t,n){mg(yg(n,1)[0],e.TEXTAREA)}},{keys:[["Control/Meta","Z"]],preventDefault:!1,callback:function(){e.hot._registerTimeout((function(){e.autoResize.resize()}),10)}},{keys:[["Control/Meta","Shift","Z"]],preventDefault:!1,callback:function(){e.hot._registerTimeout((function(){e.autoResize.resize()}),10)}}],n)}},{key:"unregisterShortcuts",value:function(){var e=this.hot.getShortcutManager().getContext("editor");e.removeShortcutsByGroup(xr),e.removeShortcutsByGroup(Cg),e.removeShortcutsByGroup(hg)}},{key:"onAfterDocumentKeyDown",value:function(e){-1===[Pn.ARROW_UP,Pn.ARROW_RIGHT,Pn.ARROW_DOWN,Pn.ARROW_LEFT].indexOf(e.keyCode)&&this.autoResize.resize(String.fromCharCode(e.keyCode))}}],r=[{key:"EDITOR_TYPE",get:function(){return"text"}}],n&&bg(t.prototype,n),r&&bg(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(fg);function Rg(e,t,n,r,i,o,a){var s=[],l=[];a.className&&Ht(t,a.className),a.readOnly&&s.push(a.readOnlyCellClassName),!1===a.valid&&a.invalidCellClassName?s.push(a.invalidCellClassName):l.push(a.invalidCellClassName),!1===a.wordWrap&&a.noWordWrapClassName&&s.push(a.noWordWrapClassName),!o&&a.placeholder&&s.push(a.placeholderCellClassName),Nt(t,l),Ht(t,s)}function Dg(e,t,n,r,i,o,a){Rg.apply(this,[e,t,n,r,i,o,a]);var s=o;if(!s&&a.placeholder&&(s=a.placeholder),s=Xe(s),a.trimWhitespace&&(s=s.trim()),a.rendererTemplate){Yt(t);var l=e.rootDocument.createElement("TEMPLATE");l.setAttribute("bind","{{}}"),l.innerHTML=a.rendererTemplate,HTMLTemplateElement.decorate(l),l.model=e.getSourceDataAtRow(n),t.appendChild(l)}else $t(t,s)}Rg.RENDERER_TYPE="base",Dg.RENDERER_TYPE="text";var Eg={CELL_TYPE:"text",editor:Tg,renderer:Dg};function Ag(e,t){var n=new eg(e,t||{},uu);return n.init(),n}Cu(Eg),Ag.editors={BaseEditor:fg},Ag.Core=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new eg(e,t,uu)},Ag.DefaultSettings=Qp(),Ag.hooks=rr.getSingleton(),Ag.packageName="handsontable",Ag.buildDate="22/09/2022 09:54:36",Ag.version="12.1.3",Ag.languages={dictionaryKeys:g,getLanguageDictionary:mf,getLanguagesDictionaries:function(){return ff()},registerLanguageDictionary:pf,getTranslatedPhrase:yf};const Lg=Ag;function jg(e){return jg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(e)}function Pg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ig(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hg(){return Hg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Ng(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Hg.apply(this,arguments)}function Ng(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zg(e)););return e}function Fg(e,t){return Fg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fg(e,t)}function Yg(e,t){if(t&&("object"===jg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function zg(e){return zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zg(e)}var Bg="handsontableEditor",Wg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fg(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=zg(i);if(o){var n=zg(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Yg(this,e)});function s(){return Pg(this,s),a.apply(this,arguments)}return t=s,n=[{key:"open",value:function(){Hg(zg(s.prototype),"open",this).call(this),this.htEditor&&this.htEditor.destroy(),"none"===this.htContainer.style.display&&(this.htContainer.style.display=""),this.htEditor=new this.hot.constructor(this.htContainer,this.htOptions),this.htEditor.init(),this.htEditor.rootElement.style.display="",this.cellProperties.strict?this.htEditor.selectCell(0,0):this.htEditor.deselectCell(),fn(this.TEXTAREA,0,this.TEXTAREA.value.length),this.refreshDimensions()}},{key:"close",value:function(){this.htEditor&&(this.htEditor.rootElement.style.display="none"),this.removeHooksByKey("beforeKeyDown"),Hg(zg(s.prototype),"close",this).call(this)}},{key:"prepare",value:function(e,t,n,r,i,o){Hg(zg(s.prototype),"prepare",this).call(this,e,t,n,r,i,o);var a=this,l={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,autoColumnSize:!1,autoRowSize:!1,readOnly:!0,fillHandle:!1,autoWrapCol:!1,autoWrapRow:!1,afterOnCellMouseDown:function(e,t){var n=this.getSourceData(t.row,t.col);void 0!==n&&a.setValue(n),a.instance.destroyEditor()},preventWheel:!0,layoutDirection:this.hot.isRtl()?"rtl":"ltr"};this.cellProperties.handsontable&&oe(l,o.handsontable),this.htOptions=l}},{key:"beginEditing",value:function(e,t){var n=this.hot.getSettings().onBeginEditing;n&&!1===n()||Hg(zg(s.prototype),"beginEditing",this).call(this,e,t)}},{key:"createElements",value:function(){Hg(zg(s.prototype),"createElements",this).call(this);var e=this.hot.rootDocument.createElement("DIV");e.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(e),this.htContainer=e,this.assignHooks()}},{key:"finishEditing",value:function(e,t,n){if(this.htEditor&&this.htEditor.isListening()&&this.hot.listen(),this.htEditor&&this.htEditor.getSelectedLast()){var r=this.htEditor.getInstance().getValue();void 0!==r&&this.setValue(r)}Hg(zg(s.prototype),"finishEditing",this).call(this,e,t,n)}},{key:"assignHooks",value:function(){var e=this;this.hot.addHook("afterDestroy",(function(){e.htEditor&&e.htEditor.destroy()}))}},{key:"registerShortcuts",value:function(){var e=this,t=this.hot.getShortcutManager().getContext("editor");Hg(zg(s.prototype),"registerShortcuts",this).call(this);var n={group:Bg,relativeToGroup:xr,position:"before"},r=function(t,n){var r=e.htEditor.getInstance();if(void 0!==t&&(t<0||r.flipped&&t>r.countRows()-1?r.deselectCell():r.selectCell(t,0),r.getData().length))return n.preventDefault(),Bn(n),e.hot.listen(),e.TEXTAREA.focus(),!1};t.addShortcuts([{keys:[["ArrowUp"]],callback:function(t){var n,i,o=e.htEditor.getInstance();return!o.getSelectedLast()&&o.flipped?n=o.countRows()-1:o.getSelectedLast()&&(o.flipped?(i=o.getSelectedLast()[0],n=Math.max(0,i-1)):n=(i=o.getSelectedLast()[0])-1),r(n,t)},preventDefault:!1},{keys:[["ArrowDown"]],callback:function(t){var n,i,o=e.htEditor.getInstance();if(o.getSelectedLast()||o.flipped){if(o.getSelectedLast())if(o.flipped)n=o.getSelectedLast()[0]+1;else if(!o.flipped){var a=o.countRows()-1;i=o.getSelectedLast()[0],n=Math.min(a,i+1)}}else n=0;return r(n,t)},preventDefault:!1}],n)}},{key:"unregisterShortcuts",value:function(){Hg(zg(s.prototype),"unregisterShortcuts",this).call(this),this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(Bg)}}],r=[{key:"EDITOR_TYPE",get:function(){return"handsontable"}}],n&&Ig(t.prototype,n),r&&Ig(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(Tg);function $g(e){return $g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$g(e)}function Ug(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vg(){return Vg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=qg(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Vg.apply(this,arguments)}function qg(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Xg(e)););return e}function Gg(e,t){return Gg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gg(e,t)}function Kg(e,t){if(t&&("object"===$g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zg(e)}function Zg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xg(e){return Xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xg(e)}var Jg=new WeakMap,Qg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gg(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Xg(i);if(o){var n=Xg(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Kg(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Zg(t=a.call(this,e)),"sortByRelevance",(function(e,t,n){var r,i,o,a,s=[],l=[],u=e.length,c=t.length;if(0===u){for(o=0;o<c;o++)l.push(o);return l}for(o=0;o<c;o++){if(i=wt(Xe(t[o])),n)a=i.indexOf(e);else{var d=this.cellProperties.locale;a=i.toLocaleLowerCase(d).indexOf(e.toLocaleLowerCase(d))}-1!==a&&(r=i.length-a-u,s.push({baseIndex:o,index:a,charsLeft:r,value:i}))}for(s.sort((function(e,t){if(-1===t.index)return-1;if(-1===e.index)return 1;if(e.index<t.index)return-1;if(t.index<e.index)return 1;if(e.index===t.index){if(e.charsLeft<t.charsLeft)return-1;if(e.charsLeft>t.charsLeft)return 1}return 0})),o=0,c=s.length;o<c;o++)l.push(s[o].baseIndex);return l})),t.query=null,t.strippedChoices=[],t.rawChoices=[],Jg.set(Zg(t),{skipOne:!1,isMacOS:t.hot.rootWindow.navigator.platform.indexOf("Mac")>-1}),t}return t=s,n=[{key:"getValue",value:function(){var e=this,t=this.rawChoices.find((function(t){return e.stripValueIfNeeded(t)===e.TEXTAREA.value}));return Je(t)?t:this.TEXTAREA.value}},{key:"createElements",value:function(){Vg(Xg(s.prototype),"createElements",this).call(this),Ht(this.htContainer,"autocompleteEditor"),Ht(this.htContainer,-1===this.hot.rootWindow.navigator.platform.indexOf("Mac")?"":"htMacScroll")}},{key:"open",value:function(){var e=this,t=Jg.get(this);Vg(Xg(s.prototype),"open",this).call(this);var n=this.htEditor.getInstance(),r=void 0===this.cellProperties.trimDropdown||this.cellProperties.trimDropdown;this.showEditableElement(),this.focus();var i=mn();0===i&&t.isMacOS&&(i+=15),this.addHook("beforeKeyDown",(function(t){return e.onBeforeKeyDown(t)})),n.updateSettings({colWidths:r?[nn(this.TEXTAREA)-2]:void 0,width:r?nn(this.TEXTAREA)+i:void 0,renderer:function(t,n,r,i,o,a,s){Dg(t,n,r,i,o,a,s);var l,u,c=e.cellProperties,d=c.filteringCaseSensitive,h=c.allowHtml,f=c.locale,p=e.query,m=Xe(a);m&&!h&&-1!==(l=!0===d?m.indexOf(p):m.toLocaleLowerCase(f).indexOf(p.toLocaleLowerCase(f)))&&(u=m.substr(l,p.length),m=m.replace(u,"<strong>".concat(u,"</strong>"))),n.innerHTML=m},autoColumnSize:!0}),t.skipOne&&(t.skipOne=!1),this.hot._registerTimeout((function(){e.queryChoices(e.TEXTAREA.value)}))}},{key:"close",value:function(){this.removeHooksByKey("beforeKeyDown"),Vg(Xg(s.prototype),"close",this).call(this)}},{key:"discardEditor",value:function(e){Vg(Xg(s.prototype),"discardEditor",this).call(this,e),this.hot.view.render()}},{key:"queryChoices",value:function(e){var t=this,n=this.cellProperties.source;this.query=e,"function"==typeof n?n.call(this.cellProperties,e,(function(e){t.rawChoices=e,t.updateChoicesList(t.stripValuesIfNeeded(e))})):Array.isArray(n)?(this.rawChoices=n,this.updateChoicesList(this.stripValuesIfNeeded(n))):this.updateChoicesList([])}},{key:"updateChoicesList",value:function(e){var t=un(this.TEXTAREA),n=cn(this.TEXTAREA),r=this.cellProperties.sortByRelevance,i=this.cellProperties.filter,o=null,a=null,s=e;r&&(o=this.sortByRelevance(this.stripValueIfNeeded(this.getValue()),s,this.cellProperties.filteringCaseSensitive));var l=Array.isArray(o)?o.length:0;if(!1===i)l&&(a=o[0]);else{for(var u=[],c=0,d=s.length;c<d&&!(r&&l<=c);c++)l?u.push(s[o[c]]):u.push(s[c]);a=0,s=u}this.strippedChoices=s,this.htEditor.loadData(Y([s])),this.updateDropdownHeight(),this.flipDropdownIfNeeded(),!0===this.cellProperties.strict&&this.highlightBestMatchingChoice(a),this.hot.listen(),fn(this.TEXTAREA,t,t===n?void 0:n)}},{key:"flipDropdownIfNeeded",value:function(){var e=Jt(this.hot.view._wt.wtTable.TABLE),t=e===this.hot.rootWindow,n=this.cellProperties.preventOverflow;if(t||!t&&(n||"horizontal"===n))return!1;var r=Vt(this.TEXTAREA),i=rn(this.TEXTAREA),o=this.getDropdownHeight(),a=e.scrollTop,s=rn(this.hot.view._wt.wtTable.THEAD),l=Vt(e),u=r.top-l.top-s+a,c=e.scrollHeight-u-s-i,d=o>c&&u>c;return d?this.flipDropdown(o):this.unflipDropdown(),this.limitDropdownIfNeeded(d?u:c,o),d}},{key:"limitDropdownIfNeeded",value:function(e,t){if(t>e){var n,r=0,i=0,o=0;do{r+=o=this.htEditor.getRowHeight(i)||this.htEditor.view._wt.getSetting("defaultRowHeight"),i+=1}while(r<e);n=r-o,this.htEditor.flipped&&(this.htEditor.rootElement.style.top="".concat(parseInt(this.htEditor.rootElement.style.top,10)+t-n,"px")),this.setDropdownHeight(r-o)}}},{key:"flipDropdown",value:function(e){var t=this.htEditor.rootElement.style;t.position="absolute",t.top="".concat(-e,"px"),this.htEditor.flipped=!0}},{key:"unflipDropdown",value:function(){var e=this.htEditor.rootElement.style;e.position="absolute",e.top="",this.htEditor.flipped=void 0}},{key:"updateDropdownHeight",value:function(){var e=this.htEditor.getColWidth(0)+mn(this.hot.rootDocument)+2,t=this.cellProperties.trimDropdown;this.htEditor.updateSettings({height:this.getDropdownHeight(),width:t?void 0:e}),this.htEditor.view._wt.wtTable.alignOverlaysWithTrimmingContainer()}},{key:"setDropdownHeight",value:function(e){this.htEditor.updateSettings({height:e})}},{key:"highlightBestMatchingChoice",value:function(e){"number"==typeof e?this.htEditor.selectCell(e,0,void 0,void 0,void 0,!1):this.htEditor.deselectCell()}},{key:"getDropdownHeight",value:function(){var e=this.htEditor.getInstance().getRowHeight(0)||23,t=this.cellProperties.visibleRows;return this.strippedChoices.length>=t?t*e:this.strippedChoices.length*e+8}},{key:"stripValueIfNeeded",value:function(e){return this.stripValuesIfNeeded([e])[0]}},{key:"stripValuesIfNeeded",value:function(e){var t=this.cellProperties.allowHtml,n=W(e,(function(e){return Xe(e)})),r=W(n,(function(e){return t?e:wt(e)}));return r}},{key:"allowKeyEventPropagation",value:function(e){var t=this.htEditor.getSelectedRangeLast(),n=t?t.from.row:-1,r=!1;return e===Pn.ARROW_DOWN&&n>0&&n<this.htEditor.countRows()-1&&(r=!0),e===Pn.ARROW_UP&&n>-1&&(r=!0),r}},{key:"onBeforeKeyDown",value:function(e){var t=this,n=Jg.get(this);if(n.skipOne=!1,Hn(e.keyCode)||e.keyCode===Pn.BACKSPACE||e.keyCode===Pn.DELETE||e.keyCode===Pn.INSERT){var r=10;if(e.keyCode===Pn.C&&(e.ctrlKey||e.metaKey))return;this.isOpened()||(r+=10),this.htEditor&&this.hot._registerTimeout((function(){t.queryChoices(t.TEXTAREA.value),n.skipOne=!0}),r)}}}],r=[{key:"EDITOR_TYPE",get:function(){return"autocomplete"}}],n&&Ug(t.prototype,n),r&&Ug(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(Wg);function ey(e){return ey="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ey(e)}function ty(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ny(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ry(e,t){return ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ry(e,t)}function iy(e,t){if(t&&("object"===ey(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function oy(e){return oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oy(e)}var ay=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ry(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=oy(i);if(o){var n=oy(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return iy(this,e)});function s(){return ty(this,s),a.apply(this,arguments)}return t=s,r=[{key:"EDITOR_TYPE",get:function(){return"checkbox"}}],(n=[{key:"beginEditing",value:function(e,t){if(t&&"mouseup"===t.type){var n=this.TD.querySelector('input[type="checkbox"]');It(n,"htBadValue")||n.click()}}},{key:"finishEditing",value:function(){}},{key:"init",value:function(){}},{key:"open",value:function(){}},{key:"close",value:function(){}},{key:"getValue",value:function(){}},{key:"setValue",value:function(){}},{key:"focus",value:function(){}}])&&ny(t.prototype,n),r&&ny(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(fg),sy=n(11938);function ly(e){return ly="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(e)}function uy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cy(){return cy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=dy(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},cy.apply(this,arguments)}function dy(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=py(e)););return e}function hy(e,t){return hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hy(e,t)}function fy(e,t){if(t&&("object"===ly(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function py(e){return py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},py(e)}var my="date",gy="dateEditor",yy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hy(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=py(i);if(o){var n=py(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return fy(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).defaultDateFormat="DD/MM/YYYY",t.isCellEdited=!1,t.parentDestroyed=!1,t.$datePicker=null,t}return t=s,n=[{key:"init",value:function(){var e=this;if("function"!=typeof qe)throw new Error("You need to include moment.js to your project.");if("function"!=typeof sy)throw new Error("You need to include Pikaday to your project.");cy(py(s.prototype),"init",this).call(this),this.instance.addHook("afterDestroy",(function(){e.parentDestroyed=!0,e.destroyElements()}))}},{key:"createElements",value:function(){cy(py(s.prototype),"createElements",this).call(this),this.datePicker=this.hot.rootDocument.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=9999,this.datePicker.setAttribute("dir",this.hot.isRtl()?"rtl":"ltr"),Ht(this.datePicker,"htDatepickerHolder"),this.hot.rootDocument.body.appendChild(this.datePicker),new kr(this).addEventListener(this.datePicker,"mousedown",(function(e){return e.stopPropagation()}))}},{key:"destroyElements",value:function(){var e=this.datePicker.parentNode;this.$datePicker&&this.$datePicker.destroy(),e&&e.removeChild(this.datePicker)}},{key:"prepare",value:function(e,t,n,r,i,o){cy(py(s.prototype),"prepare",this).call(this,e,t,n,r,i,o)}},{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.hot.getShortcutManager(),n=t.getContext("editor");cy(py(s.prototype),"open",this).call(this),this.showDatepicker(e),n.addShortcut({keys:[["Enter"]],callback:function(e){e.stopPropagation()},group:gy})}},{key:"close",value:function(){var e,t=this;this._opened=!1,null!==(e=this.$datePicker)&&void 0!==e&&e.destroy&&this.$datePicker.destroy(),this.instance._registerTimeout((function(){t.instance._refreshBorders()})),this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(gy),cy(py(s.prototype),"close",this).call(this)}},{key:"finishEditing",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var n=this.originalValue;void 0!==n&&this.setValue(n)}cy(py(s.prototype),"finishEditing",this).call(this,e,t)}},{key:"showDatepicker",value:function(e){var t,n=this.TD.getBoundingClientRect(),r=this.cellProperties.dateFormat||this.defaultDateFormat,i=this.instance.view.isMouseDown(),o=!!e&&Nn(e.keyCode);this.datePicker.style.display="block",this.$datePicker=new sy(this.getDatePickerConfig()),this.$datePicker._onInputFocus=function(){},this.datePickerStyle.top="".concat(this.hot.rootWindow.pageYOffset+n.top+rn(this.TD),"px");var a=this.hot.rootWindow.pageXOffset;a=this.hot.isRtl()?n.right-nn(this.datePicker):n.left,this.datePickerStyle.left="".concat(a,"px"),this.originalValue?(t=this.originalValue,qe(t,r,!0).isValid()&&this.$datePicker.setMoment(qe(t,r),!0),this.getValue()!==this.originalValue&&this.setValue(this.originalValue),o||i||this.setValue("")):this.cellProperties.defaultDate?(t=this.cellProperties.defaultDate,qe(t,r,!0).isValid()&&this.$datePicker.setMoment(qe(t,r),!0),o||i||this.setValue("")):this.$datePicker.gotoToday()}},{key:"hideDatepicker",value:function(){this.datePickerStyle.display="none",this.$datePicker.hide()}},{key:"getDatePickerConfig",value:function(){var e=this,t=this.TEXTAREA,n={};this.cellProperties&&this.cellProperties.datePickerConfig&&ae(n,this.cellProperties.datePickerConfig);var r=n.onSelect,i=n.onClose;return n.field=t,n.trigger=t,n.container=this.datePicker,n.bound=!1,n.format=n.format||this.defaultDateFormat,n.reposition=n.reposition||!1,n.isRTL=!1,n.onSelect=function(t){var n=t;isNaN(n.getTime())||(n=qe(n).format(e.cellProperties.dateFormat||e.defaultDateFormat)),e.setValue(n),e.hideDatepicker(),r&&r()},n.onClose=function(){e.parentDestroyed||e.finishEditing(!1),i&&i()},n}}],r=[{key:"EDITOR_TYPE",get:function(){return my}}],n&&uy(t.prototype,n),r&&uy(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(Tg);function vy(e){return vy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vy(e)}function by(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _y(){return _y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=ky(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},_y.apply(this,arguments)}function ky(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xy(e)););return e}function Sy(e,t){return Sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sy(e,t)}function My(e,t){if(t&&("object"===vy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function xy(e){return xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xy(e)}var Oy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sy(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=xy(i);if(o){var n=xy(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return My(this,e)});function s(){return by(this,s),a.apply(this,arguments)}return t=s,n=[{key:"prepare",value:function(e,t,n,r,i,o){_y(xy(s.prototype),"prepare",this).call(this,e,t,n,r,i,o),this.cellProperties.filter=!1,this.cellProperties.strict=!0}}],r=[{key:"EDITOR_TYPE",get:function(){return"dropdown"}}],n&&wy(t.prototype,n),r&&wy(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(Qg);function Cy(e){return Cy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cy(e)}function Ty(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ry(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dy(e,t){return Dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dy(e,t)}function Ey(e,t){if(t&&("object"===Cy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ay(e){return Ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ay(e)}rr.getSingleton().add("beforeValidate",(function(e,t,n){var r=this.getCellMeta(t,this.propToCol(n));r.editor===Oy&&void 0===r.strict&&(r.filter=!1,r.strict=!0)}));var Ly=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dy(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ay(r);if(i){var n=Ay(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ey(this,e)});function a(){return Ty(this,a),o.apply(this,arguments)}return t=a,n=[{key:"EDITOR_TYPE",get:function(){return"numeric"}}],null&&Ry(t.prototype,null),n&&Ry(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(Tg);function jy(e){return jy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jy(e)}function Py(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hy(){return Hy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Ny(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Hy.apply(this,arguments)}function Ny(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zy(e)););return e}function Fy(e,t){return Fy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fy(e,t)}function Yy(e,t){if(t&&("object"===jy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function zy(e){return zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zy(e)}var By=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fy(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=zy(i);if(o){var n=zy(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Yy(this,e)});function s(){return Py(this,s),a.apply(this,arguments)}return t=s,r=[{key:"EDITOR_TYPE",get:function(){return"password"}}],(n=[{key:"createElements",value:function(){Hy(zy(s.prototype),"createElements",this).call(this),this.TEXTAREA=this.hot.rootDocument.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.setAttribute("data-hot-input",""),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,Yt(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)}}])&&Iy(t.prototype,n),r&&Iy(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(Tg);function Wy(e){return Wy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wy(e)}function $y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vy(){return Vy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=qy(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Vy.apply(this,arguments)}function qy(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Zy(e)););return e}function Gy(e,t){return Gy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gy(e,t)}function Ky(e,t){if(t&&("object"===Wy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Zy(e){return Zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zy(e)}var Xy="ht_editor_visible",Jy="selectEditor",Qy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gy(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Zy(i);if(o){var n=Zy(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ky(this,e)});function s(){return $y(this,s),a.apply(this,arguments)}return t=s,n=[{key:"init",value:function(){this.select=this.hot.rootDocument.createElement("SELECT"),Ht(this.select,"htSelectEditor"),this.select.style.display="none",this.hot.rootElement.appendChild(this.select),this.registerHooks()}},{key:"getValue",value:function(){return this.select.value}},{key:"setValue",value:function(e){this.select.value=e}},{key:"open",value:function(){this._opened=!0,this.refreshDimensions(),this.select.style.display="",this.hot.getShortcutManager().setActiveContextName("editor"),this.registerShortcuts()}},{key:"close",value:function(){this._opened=!1,this.select.style.display="none",It(this.select,Xy)&&Nt(this.select,Xy),this.unregisterShortcuts(),this.clearHooks()}},{key:"focus",value:function(){this.select.focus()}},{key:"registerHooks",value:function(){var e=this;this.addHook("afterScrollHorizontally",(function(){return e.refreshDimensions()})),this.addHook("afterScrollVertically",(function(){return e.refreshDimensions()})),this.addHook("afterColumnResize",(function(){return e.refreshDimensions()})),this.addHook("afterRowResize",(function(){return e.refreshDimensions()}))}},{key:"prepare",value:function(e,t,n,r,i,o){var a=this;Vy(Zy(s.prototype),"prepare",this).call(this,e,t,n,r,i,o);var l,u=this.cellProperties.selectOptions;l="function"==typeof u?this.prepareOptions(u(this.row,this.col,this.prop)):this.prepareOptions(u),Yt(this.select),fe(l,(function(e,t){var n=a.hot.rootDocument.createElement("OPTION");n.value=t,Wt(n,e),a.select.appendChild(n)}))}},{key:"prepareOptions",value:function(e){var t={};if(Array.isArray(e))for(var n=0,r=e.length;n<r;n++)t[e[n]]=e[n];else"object"===Wy(e)&&(t=e);return t}},{key:"refreshValue",value:function(){var e=this.hot.getSourceDataAtCell(this.row,this.prop);this.originalValue=e,this.setValue(e),this.refreshDimensions()}},{key:"refreshDimensions",value:function(){if(this.state===dg.EDITING)if(this.TD=this.getEditedCell(),this.TD){var e=this.getEditedCellRect(),t=e.top,n=e.start,r=e.width,i=e.height,o=this.select.style;o.height="".concat(i,"px"),o.width="".concat(r,"px"),o.top="".concat(t,"px"),o[this.hot.isRtl()?"right":"left"]="".concat(n,"px"),o.margin="0px",Ht(this.select,Xy)}else this.close()}},{key:"registerShortcuts",value:function(){var e=this,t=this.hot.getShortcutManager().getContext("editor"),n={group:Jy};!1!==this.isInFullEditMode()&&t.addShortcuts([{keys:[["ArrowUp"]],callback:function(){var t=e.select.selectedIndex-1;t>=0&&(e.select[t].selected=!0)}},{keys:[["ArrowDown"]],callback:function(){var t=e.select.selectedIndex+1;t<=e.select.length-1&&(e.select[t].selected=!0)}}],n)}},{key:"unregisterShortcuts",value:function(){this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(Jy)}}],r=[{key:"EDITOR_TYPE",get:function(){return"select"}}],n&&Uy(t.prototype,n),r&&Uy(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(fg);function ev(e){return ev="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ev(e)}function tv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rv(){return rv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=iv(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},rv.apply(this,arguments)}function iv(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=sv(e)););return e}function ov(e,t){return ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ov(e,t)}function av(e,t){if(t&&("object"===ev(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function sv(e){return sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sv(e)}var lv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ov(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=sv(i);if(o){var n=sv(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return av(this,e)});function s(){return tv(this,s),a.apply(this,arguments)}return t=s,n=[{key:"prepare",value:function(e,t,n,r,i,o){rv(sv(s.prototype),"prepare",this).call(this,e,t,n,r,i,o),this.TEXTAREA.dir="ltr"}}],r=[{key:"EDITOR_TYPE",get:function(){return"time"}}],n&&nv(t.prototype,n),r&&nv(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(Tg);function uv(e,t,n,r,i,o,a){Rg.apply(this,[e,t,n,r,i,o,a]),Wt(t,null==o?"":o,!1)}function cv(e,t,n,r,i,o,a){var s=e.rootDocument,l=a.allowHtml?uv:Dg,u=s.createElement("DIV");if(u.className="htAutocompleteArrow",u.appendChild(s.createTextNode(String.fromCharCode(9660))),l.apply(this,[e,t,n,r,i,o,a]),t.firstChild||t.appendChild(s.createTextNode(String.fromCharCode(160))),t.insertBefore(u,t.firstChild),Ht(t,"htAutocomplete"),!e.acArrowListener){var c=new kr(e);e.acArrowListener=function(i){It(i.target,"htAutocompleteArrow")&&e.view._wt.getSetting("onCellDblClick",null,e._createCellCoords(n,r),t)},c.addEventListener(e.rootElement,"mousedown",e.acArrowListener),e.addHookOnce("afterDestroy",(function(){c.destroy()}))}}uv.RENDERER_TYPE="html",cv.RENDERER_TYPE="autocomplete";var dv=new WeakMap,hv=new WeakMap,fv="data-row",pv="data-col",mv="checkbox";function gv(e,t,n,r,i,o,a){var s=e.rootDocument;Rg.apply(this,[e,t,n,r,i,o,a]),function(e){var t=hv.get(e);if(!t){var n=e.rootElement;(t=new kr(e)).addEventListener(n,"click",(function(t){return function(e,t){var n=e.target;if(yv(n)&&n.hasAttribute(fv)&&n.hasAttribute(pv)){var r=parseInt(n.getAttribute(fv),10),i=parseInt(n.getAttribute(pv),10);t.getCellMeta(r,i).readOnly&&e.preventDefault()}}(t,e)})),t.addEventListener(n,"mouseup",(function(t){return function(e,t){var n=e.target;yv(n)&&n.hasAttribute(fv)&&n.hasAttribute(pv)&&setTimeout(t.listen,10)}(t,e)})),t.addEventListener(n,"change",(function(t){return function(e,t){var n=e.target;if(yv(n)&&n.hasAttribute(fv)&&n.hasAttribute(pv)){var r=parseInt(n.getAttribute(fv),10),i=parseInt(n.getAttribute(pv),10),o=t.getCellMeta(r,i);if(!o.readOnly){var a;a=e.target.checked?void 0===o.uncheckedTemplate||o.checkedTemplate:void 0!==o.uncheckedTemplate&&o.uncheckedTemplate,t.setDataAtCell(r,i,a)}}}(t,e)})),hv.set(e,t)}}(e);var l,u=function(e){var t=e.createElement("input");return t.className="htCheckboxRendererInput",t.type="checkbox",t.setAttribute("autocomplete","off"),t.setAttribute("tabindex","-1"),t.cloneNode(!1)}(s),c=a.label,d=!1;if(void 0===a.checkedTemplate&&(a.checkedTemplate=!0),void 0===a.uncheckedTemplate&&(a.uncheckedTemplate=!1),Yt(t),o===a.checkedTemplate||Xe(o).toLocaleLowerCase(a.locale)===Xe(a.checkedTemplate).toLocaleLowerCase(a.locale)?u.checked=!0:o===a.uncheckedTemplate||Xe(o).toLocaleLowerCase(a.locale)===Xe(a.uncheckedTemplate).toLocaleLowerCase(a.locale)?u.checked=!1:et(o)?Ht(u,"noValue"):(u.style.display="none",Ht(u,"htBadValue"),d=!0),u.setAttribute(fv,n),u.setAttribute(pv,r),!d&&c){var h="";if(c.value)h="function"==typeof c.value?c.value.call(this,n,r,i,o):c.value;else if(c.property){var f=e.getDataAtRowProp(n,c.property);h=null!==f?f:""}var p=function(e,t,n){var r=e.createElement("label");return r.className="htCheckboxRendererLabel ".concat(n?"fullWidth":""),r.appendChild(e.createTextNode(t)),r.cloneNode(!0)}(s,h,!0!==c.separated);"before"===c.position?c.separated?(t.appendChild(p),t.appendChild(u)):(p.appendChild(u),u=p):c.position&&"after"!==c.position||(c.separated?(t.appendChild(u),t.appendChild(p)):(p.insertBefore(u,p.firstChild),u=p))}function m(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.getSelectedRange();if(n)for(var r=0;r<n.length;r++){for(var i=n[r].getTopStartCorner(),o=i.row,a=i.col,s=n[r].getBottomEndCorner(),l=s.row,u=s.col,c=[],d=o;d<=l;d+=1)for(var h=a;h<=u;h+=1){var f=e.getCellMeta(d,h);if("checkbox"!==f.type)return;if(!0!==f.readOnly){void 0===f.checkedTemplate&&(f.checkedTemplate=!0),void 0===f.uncheckedTemplate&&(f.uncheckedTemplate=!1);var p=e.getDataAtCell(d,h);!1===t?[f.checkedTemplate,f.checkedTemplate.toString()].includes(p)?c.push([d,h,f.uncheckedTemplate]):[f.uncheckedTemplate,f.uncheckedTemplate.toString(),null,void 0].includes(p)&&c.push([d,h,f.checkedTemplate]):c.push([d,h,f.uncheckedTemplate])}}c.length>0&&e.setDataAtCell(c)}}function g(){var t=e.getSelectedRange();if(t){for(var n=0;n<t.length;n++)for(var r=t[n].getTopStartCorner(),i=t[n].getBottomEndCorner(),o=r.row;o<=i.row;o++)for(var a=r.col;a<=i.col;a++){var s=e.getCellMeta(o,a);if("checkbox"!==s.type)return!1;var l=e.getCell(o,a);if(null==l)return!0;if(l.querySelectorAll("input[type=checkbox]").length>0&&!s.readOnly)return!0}return!1}}(!c||c&&!c.separated)&&t.appendChild(u),d&&t.appendChild(s.createTextNode("#bad-value#")),dv.has(e)||(dv.set(e,!0),l={group:"checkboxRenderer"},e.getShortcutManager().getContext("grid").addShortcuts([{keys:[["space"]],callback:function(){return m(),!g()}},{keys:[["enter"]],callback:function(){return m(),!g()},runOnlyIf:function(){return e.getSettings().enterBeginsEditing}},{keys:[["delete"],["backspace"]],callback:function(){return m(!0),!g()},relativeToGroup:Or,position:"before"}],l))}function yv(e){return"INPUT"===e.tagName&&"checkbox"===e.getAttribute("type")}rr.getSingleton().add("modifyAutoColumnSizeSeed",(function(e,t,n){var r=t.label,i=t.type,o=t.row,a=t.column,s=t.prop;if(i===mv){if(r){var l=r.value,u=r.property,c=n;if(l)c="function"==typeof l?l(o,a,s,n):l;else if(u){var d=this.getDataAtRowProp(o,u);c=null!==d?d:n}e=c}return e}})),gv.RENDERER_TYPE=mv;var vv=n(41680);function bv(e,t,n,r,i,o,a){var s=o;if(zr(s)){var l=a.numericFormat,u=l&&l.culture||"-",c=l&&l.pattern,d=a.className||"",h=d.length?d.split(" "):[];if(void 0!==u&&!vv.languages()[u]){var f=u.replace("-",""),p=vv.allLanguages?vv.allLanguages[u]:vv[f];p&&vv.registerLanguage(p)}vv.setLanguage(u),s=vv(s).format(c||"0"),h.indexOf("htLeft")<0&&h.indexOf("htCenter")<0&&h.indexOf("htRight")<0&&h.indexOf("htJustify")<0&&h.push("htRight"),h.indexOf("htNumeric")<0&&h.push("htNumeric"),a.className=h.join(" "),t.dir="ltr"}Dg(e,t,n,r,i,s,a)}function wv(e,t,n,r,i,o,a){Dg.apply(this,[e,t,n,r,i,o,a]);var s=a.hashLength||t.innerHTML.length,l=a.hashSymbol||"*",u="";Wr(s-1,(function(){u+=l})),Wt(t,u)}function _v(e,t,n,r,i,o,a){Dg.apply(this,[e,t,n,r,i,o,a]),t.dir="ltr"}function kv(e,t){var n=e;null==n&&(n=""),this.allowEmpty&&""===n?t(!0):this.strict&&this.source?"function"==typeof this.source?this.source(n,Sv(n,t)):Sv(n,t)(this.source):t(!0)}function Sv(e,t){var n=e;return function(e){for(var r=!1,i=0,o=e.length;i<o;i++)if(n===e[i]){r=!0;break}t(r)}}function Mv(e){var t=new Date(e);return isNaN(new Date("".concat(e,"T00:00")).getDate())?t:new Date(t.getTime()+6e4*t.getTimezoneOffset())}function xv(e,t){var n=mr(my,this.instance),r=e,i=!0;null==r&&(r="");var o=qe(r,this.dateFormat||n.defaultDateFormat,!0).isValid(),a=qe(new Date(r)).isValid()||o;if(this.allowEmpty&&""===r&&(a=!0,o=!0),a||(i=!1),!a&&o&&(i=!0),a&&!o)if(!0===this.correctFormat){var s=function(e,t){var n=qe(Mv(e)),r=qe(e,t),i=e.search(/[A-z]/g)>-1;return(n.isValid()&&n.format("x")===r.format("x")||!r.isValid()||i?n:r).format(t)}(r,this.dateFormat),l=this.instance.toVisualRow(this.row),u=this.instance.toVisualColumn(this.col);this.instance.setDataAtCell(l,u,s,"dateValidator"),i=!0}else i=!1;t(i)}function Ov(e,t){var n=e;null==n&&(n=""),this.allowEmpty&&""===n?t(!0):t(""!==n&&zr(e))}bv.RENDERER_TYPE="numeric",wv.RENDERER_TYPE="password",_v.RENDERER_TYPE="time",kv.VALIDATOR_TYPE="autocomplete",n(57048),xv.VALIDATOR_TYPE="date",Ov.VALIDATOR_TYPE="numeric";var Cv=["YYYY-MM-DDTHH:mm:ss.SSSZ","X","x"];function Tv(e,t){var n=this.timeFormat||"h:mm:ss a",r=!0,i=e;null===i&&(i=""),i=/^\d{3,}$/.test(i)?parseInt(i,10):i;var o=/^\d{1,2}$/.test(i);o&&(i+=":00");var a=qe(i,Cv,!0).isValid()?qe(i):qe(i,n),s=a.isValid(),l=qe(i,n,!0).isValid()&&!o;if(this.allowEmpty&&""===i&&(s=!0,l=!0),s||(r=!1),!s&&l&&(r=!0),s&&!l)if(!0===this.correctFormat){var u=a.format(n),c=this.instance.toVisualRow(this.row),d=this.instance.toVisualColumn(this.col);this.instance.setDataAtCell(c,d,u,"timeValidator"),r=!0}else r=!1;t(r)}Tv.VALIDATOR_TYPE="time";var Rv={CELL_TYPE:"autocomplete",editor:Qg,renderer:cv,validator:kv},Dv={CELL_TYPE:"checkbox",editor:ay,renderer:gv},Ev={CELL_TYPE:"date",editor:yy,renderer:cv,validator:xv},Av={CELL_TYPE:"dropdown",editor:Oy,renderer:cv,validator:kv},Lv={CELL_TYPE:"handsontable",editor:Wg,renderer:cv},jv={CELL_TYPE:"numeric",editor:Ly,renderer:bv,validator:Ov,dataType:"number"},Pv={CELL_TYPE:"password",editor:By,renderer:wv,copyable:!1},Iv={CELL_TYPE:"time",editor:lv,renderer:_v,validator:Tv};function Hv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(6989);var Fv=new Map([["plugin",function(e){return!!yi(e)}],["cell-type",Mu],["editor",hr],["renderer",ki],["validator",Ri]]),Yv=new WeakMap,zv=[],Bv=null,Wv=new WeakSet,$v=function(){function e(t){var n,r,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(n=this,r=Wv),r.add(n),he(this,"hot",t,{writable:!1}),Yv.set(this,{hooks:{}}),Bv=null,this.pluginName=null,this.pluginsInitializedCallbacks=[],this.isPluginsReady=!1,this.enabled=!1,this.initialized=!1,this.hot.addHook("afterPluginsInitialized",(function(){return i.onAfterPluginsInitialized()})),this.hot.addHook("afterUpdateSettings",(function(e){return i.onUpdateSettings(e)})),this.hot.addHook("beforeInit",(function(){return i.init()}))}var t,n,r;return t=e,r=[{key:"PLUGIN_KEY",get:function(){return"base"}},{key:"SETTING_KEYS",get:function(){return[this.PLUGIN_KEY]}}],(n=[{key:"init",value:function(){var e=this;this.pluginName=this.hot.getPluginName(this);var t=this.constructor.PLUGIN_DEPS,n=Array.isArray(t)?t:[];if(n.length>0){var r=[];if(n.forEach((function(e){var t,n,i=(t=e.split(":"),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Hv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hv(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[0],a=i[1];if(!Fv.has(o))throw new Error('Unknown plugin dependency type "'.concat(o,'" was found.'));Fv.get(o)(a)||r.push(" - ".concat(a," (").concat(o,")"))})),r.length>0){var i=["The ".concat(this.pluginName," plugin requires the following modules:\n"),"".concat(r.join("\n"),"\n")].join("");zv.push(i)}}if(Bv||(Bv=gi()),Bv.indexOf("UndoRedo")>=0&&Bv.splice(Bv.indexOf("UndoRedo"),1),Bv.indexOf(this.pluginName)>=0&&Bv.splice(Bv.indexOf(this.pluginName),1),this.hot.addHookOnce("afterPluginsInitialized",(function(){e.isEnabled&&e.isEnabled()&&e.enablePlugin()})),0===Bv.length){if(zv.length>0){var o=["".concat(zv.join("\n"),"\n"),"You have to import and register them manually."].join("");throw new Error(o)}this.hot.runHooks("afterPluginsInitialized")}this.initialized=!0}},{key:"enablePlugin",value:function(){this.enabled=!0}},{key:"disablePlugin",value:function(){this.eventManager&&this.eventManager.clear(),this.clearHooks(),this.enabled=!1}},{key:"addHook",value:function(e,t){Yv.get(this).hooks[e]=Yv.get(this).hooks[e]||[];var n=Yv.get(this).hooks[e];this.hot.addHook(e,t),n.push(t),Yv.get(this).hooks[e]=n}},{key:"removeHooks",value:function(e){var t=this;$(Yv.get(this).hooks[e]||[],(function(n){t.hot.removeHook(e,n)}))}},{key:"clearHooks",value:function(){var e=this,t=Yv.get(this).hooks;fe(t,(function(t,n){return e.removeHooks(n)})),t.length=0}},{key:"callOnPluginsReady",value:function(e){this.isPluginsReady?e():this.pluginsInitializedCallbacks.push(e)}},{key:"onAfterPluginsInitialized",value:function(){$(this.pluginsInitializedCallbacks,(function(e){return e()})),this.pluginsInitializedCallbacks.length=0,this.isPluginsReady=!0}},{key:"onUpdateSettings",value:function(e){var t=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}(this,Wv,Uv).call(this,e);this.isEnabled&&(this.enabled&&!this.isEnabled()&&this.disablePlugin(),!this.enabled&&this.isEnabled()&&this.enablePlugin(),this.enabled&&this.isEnabled()&&t&&this.updatePlugin(e))}},{key:"updatePlugin",value:function(){}},{key:"destroy",value:function(){var e=this;this.eventManager&&this.eventManager.destroy(),this.clearHooks(),fe(this,(function(t,n){"hot"!==n&&(e[n]=null)})),delete this.t,delete this.hot}}])&&Nv(t.prototype,n),r&&Nv(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Uv(e){if(!e)return!1;var t=this.constructor.SETTING_KEYS;if("boolean"==typeof t)return t;for(var n=0;n<t.length;n++)if(void 0!==e[t[n]])return!0;return!1}function Vv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Gv=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hot=t,this.container=null,this.injected=!1,this.rows=[],this.columns=[],this.samples=null,this.settings={useHeaders:!0}}var t,n;return t=e,n=[{key:"addRow",value:function(e,t){if(this.columns.length)throw new Error("Doesn't support multi-dimensional table");this.rows.length||(this.container=this.createContainer(this.hot.rootElement.className));var n={row:e};this.rows.push(n),this.samples=t,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.table.tr.appendChild(this.createRow(e)),this.container.container.appendChild(this.table.fragment),n.table=this.table.table}},{key:"addColumnHeadersRow",value:function(e){if(null!=this.hot.getColHeader(0)){var t={row:-1};this.rows.push(t),this.container=this.createContainer(this.hot.rootElement.className),this.samples=e,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.appendColumnHeadersRow(),this.container.container.appendChild(this.table.fragment),t.table=this.table.table}}},{key:"addColumn",value:function(e,t){if(this.rows.length)throw new Error("Doesn't support multi-dimensional table");this.columns.length||(this.container=this.createContainer(this.hot.rootElement.className));var n={col:e};this.columns.push(n),this.samples=t,this.table=this.createTable(this.hot.table.className),this.getSetting("useHeaders")&&null!==this.hot.getColHeader(e)&&this.hot.view.appendColHeader(e,this.table.th),this.table.tBody.appendChild(this.createCol(e)),this.container.container.appendChild(this.table.fragment),n.table=this.table.table}},{key:"getHeights",value:function(e){this.injected||this.injectTable(),$(this.rows,(function(t){e(t.row,rn(t.table)-1)}))}},{key:"getWidths",value:function(e){this.injected||this.injectTable(),$(this.columns,(function(t){var n=t.table.getBoundingClientRect().width;e(t.col,Math.ceil(n))}))}},{key:"setSettings",value:function(e){this.settings=e}},{key:"setSetting",value:function(e,t){this.settings||(this.settings={}),this.settings[e]=t}},{key:"getSettings",value:function(){return this.settings}},{key:"getSetting",value:function(e){return this.settings?this.settings[e]:null}},{key:"createColGroupsCol",value:function(){var e=this,t=this.hot.rootDocument.createDocumentFragment();return this.hot.hasRowHeaders()&&t.appendChild(this.createColElement(-1)),this.samples.forEach((function(n){$(n.strings,(function(n){t.appendChild(e.createColElement(n.col))}))})),t}},{key:"createRow",value:function(e){var t=this,n=this.hot.rootDocument,r=n.createDocumentFragment(),i=n.createElement("th");return this.hot.hasRowHeaders()&&(this.hot.view.appendRowHeader(e,i),r.appendChild(i)),this.samples.forEach((function(i){$(i.strings,(function(i){var o=i.col,a=t.hot.getCellMeta(e,o);a.col=o,a.row=e;var s=t.hot.getCellRenderer(a),l=n.createElement("td");l.setAttribute("ghost-table",1),s(t.hot,l,e,o,t.hot.colToProp(o),i.value,a),r.appendChild(l)}))})),r}},{key:"appendColumnHeadersRow",value:function(){var e=this,t=this.hot.rootDocument,n=t.createDocumentFragment(),r=[];if(this.hot.hasRowHeaders()){var i=t.createElement("th");r.push([-1,i]),n.appendChild(i)}this.samples.forEach((function(e){$(e.strings,(function(e){var i=e.col,o=t.createElement("th");r.push([i,o]),n.appendChild(o)}))})),this.table.tHead.appendChild(n),$(r,(function(t){var n,r,i=(r=2,function(e){if(Array.isArray(e))return e}(n=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(n,r)||function(e,t){if(e){if("string"==typeof e)return Vv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vv(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[0],a=i[1];e.hot.view.appendColHeader(o,a)}))}},{key:"createCol",value:function(e){var t=this,n=this.hot.rootDocument,r=n.createDocumentFragment();return this.samples.forEach((function(i){$(i.strings,(function(i){var o=i.row,a=t.hot.getCellMeta(o,e);a.col=e,a.row=o;var s=t.hot.getCellRenderer(a),l=n.createElement("td"),u=n.createElement("tr");l.setAttribute("ghost-table",1),s(t.hot,l,o,e,t.hot.colToProp(e),i.value,a),u.appendChild(l),r.appendChild(u)}))})),r}},{key:"clean",value:function(){this.rows.length=0,this.rows[-1]=void 0,this.columns.length=0,this.samples&&this.samples.clear(),this.samples=null,this.removeTable()}},{key:"injectTable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.injected||((e||this.hot.rootElement).appendChild(this.container.fragment),this.injected=!0)}},{key:"removeTable",value:function(){this.injected&&this.container.container.parentNode&&(this.container.container.parentNode.removeChild(this.container.container),this.container=null,this.injected=!1)}},{key:"createColElement",value:function(e){var t=this.hot.rootDocument.createElement("col");return t.style.width="".concat(this.hot.view._wt.wtTable.getStretchedColumnWidth(e),"px"),t}},{key:"createTable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.hot.rootDocument,n=t.createDocumentFragment(),r=t.createElement("table"),i=t.createElement("thead"),o=t.createElement("tbody"),a=t.createElement("colgroup"),s=t.createElement("tr"),l=t.createElement("th");return this.isVertical()&&r.appendChild(a),this.isHorizontal()&&(s.appendChild(l),i.appendChild(s),r.style.tableLayout="auto",r.style.width="auto"),r.appendChild(i),this.isVertical()&&o.appendChild(s),r.appendChild(o),Ht(r,e),n.appendChild(r),{fragment:n,table:r,tHead:i,tBody:o,colGroup:a,tr:s,th:l}}},{key:"createContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.hot.rootDocument,n=t.createDocumentFragment(),r=t.createElement("div"),i="htGhostTable htAutoSize ".concat(e.trim());return Ht(r,i),n.appendChild(r),{fragment:n,container:r}}},{key:"isVertical",value:function(){return!(!this.rows.length||this.columns.length)}},{key:"isHorizontal",value:function(){return!(!this.columns.length||this.rows.length)}}],n&&qv(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const Kv=Gv;function Zv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Xv=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.samples=null,this.dataFactory=t,this.customSampleCount=null,this.allowDuplicates=!1}var t,n,r;return t=e,n=[{key:"getSampleCount",value:function(){return this.customSampleCount?this.customSampleCount:e.SAMPLE_COUNT}},{key:"setSampleCount",value:function(e){this.customSampleCount=e}},{key:"setAllowDuplicates",value:function(e){this.allowDuplicates=e}},{key:"generateRowSamples",value:function(e,t){return this.generateSamples("row",t,e)}},{key:"generateColumnSamples",value:function(e,t){return this.generateSamples("col",t,e)}},{key:"generateSamples",value:function(e,t,n){var r=this,i=new Map,o="number"==typeof n?{from:n,to:n}:n;return Wr(o.from,o.to,(function(n){var o=r.generateSample(e,t,n);i.set(n,o)})),i}},{key:"generateSample",value:function(e,t,n){var r=this;if("row"!==e&&"col"!==e)throw new Error("Unsupported sample type");var i=new Map,o="row"===e?"col":"row",a=[];return Wr(t.from,t.to,(function(t){var s,l="row"===e?r.dataFactory(n,t):r.dataFactory(t,n),u=l.value,c=l.bundleSeed,d="string"==typeof c&&c.length>0;s=d?c:de(u)?"".concat(Object.keys(u).length):Array.isArray(u)?"".concat(u.length):"".concat(Xe(u).length),i.has(s)||i.set(s,{needed:r.getSampleCount(),strings:[]});var h=i.get(s);h.needed&&(!(a.indexOf(u)>-1)||r.allowDuplicates||d)&&(h.strings.push(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({value:u},o,t)),a.push(u),h.needed-=1)})),i}}],r=[{key:"SAMPLE_COUNT",get:function(){return 3}}],n&&Zv(t.prototype,n),r&&Zv(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();const Jv=Xv;function Qv(e){return Qv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qv(e)}function eb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tb(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rb(){return rb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=ib(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},rb.apply(this,arguments)}function ib(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=lb(e)););return e}function ob(e,t){return ob=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ob(e,t)}function ab(e,t){if(t&&("object"===Qv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return sb(e)}function sb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lb(e){return lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lb(e)}rr.getSingleton().register("modifyAutoColumnSizeSeed");var ub=new WeakMap,cb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ob(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=lb(i);if(o){var n=lb(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ab(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=a.call(this,e),ub.set(sb(t),{cachedColumnHeaders:[]}),t.ghostTable=new Kv(t.hot),t.samplesGenerator=new Jv((function(e,n){var r=t.hot.getCellMeta(e,n),i="";r.spanned||(i=t.hot.getDataAtCell(e,n));var o="";return t.hot.hasHook("modifyAutoColumnSizeSeed")&&(o=t.hot.runHooks("modifyAutoColumnSizeSeed",o,r,i)),{value:i,bundleSeed:o}})),t.firstCalculation=!0,t.inProgress=!1,t.measuredColumns=0,t.columnWidthsMap=new lc,t.hot.columnIndexMapper.registerMap("autoColumnSize",t.columnWidthsMap),t.addHook("beforeColumnResize",(function(e,n,r){return t.onBeforeColumnResize(e,n,r)})),t}return t=s,n=[{key:"isEnabled",value:function(){return!1!==this.hot.getSettings().autoColumnSize&&!this.hot.getSettings().colWidths}},{key:"enablePlugin",value:function(){var e=this;if(!this.enabled){var t=this.hot.getSettings().autoColumnSize;t&&null!==t.useHeaders&&void 0!==t.useHeaders&&this.ghostTable.setSetting("useHeaders",t.useHeaders),this.setSamplingOptions(),this.addHook("afterLoadData",(function(){return e.onAfterLoadData.apply(e,arguments)})),this.addHook("beforeChangeRender",(function(t){return e.onBeforeChange(t)})),this.addHook("afterFormulasValuesUpdate",(function(t){return e.onAfterFormulasValuesUpdate(t)})),this.addHook("beforeViewRender",(function(t){return e.onBeforeViewRender(t)})),this.addHook("modifyColWidth",(function(t,n){return e.getColumnWidth(n,t)})),this.addHook("afterInit",(function(){return e.onAfterInit()})),rb(lb(s.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){var e=this.findColumnsWhereHeaderWasChanged();e.length&&(this.clearCache(e),this.calculateVisibleColumnsWidth()),rb(lb(s.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){var e=this;rb(lb(s.prototype),"disablePlugin",this).call(this),this.addHook("beforeColumnResize",(function(t,n,r){return e.onBeforeColumnResize(t,n,r)}))}},{key:"calculateVisibleColumnsWidth",value:function(){if(this.hot.countRows()){var e=this.hot.renderCall,t=this.getFirstVisibleColumn(),n=this.getLastVisibleColumn();-1!==t&&-1!==n&&this.calculateColumnsWidth({from:t,to:n},void 0,e)}}},{key:"calculateColumnsWidth",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countRows()-1},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i="number"==typeof t?{from:t,to:t}:t,o="number"==typeof n?{from:n,to:n}:n;Wr(i.from,i.to,(function(t){var n=e.hot.toPhysicalColumn(t);null===n&&(n=t),(r||null===e.columnWidthsMap.getValueAtIndex(n)&&!e.hot._getColWidthFromSettings(n))&&$(e.samplesGenerator.generateColumnSamples(t,o),(function(t){var n=eb(t,2),r=n[0],i=n[1];return e.ghostTable.addColumn(r,i)}))})),this.ghostTable.columns.length&&(this.hot.batchExecution((function(){e.ghostTable.getWidths((function(t,n){var r=e.hot.toPhysicalColumn(t);e.columnWidthsMap.setValueAtIndex(r,n)}))}),!0),this.measuredColumns=i.to+1,this.ghostTable.clean())}},{key:"calculateAllColumnsWidth",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},n=0,r=this.hot.countCols()-1,i=null;this.inProgress=!0;var o=function o(){if(!e.hot)return L(i),void(e.inProgress=!1);e.calculateColumnsWidth({from:n,to:Math.min(n+s.CALCULATION_STEP,r)},t),(n=n+s.CALCULATION_STEP+1)<r?i=R(o):(L(i),e.inProgress=!1,e.hot.view.adjustElementsSize())},a=this.getSyncCalculationLimit();this.firstCalculation&&a>=0&&(this.calculateColumnsWidth({from:0,to:a},t),this.firstCalculation=!1,n=a+1),n<r?o():this.inProgress=!1}},{key:"setSamplingOptions",value:function(){var e=this.hot.getSettings().autoColumnSize,t=e&&ve(e,"samplingRatio")?e.samplingRatio:void 0,n=e&&ve(e,"allowSampleDuplicates")?e.allowSampleDuplicates:void 0;t&&!isNaN(t)&&this.samplesGenerator.setSampleCount(parseInt(t,10)),n&&this.samplesGenerator.setAllowDuplicates(n)}},{key:"recalculateAllColumnsWidth",value:function(){this.hot.view&&this.hot.view._wt.wtTable.isVisible()&&(this.clearCache(),this.calculateAllColumnsWidth())}},{key:"getSyncCalculationLimit",value:function(){var e=this.hot.getSettings().autoColumnSize,t=s.SYNC_CALCULATION_LIMIT,n=this.hot.countCols()-1;return de(e)&&(vt(t=e.syncLimit)?t=Ur(n,t):t>>=0),Math.min(t,n)}},{key:"getColumnWidth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t;return void 0===r&&(r=this.columnWidthsMap.getValueAtIndex(this.hot.toPhysicalColumn(e)),n&&"number"==typeof r&&(r=Math.max(r,Vl.DEFAULT_WIDTH))),r}},{key:"getFirstVisibleColumn",value:function(){var e=this.hot.view._wt;if(e.wtViewport.columnsVisibleCalculator){var t=e.wtTable.getFirstVisibleColumn();if(-1!==t)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(t)}if(e.wtViewport.columnsRenderCalculator){var n=e.wtTable.getFirstRenderedColumn();if(-1!==n)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(n)}return-1}},{key:"getLastVisibleColumn",value:function(){var e=this.hot.view._wt;if(e.wtViewport.columnsVisibleCalculator){var t=e.wtTable.getLastVisibleColumn();if(-1!==t)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(t)}if(e.wtViewport.columnsRenderCalculator){var n=e.wtTable.getLastRenderedColumn();if(-1!==n)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(n)}return-1}},{key:"findColumnsWhereHeaderWasChanged",value:function(){var e=this.hot.getColHeader(),t=ub.get(this).cachedColumnHeaders;return z(e,(function(e,n,r){var i=t.length;return(i-1<r||t[r]!==n)&&e.push(r),i-1<r?t.push(n):t[r]=n,e}),[])}},{key:"clearCache",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.length?this.hot.batchExecution((function(){$(t,(function(t){e.columnWidthsMap.setValueAtIndex(t,null)}))}),!0):this.columnWidthsMap.clear()}},{key:"isNeedRecalculate",value:function(){return!!B(this.columnWidthsMap.getValues().slice(0,this.measuredColumns),(function(e){return null===e})).length}},{key:"onBeforeViewRender",value:function(){this.calculateVisibleColumnsWidth(),this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllColumnsWidth()}},{key:"onAfterLoadData",value:function(){var e=this;this.hot.view?this.recalculateAllColumnsWidth():setTimeout((function(){e.hot&&e.recalculateAllColumnsWidth()}),0)}},{key:"onBeforeChange",value:function(e){var t=this,n=W(e,(function(e){var n=eb(e,2)[1];return t.hot.toPhysicalColumn(t.hot.propToCol(n))}));this.clearCache(Array.from(new Set(n)))}},{key:"onBeforeColumnResize",value:function(e,t,n){var r=e;return n&&(this.calculateColumnsWidth(t,void 0,!0),r=this.getColumnWidth(t,void 0,!1)),r}},{key:"onAfterInit",value:function(){ub.get(this).cachedColumnHeaders=this.hot.getColHeader()}},{key:"onAfterFormulasValuesUpdate",value:function(e){var t=W(B(e,(function(e){var t;return Je(null===(t=e.address)||void 0===t?void 0:t.col)})),(function(e){return e.address.col}));this.clearCache(Array.from(new Set(t)))}},{key:"destroy",value:function(){this.ghostTable.clean(),rb(lb(s.prototype),"destroy",this).call(this)}}],r=[{key:"PLUGIN_KEY",get:function(){return"autoColumnSize"}},{key:"PLUGIN_PRIORITY",get:function(){return 10}},{key:"SETTING_KEYS",get:function(){return!0}},{key:"CALCULATION_STEP",get:function(){return 50}},{key:"SYNC_CALCULATION_LIMIT",get:function(){return 50}}],n&&nb(t.prototype,n),r&&nb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($v),db={horizontal:"horizontal",vertical:"vertical"};function hb(e){return hb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hb(e)}function fb(e,t){if(e){if("string"==typeof e)return pb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pb(e,t):void 0}}function pb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gb(){return gb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=yb(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},gb.apply(this,arguments)}function yb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_b(e)););return e}function vb(e,t){return vb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vb(e,t)}function bb(e,t){if(t&&("object"===hb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wb(e)}function wb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _b(e){return _b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_b(e)}rr.getSingleton().register("modifyAutofillRange"),rr.getSingleton().register("beforeAutofill"),rr.getSingleton().register("afterAutofill");var kb="autofill",Sb=["fillHandle"],Mb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vb(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_b(i);if(o){var n=_b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return bb(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).eventManager=new kr(wb(t)),t.addingStarted=!1,t.mouseDownOnCellCorner=!1,t.mouseDragOutside=!1,t.handleDraggedCells=0,t.directions=[],t.autoInsertRow=!1,t}return t=s,n=[{key:"isEnabled",value:function(){return this.hot.getSettings().fillHandle}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.mapSettings(),this.registerEvents(),this.addHook("afterOnCellCornerMouseDown",(function(t){return e.onAfterCellCornerMouseDown(t)})),this.addHook("afterOnCellCornerDblClick",(function(t){return e.onCellCornerDblClick(t)})),this.addHook("beforeOnCellMouseOver",(function(t,n){return e.onBeforeCellMouseOver(n)})),gb(_b(s.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),gb(_b(s.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.clearMappedSettings(),gb(_b(s.prototype),"disablePlugin",this).call(this)}},{key:"getSelectionData",value:function(){var e=this,t=this.hot.getSelectedRangeLast(),n=t.getTopStartCorner(),r=n.row,i=n.col,o=t.getBottomEndCorner(),a=o.row,s=o.col,l=this.hot.runHooks("modifyCopyableRange",[{startRow:r,startCol:i,endRow:a,endCol:s}]),u=[],c=[],d=[];return $(l,(function(e){for(var t=e.startRow;t<=e.endRow;t+=1)-1===u.indexOf(t)&&u.push(t);for(var n=e.startCol;n<=e.endCol;n+=1)-1===c.indexOf(n)&&c.push(n)})),$(u,(function(t){var n=[];$(c,(function(r){n.push(e.hot.getCopyableData(t,r))})),d.push(n)})),d}},{key:"fillIn",value:function(){var e=this;if(this.hot.selection.highlight.getFill().isEmpty())return!1;var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||fb(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.hot.selection.highlight.getFill().getVisualCorners(),4),n=t[0],r=t[1],i=t[2],o=t[3],a=this.hot.getSelectedRangeLast(),s=a.getTopStartCorner(),l=a.getBottomEndCorner();this.resetSelectionOfDraggedArea();var u=[s.row,s.col,l.row,l.col],c=this.hot.runHooks("modifyAutofillRange",[Math.min(s.row,n),Math.min(s.col,r),Math.max(l.row,i),Math.max(l.col,o)],u),d=function(e,t,n){var r,i,o;return t[0]===e[0]&&t[1]<e[1]?(o="left",r=n(t[0],t[1]),i=n(t[2],e[1]-1)):t[2]===e[2]&&t[0]===e[0]&&t[3]>e[3]?(o="right",r=n(t[0],e[3]+1),i=n(t[2],t[3])):t[0]<e[0]&&t[1]===e[1]?(o="up",r=n(t[0],t[1]),i=n(e[0]-1,t[3])):t[2]>e[2]&&t[1]===e[1]&&(o="down",r=n(e[2]+1,t[1]),i=n(t[2],t[3])),r&&r.normalize(),i&&i.normalize(),{directionOfDrag:o,startOfDragCoords:r,endOfDragCoords:i}}(u,c,(function(t,n){return e.hot._createCellCoords(t,n)})),h=d.directionOfDrag,f=d.startOfDragCoords,p=d.endOfDragCoords;if(f&&f.row>-1&&f.col>-1){var m=this.getSelectionData(),g=a.clone(),y=this.hot._createCellRange(f,f,p),v=this.hot.runHooks("beforeAutofill",m,g,y,h);if(!1===v)return this.hot.selection.highlight.getFill().clear(),this.hot.render(),!1;var b=function(e,t,n,r){var i=n.length,o=n?n[0].length:0,a=[],s=t.row-e.row,l=t.col-e.col;if(-1!==["down","up"].indexOf(r)){for(var u=[],c=0;c<l;c++){var d=parseInt(n[0][c],10),h=parseInt(n[i-1][c],10),f=("down"===r?h-d:d-h)/(i-1)||0;u.push(f)}a.push(u)}if(-1!==["right","left"].indexOf(r))for(var p=0;p<s;p++){var m=parseInt(n[p][0],10),g=parseInt(n[p][o-1],10),y=("right"===r?g-m:m-g)/(o-1)||0;a.push([y])}return a}(f,p,m,h),w=v,_=v;if(["up","left"].indexOf(h)>-1&&(1!==_.length||0!==_[0].length))if(w=[],"up"===h)for(var k=p.row-f.row+1,S=k%_.length,M=0;M<k;M++)w.push(_[(M+(_.length-S))%_.length]);else for(var x=p.col-f.col+1,O=x%_[0].length,C=0;C<_.length;C++){w.push([]);for(var T=0;T<x;T++)w[C].push(_[C][(T+(_[C].length-O))%_[C].length])}this.hot.populateFromArray(f.row,f.col,w,p.row,p.col,"".concat(this.pluginName,".fill"),null,h,b),this.setSelection(c),this.hot.runHooks("afterAutofill",w,g,y,h),this.hot.render()}else this.hot._refreshBorders();return!0}},{key:"reduceSelectionAreaIfNeeded",value:function(e){return e.row<0&&(e.row=0),e.col<0&&(e.col=0),e}},{key:"getCoordsOfDragAndDropBorders",value:function(e){var t=this.hot.getSelectedRangeLast(),n=t.getBottomEndCorner(),r=e;if(this.directions.includes(db.vertical)&&this.directions.includes(db.horizontal)){var i=t.getTopStartCorner();(n.col<=e.col||i.col>=e.col)&&(r=this.hot._createCellCoords(n.row,e.col)),(n.row<e.row||i.row>e.row)&&(r=this.hot._createCellCoords(e.row,n.col))}else if(this.directions.includes(db.vertical))r=this.hot._createCellCoords(e.row,n.col);else{if(!this.directions.includes(db.horizontal))return;r=this.hot._createCellCoords(n.row,e.col)}return this.reduceSelectionAreaIfNeeded(r)}},{key:"showBorder",value:function(e){var t=this.getCoordsOfDragAndDropBorders(e);t&&this.redrawBorders(t)}},{key:"addRow",value:function(){var e=this;this.hot._registerTimeout((function(){e.hot.alter("insert_row",void 0,1,"".concat(e.pluginName,".fill")),e.addingStarted=!1}),200)}},{key:"addNewRowIfNeeded",value:function(){if(!this.hot.selection.highlight.getFill().isEmpty()&&!1===this.addingStarted&&this.autoInsertRow){var e=this.hot.getSelectedLast(),t=this.hot.selection.highlight.getFill().getVisualCorners(),n=this.hot.countRows();e[2]<n-1&&t[2]===n-1&&(this.addingStarted=!0,this.addRow())}}},{key:"getIndexOfLastAdjacentFilledInRow",value:function(e){for(var t,n=this.hot.getData(),r=this.hot.countRows(),i=e[2]+1;i<r;i++){for(var o=e[1];o<=e[3];o++)if(n[i][o])return-1;var a=n[i][e[1]-1],s=n[i][e[3]+1];(a||s)&&(t=i)}return t}},{key:"addSelectionFromStartAreaToSpecificRowIndex",value:function(e,t){this.hot.selection.highlight.getFill().clear().add(this.hot._createCellCoords(e[0],e[1])).add(this.hot._createCellCoords(t,e[3])).commit()}},{key:"setSelection",value:function(e){var t,n;(t=this.hot).selectCell.apply(t,(n=W(e,(function(e){return Math.max(e,0)})),function(e){if(Array.isArray(e))return pb(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||fb(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([!1,!1]))}},{key:"selectAdjacent",value:function(){var e=this.hot.getSelectedLast(),t=this.getIndexOfLastAdjacentFilledInRow(e);return-1!==t&&void 0!==t&&(this.addSelectionFromStartAreaToSpecificRowIndex(e,t),!0)}},{key:"resetSelectionOfDraggedArea",value:function(){this.handleDraggedCells=0,this.hot.selection.highlight.getFill().clear()}},{key:"redrawBorders",value:function(e){this.hot.selection.highlight.getFill().clear().add(this.hot.getSelectedRangeLast().from).add(this.hot.getSelectedRangeLast().to).add(e).commit(),this.hot.view.render()}},{key:"getIfMouseWasDraggedOutside",value:function(e){var t=this.hot.rootDocument.documentElement,n=Vt(this.hot.table).top-(this.hot.rootWindow.pageYOffset||t.scrollTop)+rn(this.hot.table),r=Vt(this.hot.table).left-(this.hot.rootWindow.pageXOffset||t.scrollLeft)+nn(this.hot.table);return e.clientY>n&&e.clientX<=r}},{key:"registerEvents",value:function(){var e=this,t=this.hot.rootDocument.documentElement;this.eventManager.addEventListener(t,"mouseup",(function(){return e.onMouseUp()})),this.eventManager.addEventListener(t,"mousemove",(function(t){return e.onMouseMove(t)}))}},{key:"onCellCornerDblClick",value:function(){this.selectAdjacent()&&this.fillIn()}},{key:"onAfterCellCornerMouseDown",value:function(){this.handleDraggedCells=1,this.mouseDownOnCellCorner=!0}},{key:"onBeforeCellMouseOver",value:function(e){this.mouseDownOnCellCorner&&!this.hot.view.isMouseDown()&&this.handleDraggedCells&&(this.handleDraggedCells+=1,this.showBorder(e),this.addNewRowIfNeeded())}},{key:"onMouseUp",value:function(){this.handleDraggedCells&&(this.handleDraggedCells>1&&this.fillIn(),this.handleDraggedCells=0,this.mouseDownOnCellCorner=!1)}},{key:"onMouseMove",value:function(e){var t=this.getIfMouseWasDraggedOutside(e);!1===this.addingStarted&&this.handleDraggedCells>0&&t?(this.mouseDragOutside=!0,this.addingStarted=!0):this.mouseDragOutside=!1,this.mouseDragOutside&&this.autoInsertRow&&this.addRow()}},{key:"clearMappedSettings",value:function(){this.directions.length=0,this.autoInsertRow=!1}},{key:"mapSettings",value:function(){var e=function(e){var t={};return!0===e?(t.directions=Object.keys(db),t.autoInsertRow=!0):de(e)?(Je(e.autoInsertRow)?e.direction===db.horizontal?t.autoInsertRow=!1:t.autoInsertRow=e.autoInsertRow:t.autoInsertRow=!1,Je(e.direction)?t.directions=[e.direction]:t.directions=Object.keys(db)):"string"==typeof e?(t.directions=[e],t.autoInsertRow=!0):(t.directions=[],t.autoInsertRow=!1),t}(this.hot.getSettings().fillHandle);this.directions=e.directions,this.autoInsertRow=e.autoInsertRow}},{key:"destroy",value:function(){gb(_b(s.prototype),"destroy",this).call(this)}}],r=[{key:"PLUGIN_KEY",get:function(){return kb}},{key:"PLUGIN_PRIORITY",get:function(){return 20}},{key:"SETTING_KEYS",get:function(){return[kb].concat(Sb)}}],n&&mb(t.prototype,n),r&&mb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($v);function xb(e){return xb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xb(e)}function Ob(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Cb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cb(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rb(){return Rb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Db(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Rb.apply(this,arguments)}function Db(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Lb(e)););return e}function Eb(e,t){return Eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Eb(e,t)}function Ab(e,t){if(t&&("object"===xb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Lb(e){return Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lb(e)}var jb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eb(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Lb(i);if(o){var n=Lb(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ab(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).rowHeightsMap=void 0,t.headerHeight=null,t.ghostTable=new Kv(t.hot),t.samplesGenerator=new Jv((function(e,n){var r;return e>=0?r=t.hot.getDataAtCell(e,n):-1===e&&(r=t.hot.getColHeader(n)),{value:r}})),t.firstCalculation=!0,t.inProgress=!1,t.measuredRows=0,t.rowHeightsMap=new lc,t.hot.rowIndexMapper.registerMap("autoRowSize",t.rowHeightsMap),t.addHook("beforeRowResize",(function(e,n,r){return t.onBeforeRowResize(e,n,r)})),t}return t=s,n=[{key:"isEnabled",value:function(){var e=this.hot.getSettings().autoRowSize;return!0===e||de(e)}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.setSamplingOptions(),this.addHook("afterLoadData",(function(){return e.onAfterLoadData.apply(e,arguments)})),this.addHook("beforeChangeRender",(function(t){return e.onBeforeChange(t)})),this.addHook("beforeColumnResize",(function(){return e.recalculateAllRowsHeight()})),this.addHook("beforeViewRender",(function(t){return e.onBeforeViewRender(t)})),this.addHook("modifyRowHeight",(function(t,n){return e.getRowHeight(n,t)})),this.addHook("modifyColumnHeaderHeight",(function(){return e.getColumnHeaderHeight()})),Rb(Lb(s.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){var e=this;this.headerHeight=null,Rb(Lb(s.prototype),"disablePlugin",this).call(this),this.addHook("beforeRowResize",(function(t,n,r){return e.onBeforeRowResize(t,n,r)}))}},{key:"calculateRowsHeight",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countCols()-1},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i="number"==typeof t?{from:t,to:t}:t,o="number"==typeof n?{from:n,to:n}:n;if(null!==this.hot.getColHeader(0)){var a=this.samplesGenerator.generateRowSamples(-1,o);this.ghostTable.addColumnHeadersRow(a.get(-1))}Wr(i.from,i.to,(function(t){(r||null===e.rowHeightsMap.getValueAtIndex(t))&&$(e.samplesGenerator.generateRowSamples(t,o),(function(t){var n=Ob(t,2),r=n[0],i=n[1];return e.ghostTable.addRow(r,i)}))})),this.ghostTable.rows.length&&(this.hot.batchExecution((function(){e.ghostTable.getHeights((function(t,n){t<0?e.headerHeight=n:e.rowHeightsMap.setValueAtIndex(e.hot.toPhysicalRow(t),n)}))}),!0),this.measuredRows=i.to+1,this.ghostTable.clean())}},{key:"calculateAllRowsHeight",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},n=0,r=this.hot.countRows()-1,i=null;this.inProgress=!0;var o=function o(){if(!e.hot)return L(i),void(e.inProgress=!1);e.calculateRowsHeight({from:n,to:Math.min(n+s.CALCULATION_STEP,r)},t),(n=n+s.CALCULATION_STEP+1)<r?i=R(o):(L(i),e.inProgress=!1,e.hot.view.adjustElementsSize(!0),e.hot.view._wt.wtOverlays.inlineStartOverlay.needFullRender&&e.hot.view._wt.wtOverlays.inlineStartOverlay.clone.draw())},a=this.getSyncCalculationLimit();this.firstCalculation&&a>=0&&(this.calculateRowsHeight({from:0,to:a},t),this.firstCalculation=!1,n=a+1),n<r?o():(this.inProgress=!1,this.hot.view.adjustElementsSize(!1))}},{key:"setSamplingOptions",value:function(){var e=this.hot.getSettings().autoRowSize,t=e&&ve(e,"samplingRatio")?e.samplingRatio:void 0,n=e&&ve(e,"allowSampleDuplicates")?e.allowSampleDuplicates:void 0;t&&!isNaN(t)&&this.samplesGenerator.setSampleCount(parseInt(t,10)),n&&this.samplesGenerator.setAllowDuplicates(n)}},{key:"recalculateAllRowsHeight",value:function(){Ut(this.hot.view._wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllRowsHeight())}},{key:"getSyncCalculationLimit",value:function(){var e=this.hot.getSettings().autoRowSize,t=s.SYNC_CALCULATION_LIMIT,n=this.hot.countRows()-1;return de(e)&&(vt(t=e.syncLimit)?t=Ur(n,t):t>>=0),Math.min(t,n)}},{key:"getRowHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=e<0?this.headerHeight:this.rowHeightsMap.getValueAtIndex(this.hot.toPhysicalRow(e)),r=t;return null!==n&&n>(t||0)&&(r=n),r}},{key:"getColumnHeaderHeight",value:function(){return this.headerHeight}},{key:"getFirstVisibleRow",value:function(){var e=this.hot.view._wt;return e.wtViewport.rowsVisibleCalculator?e.wtTable.getFirstVisibleRow():e.wtViewport.rowsRenderCalculator?e.wtTable.getFirstRenderedRow():-1}},{key:"getLastVisibleRow",value:function(){var e=this.hot.view._wt;return e.wtViewport.rowsVisibleCalculator?e.wtTable.getLastVisibleRow():e.wtViewport.rowsRenderCalculator?e.wtTable.getLastRenderedRow():-1}},{key:"clearCache",value:function(){this.headerHeight=null,this.rowHeightsMap.init()}},{key:"clearCacheByRange",value:function(e){var t=this,n="number"==typeof e?{from:e,to:e}:e,r=n.from,i=n.to;this.hot.batchExecution((function(){Wr(Math.min(r,i),Math.max(r,i),(function(e){t.rowHeightsMap.setValueAtIndex(e,null)}))}),!0)}},{key:"isNeedRecalculate",value:function(){return!!B(this.rowHeightsMap.getValues().slice(0,this.measuredRows),(function(e){return null===e})).length}},{key:"onBeforeViewRender",value:function(){var e=this.hot.renderCall,t=this.hot.getSettings().fixedRowsBottom,n=this.getFirstVisibleRow(),r=this.getLastVisibleRow();if(-1!==n&&-1!==r){if(this.calculateRowsHeight({from:n,to:r},void 0,e),t){var i=this.hot.countRows()-1;this.calculateRowsHeight({from:i-t,to:i})}this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllRowsHeight()}}},{key:"onBeforeRowMove",value:function(e,t){this.clearCacheByRange({from:e,to:t}),this.calculateAllRowsHeight()}},{key:"onBeforeRowResize",value:function(e,t,n){var r=e;return n&&(this.calculateRowsHeight(t,void 0,!0),r=this.getRowHeight(t)),r}},{key:"onAfterLoadData",value:function(){var e=this;this.hot.view?this.recalculateAllRowsHeight():setTimeout((function(){e.hot&&e.recalculateAllRowsHeight()}),0)}},{key:"onBeforeChange",value:function(e){var t=null;1===e.length?t=e[0][0]:e.length>1&&(t={from:e[0][0],to:e[e.length-1][0]}),null!==t&&this.clearCacheByRange(t)}},{key:"destroy",value:function(){this.ghostTable.clean(),Rb(Lb(s.prototype),"destroy",this).call(this)}}],r=[{key:"PLUGIN_KEY",get:function(){return"autoRowSize"}},{key:"PLUGIN_PRIORITY",get:function(){return 40}},{key:"SETTING_KEYS",get:function(){return!0}},{key:"CALCULATION_STEP",get:function(){return 50}},{key:"SYNC_CALCULATION_LIMIT",get:function(){return 500}}],n&&Tb(t.prototype,n),r&&Tb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($v),Pb=new Map([["indexesSequence",{getListWithInsertedItems:vc,getListWithRemovedItems:bc}],["physicallyIndexed",{getListWithInsertedItems:Ju,getListWithRemovedItems:Qu}]]),Ib=function(e){if(!1===Pb.has(e))throw new Error("Alter strategy with ID '".concat(e,"' does not exist."));return Pb.get(e)};function Hb(e){return Hb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hb(e)}function Nb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fb(){return Fb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Yb(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Fb.apply(this,arguments)}function Yb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Wb(e)););return e}function zb(e,t){return zb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zb(e,t)}function Bb(e,t){if(t&&("object"===Hb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Wb(e){return Wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wb(e)}var $b=Ib("physicallyIndexed"),Ub=$b.getListWithInsertedItems,Vb=$b.getListWithRemovedItems,qb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zb(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Wb(r);if(i){var n=Wb(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Bb(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.call(this,(function(e){return e}))}return t=a,(n=[{key:"insert",value:function(e,t){var n=_c(this.indexedValues,t);this.indexedValues=Ub(n,e,t,this.initValueOrFn),Fb(Wb(a.prototype),"insert",this).call(this,e,t)}},{key:"remove",value:function(e){var t=Vb(this.indexedValues,e);this.indexedValues=wc(t,e),Fb(Wb(a.prototype),"remove",this).call(this,e)}}])&&Nb(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(Ku);const Gb=qb;function Kb(e){return Kb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kb(e)}function Zb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jb(){return Jb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Qb(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Jb.apply(this,arguments)}function Qb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nw(e)););return e}function ew(e,t){return ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ew(e,t)}function tw(e,t){if(t&&("object"===Kb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function nw(e){return nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nw(e)}var rw=Ib("physicallyIndexed"),iw=rw.getListWithInsertedItems,ow=rw.getListWithRemovedItems,aw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ew(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=nw(r);if(i){var n=nw(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return tw(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.call(this,(function(e){return e}))}return t=a,(n=[{key:"insert",value:function(e,t){var n=this;this.indexedValues=iw(this.indexedValues,e,t,(function(e,t){return n.getNextValue(t)})),Jb(nw(a.prototype),"insert",this).call(this,e,t)}},{key:"remove",value:function(e){this.indexedValues=ow(this.indexedValues,e),Jb(nw(a.prototype),"remove",this).call(this,e)}},{key:"getNextValue",value:function(e){return Math.max.apply(Math,function(e){if(Array.isArray(e))return Zb(e)}(t=this.getValues())||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return Zb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zb(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())+1+e;var t}}])&&Xb(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(Ku);function sw(e){return sw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sw(e)}function lw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uw(){return uw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=cw(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},uw.apply(this,arguments)}function cw(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fw(e)););return e}function dw(e,t){return dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dw(e,t)}function hw(e,t){if(t&&("object"===sw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function fw(e){return fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fw(e)}var pw=new Map([["loose",Gb],["strict",aw]]),mw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dw(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=fw(i);if(o){var n=fw(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return hw(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).headerIndexes=null,t}return t=s,n=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().bindRowsWithHeaders}},{key:"enablePlugin",value:function(){var e=this;if(!this.enabled){var t=this.hot.getSettings().bindRowsWithHeaders;"string"!=typeof t&&(t="loose");var n=pw.get(t);this.headerIndexes=this.hot.rowIndexMapper.registerMap("bindRowsWithHeaders",new n),this.addHook("modifyRowHeader",(function(t){return e.onModifyRowHeader(t)})),uw(fw(s.prototype),"enablePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){this.hot.rowIndexMapper.unregisterMap("bindRowsWithHeaders"),uw(fw(s.prototype),"disablePlugin",this).call(this)}},{key:"onModifyRowHeader",value:function(e){return this.headerIndexes.getValueAtIndex(this.hot.toPhysicalRow(e))}},{key:"destroy",value:function(){uw(fw(s.prototype),"destroy",this).call(this)}}],r=[{key:"PLUGIN_KEY",get:function(){return"bindRowsWithHeaders"}},{key:"PLUGIN_PRIORITY",get:function(){return 210}}],n&&lw(t.prototype,n),r&&lw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($v);function gw(e){return gw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gw(e)}function yw(e){return function(e){if(Array.isArray(e))return vw(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return vw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vw(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ww(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _w(){return _w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=kw(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},_w.apply(this,arguments)}function kw(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ow(e)););return e}function Sw(e,t){return Sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sw(e,t)}function Mw(e,t){if(t&&("object"===gw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xw(e)}function xw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ow(e){return Ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ow(e)}function Cw(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Tw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rw(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Ew(e,t,"get"))}function Dw(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Ew(e,t,"set"),n),n}function Ew(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var Aw="collapsibleColumns",Lw=["nestedHeaders"],jw=new Map([["collapse",{hideColumn:!0,beforeHook:"beforeColumnCollapse",afterHook:"afterColumnCollapse"}],["expand",{hideColumn:!1,beforeHook:"beforeColumnExpand",afterHook:"afterColumnExpand"}]]),Pw=new WeakMap,Iw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sw(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ow(i);if(o){var n=Ow(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Mw(this,e)});function s(){var e;bw(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Tw(xw(e=a.call.apply(a,[this].concat(n))),"nestedHeadersPlugin",null),Tw(xw(e),"eventManager",new kr(xw(e))),Tw(xw(e),"headerStateManager",null),Cw(xw(e),Pw,{writable:!0,value:null}),e}return t=s,n=[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[Aw]}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.hot.getSettings().nestedHeaders||Vn("You need to configure the Nested Headers plugin in order to use collapsible headers."),Dw(this,Pw,this.hot.columnIndexMapper.createAndRegisterIndexMap(this.pluginName,"hiding")),this.nestedHeadersPlugin=this.hot.getPlugin("nestedHeaders"),this.headerStateManager=this.nestedHeadersPlugin.getStateManager(),this.addHook("init",(function(){return e.onInit()})),this.addHook("afterLoadData",(function(){return e.onAfterLoadData.apply(e,arguments)})),this.addHook("afterGetColHeader",(function(t,n){return e.onAfterGetColHeader(t,n)})),this.addHook("beforeOnCellMouseDown",(function(t,n,r){return e.onBeforeOnCellMouseDown(t,n,r)})),_w(Ow(s.prototype),"enablePlugin",this).call(this),this.updatePlugin())}},{key:"updatePlugin",value:function(){if(this.hot.view){if(!this.nestedHeadersPlugin.detectedOverlappedHeaders){var e=this.hot.getSettings().collapsibleColumns;"boolean"==typeof e?this.headerStateManager.mapState((function(e){return{collapsible:e.origColspan>1}})):Array.isArray(e)&&(this.headerStateManager.mapState((function(){return{collapsible:!1}})),this.headerStateManager.mergeStateWith(e))}_w(Ow(s.prototype),"updatePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),Dw(this,Pw,null),this.nestedHeadersPlugin=null,this.clearButtons(),_w(Ow(s.prototype),"disablePlugin",this).call(this)}},{key:"clearButtons",value:function(){if(this.hot.view){var e=this.hot.view._wt.getSetting("columnHeaders").length,t=this.hot.view._wt.wtTable.THEAD,n=this.hot.view._wt.wtOverlays.topOverlay.clone.wtTable.THEAD,r=this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay?this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null,i=function(e){e&&e.parentNode.removeChild(e)};Wr(0,e-1,(function(e){var o=t.childNodes[e],a=n.childNodes[e],s=r?r.childNodes[e]:null;Wr(0,o.childNodes.length-1,(function(e){var t=o.childNodes[e].querySelector(".collapsibleIndicator");i(t),a&&a.childNodes[e]&&(t=a.childNodes[e].querySelector(".collapsibleIndicator"),i(t)),r&&s&&s.childNodes[e]&&(t=s.childNodes[e].querySelector(".collapsibleIndicator"),i(t))}))}))}}},{key:"expandSection",value:function(e){this.toggleCollapsibleSection([e],"expand")}},{key:"collapseSection",value:function(e){this.toggleCollapsibleSection([e],"collapse")}},{key:"toggleAllCollapsibleSections",value:function(e){var t=this,n=this.headerStateManager.mapNodes((function(n){var r=n.collapsible,i=n.origColspan,o=n.headerLevel,a=n.columnIndex,s=n.isCollapsed;if(!0===r&&i>1&&(s&&"expand"===e||!s&&"collapse"===e))return{row:t.headerStateManager.levelToRowCoords(o),col:a}}));this.toggleCollapsibleSection(n,e)}},{key:"collapseAll",value:function(){this.toggleAllCollapsibleSections("collapse")}},{key:"expandAll",value:function(){this.toggleAllCollapsibleSections("expand")}},{key:"toggleCollapsibleSection",value:function(e,t){var n=this;if(!jw.has(t))throw new Error("Unsupported action is passed (".concat(t,")."));if(Array.isArray(e)){var r=B(e,(function(e){return e.row<0})),i=r.length>0;$(r,(function(e){var r,o=e.row,a=e.col,s=null!==(r=n.headerStateManager.getHeaderSettings(o,a))&&void 0!==r?r:{},l=s.collapsible,u=s.isCollapsed;if(!l||u&&"collapse"===t||!u&&"expand"===t)return i=!1,!1}));var o=[],a=[];i&&$(r,(function(e){var r=e.row,i=e.col,s=n.headerStateManager.triggerNodeModification(t,r,i),l=s.colspanCompensation,u=s.affectedColumns,c=s.rollbackModification;l>0&&(a.push.apply(a,yw(u)),o.push(c))}));var s=this.getCollapsedColumns(),l=[];"collapse"===t?l=Z([].concat(yw(s),a)):"expand"===t&&(l=B(s,(function(e){return!a.includes(e)})));var u=jw.get(t);if(!1!==this.hot.runHooks(u.beforeHook,s,l,i)){this.hot.batchExecution((function(){$(a,(function(e){Rw(n,Pw).setValueAtIndex(n.hot.toPhysicalColumn(e),u.hideColumn)}))}),!0);var c=this.getCollapsedColumns().length!==s.length;this.hot.runHooks(u.afterHook,s,l,i,c),this.hot.render(),this.hot.view.adjustElementsSize(!0)}else $(o,(function(e){e()}))}}},{key:"getCollapsedColumns",value:function(){return Rw(this,Pw).getHiddenIndexes()}},{key:"generateIndicator",value:function(e,t){var n=this.hot.rootDocument.createElement("div"),r=this.headerStateManager.getHeaderSettings(e,t);return Ht(n,"collapsibleIndicator"),r.isCollapsed?(Ht(n,"collapsed"),$t(n,"+")):(Ht(n,"expanded"),$t(n,"-")),n}},{key:"onAfterGetColHeader",value:function(e,t){var n,r=t.parentNode,i=r.parentNode,o=-1*i.childNodes.length+Array.prototype.indexOf.call(i.childNodes,r),a=null!==(n=this.headerStateManager.getHeaderSettings(o,e))&&void 0!==n?n:{},s=a.collapsible,l=a.origColspan;if(s&&l>1&&e>=this.hot.getSettings().fixedColumnsStart){var u=this.generateIndicator(o,e);t.querySelector("div:first-child").appendChild(u)}}},{key:"onBeforeOnCellMouseDown",value:function(e,t){It(e.target,"collapsibleIndicator")&&(It(e.target,"expanded")?(this.eventManager.fireEvent(e.target,"mouseup"),this.toggleCollapsibleSection([t],"collapse")):It(e.target,"collapsed")&&(this.eventManager.fireEvent(e.target,"mouseup"),this.toggleCollapsibleSection([t],"expand")),Bn(e))}},{key:"onInit",value:function(){this.updatePlugin()}},{key:"onAfterLoadData",value:function(e,t){t||this.updatePlugin()}},{key:"destroy",value:function(){Dw(this,Pw,null),_w(Ow(s.prototype),"destroy",this).call(this)}}],r=[{key:"PLUGIN_KEY",get:function(){return Aw}},{key:"PLUGIN_PRIORITY",get:function(){return 290}},{key:"PLUGIN_DEPS",get:function(){return["plugin:NestedHeaders"]}},{key:"SETTING_KEYS",get:function(){return[Aw].concat(Lw)}}],n&&ww(t.prototype,n),r&&ww(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($v);function Hw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Yw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yw(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Bw=["sortEmptyCells","indicator","headerAction","compareFunctionFactory"],Ww=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hot=t,this.sortingStates=new Lc,this.sortEmptyCells=!1,this.indicator=!0,this.headerAction=!0,this.compareFunctionFactory=void 0,this.mapName=n,this.hot.columnIndexMapper.registerMap(n,this.sortingStates)}var t,n;return t=e,n=[{key:"updateAllColumnsProperties",value:function(e){var t=this;de(e)&&fe(e,(function(e,n){Bw.includes(n)&&(t[n]=e)}))}},{key:"getAllColumnsProperties",value:function(){var e={sortEmptyCells:this.sortEmptyCells,indicator:this.indicator,headerAction:this.headerAction};return"function"==typeof this.compareFunctionFactory&&(e.compareFunctionFactory=this.compareFunctionFactory),e}},{key:"getSortOrderOfColumn",value:function(e){var t;return null===(t=this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(e)))||void 0===t?void 0:t.sortOrder}},{key:"getIndexOfColumnInSortQueue",value:function(e){return e=this.hot.toPhysicalColumn(e),this.sortingStates.getEntries().findIndex((function(t){return Fw(t,1)[0]===e}))}},{key:"getNumberOfSortedColumns",value:function(){return this.sortingStates.getLength()}},{key:"isListOfSortedColumnsEmpty",value:function(){return 0===this.getNumberOfSortedColumns()}},{key:"isColumnSorted",value:function(e){return de(this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(e)))}},{key:"getSortStates",value:function(){var e=this;return null===this.sortingStates?[]:this.sortingStates.getEntries().map((function(t){var n=Fw(t,2),r=n[0],i=n[1];return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hw(Object(n),!0).forEach((function(t){Nw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({column:e.hot.toVisualColumn(r)},i)}))}},{key:"getColumnSortState",value:function(e){var t=this.getSortOrderOfColumn(e);if(Je(t))return{column:e,sortOrder:t}}},{key:"setSortStates",value:function(e){this.sortingStates.clear();for(var t=0;t<e.length;t+=1)this.sortingStates.setValueAtIndex(this.hot.toPhysicalColumn(e[t].column),{sortOrder:e[t].sortOrder})}},{key:"destroy",value:function(){this.hot.columnIndexMapper.unregisterMap(this.mapName),this.sortingStates=null}}],n&&zw(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),$w="asc",Uw="desc";function Vw(e){if(e!==Uw)return e===$w?Uw:$w}function qw(e){return e.querySelector(".".concat("colHeader"))}function Gw(e,t){if(e<0||!t.parentNode)return!1;var n=t.parentNode.parentNode.childNodes;return-1==Array.from(n).indexOf(t.parentNode)-n.length}function Kw(e,t,n){return-1===e&&t>=0&&!1===$n(n)}var Zw="indicatorDisabled",Xw="columnSorting",Jw="sortAction",Qw=new Map([[$w,"ascending"],[Uw,"descending"]]);function e_(e,t,n,r){var i=[Xw];if(r&&i.push(Jw),!1===n)return i.push(Zw),i;var o=e.getSortOrderOfColumn(t);return Je(o)&&i.push(Qw.get(o)),i}function t_(){return Array.from(Qw.values()).concat(Jw,Zw,Xw)}var n_=-1;function r_(e,t,n){var r=t.locale;return function(t,i){var o=n.sortEmptyCells;return"string"==typeof t&&(t=t.toLocaleLowerCase(r)),"string"==typeof i&&(i=i.toLocaleLowerCase(r)),t===i?0:et(t)?et(i)?0:o&&"asc"===e?n_:1:et(i)?o&&"asc"===e?1:n_:isNaN(t)&&!isNaN(i)?"asc"===e?1:n_:!isNaN(t)&&isNaN(i)?"asc"===e?n_:1:(isNaN(t)||isNaN(i)||(t=parseFloat(t),i=parseFloat(i)),t<i?"asc"===e?n_:1:t>i?"asc"===e?1:n_:0)}}var i_="default",o_=sr("sorting.compareFunctionFactory"),a_=o_.register,s_=o_.getItem,l_=o_.hasItem,u_=sr("sorting.mainSortComparator"),c_=u_.register,d_=u_.getItem;function h_(e){return l_(e)?s_(e):s_(i_)}function f_(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p_(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m_(e){return m_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m_(e)}a_("numeric",(function(e,t,n){return function(t,r){var i=parseFloat(t),o=parseFloat(r),a=n.sortEmptyCells;if(i===o||isNaN(i)&&isNaN(o))return 0;if(a){if(et(t))return"asc"===e?n_:1;if(et(r))return"asc"===e?1:n_}return isNaN(i)?1:isNaN(o)?n_:i<o?"asc"===e?n_:1:i>o?"asc"===e?1:n_:0}})),a_("checkbox",(function(e,t,n){var r=t.checkedTemplate,i=t.uncheckedTemplate,o=n.sortEmptyCells;return function(a,s){var l=et(a),u=et(s),c=l?i:a,d=u?i:s,h=c===i||c===r,f=d===i||d===r;if(!1===o){if(l&&!1===u)return 1;if(!1===l&&u)return n_}return!1===h&&f?"asc"===e?n_:1:h&&!1===f?"asc"===e?1:n_:!1===h&&!1===f?r_(e,t,n)(a,s):c===i&&d===r?"asc"===e?n_:1:c===r&&d===i?"asc"===e?1:n_:0}})),a_("date",(function(e,t,n){return function(r,i){var o=n.sortEmptyCells;if(r===i)return 0;if(et(r))return et(i)?0:o&&"asc"===e?n_:1;if(et(i))return o&&"asc"===e?1:n_;var a=t.dateFormat,s=qe(r,a),l=qe(i,a);return s.isValid()?l.isValid()?l.isAfter(s)?"asc"===e?n_:1:l.isBefore(s)?"asc"===e?1:n_:0:n_:1}})),a_(i_,r_);var g_=["column"],y_=["column"];function v_(e){return function(e){if(Array.isArray(e))return b_(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return b_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b_(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function __(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w_(Object(n),!0).forEach((function(t){k_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S_(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function M_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x_(){return x_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=O_(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},x_.apply(this,arguments)}function O_(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R_(e)););return e}function C_(e,t){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C_(e,t)}function T_(e,t){if(t&&("object"===m_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function R_(e){return R_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R_(e)}var D_="columnSorting",E_="append",A_="replace";c_(D_,(function(e,t){return function(n,r){var i=f_(n).slice(1),o=f_(r).slice(1);return function(n){var r=e[0],a=t[0],s=i[0],l=o[0],u=a.columnSorting;return(u.compareFunctionFactory?u.compareFunctionFactory:h_(a.type))(r,a,u)(s,l)}()}})),rr.getSingleton().register("beforeColumnSort"),rr.getSingleton().register("afterColumnSort");var L_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C_(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=R_(i);if(o){var n=R_(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return T_(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).columnStatesManager=null,t.columnMetaCache=null,t.pluginKey=D_,t.indexesSequenceCache=null,t}return t=s,n=[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[this.pluginKey]}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.columnStatesManager=new Ww(this.hot,"".concat(this.pluginKey,".sortingStates")),this.columnMetaCache=new lc((function(t){var n=e.hot.toVisualColumn(t);return null===n&&(n=t),e.getMergedPluginSettings(n)})),this.hot.columnIndexMapper.registerMap("".concat(this.pluginKey,".columnMeta"),this.columnMetaCache),this.addHook("afterGetColHeader",(function(t,n){return e.onAfterGetColHeader(t,n)})),this.addHook("beforeOnCellMouseDown",(function(){return e.onBeforeOnCellMouseDown.apply(e,arguments)})),this.addHook("afterOnCellMouseDown",(function(t,n){return e.onAfterOnCellMouseDown(t,n)})),this.addHook("afterInit",(function(){return e.loadOrSortBySettings()})),this.addHook("afterLoadData",(function(){return e.onAfterLoadData.apply(e,arguments)})),this.hot.view&&this.loadOrSortBySettings(),x_(R_(s.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){var e=this,t=function(t,n){var r=qw(n);!1!==Gw(t,n)&&null!==r&&e.updateHeaderClasses(r)};this.hot.addHook("afterGetColHeader",t),this.hot.addHookOnce("afterViewRender",(function(){e.hot.removeHook("afterGetColHeader",t)})),this.hot.batchExecution((function(){null!==e.indexesSequenceCache&&(e.hot.rowIndexMapper.setIndexesSequence(e.indexesSequenceCache.getValues()),e.hot.rowIndexMapper.unregisterMap(e.pluginKey))}),!0),this.hot.columnIndexMapper.unregisterMap("".concat(this.pluginKey,".columnMeta")),this.columnStatesManager.destroy(),this.columnMetaCache=null,this.columnStatesManager=null,x_(R_(s.prototype),"disablePlugin",this).call(this)}},{key:"sort",value:function(e){var t=this.getSortConfig(),n=this.getNormalizedSortConfigs(e),r=this.areValidSortConfigs(n);!1!==this.hot.runHooks("beforeColumnSort",t,n,r)&&(0===t.length&&null===this.indexesSequenceCache&&(this.indexesSequenceCache=this.hot.rowIndexMapper.registerMap(this.pluginKey,new Kc),this.indexesSequenceCache.setValues(this.hot.rowIndexMapper.getIndexesSequence())),r&&(this.columnStatesManager.setSortStates(n),this.sortByPresetSortStates(n),this.saveAllSortSettings(n)),this.hot.runHooks("afterColumnSort",t,r?n:t,r),r&&(this.hot.render(),this.hot.forceFullRender=!1,this.hot.view.render()))}},{key:"clearSort",value:function(){this.sort([])}},{key:"isSorted",value:function(){return this.enabled&&!this.columnStatesManager.isListOfSortedColumnsEmpty()}},{key:"getSortConfig",value:function(e){return Je(e)?this.columnStatesManager.getColumnSortState(e):this.columnStatesManager.getSortStates()}},{key:"setSortConfig",value:function(e){var t=this.getNormalizedSortConfigs(e);this.areValidSortConfigs(t)&&this.columnStatesManager.setSortStates(t)}},{key:"getNormalizedSortConfigs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(e)?e.slice(0,1):[e]}},{key:"areValidSortConfigs",value:function(e){var t=this.hot.countCols();return function(e){if(e.some((function(e){return!1===function(e){if(!1===de(e))return!1;var t=e.column,n=e.sortOrder;return Number.isInteger(t)&&[$w,Uw].includes(n)}(e)})))return!1;var t=e.map((function(e){return e.column}));return new Set(t).size===t.length}(e)&&e.every((function(e){var n=e.column;return n<=t&&n>=0}))}},{key:"saveAllSortSettings",value:function(e){var t=this,n=this.columnStatesManager.getAllColumnsProperties();n.initialConfig=W(e,(function(e){var n=e.column,r=S_(e,g_);return __({column:t.hot.toPhysicalColumn(n)},r)})),this.hot.runHooks("persistentStateSave","columnSorting",n)}},{key:"getAllSavedSortSettings",value:function(){var e=this,t={};this.hot.runHooks("persistentStateLoad","columnSorting",t);var n=t.value;return Je(n)&&Array.isArray(n.initialConfig)&&(n.initialConfig=W(n.initialConfig,(function(t){var n=t.column,r=S_(t,y_);return __({column:e.hot.toVisualColumn(n)},r)}))),n}},{key:"getColumnNextConfig",value:function(e){var t=this.columnStatesManager.getSortOrderOfColumn(e);if(Je(t)){var n=Vw(t);return Je(n)?{column:e,sortOrder:n}:void 0}var r=this.hot.countCols();if(Number.isInteger(e)&&e>=0&&e<r)return{column:e,sortOrder:Vw()}}},{key:"getNextSortConfig",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E_,n=this.columnStatesManager.getIndexOfColumnInSortQueue(e),r=-1!==n,i=this.getSortConfig(),o=this.getColumnNextConfig(e);if(r){if(Qe(o))return[].concat(v_(i.slice(0,n)),v_(i.slice(n+1)));if(t===E_)return[].concat(v_(i.slice(0,n)),v_(i.slice(n+1)),[o]);if(t===A_)return[].concat(v_(i.slice(0,n)),[o],v_(i.slice(n+1)))}return Je(o)?i.concat(o):i}},{key:"getPluginColumnConfig",value:function(e){if(de(e)){var t=e[this.pluginKey];if(de(t))return t}return{}}},{key:"getMergedPluginSettings",value:function(e){var t=this.hot.getSettings()[this.pluginKey],n=this.columnStatesManager.getAllColumnsProperties(),r=this.hot.getCellMeta(0,e),i=Object.getPrototypeOf(r);return Array.isArray(i.columns)?Object.assign(n,t,this.getPluginColumnConfig(i.columns[e])):xn(i.columns)?Object.assign(n,t,this.getPluginColumnConfig(i.columns(e))):Object.assign(n,t)}},{key:"getFirstCellSettings",value:function(e){var t=this.hot.getCellMeta(0,e),n=Object.create(t);return n[this.pluginKey]=this.columnMetaCache.getValueAtIndex(this.hot.toPhysicalColumn(e)),n}},{key:"getNumberOfRowsToSort",value:function(e){var t=this.hot.getSettings();return t.maxRows<=e?t.maxRows:e-t.minSpareRows}},{key:"sortByPresetSortStates",value:function(e){var t=this;if(0!==e.length){for(var n=[],r=this.hot.countRows(),i=function(n){return W(e,(function(e){return t.hot.getDataAtCell(n,e.column)}))},o=0;o<this.getNumberOfRowsToSort(r);o+=1)n.push([this.hot.toPhysicalRow(o)].concat(i(o)));var a=W(n,(function(e){return e[0]}));!function(e,t){for(var n=d_(t),r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];e.sort(n.apply(void 0,i))}(n,this.pluginKey,W(e,(function(e){return e.sortOrder})),W(e,(function(e){return t.getFirstCellSettings(e.column)})));for(var s=n.length;s<r;s+=1)n.push([s].concat(i(s)));var l=W(n,(function(e){return e[0]})),u=new Map(W(a,(function(e,t){return[e,l[t]]}))),c=W(this.hot.rowIndexMapper.getIndexesSequence(),(function(e){return u.has(e)?u.get(e):e}));this.hot.rowIndexMapper.setIndexesSequence(c)}else this.hot.rowIndexMapper.setIndexesSequence(this.indexesSequenceCache.getValues())}},{key:"loadOrSortBySettings",value:function(){var e=this.getAllSavedSortSettings();if(de(e))this.sortBySettings(e);else{var t=this.hot.getSettings()[this.pluginKey];this.sortBySettings(t)}}},{key:"sortBySettings",value:function(e){if(de(e)){this.columnStatesManager.updateAllColumnsProperties(e);var t=e.initialConfig;(Array.isArray(t)||de(t))&&this.sort(t)}else this.hot.render()}},{key:"onAfterGetColHeader",value:function(e,t){var n=qw(t);if(!1!==Gw(e,t)&&null!==n){var r=this.getFirstCellSettings(e)[this.pluginKey],i=r.indicator,o=r.headerAction;this.updateHeaderClasses(n,this.columnStatesManager,e,i,o)}}},{key:"updateHeaderClasses",value:function(e){if(Nt(e,t_()),!1!==this.enabled){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ht(e,e_.apply(void 0,n))}}},{key:"onUpdateSettings",value:function(e){x_(R_(s.prototype),"onUpdateSettings",this).call(this),null!==this.columnMetaCache&&this.columnMetaCache.init(this.hot.columnIndexMapper.getNumberOfIndexes()),Je(e[this.pluginKey])&&this.sortBySettings(e[this.pluginKey])}},{key:"onAfterLoadData",value:function(e){!0===e&&this.hot.view&&this.loadOrSortBySettings()}},{key:"wasClickableHeaderClicked",value:function(e,t){return this.getFirstCellSettings(t)[this.pluginKey].headerAction&&"SPAN"===e.target.nodeName}},{key:"onBeforeOnCellMouseDown",value:function(e,t,n,r){!1!==Kw(t.row,t.col,e)&&this.wasClickableHeaderClicked(e,t.col)&&this.hot.getShortcutManager().isCtrlPressed()&&(r.column=!0)}},{key:"onAfterOnCellMouseDown",value:function(e,t){!1!==Kw(t.row,t.col,e)&&this.wasClickableHeaderClicked(e,t.col)&&(this.hot.getShortcutManager().isCtrlPressed()&&(this.hot.deselectCell(),this.hot.selectColumns(t.col)),this.sort(this.getColumnNextConfig(t.col)))}},{key:"destroy",value:function(){var e;null===(e=this.columnStatesManager)||void 0===e||e.destroy(),x_(R_(s.prototype),"destroy",this).call(this)}}],r=[{key:"PLUGIN_KEY",get:function(){return D_}},{key:"PLUGIN_PRIORITY",get:function(){return 50}}],n&&M_(t.prototype,n),r&&M_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($v);function j_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(35884);var P_=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.plugin=t,this.hot=this.plugin.hot,this.endpoints=[],this.settings=n,this.settingsType="array",this.currentEndpoint=null,this.cellsToSetCache=[]}var t,n;return t=e,n=[{key:"getEndpoint",value:function(e){return"function"===this.settingsType?this.fillMissingEndpointData(this.settings)[e]:this.endpoints[e]}},{key:"getAllEndpoints",value:function(){return"function"===this.settingsType?this.fillMissingEndpointData(this.settings):this.endpoints}},{key:"fillMissingEndpointData",value:function(e){return this.parseSettings(e.call(this))}},{key:"parseSettings",value:function(e){var t=this,n=[],r=e;if(r||"function"!=typeof this.settings)return r||(r=this.settings),$(r,(function(e){var r={};t.assignSetting(e,r,"ranges",[[0,t.hot.countRows()-1]]),t.assignSetting(e,r,"reversedRowCoords",!1),t.assignSetting(e,r,"destinationRow",new Error("\n        You must provide a destination row for the Column Summary plugin in order to work properly!\n      ")),t.assignSetting(e,r,"destinationColumn",new Error("\n        You must provide a destination column for the Column Summary plugin in order to work properly!\n      ")),t.assignSetting(e,r,"sourceColumn",e.destinationColumn),t.assignSetting(e,r,"type","sum"),t.assignSetting(e,r,"forceNumeric",!1),t.assignSetting(e,r,"suppressDataTypeErrors",!0),t.assignSetting(e,r,"suppressDataTypeErrors",!0),t.assignSetting(e,r,"customFunction",null),t.assignSetting(e,r,"readOnly",!0),t.assignSetting(e,r,"roundFloat",!1),n.push(r)})),n;this.settingsType="function"}},{key:"assignSetting",value:function(e,t,n,r){if("ranges"!==n||void 0!==e[n]){if("ranges"!==n||0!==e[n].length)if(void 0===e[n]){if(r instanceof Error)throw r;t[n]=r}else"destinationRow"===n&&t.reversedRowCoords?t[n]=this.hot.countRows()-e[n]-1:t[n]=e[n]}else t[n]=r}},{key:"resetSetupBeforeStructureAlteration",value:function(e,t,n){if("function"===this.settingsType){var r=e.indexOf("row")>-1?"row":"col",i=this.getAllEndpoints();$(i,(function(i){"row"===r&&i.destinationRow>=t&&("insert_row"===e?i.alterRowOffset=n:"remove_row"===e&&(i.alterRowOffset=-1*n)),"col"===r&&i.destinationColumn>=t&&("insert_col"===e?i.alterColumnOffset=n:"remove_col"===e&&(i.alterColumnOffset=-1*n))})),this.resetAllEndpoints(i,!1)}}},{key:"resetSetupAfterStructureAlteration",value:function(e,t,n,r,i){var o=this,a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if("function"!==this.settingsType){var s=e.indexOf("row")>-1?"row":"col",l=e.indexOf("remove")>-1?-1:1,u=this.getAllEndpoints(),c=0===e.indexOf("move_row"),d=t;$(u,(function(e){"row"===s&&e.destinationRow>=d&&(e.alterRowOffset=l*n),"col"===s&&e.destinationColumn>=d&&(e.alterColumnOffset=l*n)})),this.resetAllEndpoints(u,!c),$(u,c?function(e){o.extendEndpointRanges(e,d,r[0],r.length),o.recreatePhysicalRanges(e),o.clearOffsetInformation(e)}:function(e){o.shiftEndpointCoordinates(e,d)}),a&&this.refreshAllEndpoints()}else{var h=function e(){return o.hot.removeHook("beforeViewRender",e),o.refreshAllEndpoints()};this.hot.addHookOnce("beforeViewRender",h)}}},{key:"clearOffsetInformation",value:function(e){e.alterRowOffset=void 0,e.alterColumnOffset=void 0}},{key:"extendEndpointRanges",value:function(e,t,n,r){$(e.ranges,(function(e){e[1]&&(t>=e[0]&&t<=e[1]?n>e[1]?e[1]+=r:n<e[0]&&(e[0]-=r):n>=e[0]&&n<=e[1]&&(e[1]-=r,t<=e[0]&&(e[0]+=1,e[1]+=1)))}))}},{key:"recreatePhysicalRanges",value:function(e){var t=this,n=e.ranges,r=[],i=[];$(n,(function(e){var n=[];if(e[1])for(var r=e[0];r<=e[1];r++)n.push(t.hot.toPhysicalRow(r));else n.push(t.hot.toPhysicalRow(e[0]));i.push(n)})),$(i,(function(e){var t=[];$(e,(function(n,i){0===i?t.push(n):e[i]!==e[i-1]+1&&(t.push(e[i-1]),r.push(t),(t=[]).push(n)),i===e.length-1&&(t.push(n),r.push(t))}))})),e.ranges=r}},{key:"shiftEndpointCoordinates",value:function(e,t){e.alterRowOffset&&0!==e.alterRowOffset?(e.destinationRow+=e.alterRowOffset||0,$(e.ranges,(function(n){$(n,(function(r,i){r>=t&&(n[i]+=e.alterRowOffset||0)}))}))):e.alterColumnOffset&&0!==e.alterColumnOffset&&(e.destinationColumn+=e.alterColumnOffset||0,e.sourceColumn+=e.alterColumnOffset||0)}},{key:"resetAllEndpoints",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAllEndpoints(),n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.some((function(t){var n=t.alterRowOffset||0,r=t.alterColumnOffset||0;return t.destinationRow+n>=e.hot.countRows()||t.destinationColumn+r>=e.hot.countCols()}));r||(this.cellsToSetCache=[],$(t,(function(t){e.resetEndpointValue(t,n)})),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[])}},{key:"refreshAllEndpoints",value:function(){var e=this;this.cellsToSetCache=[],$(this.getAllEndpoints(),(function(t){e.currentEndpoint=t,e.plugin.calculate(t),e.setEndpointValue(t,"init")})),this.currentEndpoint=null,this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}},{key:"refreshChangedEndpoints",value:function(e){var t=this,n=[];this.cellsToSetCache=[],$(e,(function(e,r,i){"".concat(e[2]||"")!=="".concat(e[3])&&$(t.getAllEndpoints(),(function(e,o){t.hot.propToCol(i[r][1])===e.sourceColumn&&-1===n.indexOf(o)&&n.push(o)}))})),$(n,(function(e){t.refreshEndpoint(t.getEndpoint(e))})),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}},{key:"refreshEndpoint",value:function(e){this.currentEndpoint=e,this.plugin.calculate(e),this.setEndpointValue(e),this.currentEndpoint=null}},{key:"resetEndpointValue",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.alterRowOffset||0,r=e.alterColumnOffset||0,i=[this.hot.toVisualRow(e.destinationRow),this.hot.toVisualColumn(e.destinationColumn)],o=i[0],a=i[1];if(null!==a&&null!==o){var s=this.hot.getCellMeta(o,a);s.readOnly=!1,s.className=""}this.cellsToSetCache.push([this.hot.toVisualRow(e.destinationRow+(t?n:0)),this.hot.toVisualColumn(e.destinationColumn+(t?r:0)),""])}},{key:"setEndpointValue",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1*e.alterRowOffset||0,i=-1*e.alterColumnOffset||0,o=this.hot.toVisualRow(e.destinationRow);if(e.destinationRow>=this.hot.countRows()||e.destinationColumn>=this.hot.countCols())this.throwOutOfBoundsWarning();else{var a=this.hot.toVisualRow(e.destinationRow+r);if(null!==a){var s=this.hot.getCellMeta(a,e.destinationColumn+i);"init"!==t&&s.readOnly===e.readOnly||(s.readOnly=e.readOnly,s.className="columnSummaryResult")}e.roundFloat&&!isNaN(e.result)&&(e.result=e.result.toFixed(e.roundFloat)),n?this.hot.setDataAtCell(o,e.destinationColumn,e.result,"ColumnSummary.set"):this.cellsToSetCache.push([o,e.destinationColumn,e.result]),e.alterRowOffset=void 0,e.alterColumnOffset=void 0}}},{key:"throwOutOfBoundsWarning",value:function(){Vn("One of the Column Summary plugins' destination points you provided is beyond the table boundaries!")}}],n&&j_(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const I_=P_;function H_(e){return null==e||isNaN(e)}function N_(e){return N_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N_(e)}var F_;function Y_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z_(){return z_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=B_(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},z_.apply(this,arguments)}function B_(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=U_(e)););return e}function W_(e,t){return W_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},W_(e,t)}function $_(e,t){if(t&&("object"===N_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function U_(e){return U_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},U_(e)}var V_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W_(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=U_(i);if(o){var n=U_(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return $_(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).endpoints=null,t}return t=s,n=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().columnSummary}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.settings=this.hot.getSettings().columnSummary,this.endpoints=new I_(this,this.settings),this.addHook("afterInit",(function(){return e.onAfterInit.apply(e,arguments)})),this.addHook("afterChange",(function(){return e.onAfterChange.apply(e,arguments)})),this.addHook("beforeCreateRow",(function(t,n,r){return e.endpoints.resetSetupBeforeStructureAlteration("insert_row",t,n,null,r)})),this.addHook("beforeCreateCol",(function(t,n,r){return e.endpoints.resetSetupBeforeStructureAlteration("insert_col",t,n,null,r)})),this.addHook("beforeRemoveRow",(function(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.endpoints).resetSetupBeforeStructureAlteration.apply(t,["remove_row"].concat(r))})),this.addHook("beforeRemoveCol",(function(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.endpoints).resetSetupBeforeStructureAlteration.apply(t,["remove_col"].concat(r))})),this.addHook("afterCreateRow",(function(t,n,r){return e.endpoints.resetSetupAfterStructureAlteration("insert_row",t,n,null,r)})),this.addHook("afterCreateCol",(function(t,n,r){return e.endpoints.resetSetupAfterStructureAlteration("insert_col",t,n,null,r)})),this.addHook("afterRemoveRow",(function(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.endpoints).resetSetupAfterStructureAlteration.apply(t,["remove_row"].concat(r))})),this.addHook("afterRemoveCol",(function(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.endpoints).resetSetupAfterStructureAlteration.apply(t,["remove_col"].concat(r))})),this.addHook("afterRowMove",(function(){return e.onAfterRowMove.apply(e,arguments)})),z_(U_(s.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.endpoints=null,this.settings=null,this.currentEndpoint=null}},{key:"calculate",value:function(e){switch(e.type.toLowerCase()){case"sum":e.result=this.calculateSum(e);break;case"min":case"max":e.result=this.calculateMinMax(e,e.type);break;case"count":e.result=this.countEntries(e);break;case"average":e.result=this.calculateAverage(e);break;case"custom":e.result=e.customFunction.call(this,e)}}},{key:"calculateSum",value:function(e){var t=this,n=0;return fe(e.ranges,(function(r){n+=t.getPartialSum(r,e.sourceColumn)})),n}},{key:"getPartialSum",value:function(e,t){var n=0,r=e[1]||e[0],i=null,o=0;do{if(null!==(i=H_(i=this.getCellValue(r,t))?null:i)){var a=("".concat(i).split(".")[1]||[]).length||1;a>o&&(o=a)}n+=i||0,r-=1}while(r>=e[0]);return Math.round(n*Math.pow(10,o))/Math.pow(10,o)}},{key:"calculateMinMax",value:function(e,t){var n=this,r=null;return fe(e.ranges,(function(i){var o=n.getPartialMinMax(i,e.sourceColumn,t);if(null===r&&null!==o&&(r=o),null!==o)switch(t){case"min":r=Math.min(r,o);break;case"max":r=Math.max(r,o)}})),null===r?"Not enough data":r}},{key:"getPartialMinMax",value:function(e,t,n){var r,i=null,o=e[1]||e[0];do{if(r=H_(r=this.getCellValue(o,t))?null:r,null===i)i=r;else if(null!==r)switch(n){case"min":i=Math.min(i,r);break;case"max":i=Math.max(i,r)}o-=1}while(o>=e[0]);return i}},{key:"countEmpty",value:function(e,t){var n,r=0,i=e[1]||e[0];do{null===(n=H_(n=this.getCellValue(i,t))?null:n)&&(r+=1),i-=1}while(i>=e[0]);return r}},{key:"countEntries",value:function(e){var t=this,n=0;return fe(e.ranges,(function(r){var i=void 0===r[1]?1:r[1]-r[0]+1,o=t.countEmpty(r,e.sourceColumn);n+=i,n-=o})),n}},{key:"calculateAverage",value:function(e){return this.calculateSum(e)/this.countEntries(e)}},{key:"getCellValue",value:function(e,t){var n=this.hot.toVisualRow(e),r=this.hot.toVisualColumn(t),i=this.hot.getSourceDataAtCell(e,t),o="";if(null!==n&&null!==r&&(o=this.hot.getCellMeta(n,r).className||""),o.indexOf("columnSummaryResult")>-1)return null;if(this.endpoints.currentEndpoint.forceNumeric&&("string"==typeof i&&(i=i.replace(/,/,".")),i=parseFloat(i)),isNaN(i)&&!this.endpoints.currentEndpoint.suppressDataTypeErrors)throw new Error(Ge(F_||(F_=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["ColumnSummary plugin: cell at (",", ",") is not in a \n          numeric format. Cannot do the calculation."],["ColumnSummary plugin: cell at (",", ",") is not in a\\x20\n          numeric format. Cannot do the calculation."])),e,t));return i}},{key:"onAfterInit",value:function(){this.endpoints.endpoints=this.endpoints.parseSettings(),this.endpoints.refreshAllEndpoints(!0)}},{key:"onAfterChange",value:function(e,t){e&&"ColumnSummary.reset"!==t&&"ColumnSummary.set"!==t&&"loadData"!==t&&this.endpoints.refreshChangedEndpoints(e)}},{key:"onAfterRowMove",value:function(e,t){this.endpoints.resetSetupBeforeStructureAlteration("move_row",e[0],e.length,e,this.pluginName),this.endpoints.resetSetupAfterStructureAlteration("move_row",t,e.length,e,this.pluginName)}}],r=[{key:"PLUGIN_KEY",get:function(){return"columnSummary"}},{key:"PLUGIN_PRIORITY",get:function(){return 220}}],n&&Y_(t.prototype,n),r&&Y_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($v);function q_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var G_=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rootDocument=t,this.isRtl=n,this.container=null,this.editor=this.createEditor(),this.editorStyle=this.editor.style,this.hidden=!0,this.hide()}var t,n,r;return t=e,n=[{key:"setPosition",value:function(e,t){this.editorStyle.left="".concat(e,"px"),this.editorStyle.top="".concat(t,"px")}},{key:"setSize",value:function(e,t){if(e&&t){var n=this.getInputElement();n.style.width="".concat(e,"px"),n.style.height="".concat(t,"px")}}},{key:"getSize",value:function(){return{width:nn(this.getInputElement()),height:rn(this.getInputElement())}}},{key:"resetSize",value:function(){var e=this.getInputElement();e.style.width="",e.style.height=""}},{key:"setReadOnlyState",value:function(e){this.getInputElement().readOnly=e}},{key:"show",value:function(){this.editorStyle.display="block",this.hidden=!1}},{key:"hide",value:function(){this.hidden||(this.editorStyle.display="none"),this.hidden=!0}},{key:"isVisible",value:function(){return"block"===this.editorStyle.display}},{key:"setValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e||"";this.getInputElement().value=t}},{key:"getValue",value:function(){return this.getInputElement().value}},{key:"isFocused",value:function(){return this.rootDocument.activeElement===this.getInputElement()}},{key:"focus",value:function(){this.getInputElement().focus()}},{key:"createEditor",value:function(){var t=this.rootDocument.createElement("div"),n=this.rootDocument.createElement("textarea");return t.style.display="none",this.container=this.rootDocument.createElement("div"),this.container.setAttribute("dir",this.isRtl?"rtl":"ltr"),Ht(this.container,e.CLASS_EDITOR_CONTAINER),this.rootDocument.body.appendChild(this.container),Ht(t,e.CLASS_EDITOR),Ht(n,e.CLASS_INPUT),t.appendChild(n),this.container.appendChild(t),t}},{key:"getInputElement",value:function(){return this.editor.querySelector(".".concat(e.CLASS_INPUT))}},{key:"destroy",value:function(){var e=this.container?this.container.parentNode:null;this.editor.parentNode.removeChild(this.editor),this.editor=null,this.editorStyle=null,e&&e.removeChild(this.container)}}],r=[{key:"CLASS_EDITOR_CONTAINER",get:function(){return"htCommentsContainer"}},{key:"CLASS_EDITOR",get:function(){return"htComments"}},{key:"CLASS_INPUT",get:function(){return"htCommentTextArea"}},{key:"CLASS_CELL",get:function(){return"htCommentCell"}}],n&&q_(t.prototype,n),r&&q_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();const K_=G_;var Z_="---------";function X_(e){return It(e,"htSeparator")}function J_(e){return It(e,"htDisabled")}function Q_(e){return It(e,"htSelectionDisabled")}function ek(e){var t=e.getSelected();return t?t[0]<0?null:t:null}function tk(e,t){var n={};return $(e,(function(e){e.forAll((function(e,r){e>=0&&r>=0&&(n[e]||(n[e]=[]),n[e][r]=t(e,r))}))})),n}function nk(e,t,n,r,i){$(e,(function(e){e.forAll((function(e,o){e>=0&&o>=0&&function(e,t,n,r,i,o){var a=i(e,t),s=r;a.className&&(s="vertical"===n?function(e,t){if(-1!==e.indexOf(t))return e;var n=e.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ","");return"".concat(n," ").concat(t)}(a.className,r):function(e,t){if(-1!==e.indexOf(t))return e;var n=e.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ","");return"".concat(n," ").concat(t)}(a.className,r)),o(e,t,"className",s)}(e,o,t,n,r,i)}))}))}function rk(e,t){var n=!1;return Array.isArray(e)&&$(e,(function(e){return e.forAll((function(e,r){if(e>=0&&r>=0&&t(e,r))return n=!0,!1})),n})),n}function ik(e){return'<span class="selected">'.concat(String.fromCharCode(10003),"</span>").concat(e)}function ok(e,t){for(var n=e.slice(0);0<n.length&&n[0].name===t;)n.shift();return n}function ak(e,t){var n=e.slice(0);return n.reverse(),(n=ok(n,t)).reverse(),n}function sk(e){var t=[];return $(e,(function(e,n){n>0?t[t.length-1].name!==e.name&&t.push(e):t.push(e)})),t}function lk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var uk=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wasLastActionShow=!0,this.showDebounced=null,this.hidingTimer=null,this.updateDelay(t)}var t,n;return t=e,n=[{key:"hide",value:function(){var e=this;this.wasLastActionShow=!1,this.hidingTimer=setTimeout((function(){!1===e.wasLastActionShow&&e.runLocalHooks("hide")}),250)}},{key:"show",value:function(e){this.wasLastActionShow=!0,this.showDebounced(e)}},{key:"cancelHiding",value:function(){this.wasLastActionShow=!0,clearTimeout(this.hidingTimer),this.hidingTimer=null}},{key:"updateDelay",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250;this.showDebounced=Tn((function(t){e.wasLastActionShow&&e.runLocalHooks("show",t.from.row,t.from.col)}),t)}},{key:"destroy",value:function(){this.clearLocalHooks()}}],n&&lk(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();ue(uk,Vu);const ck=uk;function dk(e){return dk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dk(e)}function hk(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pk(){return pk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=mk(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},pk.apply(this,arguments)}function mk(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=bk(e)););return e}function gk(e,t){return gk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gk(e,t)}function yk(e,t){if(t&&("object"===dk(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vk(e)}function vk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bk(e){return bk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bk(e)}var wk=new WeakMap,_k="comment",kk="value",Sk="style",Mk="readOnly",xk=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gk(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=bk(i);if(o){var n=bk(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return yk(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).editor=null,t.displaySwitch=null,t.eventManager=null,t.range={},t.preventEditorAutoSwitch=!1,wk.set(vk(t),{tempEditorDimensions:{},cellBelowCursor:null}),t}return t=s,n=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().comments}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.editor||(this.editor=new K_(this.hot.rootDocument,this.hot.isRtl())),this.eventManager||(this.eventManager=new kr(this)),this.displaySwitch||(this.displaySwitch=new ck(this.getDisplayDelaySetting())),this.addHook("afterContextMenuDefaultOptions",(function(t){return e.addToContextMenu(t)})),this.addHook("afterRenderer",(function(t,n,r,i,o,a){return e.onAfterRenderer(t,a)})),this.addHook("afterScrollHorizontally",(function(){return e.hide()})),this.addHook("afterScrollVertically",(function(){return e.hide()})),this.addHook("afterBeginEditing",(function(){return e.hide()})),this.displaySwitch.addLocalHook("hide",(function(){return e.hide()})),this.displaySwitch.addLocalHook("show",(function(t,n){return e.showAtCell(t,n)})),this.registerListeners(),pk(bk(s.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),pk(bk(s.prototype),"updatePlugin",this).call(this),this.displaySwitch.updateDelay(this.getDisplayDelaySetting())}},{key:"disablePlugin",value:function(){pk(bk(s.prototype),"disablePlugin",this).call(this)}},{key:"registerListeners",value:function(){var e=this,t=this.hot.rootDocument;this.eventManager.addEventListener(t,"mouseover",(function(t){return e.onMouseOver(t)})),this.eventManager.addEventListener(t,"mousedown",(function(t){return e.onMouseDown(t)})),this.eventManager.addEventListener(t,"mouseup",(function(){return e.onMouseUp()})),this.eventManager.addEventListener(this.editor.getInputElement(),"blur",(function(){return e.onEditorBlur()})),this.eventManager.addEventListener(this.editor.getInputElement(),"mousedown",(function(t){return e.onEditorMouseDown(t)})),this.eventManager.addEventListener(this.editor.getInputElement(),"mouseup",(function(t){return e.onEditorMouseUp(t)}))}},{key:"setRange",value:function(e){this.range=e}},{key:"clearRange",value:function(){this.range={}}},{key:"targetIsCellWithComment",value:function(e){var t=Tt(e.target,"TD","TBODY");return!!(t&&It(t,"htCommentCell")&&Tt(t,[this.hot.rootElement]))}},{key:"targetIsCommentTextArea",value:function(e){return this.editor.getInputElement()===e.target}},{key:"setComment",value:function(e){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var t=this.editor.getValue(),n="";null!=e?n=e:null!=t&&(n=t);var r=this.range.from.row,i=this.range.from.col;this.updateCommentMeta(r,i,hk({},kk,n)),this.hot.render()}},{key:"setCommentAtCell",value:function(e,t,n){this.setRange({from:this.hot._createCellCoords(e,t)}),this.setComment(n)}},{key:"removeComment",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');this.hot.setCellMeta(this.range.from.row,this.range.from.col,_k),e&&this.hot.render(),this.hide()}},{key:"removeCommentAtCell",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.setRange({from:this.hot._createCellCoords(e,t)}),this.removeComment(n)}},{key:"getComment",value:function(){var e=this.range.from.row,t=this.range.from.col;return this.getCommentMeta(e,t,kk)}},{key:"getCommentAtCell",value:function(e,t){return this.getCommentMeta(e,t,kk)}},{key:"show",value:function(){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var e=this.range.from,t=e.row,n=e.col;if(t<0||t>this.hot.countSourceRows()-1||n<0||n>this.hot.countSourceCols()-1)return!1;var r=this.hot.getCellMeta(this.range.from.row,this.range.from.col);return this.editor.setValue(r.comment?r.comment.value:""),this.editor.show(),this.refreshEditor(!0),!0}},{key:"showAtCell",value:function(e,t){return this.setRange({from:this.hot._createCellCoords(e,t)}),this.show()}},{key:"hide",value:function(){this.editor.hide()}},{key:"refreshEditor",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(n||this.range.from&&this.editor.isVisible()){var r=this.hot,i=r.rowIndexMapper,o=r.columnIndexMapper,a=this.range.from,s=a.row,l=a.col,u=i.getRenderableFromVisualIndex(s),c=o.getRenderableFromVisualIndex(l),d=null===u;null===u&&(u=i.getRenderableFromVisualIndex(i.getNearestNotHiddenIndex(s,-1))),null===c&&(c=o.getRenderableFromVisualIndex(o.getNearestNotHiddenIndex(l,-1)));var h=null===u,f=null===c;u=null!==(e=u)&&void 0!==e?e:0,c=null!==(t=c)&&void 0!==t?t:0;var p=this.hot,m=p.rootWindow,g=p.view._wt,y=g.wtTable,v=y.getCell({row:u,col:c}),b=this.getCommentMeta(s,l,Sk);b?this.editor.setSize(b.width,b.height):this.editor.resetSize();var w=f?0:y.getStretchedColumnWidth(c),_=d&&!h?rn(v):0,k=v.getBoundingClientRect(),S=k.left,M=k.top,x=k.width,O=k.height,C=this.editor.getSize(),T=C.width,R=C.height,D=this.hot.rootWindow,E=D.innerWidth,A=D.innerHeight,L=this.hot.rootDocument.documentElement,j=S+m.scrollX+w,P=M+m.scrollY+_;this.hot.isRtl()&&(j-=T+w),this.hot.isLtr()&&S+x+T>E?j=S+m.scrollX-T-1:this.hot.isRtl()&&j<-(L.scrollWidth-L.clientWidth)&&(j=S+m.scrollX+w+1),M+R>A&&(P-=R-O+1),this.editor.setPosition(j,P),this.editor.setReadOnlyState(this.getCommentMeta(s,l,Mk))}}},{key:"checkSelectionCommentsConsistency",value:function(){var e=this.hot.getSelectedRangeLast();if(!e)return!1;var t=!1,n=e.getTopStartCorner();return this.getCommentMeta(n.row,n.col,kk)&&(t=!0),t}},{key:"updateCommentMeta",value:function(e,t,n){var r,i=this.hot.getCellMeta(e,t).comment;i?ae(r=se(i),n):r=n,this.hot.setCellMeta(e,t,_k,r)}},{key:"getCommentMeta",value:function(e,t,n){var r=this.hot.getCellMeta(e,t);if(r.comment)return r.comment[n]}},{key:"onMouseDown",value:function(e){if(this.hot.view&&this.hot.view._wt&&!this.preventEditorAutoSwitch&&!this.targetIsCommentTextArea(e)){var t=Tt(e.target,"TD","TBODY"),n=null;t&&(n=this.hot.getCoords(t)),(!t||this.range.from&&n&&(this.range.from.row!==n.row||this.range.from.col!==n.col))&&this.hide()}}},{key:"onMouseOver",value:function(e){var t=wk.get(this),n=this.hot.rootDocument;if(!(this.preventEditorAutoSwitch||this.editor.isFocused()||It(e.target,"wtBorder")||t.cellBelowCursor===e.target)&&this.editor)if(t.cellBelowCursor=n.elementFromPoint(e.clientX,e.clientY),this.targetIsCellWithComment(e)){var r=this.hot._createCellRange(this.hot.getCoords(e.target));this.displaySwitch.show(r)}else Dt(e.target,n)&&!this.targetIsCommentTextArea(e)&&this.displaySwitch.hide()}},{key:"onMouseUp",value:function(){this.preventEditorAutoSwitch=!1}},{key:"onAfterRenderer",value:function(e,t){t.comment&&t.comment.value&&Ht(e,t.commentedCellClassName)}},{key:"onEditorBlur",value:function(){this.setComment()}},{key:"onEditorMouseDown",value:function(e){wk.get(this).tempEditorDimensions={width:nn(e.target),height:rn(e.target)}}},{key:"onEditorMouseUp",value:function(e){var t=wk.get(this),n=nn(e.target),r=rn(e.target);n===t.tempEditorDimensions.width+1&&r===t.tempEditorDimensions.height+2||this.updateCommentMeta(this.range.from.row,this.range.from.col,hk({},Sk,{width:n,height:r}))}},{key:"onContextMenuAddComment",value:function(){var e=this.hot.getSelectedRangeLast();this.preventEditorAutoSwitch=!0,this.displaySwitch.cancelHiding(),this.setRange({from:e.highlight}),this.show(),this.hot.deselectCell(),this.editor.focus()}},{key:"onContextMenuRemoveComment",value:function(){var e=this,t=this.hot.getSelectedRangeLast();this.preventEditorAutoSwitch=!0,t.forAll((function(t,n){t>=0&&n>=0&&e.removeCommentAtCell(t,n,!1)})),this.hot.render()}},{key:"onContextMenuMakeReadOnly",value:function(){var e=this,t=this.hot.getSelectedRangeLast();this.preventEditorAutoSwitch=!0,t.forAll((function(t,n){if(t>=0&&n>=0){var r=!!e.getCommentMeta(t,n,Mk);e.updateCommentMeta(t,n,hk({},Mk,!r))}}))}},{key:"addToContextMenu",value:function(e){var t=this,n=function(){return t.hot.rowIndexMapper.getRenderableIndexesLength()>0&&t.hot.columnIndexMapper.getRenderableIndexesLength()>0};e.items.push({name:"---------"},{key:"commentsAddEdit",name:function(){return t.checkSelectionCommentsConsistency()?t.hot.getTranslatedPhrase(th):t.hot.getTranslatedPhrase(eh)},callback:function(){return t.onContextMenuAddComment()},disabled:function(){return!n()||!(t.hot.getSelectedLast()&&!t.hot.selection.isSelectedByCorner())}},{key:"commentsRemove",name:function(){return this.getTranslatedPhrase(nh)},callback:function(){return t.onContextMenuRemoveComment()},disabled:function(){return!n()||!(t.hot.getSelectedLast()&&!t.hot.selection.isSelectedByCorner())}},{key:"commentsReadOnly",name:function(){var e=this,t=this.getTranslatedPhrase(rh),n=rk(this.getSelectedRangeLast(),(function(t,n){var r=e.getCellMeta(t,n).comment;if(r&&(r=r.readOnly),r)return!0}));return n&&(t=ik(t)),t},callback:function(){return t.onContextMenuMakeReadOnly()},disabled:function(){return!n()||!(t.hot.getSelectedLast()&&!t.hot.selection.isSelectedByCorner()&&t.checkSelectionCommentsConsistency())}})}},{key:"getDisplayDelaySetting",value:function(){var e=this.hot.getSettings().comments;if(de(e))return e.displayDelay}},{key:"destroy",value:function(){this.editor&&this.editor.destroy(),this.displaySwitch&&this.displaySwitch.destroy(),pk(bk(s.prototype),"destroy",this).call(this)}}],r=[{key:"PLUGIN_KEY",get:function(){return"comments"}},{key:"PLUGIN_PRIORITY",get:function(){return 60}}],n&&fk(t.prototype,n),r&&fk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($v);function Ok(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ck(e,t){var n;return $(t,(function(t){var r=t.key?t.key.split(":"):null;if(Array.isArray(r)&&r[1]===e)return n=t,!1})),n}const Tk=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hot=t,this.commands={},this.commonCallback=null}var t,n;return t=e,n=[{key:"registerCommand",value:function(e,t){this.commands[e]=t}},{key:"setCommonCallback",value:function(e){this.commonCallback=e}},{key:"execute",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=e.split(":"),a=o[0],s=2===o.length?o[1]:null,l=this.commands[a];if(!l)throw new Error("Menu command '".concat(a,"' not exists."));if(s&&l.submenu&&(l=Ck(s,l.submenu.items)),!0!==l.disabled&&("function"!=typeof l.disabled||!0!==l.disabled.call(this.hot))&&!ve(l,"submenu")){var u=[];"function"==typeof l.callback&&u.push(l.callback),"function"==typeof this.commonCallback&&u.push(this.commonCallback),r.unshift(o.join(":")),$(u,(function(e){return e.apply(t.hot,r)}))}}}],n&&Ok(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();var Rk="alignment",Dk="clear_column",Ek="col_left",Ak="col_right",Lk="make_read_only",jk="redo";function Pk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ik="remove_col";function Hk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Nk,Fk="remove_row",Yk="row_above",zk="row_below",Bk="no_items",Wk="undo";function $k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Uk=[Yk,zk,Ek,Ak,Dk,Fk,Ik,Wk,jk,Lk,Rk,Z_,Bk],Vk=($k(Nk={},Z_,(function(){return{name:Z_}})),$k(Nk,Bk,(function(){return{key:Bk,name:function(){return this.getTranslatedPhrase(Hd)},disabled:!0,isCommand:!1}})),$k(Nk,Yk,(function(){return{key:Yk,name:function(){return this.getTranslatedPhrase(Nd)},callback:function(e,t){var n=this.selection.isSelectedByCorner(),r=0;n||(r=t[Math.max(t.length-1,0)].start.row),this.alter("insert_row",r,1,"ContextMenu.rowAbove"),n&&this.selectAll()},disabled:function(){return!ek(this)||(this.selection.isSelectedByCorner()?0===this.countRows():this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows)},hidden:function(){return!this.getSettings().allowInsertRow}}})),$k(Nk,zk,(function(){return{key:zk,name:function(){return this.getTranslatedPhrase(Fd)},callback:function(e,t){var n=this.selection.isSelectedByCorner(),r=0;if(n)r=this.countRows();else{var i,o=t[Math.max(t.length-1,0)],a=null==o||null===(i=o.end)||void 0===i?void 0:i.row;r=Je(a)?a+1:0}this.alter("insert_row",r,1,"ContextMenu.rowBelow"),n&&this.selectAll()},disabled:function(){return!ek(this)||!this.selection.isSelectedByCorner()&&(this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows)},hidden:function(){return!this.getSettings().allowInsertRow}}})),$k(Nk,Ek,(function(){return{key:Ek,name:function(){return this.getTranslatedPhrase(Yd)},callback:function(){var e=this.selection.isSelectedByCorner(),t=this.isRtl()?this.countCols():0;if(!e){var n=this.getSelectedRangeLast();if(Je(n)){var r=n.getTopLeftCorner().col;t=this.isRtl()?r+1:r}}this.alter("insert_col",t,1,"ContextMenu.columnLeft"),e&&this.selectAll()},disabled:function(){return!this.isColumnModificationAllowed()||!ek(this)||(this.selection.isSelectedByCorner()?0===this.countCols():this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols)},hidden:function(){return!this.getSettings().allowInsertColumn}}})),$k(Nk,Ak,(function(){return{key:Ak,name:function(){return this.getTranslatedPhrase(zd)},callback:function(){var e=this.selection.isSelectedByCorner(),t=this.isRtl()?0:this.countCols();if(!e){var n=this.getSelectedRangeLast();if(Je(n)){var r=n.getTopRightCorner().col;t=this.isRtl()?r:r+1}}this.alter("insert_col",t,1,"ContextMenu.columnRight"),e&&this.selectAll()},disabled:function(){return!this.isColumnModificationAllowed()||!ek(this)||!this.selection.isSelectedByCorner()&&(this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols)},hidden:function(){return!this.getSettings().allowInsertColumn}}})),$k(Nk,Dk,(function(){return{key:Dk,name:function(){return this.getTranslatedPhrase(qd)},callback:function(e,t){var n=t[0].start.col,r=t[0].end.col;this.countRows()&&this.populateFromArray(0,n,[[null]],Math.max(t[0].start.row,t[0].end.row),r,"ContextMenu.clearColumn")},disabled:function(){return!ek(this)||!this.selection.isSelectedByColumnHeader()}}})),$k(Nk,Fk,(function(){return{key:Fk,name:function(){var e,t,n=this.getSelected(),r=0;if(n)if(n.length>1)r=1;else{var i=(e=n[0],t=3,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Hk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hk(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());i[0]-i[2]!=0&&(r=1)}return this.getTranslatedPhrase(Bd,r)},callback:function(){this.alter("remove_row",function(e){var t=Yp(e);if(0===t||1===t)return[];var n=zp(t),r=new Set;$(e,(function(e){var t=Ap(n(e),3),i=t[0],o=t[2],a=Math.max(i,0),s=o-a+1;$(Array.from(new Array(s),(function(e,t){return a+t})),(function(e){r.has(e)||r.add(e)}))}));var i=z(Array.from(r).sort((function(e,t){return e-t})),(function(e,t,n,r){return 0!==n&&t===r[n-1]+1?e[e.length-1][1]+=1:e.push([t,1]),e}),[]);return i}(this.getSelected()),1,"ContextMenu.removeRow")},disabled:function(){if(!ek(this))return!0;var e=this.countRows();return this.selection.isSelectedByCorner()?0===e:this.selection.isSelectedByColumnHeader()||0===e},hidden:function(){return!this.getSettings().allowRemoveRow}}})),$k(Nk,Ik,(function(){return{key:Ik,name:function(){var e,t,n=this.getSelected(),r=0;if(n)if(n.length>1)r=1;else{var i=(e=n[0],t=4,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pk(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());i[1]-i[3]!=0&&(r=1)}return this.getTranslatedPhrase(Wd,r)},callback:function(){this.alter("remove_col",function(e){var t=Yp(e);if(0===t||1===t)return[];var n=zp(t),r=new Set;$(e,(function(e){var t=Ap(n(e),4),i=t[1],o=t[3],a=Math.max(i,0),s=o-a+1;$(Array.from(new Array(s),(function(e,t){return a+t})),(function(e){r.has(e)||r.add(e)}))}));var i=z(Array.from(r).sort((function(e,t){return e-t})),(function(e,t,n,r){return 0!==n&&t===r[n-1]+1?e[e.length-1][1]+=1:e.push([t,1]),e}),[]);return i}(this.getSelected()),null,"ContextMenu.removeColumn")},disabled:function(){if(!this.isColumnModificationAllowed())return!0;if(!ek(this))return!0;var e=this.countCols();return this.selection.isSelectedByCorner()?0===e:this.selection.isSelectedByRowHeader()||0===e},hidden:function(){return!this.getSettings().allowRemoveColumn}}})),$k(Nk,Wk,(function(){return{key:Wk,name:function(){return this.getTranslatedPhrase($d)},callback:function(){this.undo()},hidden:function(){var e=this.getPlugin("undoRedo");return!e||!e.isEnabled()},disabled:function(){return!this.getPlugin("undoRedo").isUndoAvailable()}}})),$k(Nk,jk,(function(){return{key:jk,name:function(){return this.getTranslatedPhrase(Ud)},callback:function(){this.redo()},hidden:function(){var e=this.getPlugin("undoRedo");return!e||!e.isEnabled()},disabled:function(){return!this.getPlugin("undoRedo").isRedoAvailable()}}})),$k(Nk,Lk,(function(){return{key:Lk,name:function(){var e=this,t=this.getTranslatedPhrase(Vd),n=rk(this.getSelectedRange(),(function(t,n){return e.getCellMeta(t,n).readOnly}));return n&&(t=ik(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),n=rk(t,(function(t,n){return e.getCellMeta(t,n).readOnly}));$(t,(function(t){t.forAll((function(t,r){t>=0&&r>=0&&e.setCellMeta(t,r,"readOnly",!n)}))})),this.render()},disabled:function(){return!!this.selection.isSelectedByCorner()||0===this.countRows()||0===this.countCols()||!this.getSelectedRange()||0===this.getSelectedRange().length}}})),$k(Nk,Rk,(function(){return{key:Rk,name:function(){return this.getTranslatedPhrase(ih)},disabled:function(){return 0===this.countRows()||0===this.countCols()||!(this.getSelectedRange()&&!this.selection.isSelectedByCorner())},submenu:{items:[{key:"".concat(Rk,":left"),name:function(){var e=this,t=this.getTranslatedPhrase(oh),n=rk(this.getSelectedRange(),(function(t,n){var r=e.getCellMeta(t,n).className;if(r&&-1!==r.indexOf("htLeft"))return!0}));return n&&(t=ik(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),n=tk(t,(function(t,n){return e.getCellMeta(t,n).className})),r="horizontal",i="htLeft";this.runHooks("beforeCellAlignment",n,t,r,i),nk(t,r,i,(function(t,n){return e.getCellMeta(t,n)}),(function(t,n,r,i){return e.setCellMeta(t,n,r,i)})),this.render()},disabled:!1},{key:"".concat(Rk,":center"),name:function(){var e=this,t=this.getTranslatedPhrase(ah),n=rk(this.getSelectedRange(),(function(t,n){var r=e.getCellMeta(t,n).className;if(r&&-1!==r.indexOf("htCenter"))return!0}));return n&&(t=ik(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),n=tk(t,(function(t,n){return e.getCellMeta(t,n).className})),r="horizontal",i="htCenter";this.runHooks("beforeCellAlignment",n,t,r,i),nk(t,r,i,(function(t,n){return e.getCellMeta(t,n)}),(function(t,n,r,i){return e.setCellMeta(t,n,r,i)})),this.render()},disabled:!1},{key:"".concat(Rk,":right"),name:function(){var e=this,t=this.getTranslatedPhrase(sh),n=rk(this.getSelectedRange(),(function(t,n){var r=e.getCellMeta(t,n).className;if(r&&-1!==r.indexOf("htRight"))return!0}));return n&&(t=ik(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),n=tk(t,(function(t,n){return e.getCellMeta(t,n).className})),r="horizontal",i="htRight";this.runHooks("beforeCellAlignment",n,t,r,i),nk(t,r,i,(function(t,n){return e.getCellMeta(t,n)}),(function(t,n,r,i){return e.setCellMeta(t,n,r,i)})),this.render()},disabled:!1},{key:"".concat(Rk,":justify"),name:function(){var e=this,t=this.getTranslatedPhrase(lh),n=rk(this.getSelectedRange(),(function(t,n){var r=e.getCellMeta(t,n).className;if(r&&-1!==r.indexOf("htJustify"))return!0}));return n&&(t=ik(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),n=tk(t,(function(t,n){return e.getCellMeta(t,n).className})),r="horizontal",i="htJustify";this.runHooks("beforeCellAlignment",n,t,r,i),nk(t,r,i,(function(t,n){return e.getCellMeta(t,n)}),(function(t,n,r,i){return e.setCellMeta(t,n,r,i)})),this.render()},disabled:!1},{name:Z_},{key:"".concat(Rk,":top"),name:function(){var e=this,t=this.getTranslatedPhrase(uh),n=rk(this.getSelectedRange(),(function(t,n){var r=e.getCellMeta(t,n).className;if(r&&-1!==r.indexOf("htTop"))return!0}));return n&&(t=ik(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),n=tk(t,(function(t,n){return e.getCellMeta(t,n).className})),r="vertical",i="htTop";this.runHooks("beforeCellAlignment",n,t,r,i),nk(t,r,i,(function(t,n){return e.getCellMeta(t,n)}),(function(t,n,r,i){return e.setCellMeta(t,n,r,i)})),this.render()},disabled:!1},{key:"".concat(Rk,":middle"),name:function(){var e=this,t=this.getTranslatedPhrase(ch),n=rk(this.getSelectedRange(),(function(t,n){var r=e.getCellMeta(t,n).className;if(r&&-1!==r.indexOf("htMiddle"))return!0}));return n&&(t=ik(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),n=tk(t,(function(t,n){return e.getCellMeta(t,n).className})),r="vertical",i="htMiddle";this.runHooks("beforeCellAlignment",n,t,r,i),nk(t,r,i,(function(t,n){return e.getCellMeta(t,n)}),(function(t,n,r,i){return e.setCellMeta(t,n,r,i)})),this.render()},disabled:!1},{key:"".concat(Rk,":bottom"),name:function(){var e=this,t=this.getTranslatedPhrase(dh),n=rk(this.getSelectedRange(),(function(t,n){var r=e.getCellMeta(t,n).className;if(r&&-1!==r.indexOf("htBottom"))return!0}));return n&&(t=ik(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),n=tk(t,(function(t,n){return e.getCellMeta(t,n).className})),r="vertical",i="htBottom";this.runHooks("beforeCellAlignment",n,t,r,i),nk(t,r,i,(function(t,n){return e.getCellMeta(t,n)}),(function(t,n,r,i){return e.setCellMeta(t,n,r,i)})),this.render()},disabled:!1}]}}})),Nk);function qk(){var e={};return fe(Vk,(function(t,n){e[n]=t()})),e}function Gk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Zk=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Gk(this,e),this.hot=t,this.predefinedItems=qk(),this.defaultOrderPattern=n}var t,n;return t=e,n=[{key:"setPredefinedItems",value:function(e){var t=this,n={};this.defaultOrderPattern.length=0,fe(e,(function(e,r){var i="";e.name===Z_?(n[Z_]=e,i=Z_):isNaN(parseInt(r,10))?(e.key=void 0===e.key?r:e.key,n[r]=e,i=e.key):(n[e.key]=e,i=e.key),t.defaultOrderPattern.push(i)})),this.predefinedItems=n}},{key:"getItems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Xk(e,this.defaultOrderPattern,this.predefinedItems)}}],n&&Kk(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Xk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[],i=e;return i&&i.items?i=i.items:Array.isArray(i)||(i=t),de(i)?fe(i,(function(e,t){var i=n["string"==typeof e?e:t];i||(i=e),de(e)?oe(i,e):"string"==typeof i&&(i={name:i}),void 0===i.key&&(i.key=t),r.push(i)})):$(i,(function(e,t){var i=n[e];!i&&Uk.indexOf(e)>=0||(i||(i={name:e,key:"".concat(t)}),de(e)&&oe(i,e),void 0===i.key&&(i.key=t),r.push(i))})),r}const Jk=Zk;function Qk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var eS=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r,i,o,a,s,l,u=qt(n),c=Gt(n);this.rootWindow=n,this.type=this.getSourceType(t),"literal"===this.type?(r=parseInt(t.top,10),o=parseInt(t.left,10),s=t.height||0,l=t.width||0,i=r,a=o,r+=u,o+=c):"event"===this.type&&(r=parseInt(t.pageY,10),o=parseInt(t.pageX,10),s=t.target.clientHeight,l=t.target.clientWidth,i=r-u,a=o-c),this.top=r,this.topRelative=i,this.left=o,this.leftRelative=a,this.scrollTop=u,this.scrollLeft=c,this.cellHeight=s,this.cellWidth=l}var t,n;return t=e,n=[{key:"getSourceType",value:function(e){var t="literal";return e instanceof Event&&(t="event"),t}},{key:"fitsAbove",value:function(e){return this.topRelative>=e.offsetHeight}},{key:"fitsBelow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootWindow.innerHeight;return this.topRelative+e.offsetHeight<=t}},{key:"fitsOnRight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootWindow.innerWidth;return this.leftRelative+this.cellWidth+e.offsetWidth<=t}},{key:"fitsOnLeft",value:function(e){return this.leftRelative>=e.offsetWidth}}],n&&Qk(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const tS=eS;function nS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nS(Object(n),!0).forEach((function(t){iS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var aS=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hot=t,this.options=n||{parent:null,name:null,className:"",keepInViewport:!0,standalone:!1,minWidth:215,container:this.hot.rootDocument.documentElement},this.eventManager=new kr(this),this.container=this.createContainer(this.options.name),this.hotMenu=null,this.hotSubMenus={},this.parentMenu=this.options.parent||null,this.menuItems=null,this.origOutsideClickDeselects=null,this.keyEvent=!1,this.offset={above:0,below:0,left:0,right:0},this._afterScrollCallback=null,this.registerEvents()}var t,n;return t=e,n=[{key:"registerEvents",value:function(){for(var e=this,t=this.hot.rootWindow;t;)this.eventManager.addEventListener(t.document,"mousedown",(function(t){return e.onDocumentMouseDown(t)})),this.eventManager.addEventListener(t.document,"contextmenu",(function(t){return e.onDocumentContextMenu(t)})),t=Ot(t)}},{key:"setMenuItems",value:function(e){this.menuItems=e}},{key:"getSelectedItem",value:function(){return this.hasSelectedItem()?this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelectedLast()[0]):null}},{key:"hasSelectedItem",value:function(){return Array.isArray(this.hotMenu.getSelectedLast())}},{key:"setOffset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.offset[e]=t}},{key:"isSubMenu",value:function(){return null!==this.parentMenu}},{key:"open",value:function(){var e=this;this.runLocalHooks("beforeOpen"),this.container.removeAttribute("style"),this.container.style.display="block";var t=Tn((function(t){return e.openSubMenu(t)}),300),n=this.options.minWidth||215,r=!1,i=B(this.menuItems,(function(t){return t.key===Bk&&(r=!0),function(e,t){return!e.hidden||!("function"==typeof e.hidden&&e.hidden.call(t))}(t,e.hot)}));if(i.length<1&&!r)i.push(qk().no_items);else if(0===i.length)return;i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z_,n=e.slice(0);return sk(n=ak(n=ok(n,t),t))}(i,Z_);var o=!1,a={data:i,colHeaders:!1,autoColumnSize:!0,autoWrapRow:!1,modifyColWidth:function(e){return Je(e)&&e<n?n:e},autoRowSize:!1,readOnly:!0,editor:!1,copyPaste:!1,maxCols:1,columns:[{data:"name",renderer:function(t,n,r,i,o,a){return e.menuItemRenderer(t,n,r,i,o,a)}}],renderAllRows:!0,fragmentSelection:!1,outsideClickDeselects:!1,disableVisualSelection:"area",layoutDirection:this.hot.isRtl()?"rtl":"ltr",afterOnCellMouseOver:function(n,r){e.isAllSubMenusClosed()?t(r.row):e.openSubMenu(r.row)},rowHeights:function(e){return i[e].name===Z_?1:23},afterOnCellContextMenu:function(t){t.preventDefault(),He()&&o&&e.hasSelectedItem()&&e.close(!0)},beforeOnCellMouseUp:function(t){e.hasSelectedItem()&&(o=!e.isCommandPassive(e.getSelectedItem()),e.executeCommand(t))},afterOnCellMouseUp:function(t){He()&&$n(t)||!o||!e.hasSelectedItem()||(je()||Ie()?setTimeout((function(){return e.close(!0)}),325):e.close(!0))},afterUnlisten:function(){!e.hasSelectedItem()&&e.isOpened()&&e.hotMenu.listen()}};this.origOutsideClickDeselects=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1,this.hotMenu=new eg(this.container,a),this.hotMenu.addHook("afterInit",(function(){return e.onAfterInit()})),this.hotMenu.addHook("afterSelection",(function(){return e.onAfterSelection.apply(e,arguments)})),this.hotMenu.init(),this.hotMenu.listen();var s=this.hotMenu.getShortcutManager(),l=s.addContext("menu"),u=rS(rS({},{group:"menu"}),{},{runOnlyIf:function(t){return!1===_n(t.target)||!1===e.container.contains(t.target)}});s.setActiveContextName("menu"),l.addShortcuts([{keys:[["Escape"]],callback:function(){e.keyEvent=!0,e.close(),e.keyEvent=!1}},{keys:[["ArrowDown"]],callback:function(){var t=e.hotMenu.getSelectedLast();e.keyEvent=!0,t?e.selectNextCell(t[0],t[1]):e.selectFirstCell(),e.keyEvent=!1}},{keys:[["ArrowUp"]],callback:function(){var t=e.hotMenu.getSelectedLast();e.keyEvent=!0,t?e.selectPrevCell(t[0],t[1]):e.selectLastCell(),e.keyEvent=!1}},{keys:[["ArrowRight"]],callback:function(){var t=e.hotMenu.getSelectedLast();if(e.keyEvent=!0,t){var n=e.openSubMenu(t[0]);n&&n.selectFirstCell()}e.keyEvent=!1}},{keys:[["ArrowLeft"]],callback:function(){var t=e.hotMenu.getSelectedLast();e.keyEvent=!0,t&&e.isSubMenu()&&(e.close(),e.parentMenu&&e.parentMenu.hotMenu.listen()),e.keyEvent=!1}},{keys:[["Enter"]],callback:function(t){var n=e.hotMenu.getSelectedLast();e.keyEvent=!0,e.hotMenu.getSourceDataAtRow(n[0]).submenu||(e.executeCommand(t),e.close(!0)),e.keyEvent=!1}},{keys:[["PageUp"]],callback:function(){var t=e.hotMenu.getSelectedLast();e.keyEvent=!0,t?e.hotMenu.selection.transformStart(-e.hotMenu.countVisibleRows(),0):e.selectFirstCell(),e.keyEvent=!1}},{keys:[["PageDown"]],callback:function(){var t=e.hotMenu.getSelectedLast();e.keyEvent=!0,t?e.hotMenu.selection.transformStart(e.hotMenu.countVisibleRows(),0):e.selectLastCell(),e.keyEvent=!1}}],u),this.blockMainTableCallbacks(),this.runLocalHooks("afterOpen")}},{key:"close",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isOpened()&&(e&&this.parentMenu?this.parentMenu.close():(this.closeAllSubMenus(),this.container.style.display="none",this.releaseMainTableCallbacks(),this.hotMenu.destroy(),this.hotMenu=null,this.hot.getSettings().outsideClickDeselects=this.origOutsideClickDeselects,this.runLocalHooks("afterClose"),this.parentMenu&&this.parentMenu.hotMenu.listen()))}},{key:"openSubMenu",value:function(t){if(!this.hotMenu)return!1;var n=this.hotMenu.getCell(t,0);if(this.closeAllSubMenus(),!n||!function(e){return It(e,"htSubmenu")}(n))return!1;var r=this.hotMenu.getSourceDataAtRow(t),i=new e(this.hot,{parent:this,name:r.name,className:this.options.className,keepInViewport:!0,container:this.options.container});return i.setMenuItems(r.submenu.items),i.open(),i.setPosition(n.getBoundingClientRect()),this.hotSubMenus[r.key]=i,i}},{key:"closeSubMenu",value:function(e){var t=this.hotMenu.getSourceDataAtRow(e),n=this.hotSubMenus[t.key];n&&(n.destroy(),delete this.hotSubMenus[t.key])}},{key:"closeAllSubMenus",value:function(){var e=this;$(this.hotMenu.getData(),(function(t,n){return e.closeSubMenu(n)}))}},{key:"isAllSubMenusClosed",value:function(){return 0===Object.keys(this.hotSubMenus).length}},{key:"destroy",value:function(){var e=this.container.parentNode;this.clearLocalHooks(),this.close(),this.parentMenu=null,this.eventManager.destroy(),e&&e.removeChild(this.container)}},{key:"isOpened",value:function(){return null!==this.hotMenu}},{key:"executeCommand",value:function(e){if(this.isOpened()&&this.hasSelectedItem()){var t=this.getSelectedItem();if(this.runLocalHooks("select",t,e),!this.isCommandPassive(t)){var n=this.hot.getSelectedRange(),r=n?function(e){return W(e,(function(e){return{start:e.getTopStartCorner(),end:e.getBottomEndCorner()}}))}(n):[];this.runLocalHooks("executeCommand",t.key,r,e),this.isSubMenu()&&this.parentMenu.runLocalHooks("executeCommand",t.key,r,e)}}}},{key:"isCommandPassive",value:function(e){var t=e.isCommand,n=e.name,r=e.disabled,i=e.submenu,o=!0===r||"function"==typeof r&&!0===r.call(this.hot);return!1===t||n===Z_||!0===o||i}},{key:"setPosition",value:function(e){var t=new tS(e,this.container.ownerDocument.defaultView);this.options.keepInViewport?(t.fitsBelow(this.container)?this.setPositionBelowCursor(t):t.fitsAbove(this.container)?this.setPositionAboveCursor(t):this.setPositionBelowCursor(t),this.hot.isLtr()?this.setHorizontalPositionForLtr(t):this.setHorizontalPositionForRtl(t)):(this.setPositionBelowCursor(t),this.setPositionOnRightOfCursor(t))}},{key:"setHorizontalPositionForRtl",value:function(e){e.fitsOnLeft(this.container)?this.setPositionOnLeftOfCursor(e):this.setPositionOnRightOfCursor(e)}},{key:"setHorizontalPositionForLtr",value:function(e){e.fitsOnRight(this.container)?this.setPositionOnRightOfCursor(e):this.setPositionOnLeftOfCursor(e)}},{key:"setPositionAboveCursor",value:function(e){var t=this.offset.above+e.top-this.container.offsetHeight;this.isSubMenu()&&(t=e.top+e.cellHeight-this.container.offsetHeight+3),this.container.style.top="".concat(t,"px")}},{key:"setPositionBelowCursor",value:function(e){var t=this.offset.below+e.top+1;this.isSubMenu()&&(t=e.top-1),this.container.style.top="".concat(t,"px")}},{key:"setPositionOnRightOfCursor",value:function(e){var t=e.left;if(this.isSubMenu()){var n=this.parentMenu.container.getBoundingClientRect().right;t+=e.cellWidth+n-(e.left+e.cellWidth)}else t+=this.offset.right;this.container.style.left="".concat(t,"px")}},{key:"setPositionOnLeftOfCursor",value:function(e){var t=this.offset.left+e.left-this.container.offsetWidth;if(this.isSubMenu()){var n=this.parentMenu.container.getBoundingClientRect().left;t-=e.left-n}this.container.style.left="".concat(t,"px")}},{key:"selectFirstCell",value:function(){var e=this.hotMenu.getCell(0,0);X_(e)||J_(e)||Q_(e)?this.selectNextCell(0,0):this.hotMenu.selectCell(0,0)}},{key:"selectLastCell",value:function(){var e=this.hotMenu.countRows()-1,t=this.hotMenu.getCell(e,0);X_(t)||J_(t)||Q_(t)?this.selectPrevCell(e,0):(this.hotMenu.selectCell(e,0,void 0,void 0,!1),this.hotMenu.scrollViewportTo(e,0,!0,!1))}},{key:"selectNextCell",value:function(e,t){var n=e+1,r=n<this.hotMenu.countRows()?this.hotMenu.getCell(n,t):null;r&&(X_(r)||J_(r)||Q_(r)?this.selectNextCell(n,t):this.hotMenu.selectCell(n,t))}},{key:"selectPrevCell",value:function(e,t){var n=e-1,r=n>=0?this.hotMenu.getCell(n,t):null;r&&(X_(r)||J_(r)||Q_(r)?this.selectPrevCell(n,t):this.hotMenu.selectCell(n,t))}},{key:"menuItemRenderer",value:function(e,t,n,r,i,o){var a,s=this,l=e.getSourceDataAtRow(n),u=this.hot.rootDocument.createElement("div"),c=function(e){return e.disableSelection},d=o;"function"==typeof d&&(d=d.call(this.hot)),Yt(t),Ht(u,"htItemWrapper"),t.appendChild(u),a=l,new RegExp(Z_,"i").test(a.name)?Ht(t,"htSeparator"):"function"==typeof l.renderer?(Ht(t,"htCustomMenuRenderer"),t.appendChild(l.renderer(e,u,n,r,i,d))):Wt(u,d),function(e){return!0===e.disabled||"function"==typeof e.disabled&&!0===e.disabled.call(s.hot)}(l)?(Ht(t,"htDisabled"),this.eventManager.addEventListener(t,"mouseenter",(function(){return e.deselectCell()}))):c(l)?(Ht(t,"htSelectionDisabled"),this.eventManager.addEventListener(t,"mouseenter",(function(){return e.deselectCell()}))):function(e){return ve(e,"submenu")}(l)?(Ht(t,"htSubmenu"),c(l)?this.eventManager.addEventListener(t,"mouseenter",(function(){return e.deselectCell()})):this.eventManager.addEventListener(t,"mouseenter",(function(){return e.selectCell(n,r,void 0,void 0,!1,!1)}))):(Nt(t,["htSubmenu","htDisabled"]),c(l)?this.eventManager.addEventListener(t,"mouseenter",(function(){return e.deselectCell()})):this.eventManager.addEventListener(t,"mouseenter",(function(){return e.selectCell(n,r,void 0,void 0,!1,!1)})))}},{key:"createContainer",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.options.container.ownerDocument,r=t;return r&&(xn(r)&&(r=null===(r=r.call(this.hot))||Qe(r)?"":r.toString()),r=r.replace(/[^A-z0-9]/g,"_"),r="".concat(this.options.className,"Sub_").concat(r),e=n.querySelector(".".concat(this.options.className,".").concat(r))),e||(Ht(e=n.createElement("div"),"htMenu ".concat(this.options.className)),r&&Ht(e,r),this.options.container.appendChild(e)),e}},{key:"blockMainTableCallbacks",value:function(){this._afterScrollCallback=function(){},this.hot.addHook("afterScrollVertically",this._afterScrollCallback),this.hot.addHook("afterScrollHorizontally",this._afterScrollCallback)}},{key:"releaseMainTableCallbacks",value:function(){this._afterScrollCallback&&(this.hot.removeHook("afterScrollVertically",this._afterScrollCallback),this.hot.removeHook("afterScrollHorizontally",this._afterScrollCallback),this._afterScrollCallback=null)}},{key:"onAfterInit",value:function(){var e=this.hotMenu.view._wt.wtTable,t=this.hotMenu.getSettings().data,n=e.hider.style,r=e.holder.style,i=parseInt(n.width,10),o=z(t,(function(e,t){return e+(t.name===Z_?1:26)}),0);r.width="".concat(i+3,"px"),r.height="".concat(o+3,"px"),n.height=r.height}},{key:"onAfterSelection",value:function(e,t,n,r,i){!1===this.keyEvent&&(i.value=!0)}},{key:"onDocumentMouseDown",value:function(e){this.isOpened()&&(this.options.standalone&&this.hotMenu&&!Dt(e.target,this.hotMenu.rootElement)?this.close(!0):!this.isAllSubMenusClosed()&&!this.isSubMenu()||Dt(e.target,".htMenu")||this.close(!0))}},{key:"onDocumentContextMenu",value:function(e){this.isOpened()&&It(e.target,"htCore")&&Dt(e.target,this.hotMenu.rootElement)&&e.preventDefault()}}],n&&oS(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();ue(aS,Vu);const sS=aS;function lS(e){return lS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lS(e)}function uS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cS(){return cS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=dS(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},cS.apply(this,arguments)}function dS(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=mS(e)););return e}function hS(e,t){return hS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hS(e,t)}function fS(e,t){if(t&&("object"===lS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pS(e)}function pS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mS(e){return mS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mS(e)}rr.getSingleton().register("afterContextMenuDefaultOptions"),rr.getSingleton().register("beforeContextMenuShow"),rr.getSingleton().register("afterContextMenuShow"),rr.getSingleton().register("afterContextMenuHide"),rr.getSingleton().register("afterContextMenuExecute");var gS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hS(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=mS(i);if(o){var n=mS(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return fS(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).eventManager=new kr(pS(t)),t.commandExecutor=new Tk(t.hot),t.itemsFactory=null,t.menu=null,t}return t=s,n=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().contextMenu}},{key:"enablePlugin",value:function(){var e=this;if(!this.enabled){var t=this.hot.getSettings().contextMenu;"function"==typeof t.callback&&this.commandExecutor.setCommonCallback(t.callback),this.menu=new sS(this.hot,{className:"htContextMenu",keepInViewport:!0,container:t.uiContainer||this.hot.rootDocument.body}),this.menu.addLocalHook("beforeOpen",(function(){return e.onMenuBeforeOpen()})),this.menu.addLocalHook("afterOpen",(function(){return e.onMenuAfterOpen()})),this.menu.addLocalHook("afterClose",(function(){return e.onMenuAfterClose()})),this.menu.addLocalHook("executeCommand",(function(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.executeCommand).call.apply(t,[e].concat(r))})),this.addHook("afterOnCellContextMenu",(function(t){return e.onAfterOnCellContextMenu(t)})),cS(mS(s.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),cS(mS(s.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.close(),this.menu&&(this.menu.destroy(),this.menu=null),cS(mS(s.prototype),"disablePlugin",this).call(this)}},{key:"open",value:function(e){if(this.menu&&(this.prepareMenuItems(),this.menu.open(),this.menu.isOpened())){var t=0,n=0;if(this.hot.rootDocument!==this.menu.container.ownerDocument){var r=this.hot.rootWindow.frameElement.getBoundingClientRect(),i=r.top,o=r.left;t=i-qt(e.view),n=o-Gt(e.view)}else t=-1*qt(this.menu.hotMenu.rootWindow),n=-1*Gt(this.menu.hotMenu.rootWindow);this.menu.setPosition({top:parseInt(e.pageY,10)+t,left:parseInt(e.pageX,10)+n})}}},{key:"close",value:function(){this.menu&&(this.menu.close(),this.itemsFactory=null)}},{key:"executeCommand",value:function(e){var t;null===this.itemsFactory&&this.prepareMenuItems();for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.commandExecutor).execute.apply(t,[e].concat(r))}},{key:"prepareMenuItems",value:function(){var e=this;this.itemsFactory=new Jk(this.hot,s.DEFAULT_ITEMS);var t=this.hot.getSettings().contextMenu,n={items:this.itemsFactory.getItems(t)};this.hot.runHooks("afterContextMenuDefaultOptions",n),this.itemsFactory.setPredefinedItems(n.items);var r=this.itemsFactory.getItems(t);this.hot.runHooks("beforeContextMenuSetItems",r),this.menu.setMenuItems(r),$(r,(function(t){return e.commandExecutor.registerCommand(t.key,t)}))}},{key:"onAfterOnCellContextMenu",value:function(e){var t=this.hot.getSettings(),n=t.rowHeaders,r=t.colHeaders,i=e.target;this.close(),It(i,"handsontableInput")||(e.preventDefault(),e.stopPropagation(),(n||r||function(e){return"TD"===e.nodeName||"TD"===e.parentNode.nodeName}(i)||It(i,"current")&&It(i,"wtBorder"))&&this.open(e))}},{key:"onMenuBeforeOpen",value:function(){this.hot.runHooks("beforeContextMenuShow",this)}},{key:"onMenuAfterOpen",value:function(){this.hot.runHooks("afterContextMenuShow",this)}},{key:"onMenuAfterClose",value:function(){this.hot.listen(),this.hot.runHooks("afterContextMenuHide",this)}},{key:"destroy",value:function(){this.close(),this.menu&&this.menu.destroy(),cS(mS(s.prototype),"destroy",this).call(this)}}],r=[{key:"PLUGIN_KEY",get:function(){return"contextMenu"}},{key:"PLUGIN_PRIORITY",get:function(){return 70}},{key:"PLUGIN_DEPS",get:function(){return["plugin:AutoColumnSize"]}},{key:"DEFAULT_ITEMS",get:function(){return[Yk,zk,Z_,Ek,Ak,Z_,Fk,Ik,Z_,Wk,jk,Z_,Lk,Z_,Rk]}}],n&&uS(t.prototype,n),r&&uS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($v);function yS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}gS.SEPARATOR={name:Z_};var vS=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data={}}var t,n;return t=e,n=[{key:"setData",value:function(e,t){this.data[e]=t}},{key:"getData",value:function(e){return this.data[e]||void 0}}],n&&yS(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function bS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wS(e,t,n){return t&&bS(e.prototype,t),n&&bS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var _S=wS((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.clipboardData=new vS}));function kS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var SS=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rootDocument=t.defaultView?t:t.ownerDocument,this.mainElement=null,this.eventManager=new kr(this),this.listenersCount=new WeakSet,this.container=t}var t,n;return t=e,(n=[{key:"useSecondaryElement",value:function(){var e=function(e){var t=CS.get(e);if(t)return t.parentElement||e.appendChild(t),t;var n=(e.defaultView?e:e.ownerDocument).createElement("textarea");return CS.set(e,n),n.setAttribute("data-hot-input",""),n.className="HandsontableCopyPaste",n.tabIndex=-1,n.autocomplete="off",n.wrap="hard",n.value=" ",e.appendChild(n),n}(this.container);this.listenersCount.has(e)||(this.listenersCount.add(e),OS(this.eventManager,e,this)),this.mainElement=e}},{key:"setFocusableElement",value:function(e){this.listenersCount.has(e)||(this.listenersCount.add(e),OS(this.eventManager,e,this)),this.mainElement=e}},{key:"getFocusableElement",value:function(){return this.mainElement}},{key:"focus",value:function(){this.mainElement.value=" ",je()||Sn(this.mainElement)}}])&&kS(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();ue(SS,Vu);var MS=new WeakMap,xS=function(e,t){return function(n){return t.runLocalHooks(e,n)}};function OS(e,t,n){e.addEventListener(t,"copy",xS("copy",n)),e.addEventListener(t,"cut",xS("cut",n)),e.addEventListener(t,"paste",xS("paste",n))}var CS=new WeakMap;function TS(e){if(e instanceof SS){var t=MS.get(e.container);if((t=isNaN(t)?0:t)>0&&(t-=1),function(e){e.eventManager.clear()}(e),t<=0){t=0;var n=CS.get(e.container);n&&n.parentNode&&(n.parentNode.removeChild(n),CS.delete(e.container)),e.mainElement=null}MS.set(e.container,t)}}function RS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DS(e){return DS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DS(e)}function ES(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function AS(){return AS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=LS(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},AS.apply(this,arguments)}function LS(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=HS(e)););return e}function jS(e,t){return jS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jS(e,t)}function PS(e,t){if(t&&("object"===DS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return IS(e)}function IS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HS(e){return HS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},HS(e)}rr.getSingleton().register("afterCopyLimit"),rr.getSingleton().register("modifyCopyableRange"),rr.getSingleton().register("beforeCut"),rr.getSingleton().register("afterCut"),rr.getSingleton().register("beforePaste"),rr.getSingleton().register("afterPaste"),rr.getSingleton().register("beforeCopy"),rr.getSingleton().register("afterCopy");var NS="copyPaste",FS=["fragmentSelection"],YS=new WeakMap,zS=['<meta name="generator" content="Handsontable"/>','<style type="text/css">td{white-space:normal}br{mso-data-placement:same-cell}</style>'].join(""),BS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jS(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=HS(i);if(o){var n=HS(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return PS(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).columnsLimit=1/0,t.copyableRanges=[],t.focusableElement=void 0,t.pasteMode="overwrite",t.rowsLimit=1/0,t.uiContainer=t.hot.rootDocument.body,YS.set(IS(t),{isTriggeredByCopy:!1,isTriggeredByCut:!1,isBeginEditing:!1,isFragmentSelectionEnabled:!1}),t}return t=s,n=[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[NS]}},{key:"enablePlugin",value:function(){var e=this;if(!this.enabled){var t,n,r,i=this.hot.getSettings(),o=i[NS],a=i.fragmentSelection;YS.get(this).isFragmentSelectionEnabled=!!a,"object"===DS(o)&&(this.pasteMode=o.pasteMode||this.pasteMode,this.rowsLimit=isNaN(o.rowsLimit)?this.rowsLimit:o.rowsLimit,this.columnsLimit=isNaN(o.columnsLimit)?this.columnsLimit:o.columnsLimit,this.uiContainer=o.uiContainer||this.uiContainer),this.addHook("afterContextMenuDefaultOptions",(function(t){return e.onAfterContextMenuDefaultOptions(t)})),this.addHook("afterOnCellMouseUp",(function(){return e.onAfterOnCellMouseUp()})),this.addHook("afterSelectionEnd",(function(){return e.onAfterSelectionEnd()})),this.addHook("beforeKeyDown",(function(){return e.onBeforeKeyDown()})),this.focusableElement=(t=this.uiContainer,n=new SS(t),r=MS.get(t),r=isNaN(r)?0:r,MS.set(t,r+1),n),this.focusableElement.addLocalHook("copy",(function(t){return e.onCopy(t)})).addLocalHook("cut",(function(t){return e.onCut(t)})).addLocalHook("paste",(function(t){return e.onPaste(t)})),AS(HS(s.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.getOrCreateFocusableElement(),AS(HS(s.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.focusableElement&&TS(this.focusableElement),AS(HS(s.prototype),"disablePlugin",this).call(this)}},{key:"copy",value:function(){YS.get(this).isTriggeredByCopy=!0,this.getOrCreateFocusableElement(),this.focusableElement.focus(),this.hot.rootDocument.execCommand("copy")}},{key:"cut",value:function(){YS.get(this).isTriggeredByCut=!0,this.getOrCreateFocusableElement(),this.focusableElement.focus(),this.hot.rootDocument.execCommand("cut")}},{key:"getRangedCopyableData",value:function(e){var t=this,n=[],r=[],i=[];return $(e,(function(e){Wr(e.startRow,e.endRow,(function(e){-1===r.indexOf(e)&&r.push(e)})),Wr(e.startCol,e.endCol,(function(e){-1===i.indexOf(e)&&i.push(e)}))})),$(r,(function(e){var r=[];$(i,(function(n){r.push(t.hot.getCopyableData(e,n))})),n.push(r)})),Om(n)}},{key:"getRangedData",value:function(e){var t=this,n=[],r=[],i=[];return $(e,(function(e){Wr(e.startRow,e.endRow,(function(e){-1===r.indexOf(e)&&r.push(e)})),Wr(e.startCol,e.endCol,(function(e){-1===i.indexOf(e)&&i.push(e)}))})),$(r,(function(e){var r=[];$(i,(function(n){r.push(t.hot.getCopyableData(e,n))})),n.push(r)})),n}},{key:"paste",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(e||t){var n=new _S;e&&n.clipboardData.setData("text/plain",e),t&&n.clipboardData.setData("text/html",t),this.getOrCreateFocusableElement(),this.onPaste(n)}}},{key:"setCopyableText",value:function(){var e=this.hot.getSelectedRangeLast();if(e){var t=e.getTopStartCorner(),n=e.getBottomEndCorner(),r=t.row,i=t.col,o=n.row,a=n.col,s=Math.min(o,r+this.rowsLimit-1),l=Math.min(a,i+this.columnsLimit-1);this.copyableRanges.length=0,this.copyableRanges.push({startRow:r,startCol:i,endRow:s,endCol:l}),this.copyableRanges=this.hot.runHooks("modifyCopyableRange",this.copyableRanges),o===s&&a===l||this.hot.runHooks("afterCopyLimit",o-r+1,a-i+1,this.rowsLimit,this.columnsLimit)}}},{key:"getOrCreateFocusableElement",value:function(){var e=this.hot.getActiveEditor(),t=e?e.TEXTAREA:void 0;t?this.focusableElement.setFocusableElement(t):this.focusableElement.useSecondaryElement()}},{key:"isEditorOpened",value:function(){var e=this.hot.getActiveEditor();return e&&e.isOpened()}},{key:"populateValues",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.hot.getSelectedRangeLast();if(e.length){for(var n=e.length,r=e[0].length,i=[],o=t.getTopStartCorner(),a=o.row,s=o.col,l=t.getBottomEndCorner(),u=l.row,c=l.col,d=a,h=s,f=a,p=s;i.length<n||d<=u;){var m=this.hot.getCellMeta(d,s),g=m.skipRowOnPaste,y=m.visualRow;if(d=y+1,!0!==g){f=y,h=s;for(var v=[],b=i.length%n;v.length<r||h<=c;){var w=this.hot.getCellMeta(a,h),_=w.skipColumnOnPaste,k=w.visualCol;if(h=k+1,!0!==_){p=k;var S=v.length%r;v.push(e[b][S])}}i.push(v)}}return this.hot.populateFromArray(a,s,i,void 0,void 0,"CopyPaste.paste",this.pasteMode),[a,s,f,p]}}},{key:"onCopy",value:function(e){var t=YS.get(this);if((this.hot.isListening()||t.isTriggeredByCopy)&&!this.isEditorOpened()){this.setCopyableText(),t.isTriggeredByCopy=!1;var n=this.getRangedData(this.copyableRanges);if(this.hot.runHooks("beforeCopy",n,this.copyableRanges)){var r=Om(n);if(e&&e.clipboardData){var i=Ir(n,this.hot.rootDocument);e.clipboardData.setData("text/plain",r),e.clipboardData.setData("text/html",[zS,i].join(""))}else"undefined"==typeof ClipboardEvent&&this.hot.rootWindow.clipboardData.setData("Text",r);this.hot.runHooks("afterCopy",n,this.copyableRanges)}e.preventDefault()}}},{key:"onCut",value:function(e){var t=YS.get(this);if((this.hot.isListening()||t.isTriggeredByCut)&&!this.isEditorOpened()){this.setCopyableText(),t.isTriggeredByCut=!1;var n=this.getRangedData(this.copyableRanges);if(this.hot.runHooks("beforeCut",n,this.copyableRanges)){var r=Om(n);if(e&&e.clipboardData){var i=Ir(n,this.hot.rootDocument);e.clipboardData.setData("text/plain",r),e.clipboardData.setData("text/html",[zS,i].join(""))}else"undefined"==typeof ClipboardEvent&&this.hot.rootWindow.clipboardData.setData("Text",r);this.hot.emptySelectedCells("CopyPaste.cut"),this.hot.runHooks("afterCut",n,this.copyableRanges)}e.preventDefault()}}},{key:"onPaste",value:function(e){if(this.hot.isListening()&&!this.isEditorOpened()){var t;if(e&&e.preventDefault&&e.preventDefault(),e&&void 0!==e.clipboardData){var n=_t(e.clipboardData.getData("text/html"),{ADD_TAGS:["meta"],ADD_ATTR:["content"],FORCE_BODY:!0});t=n&&/(<table)|(<TABLE)/g.test(n)?Hr(n,this.hot.rootDocument).data:e.clipboardData.getData("text/plain")}else"undefined"==typeof ClipboardEvent&&void 0!==this.hot.rootWindow.clipboardData&&(t=this.hot.rootWindow.clipboardData.getData("Text"));if("string"==typeof t&&(t=function(e){var t=[[""]];if(0===e.length)return t;for(var n,r=0,i=0;e.length>0&&n!==e.length;)if(n=e.length,e.match(xm))e=e.replace(xm,""),r+=1,t[i][r]="";else if(e.match(Sm))e=e.replace(Sm,""),r=0,t[i+=1]=[""];else{var o="";if(e.startsWith('"')){for(var a=0,s=!0;s;){var l=e.slice(0,1);'"'===l&&(a+=1),o+=l,(0===(e=e.slice(1)).length||e.match(/^[\t\r\n]/)&&a%2==0)&&(s=!1)}o=o.replace(/^"/,"").replace(/"$/,"").replace(/["]*/g,(function(e){return new Array(Math.floor(e.length/2)).fill('"').join("")}))}else{var u=e.match(Mm);o=u?u[0]:"",e=e.slice(o.length)}t[i][r]=o}return t}(t)),(!t||0!==t.length)&&!1!==this.hot.runHooks("beforePaste",t,this.copyableRanges)){var r=(l=this.populateValues(t),u=4,function(e){if(Array.isArray(e))return e}(l)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(l,u)||function(e,t){if(e){if("string"==typeof e)return RS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?RS(e,t):void 0}}(l,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],o=r[1],a=r[2],s=r[3];this.hot.selectCell(i,o,Math.min(this.hot.countRows()-1,a),Math.min(this.hot.countCols()-1,s)),this.hot.runHooks("afterPaste",t,this.copyableRanges)}}var l,u}},{key:"onAfterContextMenuDefaultOptions",value:function(e){var t;e.items.push({name:"---------"},(t=this,{key:"copy",name:function(){return this.getTranslatedPhrase(Gd)},callback:function(){t.copy()},disabled:function(){if(0===this.countRows()||0===this.countCols())return!0;var e=this.getSelected();return!e||e.length>1},hidden:!1}),function(e){return{key:"cut",name:function(){return this.getTranslatedPhrase(Kd)},callback:function(){e.cut()},disabled:function(){if(0===this.countRows()||0===this.countCols())return!0;var e=this.getSelected();return!e||e.length>1},hidden:!1}}(this))}},{key:"onAfterOnCellMouseUp",value:function(){!this.hot.isListening()||this.isEditorOpened()||this.hot.getSettings().fragmentSelection||(this.getOrCreateFocusableElement(),this.focusableElement.focus())}},{key:"onAfterSelectionEnd",value:function(){var e=YS.get(this).isFragmentSelectionEnabled;this.isEditorOpened()||(this.getOrCreateFocusableElement(),e&&this.focusableElement.getFocusableElement()!==this.hot.rootDocument.activeElement&&dn()||(this.setCopyableText(),this.focusableElement.focus()))}},{key:"onBeforeKeyDown",value:function(){if(this.hot.isListening()&&!this.isEditorOpened()){var e=this.hot.rootDocument.activeElement,t=this.hot.getActiveEditor();!t||e!==this.focusableElement.getFocusableElement()&&e!==t.select||(this.getOrCreateFocusableElement(),this.focusableElement.focus())}}},{key:"destroy",value:function(){this.focusableElement&&(TS(this.focusableElement),this.focusableElement=null),AS(HS(s.prototype),"destroy",this).call(this)}}],r=[{key:"PLUGIN_KEY",get:function(){return NS}},{key:"SETTING_KEYS",get:function(){return[NS].concat(FS)}},{key:"PLUGIN_PRIORITY",get:function(){return 80}}],n&&ES(t.prototype,n),r&&ES(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($v);function WS(e,t){return"border_row".concat(e,"col").concat(t)}function $S(e){var t,n;return(Je(e.start)||Je(e.left))&&(e.start=null!==(t=e.start)&&void 0!==t?t:e.left),(Je(e.end)||Je(e.right))&&(e.end=null!==(n=e.end)&&void 0!==n?n:e.right),delete e.left,delete e.right,e}function US(e){return Je(e.start)&&(e.left=e.start),Je(e.end)&&(e.right=e.end),e}function VS(e,t){return{id:WS(e,t),border:{width:1,color:"#000",cornerVisible:!1},row:e,col:t,top:{hide:!0},bottom:{hide:!0},start:{hide:!0},end:{hide:!0}}}function qS(e,t){var n=!1;return $(e.getSelectedRange(),(function(r){r.forAll((function(r,i){if(!(r<0||i<0)){var o=e.getCellMeta(r,i).borders;if(o){if(!t)return n=!0,!1;if(!ve(o[t],"hide")||!1===o[t].hide)return n=!0,!1}}}))})),n}function GS(e){return'<span class="selected">'.concat(String.fromCharCode(10003),"</span>").concat(e)}var KS=new Map([["left","start"],["right","end"]]);function ZS(e){var t=e.hot.isRtl()?"start":"end";return{key:"borders:right",name:function(){var e=this.getTranslatedPhrase(ph);return qS(this,t)&&(e=GS(e)),e},callback:function(n,r){var i=qS(this,t);e.prepareBorder(r,t,i)}}}function XS(e){return{key:"borders:bottom",name:function(){var e=this.getTranslatedPhrase(mh);return qS(this,"bottom")&&(e=GS(e)),e},callback:function(t,n){var r=qS(this,"bottom");e.prepareBorder(n,"bottom",r)}}}function JS(e){var t=e.hot.isRtl()?"end":"start";return{key:"borders:left",name:function(){var e=this.getTranslatedPhrase(gh);return qS(this,t)&&(e=GS(e)),e},callback:function(n,r){var i=qS(this,t);e.prepareBorder(r,t,i)}}}function QS(e){return{key:"borders:no_borders",name:function(){return this.getTranslatedPhrase(yh)},callback:function(t,n){e.prepareBorder(n,"noBorders")},disabled:function(){return!qS(this)}}}function eM(e){return eM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eM(e)}function tM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nM(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oM(){return oM="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=aM(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},oM.apply(this,arguments)}function aM(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=cM(e)););return e}function sM(e,t){return sM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sM(e,t)}function lM(e,t){if(t&&("object"===eM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return uM(e)}function uM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cM(e){return cM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cM(e)}function dM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hM=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sM(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=cM(i);if(o){var n=cM(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return lM(this,e)});function s(){var e;rM(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dM(uM(e=a.call.apply(a,[this].concat(n))),"savedBorders",[]),e}return t=s,n=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().customBorders}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.addHook("afterContextMenuDefaultOptions",(function(t){return e.onAfterContextMenuDefaultOptions(t)})),this.addHook("init",(function(){return e.onAfterInit()})),oM(cM(s.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.hideBorders(),oM(cM(s.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.changeBorderSettings(),oM(cM(s.prototype),"updatePlugin",this).call(this)}},{key:"setBorders",value:function(e,t){var n=this,r=["top","bottom","start","end"],i=null;t&&(this.checkSettingsCohesion([t]),r=Object.keys(t),i=$S(t));var o=zp(Yp(e));$(e,(function(e){for(var t=tM(o(e),4),a=t[0],s=t[1],l=t[2],u=t[3],c=function(e){for(var t=function(t){$(r,(function(r){var o,a;n.prepareBorderFromCustomAdded(e,t,i,(o=r,null!==(a=KS.get(o))&&void 0!==a?a:o))}))},o=s;o<=u;o+=1)t(o)},d=a;d<=l;d+=1)c(d)})),this.hot.view.render()}},{key:"getBorders",value:function(e){var t=this;if(!Array.isArray(e))return this.savedBorders;var n=zp(Yp(e)),r=[];return $(e,(function(e){for(var i=tM(n(e),4),o=i[0],a=i[1],s=i[2],l=i[3],u=function(e){for(var n=function(n){$(t.savedBorders,(function(t){t.row===e&&t.col===n&&r.push(US(t))}))},i=a;i<=l;i+=1)n(i)},c=o;c<=s;c+=1)u(c)})),r}},{key:"clearBorders",value:function(e){var t=this;e?this.setBorders(e):($(this.savedBorders,(function(e){t.clearBordersFromSelectionSettings(e.id),t.clearNullCellRange(),t.hot.removeCellMeta(e.row,e.col,"borders")})),this.savedBorders.length=0)}},{key:"insertBorderIntoSettings",value:function(e,t){this.checkSavedBorders(e)||this.savedBorders.push(e);var n=this.hot._createCellRange(this.hot._createCellCoords(e.row,e.col));this.checkCustomSelections(e,n,t)||this.hot.selection.highlight.addCustomSelection({border:e,visualCellRange:n})}},{key:"prepareBorderFromCustomAdded",value:function(e,t,n,r){var i=this.hot.countRows(),o=this.hot.countCols();if(!(e>=i||t>=o)){var a,s,l=VS(e,t);n&&(a=l,ve(s=n,"border")&&s.border&&(a.border=s.border),ve(s,"top")&&Je(s.top)&&(s.top?(de(s.top)||(s.top={width:1,color:"#000"}),a.top=s.top):(s.top={hide:!0},a.top=s.top)),ve(s,"bottom")&&Je(s.bottom)&&(s.bottom?(de(s.bottom)||(s.bottom={width:1,color:"#000"}),a.bottom=s.bottom):(s.bottom={hide:!0},a.bottom=s.bottom)),ve(s,"start")&&Je(s.start)&&(s.start?(de(s.start)||(s.start={width:1,color:"#000"}),a.start=s.start):(s.start={hide:!0},a.start=s.start)),ve(s,"end")&&Je(s.end)&&(s.end?(de(s.end)||(s.end={width:1,color:"#000"}),a.end=s.end):(s.end={hide:!0},a.end=s.end)),l=a,$(this.hot.selection.highlight.customSelections,(function(e){if(l.id===e.settings.id)return Object.assign(e.settings,n),l.id=e.settings.id,l.top=e.settings.top,l.bottom=e.settings.bottom,l.start=e.settings.start,l.end=e.settings.end,!1}))),this.hot.setCellMeta(e,t,"borders",US(l)),this.insertBorderIntoSettings(l,r)}}},{key:"prepareBorderFromCustomAddedRange",value:function(e,t){var n=this,r=Math.min(e.to.row,this.hot.countRows()-1),i=Math.min(e.to.col,this.hot.countCols()-1);Wr(e.from.row,r,(function(r){Wr(e.from.col,i,(function(i){var o=VS(r,i),a=0;r===e.from.row&&ve(t,"top")&&(a+=1,o.top=t.top),r===e.to.row&&ve(t,"bottom")&&(a+=1,o.bottom=t.bottom),i===e.from.col&&ve(t,"start")&&(a+=1,o.start=t.start),i===e.to.col&&ve(t,"end")&&(a+=1,o.end=t.end),a>0&&(n.hot.setCellMeta(r,i,"borders",US(o)),n.insertBorderIntoSettings(o))}))}))}},{key:"removeAllBorders",value:function(e,t){var n=WS(e,t);this.spliceBorder(n),this.clearBordersFromSelectionSettings(n),this.clearNullCellRange(),this.hot.removeCellMeta(e,t,"borders")}},{key:"setBorder",value:function(e,t,n,r){var i=this.hot.getCellMeta(e,t).borders;i=i&&void 0!==i.border?$S(i):VS(e,t),r?(i[n]={hide:!0},4===this.countHide(i)?this.removeAllBorders(e,t):(this.checkCustomSelectionsFromContextMenu(i,n,r)||this.insertBorderIntoSettings(i),this.hot.setCellMeta(e,t,"borders",US(i)))):(i[n]={width:1,color:"#000"},this.checkCustomSelectionsFromContextMenu(i,n,r)||this.insertBorderIntoSettings(i),this.hot.setCellMeta(e,t,"borders",US(i)))}},{key:"prepareBorder",value:function(e,t,n){var r=this;$(e,(function(e){var i=e.start,o=e.end;if(i.row===o.row&&i.col===o.col)"noBorders"===t?r.removeAllBorders(i.row,i.col):r.setBorder(i.row,i.col,t,n);else switch(t){case"noBorders":Wr(i.col,o.col,(function(e){Wr(i.row,o.row,(function(t){r.removeAllBorders(t,e)}))}));break;case"top":Wr(i.col,o.col,(function(e){r.setBorder(i.row,e,t,n)}));break;case"bottom":Wr(i.col,o.col,(function(e){r.setBorder(o.row,e,t,n)}));break;case"start":Wr(i.row,o.row,(function(e){r.setBorder(e,i.col,t,n)}));break;case"end":Wr(i.row,o.row,(function(e){r.setBorder(e,o.col,t,n)}))}}))}},{key:"createCustomBorders",value:function(e){var t=this;$(e,(function(e){var n=$S(e);e.range?t.prepareBorderFromCustomAddedRange(e.range,n):t.prepareBorderFromCustomAdded(e.row,e.col,n)}))}},{key:"countHide",value:function(e){return z([e.top,e.bottom,e.start,e.end],(function(e,t){var n=e;return t&&t.hide&&(n+=1),n}),0)}},{key:"clearBordersFromSelectionSettings",value:function(e){var t=W(this.hot.selection.highlight.customSelections,(function(e){return e.settings.id})).indexOf(e);t>-1&&this.hot.selection.highlight.customSelections[t].clear()}},{key:"clearNullCellRange",value:function(){var e=this;$(this.hot.selection.highlight.customSelections,(function(t,n){if(null===t.cellRange)return e.hot.selection.highlight.customSelections[n].destroy(),e.hot.selection.highlight.customSelections.splice(n,1),!1}))}},{key:"hideBorders",value:function(){var e=this;$(this.savedBorders,(function(t){e.clearBordersFromSelectionSettings(t.id),e.clearNullCellRange()}))}},{key:"spliceBorder",value:function(e){var t=W(this.savedBorders,(function(e){return e.id})).indexOf(e);t>-1&&this.savedBorders.splice(t,1)}},{key:"checkSavedBorders",value:function(e){var t=this,n=!1;return 4===this.countHide(e)?(this.spliceBorder(e.id),n=!0):$(this.savedBorders,(function(r,i){if(e.id===r.id)return t.savedBorders[i]=e,n=!0,!1})),n}},{key:"checkCustomSelectionsFromContextMenu",value:function(e,t,n){var r=!1;return $(this.hot.selection.highlight.customSelections,(function(i){if(e.id===i.settings.id)return fe(i.instanceBorders,(function(e){e.toggleHiddenClass(t,n)})),r=!0,!1})),r}},{key:"checkCustomSelections",value:function(e,t,n){var r=this.countHide(e),i=!1;return 4===r?(this.removeAllBorders(e.row,e.col),i=!0):$(this.hot.selection.highlight.customSelections,(function(r){if(e.id===r.settings.id)return r.visualCellRange=t,r.commit(),n&&fe(r.instanceBorders,(function(t){t.changeBorderStyle(n,e)})),i=!0,!1})),i}},{key:"changeBorderSettings",value:function(){var e=this.hot.getSettings().customBorders;if(Array.isArray(e)){var t=se(e);this.checkSettingsCohesion(t),t.length||(this.savedBorders=t),this.createCustomBorders(t)}else void 0!==e&&this.createCustomBorders(this.savedBorders)}},{key:"checkSettingsCohesion",value:function(e){var t=e.some((function(e){return Je(e.left)||Je(e.right)})),n=e.some((function(e){return Je(e.start)||Je(e.end)}));if(t&&n)throw new Error('The "left"/"right" and "start"/"end" options should not be used together. Please use only the option "start"/"end".');if(this.hot.isRtl()&&t)throw new Error('The "left"/"right" properties are not supported for RTL. Please use option "start"/"end".')}},{key:"onAfterContextMenuDefaultOptions",value:function(e){var t;this.hot.getSettings().customBorders&&e.items.push({name:"---------"},{key:"borders",name:function(){return this.getTranslatedPhrase(hh)},disabled:function(){return this.selection.isSelectedByCorner()},submenu:{items:[(t=this,{key:"borders:top",name:function(){var e=this.getTranslatedPhrase(fh);return qS(this,"top")&&(e=GS(e)),e},callback:function(e,n){var r=qS(this,"top");t.prepareBorder(n,"top",r)}}),ZS(this),XS(this),JS(this),QS(this)]}})}},{key:"onAfterInit",value:function(){this.changeBorderSettings()}},{key:"destroy",value:function(){oM(cM(s.prototype),"destroy",this).call(this)}}],r=[{key:"PLUGIN_KEY",get:function(){return"customBorders"}},{key:"PLUGIN_PRIORITY",get:function(){return 90}}],n&&iM(t.prototype,n),r&&iM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($v);function fM(e){return fM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fM(e)}function pM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mM(){return mM="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=gM(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},mM.apply(this,arguments)}function gM(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wM(e)););return e}function yM(e,t){return yM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yM(e,t)}function vM(e,t){if(t&&("object"===fM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bM(e)}function bM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wM(e){return wM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wM(e)}var _M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yM(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=wM(i);if(o){var n=wM(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return vM(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).eventManager=new kr(bM(t)),t.boundaries=null,t.callback=null,t.listening=!1,t}return t=s,n=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().dragToScroll}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.addHook("afterOnCellMouseDown",(function(t){return e.setupListening(t)})),this.addHook("afterOnCellCornerMouseDown",(function(t){return e.setupListening(t)})),this.registerEvents(),mM(wM(s.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),mM(wM(s.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.unregisterEvents(),mM(wM(s.prototype),"disablePlugin",this).call(this)}},{key:"setBoundaries",value:function(e){this.boundaries=e}},{key:"setCallback",value:function(e){this.callback=e}},{key:"check",value:function(e,t){var n=0,r=0;t<this.boundaries.top?r=t-this.boundaries.top:t>this.boundaries.bottom&&(r=t-this.boundaries.bottom),e<this.boundaries.left?n=e-this.boundaries.left:e>this.boundaries.right&&(n=e-this.boundaries.right),this.callback(n,r)}},{key:"listen",value:function(){this.listening=!0}},{key:"unlisten",value:function(){this.listening=!1}},{key:"isListening",value:function(){return this.listening}},{key:"registerEvents",value:function(){for(var e=this,t=this.hot.rootWindow;t;)this.eventManager.addEventListener(t.document,"contextmenu",(function(){return e.unlisten()})),this.eventManager.addEventListener(t.document,"mouseup",(function(){return e.unlisten()})),this.eventManager.addEventListener(t.document,"mousemove",(function(t){return e.onMouseMove(t)})),t=Ot(t)}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"setupListening",value:function(e){if(!$n(e)){var t=this.hot.view._wt.wtTable.holder;t!==this.hot.rootWindow&&(this.setBoundaries(t.getBoundingClientRect()),this.setCallback((function(e,n){e<0?t.scrollLeft-=50:e>0&&(t.scrollLeft+=50),n<0?t.scrollTop-=20:n>0&&(t.scrollTop+=20)})),this.listen())}}},{key:"onMouseMove",value:function(e){this.isListening()&&this.check(e.clientX,e.clientY)}},{key:"destroy",value:function(){mM(wM(s.prototype),"destroy",this).call(this)}}],r=[{key:"PLUGIN_KEY",get:function(){return"dragToScroll"}},{key:"PLUGIN_PRIORITY",get:function(){return 100}}],n&&pM(t.prototype,n),r&&pM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($v);function kM(e){return kM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kM(e)}function SM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function MM(){return MM="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=xM(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},MM.apply(this,arguments)}function xM(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=RM(e)););return e}function OM(e,t){return OM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},OM(e,t)}function CM(e,t){if(t&&("object"===kM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return TM(e)}function TM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RM(e){return RM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},RM(e)}rr.getSingleton().register("afterDropdownMenuDefaultOptions"),rr.getSingleton().register("beforeDropdownMenuShow"),rr.getSingleton().register("afterDropdownMenuShow"),rr.getSingleton().register("afterDropdownMenuHide"),rr.getSingleton().register("afterDropdownMenuExecute");var DM="changeType",EM=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OM(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=RM(i);if(o){var n=RM(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return CM(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).eventManager=new kr(TM(t)),t.commandExecutor=new Tk(t.hot),t.itemsFactory=null,t.menu=null,t.hot.addHook("afterGetColHeader",(function(e,n){return t.onAfterGetColHeader(e,n)})),t}return t=s,n=[{key:"isEnabled",value:function(){return this.hot.getSettings().dropdownMenu}},{key:"enablePlugin",value:function(){var e=this;if(!this.enabled){this.itemsFactory=new Jk(this.hot,s.DEFAULT_ITEMS);var t=this.hot.getSettings().dropdownMenu,n={items:this.itemsFactory.getItems(t)};this.registerEvents(),"function"==typeof t.callback&&this.commandExecutor.setCommonCallback(t.callback),MM(RM(s.prototype),"enablePlugin",this).call(this),this.callOnPluginsReady((function(){e.hot.runHooks("afterDropdownMenuDefaultOptions",n),e.itemsFactory.setPredefinedItems(n.items);var r=e.itemsFactory.getItems(t);e.menu&&e.menu.destroy(),e.menu=new sS(e.hot,{className:"htDropdownMenu",keepInViewport:!0,container:t.uiContainer||e.hot.rootDocument.body}),e.hot.runHooks("beforeDropdownMenuSetItems",r),e.menu.setMenuItems(r),e.menu.addLocalHook("beforeOpen",(function(){return e.onMenuBeforeOpen()})),e.menu.addLocalHook("afterOpen",(function(){return e.onMenuAfterOpen()})),e.menu.addLocalHook("afterClose",(function(){return e.onMenuAfterClose()})),e.menu.addLocalHook("executeCommand",(function(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.executeCommand).call.apply(t,[e].concat(r))})),$(r,(function(t){return e.commandExecutor.registerCommand(t.key,t)}))}))}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),MM(RM(s.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.close(),this.menu&&this.menu.destroy(),MM(RM(s.prototype),"disablePlugin",this).call(this)}},{key:"registerEvents",value:function(){var e=this;this.eventManager.addEventListener(this.hot.rootElement,"click",(function(t){return e.onTableClick(t)}))}},{key:"open",value:function(e){this.menu&&(this.menu.open(),e.width&&this.menu.setOffset("left",e.width),this.menu.setPosition(e))}},{key:"close",value:function(){this.menu&&this.menu.close()}},{key:"executeCommand",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.commandExecutor).execute.apply(t,[e].concat(r))}},{key:"setListening",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.menu.isOpened()&&(e?this.menu.hotMenu.listen():this.menu.hotMenu.unlisten())}},{key:"onTableClick",value:function(e){if(e.stopPropagation(),It(e.target,DM)&&!this.menu.isOpened()){var t=0,n=0;if(this.hot.rootDocument!==this.menu.container.ownerDocument){var r=this.hot.rootWindow.frameElement.getBoundingClientRect();t=r.top,n=r.left}var i=e.target.getBoundingClientRect();this.open({left:i.left+n,top:i.top+e.target.offsetHeight+3+t,width:i.width,height:i.height})}}},{key:"onAfterGetColHeader",value:function(e,t){var n=t.parentNode;if(n){var r=n.parentNode.childNodes,i=Array.prototype.indexOf.call(r,n);if(!(e<0||i!==r.length-1)){var o=t.querySelector(".".concat(DM));if(!this.enabled||!o)if(this.enabled){var a=this.hot.rootDocument.createElement("button");a.className=DM,a.type="button",a.onclick=function(){return!1},t.firstChild.insertBefore(a,t.firstChild.firstChild)}else o&&o.parentNode.removeChild(o)}}}},{key:"onMenuBeforeOpen",value:function(){this.hot.runHooks("beforeDropdownMenuShow",this)}},{key:"onMenuAfterOpen",value:function(){this.hot.runHooks("afterDropdownMenuShow",this)}},{key:"onMenuAfterClose",value:function(){this.hot.listen(),this.hot.runHooks("afterDropdownMenuHide",this)}},{key:"destroy",value:function(){this.close(),this.menu&&this.menu.destroy(),MM(RM(s.prototype),"destroy",this).call(this)}}],r=[{key:"PLUGIN_KEY",get:function(){return"dropdownMenu"}},{key:"PLUGIN_PRIORITY",get:function(){return 230}},{key:"PLUGIN_DEPS",get:function(){return["plugin:AutoColumnSize"]}},{key:"DEFAULT_ITEMS",get:function(){return[Ek,Ak,Z_,Ik,Z_,Dk,Z_,Lk,Z_,Rk]}}],n&&SM(t.prototype,n),r&&SM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($v);function AM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}EM.SEPARATOR={name:Z_};var jM=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hot=t,this.options={}}var t,n;return t=e,n=[{key:"setOptions",value:function(e){this.options=e}},{key:"getData",value:function(){var e=this,t=this._getDataRange(),n=t.startRow,r=t.startCol,i=t.endRow,o=t.endCol,a=this.options,s=[];return Wr(n,i,(function(t){var n=[];!a.exportHiddenRows&&e._isHiddenRow(t)||(Wr(r,o,(function(r){!a.exportHiddenColumns&&e._isHiddenColumn(r)||n.push(e.hot.getDataAtCell(t,r))})),s.push(n))})),s}},{key:"getRowHeaders",value:function(){var e=this,t=[];if(this.options.rowHeaders){var n=this._getDataRange(),r=n.startRow,i=n.endRow,o=this.hot.getRowHeader();Wr(r,i,(function(n){!e.options.exportHiddenRows&&e._isHiddenRow(n)||t.push(o[n])}))}return t}},{key:"getColumnHeaders",value:function(){var e=this,t=[];if(this.options.columnHeaders){var n=this._getDataRange(),r=n.startCol,i=n.endCol,o=this.hot.getColHeader();Wr(r,i,(function(n){!e.options.exportHiddenColumns&&e._isHiddenColumn(n)||t.push(o[n])}))}return t}},{key:"_getDataRange",value:function(){var e,t,n=this.hot.countCols()-1,r=this.hot.countRows()-1,i=(e=this.options.range,t=4,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return AM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?AM(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[0],a=void 0===o?0:o,s=i[1],l=void 0===s?0:s,u=i[2],c=void 0===u?r:u,d=i[3],h=void 0===d?n:d;return{startRow:a=Math.max(a,0),startCol:l=Math.max(l,0),endRow:c=Math.min(c,r),endCol:h=Math.min(h,n)}}},{key:"_isHiddenRow",value:function(e){return this.hot.rowIndexMapper.isHidden(this.hot.toPhysicalRow(e))}},{key:"_isHiddenColumn",value:function(e){return this.hot.columnIndexMapper.isHidden(this.hot.toPhysicalColumn(e))}}],n&&LM(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const PM=jM;function IM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var HM=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dataProvider=t,this.options=this._mergeOptions(n),this.dataProvider.setOptions(this.options)}var t,n,r;return t=e,r=[{key:"DEFAULT_OPTIONS",get:function(){return{mimeType:"text/plain",fileExtension:"txt",filename:"Handsontable [YYYY]-[MM]-[DD]",encoding:"utf-8",bom:!1,columnHeaders:!1,rowHeaders:!1,exportHiddenColumns:!1,exportHiddenRows:!1,range:[]}}}],(n=[{key:"_mergeOptions",value:function(t){var n=le(this.constructor.DEFAULT_OPTIONS),r=new Date;return n=oe(le(e.DEFAULT_OPTIONS),n),(n=oe(n,t)).filename=bt(n.filename,{YYYY:r.getFullYear(),MM:"".concat(r.getMonth()+1).padStart(2,"0"),DD:"".concat(r.getDate()).padStart(2,"0")}),n}}])&&IM(t.prototype,n),r&&IM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();const NM=HM;function FM(e){return FM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FM(e)}function YM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BM(e,t){return BM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},BM(e,t)}function WM(e,t){if(t&&("object"===FM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function $M(e){return $M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$M(e)}var UM=String.fromCharCode(13),VM=String.fromCharCode(34),qM=String.fromCharCode(10),GM=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BM(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=$M(i);if(o){var n=$M(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return WM(this,e)});function s(){return YM(this,s),a.apply(this,arguments)}return t=s,n=[{key:"export",value:function(){var e=this,t=this.options,n=this.dataProvider.getData(),r=this.dataProvider.getColumnHeaders(),i=r.length>0,o=this.dataProvider.getRowHeaders(),a=o.length>0,s=t.bom?String.fromCharCode(65279):"";return i&&(r=W(r,(function(t){return e._escapeCell(t,!0)})),a&&(s+=t.columnDelimiter),s+=r.join(t.columnDelimiter),s+=t.rowDelimiter),$(n,(function(n,r){r>0&&(s+=t.rowDelimiter),a&&(s+=e._escapeCell(o[r])+t.columnDelimiter),s+=n.map((function(t){return e._escapeCell(t)})).join(t.columnDelimiter)})),s}},{key:"_escapeCell",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Xe(e);return""!==n&&(t||n.indexOf(UM)>=0||n.indexOf(VM)>=0||n.indexOf(qM)>=0||n.indexOf(this.options.columnDelimiter)>=0)&&(n=n.replace(new RegExp('"',"g"),'""'),n='"'.concat(n,'"')),n}}],r=[{key:"DEFAULT_OPTIONS",get:function(){return{mimeType:"text/csv",fileExtension:"csv",bom:!0,columnDelimiter:",",rowDelimiter:"\r\n"}}}],n&&zM(t.prototype,n),r&&zM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(NM),KM=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e.csv=n,e}({},"csv",GM);function ZM(e,t,n){return"function"==typeof KM[e]?new KM[e](t,n):null}function XM(e){return XM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XM(e)}function JM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ex(e,t){return ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ex(e,t)}function tx(e,t){if(t&&("object"===XM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function nx(e){return nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nx(e)}var rx=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ex(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=nx(i);if(o){var n=nx(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return tx(this,e)});function s(){return JM(this,s),a.apply(this,arguments)}return t=s,n=[{key:"isEnabled",value:function(){return!0}},{key:"exportAsString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._createTypeFormatter(e,t).export()}},{key:"exportAsBlob",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._createBlob(this._createTypeFormatter(e,t))}},{key:"downloadFile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.hot,r=n.rootDocument,i=n.rootWindow,o=this._createTypeFormatter(e,t),a=this._createBlob(o),s=i.URL||i.webkitURL,l=r.createElement("a"),u="".concat(o.options.filename,".").concat(o.options.fileExtension);if(void 0!==l.download){var c=s.createObjectURL(a);l.style.display="none",l.setAttribute("href",c),l.setAttribute("download",u),r.body.appendChild(l),l.dispatchEvent(new MouseEvent("click")),r.body.removeChild(l),setTimeout((function(){s.revokeObjectURL(c)}),100)}else navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob(a,u)}},{key:"_createTypeFormatter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!KM[e])throw new Error('Export format type "'.concat(e,'" is not supported.'));return ZM(e,new PM(this.hot),t)}},{key:"_createBlob",value:function(e){var t=null;return"undefined"!=typeof Blob&&(t=new Blob([e.export()],{type:"".concat(e.options.mimeType,";charset=").concat(e.options.encoding)})),t}}],r=[{key:"PLUGIN_KEY",get:function(){return"exportFile"}},{key:"PLUGIN_PRIORITY",get:function(){return 240}}],n&&QM(t.prototype,n),r&&QM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($v);function ix(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ox=function(){function e(t,n){var r=n.id,i=n.stateless,o=void 0===i||i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hot=t,this.id=r,this.elements=[],this.hidden=!1,this.stateId="Filters.component.".concat(this.id),this.state=o?null:this.hot.columnIndexMapper.registerMap(this.stateId,new Lc)}var t,n;return t=e,(n=[{key:"reset",value:function(){$(this.elements,(function(e){return e.reset()}))}},{key:"hide",value:function(){this.hidden=!0}},{key:"show",value:function(){this.hidden=!1}},{key:"isHidden",value:function(){return null===this.hot||this.hidden}},{key:"restoreState",value:function(e){this.state&&this.setState(this.state.getValueAtIndex(e))}},{key:"setState",value:function(){throw new Error("The state setting logic is not implemented")}},{key:"saveState",value:function(e){this.state&&this.state.setValueAtIndex(e,this.getState())}},{key:"getState",value:function(){throw new Error("The state gathering logic is not implemented")}},{key:"destroy",value:function(){this.hot.columnIndexMapper.unregisterMap(this.stateId),this.clearLocalHooks(),$(this.elements,(function(e){return e.destroy()})),this.state=null,this.elements=null,this.hot=null}}])&&ix(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();ue(ox,Vu);const ax=ox;var sx={};function lx(e,t){if(!sx[e])throw Error('Filter condition "'.concat(e,'" does not exist.'));var n=sx[e],r=n.condition,i=n.descriptor,o=t;return i.inputValuesDecorator&&(o=i.inputValuesDecorator(o)),function(e){return r.apply(e.meta.instance,[].concat([e],[o]))}}function ux(e){if(!sx[e])throw Error('Filter condition "'.concat(e,'" does not exist.'));return sx[e].descriptor}function cx(e,t,n){n.key=e,sx[e]={condition:t,descriptor:n}}var dx="none";cx(dx,(function(){return!0}),{name:Oh,inputsCount:0,showOperators:!1});var hx="empty";cx(hx,(function(e){return et(e.value)}),{name:Ch,inputsCount:0,showOperators:!0});var fx="not_empty";function px(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}cx(fx,(function(e,t){return!lx(hx,t)(e)}),{name:Th,inputsCount:0,showOperators:!0});var mx="eq";cx(mx,(function(e,t){var n,r,i=(n=t,r=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(n,r)||function(e,t){if(e){if("string"==typeof e)return px(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?px(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return Xe(e.value).toLocaleLowerCase(e.meta.locale)===Xe(i)}),{name:Rh,inputsCount:1,showOperators:!0});var gx="neq";function yx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}cx(gx,(function(e,t){return!lx(mx,t)(e)}),{name:Dh,inputsCount:1,showOperators:!0}),cx("gt",(function(e,t){var n,r,i=(n=t,r=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(n,r)||function(e,t){if(e){if("string"==typeof e)return yx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yx(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return"numeric"===e.meta.type&&(i=parseFloat(i,10)),e.value>i}),{name:Ih,inputsCount:1,showOperators:!0}),cx("gte",(function(e,t){var n,r,i=(n=t,r=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(n,r)||function(e,t){if(e){if("string"==typeof e)return vx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vx(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return"numeric"===e.meta.type&&(i=parseFloat(i,10)),e.value>=i}),{name:Hh,inputsCount:1,showOperators:!0}),cx("lt",(function(e,t){var n,r,i=(n=t,r=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(n,r)||function(e,t){if(e){if("string"==typeof e)return bx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bx(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return"numeric"===e.meta.type&&(i=parseFloat(i,10)),e.value<i}),{name:Nh,inputsCount:1,showOperators:!0}),cx("lte",(function(e,t){var n,r,i=(n=t,r=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(n,r)||function(e,t){if(e){if("string"==typeof e)return wx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wx(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return"numeric"===e.meta.type&&(i=parseFloat(i,10)),e.value<=i}),{name:Fh,inputsCount:1,showOperators:!0});var kx="date_after";function Sx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}cx(kx,(function(e,t){var n,r,i=(n=t,r=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(n,r)||function(e,t){if(e){if("string"==typeof e)return _x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_x(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],o=qe(e.value,e.meta.dateFormat),a=qe(i,e.meta.dateFormat);return!(!o.isValid()||!a.isValid())&&o.diff(a)>=0}),{name:Bh,inputsCount:1,showOperators:!0});var Mx="date_before";function xx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}cx(Mx,(function(e,t){var n,r,i=(n=t,r=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(n,r)||function(e,t){if(e){if("string"==typeof e)return Sx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sx(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],o=qe(e.value,e.meta.dateFormat),a=qe(i,e.meta.dateFormat);return!(!o.isValid()||!a.isValid())&&o.diff(a)<=0}),{name:Wh,inputsCount:1,showOperators:!0});var Ox="between";cx(Ox,(function(e,t){var n,r,i=(r=2,function(e){if(Array.isArray(e))return e}(n=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(n,r)||function(e,t){if(e){if("string"==typeof e)return xx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xx(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[0],a=i[1];if("numeric"===e.meta.type){var s=parseFloat(o,10),l=parseFloat(a,10);o=Math.min(s,l),a=Math.max(s,l)}else if("date"===e.meta.type){var u=lx(Mx,[a]),c=lx(kx,[o]);return u(e)&&c(e)}return e.value>=o&&e.value<=a}),{name:Yh,inputsCount:2,showOperators:!0});var Cx="not_between";function Tx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}cx(Cx,(function(e,t){return!lx(Ox,t)(e)}),{name:zh,inputsCount:2,showOperators:!0});var Rx="begins_with";function Dx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}cx(Rx,(function(e,t){var n,r,i=(n=t,r=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(n,r)||function(e,t){if(e){if("string"==typeof e)return Tx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tx(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return Xe(e.value).toLocaleLowerCase(e.meta.locale).startsWith(Xe(i))}),{name:Eh,inputsCount:1,showOperators:!0}),n(5356);var Ex="ends_with";function Ax(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}cx(Ex,(function(e,t){var n,r,i=(n=t,r=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(n,r)||function(e,t){if(e){if("string"==typeof e)return Dx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dx(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return Xe(e.value).toLocaleLowerCase(e.meta.locale).endsWith(Xe(i))}),{name:Ah,inputsCount:1,showOperators:!0});var Lx="contains";cx(Lx,(function(e,t){var n,r,i=(n=t,r=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(n,r)||function(e,t){if(e){if("string"==typeof e)return Ax(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ax(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return Xe(e.value).toLocaleLowerCase(e.meta.locale).indexOf(Xe(i))>=0}),{name:Lh,inputsCount:1,showOperators:!0});var jx="not_contains";cx(jx,(function(e,t){return!lx(Lx,t)(e)}),{name:jh,inputsCount:1,showOperators:!0});var Px="date_tomorrow";cx(Px,(function(e){var t=qe(e.value,e.meta.dateFormat);return!!t.isValid()&&t.isSame(qe().subtract(-1,"days").startOf("day"),"d")}),{name:Uh,inputsCount:0});var Ix="date_today";cx(Ix,(function(e){var t=qe(e.value,e.meta.dateFormat);return!!t.isValid()&&t.isSame(qe().startOf("day"),"d")}),{name:$h,inputsCount:0});var Hx,Nx="date_yesterday";function Fx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cx(Nx,(function(e){var t=qe(e.value,e.meta.dateFormat);return!!t.isValid()&&t.isSame(qe().subtract(1,"days").startOf("day"),"d")}),{name:Vh,inputsCount:0});var Yx="text",zx=(Fx(Hx={},"numeric",[dx,Z_,hx,fx,Z_,mx,gx,Z_,"gt","gte","lt","lte",Ox,Cx]),Fx(Hx,Yx,[dx,Z_,hx,fx,Z_,mx,gx,Z_,Rx,Ex,Z_,Lx,jx]),Fx(Hx,"date",[dx,Z_,hx,fx,Z_,mx,gx,Z_,Mx,kx,Ox,Z_,Px,Ix,Nx]),Hx);function Bx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Wx="built",$x="building",Ux=["click","input","keydown","keypress","keyup","focus","blur","change"],Vx=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hot=t,this.eventManager=new kr(this),this.options=oe(e.DEFAULTS,n),this._element=this.hot.rootDocument.createElement(this.options.wrapIt?"div":this.options.tagName),this.buildState=null}var t,n,r;return t=e,n=[{key:"setValue",value:function(e){this.options.value=e,this.update()}},{key:"getValue",value:function(){return this.options.value}},{key:"element",get:function(){return this.buildState===$x?this._element:this.buildState===Wx?(this.update(),this._element):(this.buildState=$x,this.build(),this.buildState=Wx,this._element)}},{key:"isBuilt",value:function(){return this.buildState===Wx}},{key:"translateIfPossible",value:function(e){return"string"==typeof e&&e.startsWith(Mh)?this.hot.getTranslatedPhrase(e):e}},{key:"build",value:function(){var e=this,t=function(t,n){e.eventManager.addEventListener(t,n,(function(t){return e.runLocalHooks(n,t,e)}))};if(this.buildState||(this.buildState=$x),this.options.className&&Ht(this._element,this.options.className),this.options.children.length)$(this.options.children,(function(t){return e._element.appendChild(t.element)}));else if(this.options.wrapIt){var n=this.hot.rootDocument.createElement(this.options.tagName);fe(this.options,(function(t,r){void 0!==n[r]&&"className"!==r&&"tagName"!==r&&"children"!==r&&(n[r]=e.translateIfPossible(t))})),this._element.appendChild(n),$(Ux,(function(e){return t(n,e)}))}else $(Ux,(function(n){return t(e._element,n)}))}},{key:"update",value:function(){}},{key:"reset",value:function(){this.options.value="",this.update()}},{key:"show",value:function(){this.element.style.display=""}},{key:"hide",value:function(){this.element.style.display="none"}},{key:"focus",value:function(){}},{key:"destroy",value:function(){this.eventManager.destroy(),this.eventManager=null,this.hot=null,this._element.parentNode&&this._element.parentNode.removeChild(this._element),this._element=null}}],r=[{key:"DEFAULTS",get:function(){return le({className:"",value:"",tagName:"div",children:[],wrapIt:!0})}}],n&&Bx(t.prototype,n),r&&Bx(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();ue(Vx,Vu);const qx=Vx;function Gx(e){return Gx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gx(e)}function Kx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zx(){return Zx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Xx(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Zx.apply(this,arguments)}function Xx(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=tO(e)););return e}function Jx(e,t){return Jx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Jx(e,t)}function Qx(e,t){if(t&&("object"===Gx(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return eO(e)}function eO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tO(e){return tO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tO(e)}var nO=new WeakMap,rO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jx(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=tO(i);if(o){var n=tO(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Qx(this,e)});function s(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),n=a.call(this,e,oe(s.DEFAULTS,t)),nO.set(eO(n),{}),n.registerHooks(),n}return t=s,n=[{key:"registerHooks",value:function(){var e=this;this.addLocalHook("click",(function(){return e.onClick()})),this.addLocalHook("keyup",(function(t){return e.onKeyup(t)}))}},{key:"build",value:function(){Zx(tO(s.prototype),"build",this).call(this);var e=nO.get(this),t=this.hot.rootDocument.createElement("div");e.input=this._element.firstChild,Ht(this._element,"htUIInput"),Ht(t,"htUIInputIcon"),this._element.appendChild(t),this.update()}},{key:"update",value:function(){if(this.isBuilt()){var e=nO.get(this).input;e.type=this.options.type,e.placeholder=this.translateIfPossible(this.options.placeholder),e.value=this.translateIfPossible(this.options.value)}}},{key:"focus",value:function(){this.isBuilt()&&nO.get(this).input.focus()}},{key:"onClick",value:function(){}},{key:"onKeyup",value:function(e){this.options.value=e.target.value}}],r=[{key:"DEFAULTS",get:function(){return le({placeholder:"",type:"text",tagName:"input"})}}],n&&Kx(t.prototype,n),r&&Kx(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(qx);const iO=rO;function oO(e){return oO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oO(e)}function aO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sO(){return sO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=lO(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},sO.apply(this,arguments)}function lO(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=hO(e)););return e}function uO(e,t){return uO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},uO(e,t)}function cO(e,t){if(t&&("object"===oO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dO(e)}function dO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hO(e){return hO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hO(e)}var fO=new WeakMap;const pO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uO(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=hO(i);if(o){var n=hO(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return cO(this,e)});function s(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),n=a.call(this,e,oe(s.DEFAULTS,t)),fO.set(dO(n),{}),n.menu=null,n.items=[],n.registerHooks(),n}return t=s,r=[{key:"DEFAULTS",get:function(){return le({className:"htUISelect",wrapIt:!1})}}],(n=[{key:"registerHooks",value:function(){var e=this;this.addLocalHook("click",(function(){return e.onClick()}))}},{key:"setItems",value:function(e){this.items=this.translateNames(e),this.menu&&this.menu.setMenuItems(this.items)}},{key:"translateNames",value:function(e){var t=this;return $(e,(function(e){e.name=t.translateIfPossible(e.name)})),e}},{key:"build",value:function(){var e=this;sO(hO(s.prototype),"build",this).call(this),this.menu=new sS(this.hot,{className:"htSelectUI htFiltersConditionsMenu",keepInViewport:!1,standalone:!0,container:this.options.menuContainer}),this.menu.setMenuItems(this.items);var t=new qx(this.hot,{className:"htUISelectCaption"}),n=new qx(this.hot,{className:"htUISelectDropdown"}),r=fO.get(this);r.caption=t,r.captionElement=t.element,r.dropdown=n,$([t,n],(function(t){return e._element.appendChild(t.element)})),this.menu.addLocalHook("select",(function(t){return e.onMenuSelect(t)})),this.menu.addLocalHook("afterClose",(function(){return e.onMenuClosed()})),this.update()}},{key:"update",value:function(){var e;this.isBuilt()&&(e=this.options.value?this.options.value.name:this.menu.hot.getTranslatedPhrase(Oh),fO.get(this).captionElement.textContent=e,sO(hO(s.prototype),"update",this).call(this))}},{key:"openOptions",value:function(){var e=this.element.getBoundingClientRect();this.menu&&(this.menu.open(),this.menu.setPosition({left:this.hot.isLtr()?e.left-5:e.left-31,top:e.top-1,width:e.width,height:e.height}))}},{key:"closeOptions",value:function(){this.menu&&this.menu.close()}},{key:"onMenuSelect",value:function(e){e.name!==Z_&&(this.options.value=e,this.update(),this.runLocalHooks("select",this.options.value))}},{key:"onMenuClosed",value:function(){this.runLocalHooks("afterClose")}},{key:"onClick",value:function(){this.openOptions()}},{key:"destroy",value:function(){this.menu&&(this.menu.destroy(),this.menu=null);var e=fO.get(this),t=e.caption,n=e.dropdown;t&&t.destroy(),n&&n.destroy(),sO(hO(s.prototype),"destroy",this).call(this)}}])&&aO(t.prototype,n),r&&aO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(qx);function mO(e){return mO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mO(e)}function gO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yO(){return yO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=vO(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},yO.apply(this,arguments)}function vO(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_O(e)););return e}function bO(e,t){return bO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bO(e,t)}function wO(e,t){if(t&&("object"===mO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _O(e){return _O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_O(e)}var kO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bO(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_O(r);if(i){var n=_O(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return wO(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=o.call(this,e,{id:t.id,stateless:!1})).name=t.name,n.addSeparator=t.addSeparator,n.elements.push(new pO(n.hot,{menuContainer:t.menuContainer})),n.elements.push(new iO(n.hot,{placeholder:rf})),n.elements.push(new iO(n.hot,{placeholder:of})),n.registerHooks(),n}return t=a,n=[{key:"registerHooks",value:function(){var e=this;this.getSelectElement().addLocalHook("select",(function(t){return e.onConditionSelect(t)})),this.getSelectElement().addLocalHook("afterClose",(function(){return e.onSelectUIClosed()})),$(this.getInputElements(),(function(t){t.addLocalHook("keydown",(function(t){return e.onInputKeyDown(t)}))}))}},{key:"setState",value:function(e){var t=this;if(this.reset(),e){var n=le(e.command);n.name.startsWith(xh)&&(n.name=this.hot.getTranslatedPhrase(n.name)),this.getSelectElement().setValue(n),$(e.args,(function(e,r){if(r>n.inputsCount-1)return!1;var i=t.getInputElement(r);i.setValue(e),i[n.inputsCount>r?"show":"hide"](),r||setTimeout((function(){return i.focus()}),10)}))}}},{key:"getState",value:function(){var e=this.getSelectElement().getValue()||ux(dx),t=[];return $(this.getInputElements(),(function(n,r){e.inputsCount>r&&t.push(n.getValue())})),{command:e,args:t}}},{key:"updateState",value:function(e,t){var n=ux(e?e.name:dx);this.state.setValueAtIndex(t,{command:n,args:e?e.args:[]}),e||$(this.getInputElements(),(function(e){return e.setValue(null)}))}},{key:"getSelectElement",value:function(){return this.elements.filter((function(e){return e instanceof pO}))[0]}},{key:"getInputElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.getInputElements()[e]}},{key:"getInputElements",value:function(){return this.elements.filter((function(e){return e instanceof iO}))}},{key:"getMenuItemDescriptor",value:function(){var e=this;return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:function(){return e.isHidden()},renderer:function(t,n,r,i,o,a){Ht(n.parentNode,"htFiltersMenuCondition"),e.addSeparator&&Ht(n.parentNode,"border");var s=e.hot.rootDocument.createElement("div");return Ht(s,"htFiltersMenuLabel"),s.textContent=a,n.appendChild(s),n.parentNode.hasAttribute("ghost-table")||$(e.elements,(function(e){return n.appendChild(e.element)})),n}}}},{key:"reset",value:function(){var e=this.hot.getPlugin("filters").getSelectedColumn(),t=[ux(dx)];if(null!==e){var n=e.visualIndex;t=function(e){var t=[],n=e;return zx[n]||(n=Yx),$(zx[n],(function(e){var n;n=e===Z_?{name:Z_}:le(ux(e)),t.push(n)})),t}(this.hot.getDataType(0,n,this.hot.countRows(),n))}$(this.getInputElements(),(function(e){return e.hide()})),this.getSelectElement().setItems(t),yO(_O(a.prototype),"reset",this).call(this),this.getSelectElement().setValue(t[0])}},{key:"onConditionSelect",value:function(e){$(this.getInputElements(),(function(t,n){t[e.inputsCount>n?"show":"hide"](),0===n&&setTimeout((function(){return t.focus()}),10)})),this.runLocalHooks("change",e)}},{key:"onSelectUIClosed",value:function(){this.runLocalHooks("afterClose")}},{key:"onInputKeyDown",value:function(e){zn(e.keyCode,"ENTER")?(this.runLocalHooks("accept"),Bn(e)):zn(e.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),Bn(e))}}],n&&gO(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(ax);const SO=kO;var MO={};function xO(e){if(!MO[e])throw Error('Operation with id "'.concat(e,'" does not exist.'));var t=MO[e].func;return function(e,n){return t(e,n)}}function OO(e,t,n){MO[e]={name:t,func:n}}var CO="conjunction";OO(CO,Kh,(function(e,t){return e.every((function(e){return e.func(t)}))}));var TO="disjunction";OO(TO,Zh,(function(e,t){return e.some((function(e){return e.func(t)}))}));var RO="disjunctionWithExtraCondition";function DO(e){return DO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DO(e)}function EO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function AO(){return AO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=LO(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},AO.apply(this,arguments)}function LO(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=HO(e)););return e}function jO(e,t){return jO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jO(e,t)}function PO(e,t){if(t&&("object"===DO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return IO(e)}function IO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HO(e){return HO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},HO(e)}OO(RO,Zh,(function(e,t){if(e.length<3)throw Error("Operation doesn't work on less then three conditions.");return e.slice(0,e.length-1).some((function(e){return e.func(t)}))&&e[e.length-1].func(t)}));var NO=new WeakMap,FO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jO(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=HO(i);if(o){var n=HO(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return PO(this,e)});function s(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),n=a.call(this,e,oe(s.DEFAULTS,t)),NO.set(IO(n),{}),n}return t=s,n=[{key:"build",value:function(){AO(HO(s.prototype),"build",this).call(this);var e=NO.get(this);e.input=this._element.firstChild;var t=this.hot.rootDocument.createElement("label");t.textContent=this.translateIfPossible(this.options.label.textContent),t.htmlFor=this.translateIfPossible(this.options.label.htmlFor),e.label=t,this._element.appendChild(t),this.update()}},{key:"update",value:function(){if(this.isBuilt()){var e=NO.get(this);e.input.checked=this.options.checked,e.label.textContent=this.translateIfPossible(this.options.label.textContent)}}},{key:"isChecked",value:function(){return this.options.checked}},{key:"setChecked",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.options.checked=e,this.update()}},{key:"focus",value:function(){this.isBuilt()&&NO.get(this).input.focus()}}],r=[{key:"DEFAULTS",get:function(){return le({type:"radio",tagName:"input",className:"htUIRadio",label:{}})}}],n&&EO(t.prototype,n),r&&EO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(qx);const YO=FO;function zO(e){return zO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zO(e)}var BO;function WO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $O(e,t){return $O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$O(e,t)}function UO(e,t){if(t&&("object"===zO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function VO(e){return VO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},VO(e)}var qO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$O(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=VO(r);if(i){var n=VO(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return UO(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=o.call(this,e,{id:t.id,stateless:!1})).name=t.name,n.buildOperatorsElement(),n}return t=a,n=[{key:"getMenuItemDescriptor",value:function(){var e=this;return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:function(){return e.isHidden()},renderer:function(t,n){return Ht(n.parentNode,"htFiltersMenuOperators"),n.parentNode.hasAttribute("ghost-table")||$(e.elements,(function(e){return n.appendChild(e.element)})),n}}}},{key:"buildOperatorsElement",value:function(){var e=this,t=[CO,TO];$(t,(function(n){var r,i=new YO(e.hot,{name:"operator",label:{htmlFor:n,textContent:(r=n,MO[r].name)},value:n,checked:n===t[0],id:n});i.addLocalHook("change",(function(t){return e.onRadioInputChange(t)})),e.elements.push(i)}))}},{key:"setChecked",value:function(e){if(this.elements.length<e)throw Error(Ge(BO||(BO=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["Radio button with index "," doesn't exist."])),e));$(this.elements,(function(t,n){t.setChecked(n===e)}))}},{key:"getActiveOperationId",value:function(){var e=this.elements.find((function(e){return e instanceof YO&&e.isChecked()}));return e?e.getValue():CO}},{key:"getState",value:function(){return this.getActiveOperationId()}},{key:"setState",value:function(e){this.reset(),e&&this.getActiveOperationId()!==e&&$(this.elements,(function(t){t.setChecked(t.getValue()===e)}))}},{key:"updateState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CO,t=arguments.length>1?arguments[1]:void 0,n=e;n===RO&&(n=TO),this.state.setValueAtIndex(t,n)}},{key:"reset",value:function(){this.setChecked(0)}},{key:"onRadioInputChange",value:function(e){this.setState(e.target.value)}}],n&&WO(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(ax);const GO=qO;function KO(e,t){var n=e;return""===n&&(n="(".concat(t,")")),n}I();var ZO=new Set([1]).has(1),XO=ZO&&"function"==typeof Array.from;function JO(e){var t=e;return ZO&&(t=new Set(t)),function(e){return ZO?t.has(e):!!~t.indexOf(e)}}function QO(e){return null==e?"":e}function eC(e){var t=e;return(t=XO?Array.from(new Set(t)):Z(t)).sort((function(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e===t?0:e>t?1:-1}))}function tC(e,t,n,r){var i,o=[],a=e===t;return a||(i=JO(t)),$(e,(function(e){var t=!1;(a||i(e))&&(t=!0);var s={checked:t,value:e,visualValue:KO(e,n)};r&&r(s),o.push(s)})),o}function nC(e){return nC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nC(e)}function rC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iC(){return iC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=oC(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},iC.apply(this,arguments)}function oC(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=uC(e)););return e}function aC(e,t){return aC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},aC(e,t)}function sC(e,t){if(t&&("object"===nC(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return lC(e)}function lC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uC(e){return uC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},uC(e)}n(94508);var cC=new WeakMap;const dC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aC(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=uC(i);if(o){var n=uC(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return sC(this,e)});function s(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),n=a.call(this,e,oe(s.DEFAULTS,t)),cC.set(lC(n),{}),n}return t=s,r=[{key:"DEFAULTS",get:function(){return le({href:"#",tagName:"a"})}}],(n=[{key:"build",value:function(){iC(uC(s.prototype),"build",this).call(this),cC.get(this).link=this._element.firstChild}},{key:"update",value:function(){this.isBuilt()&&(cC.get(this).link.textContent=this.translateIfPossible(this.options.textContent))}}])&&rC(t.prototype,n),r&&rC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(qx);function hC(e){return hC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hC(e)}function fC(e){return function(e){if(Array.isArray(e))return pC(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return pC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pC(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gC(){return gC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=yC(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},gC.apply(this,arguments)}function yC(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_C(e)););return e}function vC(e,t){return vC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vC(e,t)}function bC(e,t){if(t&&("object"===hC(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wC(e)}function wC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _C(e){return _C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_C(e)}var kC=new WeakMap,SC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vC(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_C(i);if(o){var n=_C(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return bC(this,e)});function s(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),n=a.call(this,e,oe(s.DEFAULTS,t)),kC.set(wC(n),{}),n.searchInput=new iO(n.hot,{placeholder:nf,className:"htUIMultipleSelectSearch"}),n.selectAllUI=new dC(n.hot,{textContent:Jh,className:"htUISelectAll"}),n.clearAllUI=new dC(n.hot,{textContent:Qh,className:"htUIClearAll"}),n.items=[],n.itemsBox=null,n.registerHooks(),n}return t=s,n=[{key:"registerHooks",value:function(){var e=this;this.searchInput.addLocalHook("keydown",(function(t){return e.onInputKeyDown(t)})),this.searchInput.addLocalHook("input",(function(t){return e.onInput(t)})),this.selectAllUI.addLocalHook("click",(function(t){return e.onSelectAllClick(t)})),this.clearAllUI.addLocalHook("click",(function(t){return e.onClearAllClick(t)}))}},{key:"setItems",value:function(e){this.items=e,this.itemsBox&&this.itemsBox.loadData(this.items)}},{key:"setLocale",value:function(e){this.locale=e}},{key:"getLocale",value:function(){return this.locale}},{key:"getItems",value:function(){return fC(this.items)}},{key:"getValue",value:function(){return e=this.items,t=[],$(e,(function(e){e.checked&&t.push(e.value)})),t;var e,t}},{key:"isSelectedAllValues",value:function(){return this.items.length===this.getValue().length}},{key:"build",value:function(){var e=this;gC(_C(s.prototype),"build",this).call(this);var t=this.hot.rootDocument,n=t.createElement("div"),r=new qx(this.hot,{className:"htUISelectionControls",children:[this.selectAllUI,this.clearAllUI]});this._element.appendChild(this.searchInput.element),this._element.appendChild(r.element),this._element.appendChild(n);var i=function(n){e._element&&(e.itemsBox&&e.itemsBox.destroy(),Ht(n,"htUIMultipleSelectHot"),e.itemsBox=new e.hot.constructor(n,{data:e.items,columns:[{data:"checked",type:"checkbox",label:{property:"visualValue",position:"after"}}],beforeRenderer:function(e,t,n,r,i,o){e.title=o.instance.getDataAtRowProp(t,o.label.property)},maxCols:1,autoWrapCol:!0,height:110,colWidths:function(){return e.itemsBox.container.scrollWidth-mn(t)},copyPaste:!1,disableVisualSelection:"area",fillHandle:!1,fragmentSelection:"cell",tabMoves:{row:1,col:0},layoutDirection:e.hot.isRtl()?"rtl":"ltr"}),e.itemsBox.init(),e.itemsBox.getShortcutManager().getContext("grid").addShortcut({keys:[["Escape"]],callback:function(t){e.runLocalHooks("keydown",t,e)},group:"multipleSelect.itemBox"}))};i(n),setTimeout((function(){return i(n)}),100)}},{key:"reset",value:function(){this.searchInput.reset(),this.selectAllUI.reset(),this.clearAllUI.reset()}},{key:"update",value:function(){var e,t,n;this.isBuilt()&&(this.itemsBox.loadData((e=this.items,t=this.options.value,n=JO(t),W(e,(function(e){return e.checked=n(e.value),e})))),gC(_C(s.prototype),"update",this).call(this))}},{key:"destroy",value:function(){this.itemsBox&&this.itemsBox.destroy(),this.searchInput.destroy(),this.clearAllUI.destroy(),this.selectAllUI.destroy(),this.searchInput=null,this.clearAllUI=null,this.selectAllUI=null,this.itemsBox=null,this.items=null,gC(_C(s.prototype),"destroy",this).call(this)}},{key:"onInput",value:function(e){var t,n=this,r=e.target.value.toLocaleLowerCase(this.getLocale());t=""===r?fC(this.items):B(this.items,(function(e){return"".concat(e.value).toLocaleLowerCase(n.getLocale()).indexOf(r)>=0})),this.itemsBox.loadData(t)}},{key:"onInputKeyDown",value:function(e){this.runLocalHooks("keydown",e,this),Dn(zn,e.keyCode)("ARROW_DOWN|TAB")&&!this.itemsBox.isListening()&&(Bn(e),this.itemsBox.listen(),this.itemsBox.selectCell(0,0))}},{key:"onSelectAllClick",value:function(e){var t=[];e.preventDefault(),$(this.itemsBox.getSourceData(),(function(e,n){e.checked=!0,t.push(Hu(e,n)[0])})),this.itemsBox.setSourceDataAtCell(t)}},{key:"onClearAllClick",value:function(e){var t=[];e.preventDefault(),$(this.itemsBox.getSourceData(),(function(e,n){e.checked=!1,t.push(Hu(e,n)[0])})),this.itemsBox.setSourceDataAtCell(t)}}],r=[{key:"DEFAULTS",get:function(){return le({className:"htUIMultipleSelect",value:[]})}}],n&&mC(t.prototype,n),r&&mC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(qx);const MC=SC;function xC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return OC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?OC(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var CC="by_value";function TC(e){return TC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TC(e)}function RC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function EC(){return EC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=AC(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},EC.apply(this,arguments)}function AC(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=PC(e)););return e}function LC(e,t){return LC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},LC(e,t)}function jC(e,t){if(t&&("object"===TC(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function PC(e){return PC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},PC(e)}cx(CC,(function(e,t){return(0,xC(t,1)[0])(e.value)}),{name:"By value",inputsCount:0,inputValuesDecorator:function(e){return[JO(xC(e,1)[0])]},showOperators:!1});var IC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LC(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=PC(r);if(i){var n=PC(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return jC(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=o.call(this,e,{id:t.id,stateless:!1})).name=t.name,n.elements.push(new MC(n.hot)),n.registerHooks(),n}return t=a,n=[{key:"registerHooks",value:function(){var e=this;this.getMultipleSelectElement().addLocalHook("keydown",(function(t){return e.onInputKeyDown(t)}))}},{key:"setState",value:function(e){if(this.reset(),e&&e.command.key===CC){var t=this.getMultipleSelectElement();t.setItems(e.itemsSnapshot),t.setValue(e.args[0]),t.setLocale(e.locale)}}},{key:"getState",value:function(){var e=this.getMultipleSelectElement(),t=e.getItems();return{command:{key:e.isSelectedAllValues()||!t.length?dx:CC},args:[e.getValue()],itemsSnapshot:t}}},{key:"updateState",value:function(e){var t=this,n=function(n,r,i,o,a){var s,l,u=B(r,(function(e){return e.name===CC})),c=(s=u,l=1,function(e){if(Array.isArray(e))return e}(s)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(s,l)||function(e,t){if(e){if("string"==typeof e)return RC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?RC(e,t):void 0}}(s,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],d={},h=t.hot.getTranslatedPhrase(Xh);if(c){var f=eC(W(o(n,a),(function(e){return e.value})));i&&(c.args[0]=i);var p=[],m=tC(f,c.args[0],h,(function(e){e.checked&&p.push(e.value)})),g=e.editedConditionStack.column;d.locale=t.hot.getCellMeta(0,g).locale,d.args=[p],d.command=ux(CC),d.itemsSnapshot=m}else d.args=[],d.command=ux(dx);t.state.setValueAtIndex(n,d)};n(e.editedConditionStack.column,e.editedConditionStack.conditions,e.conditionArgsChange,e.filteredRowsFactory),e.dependentConditionStacks.length&&n(e.dependentConditionStacks[0].column,e.dependentConditionStacks[0].conditions,e.conditionArgsChange,e.filteredRowsFactory,e.editedConditionStack)}},{key:"getMultipleSelectElement",value:function(){return this.elements.filter((function(e){return e instanceof MC}))[0]}},{key:"getMenuItemDescriptor",value:function(){var e=this;return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:function(){return e.isHidden()},renderer:function(t,n,r,i,o,a){Ht(n.parentNode,"htFiltersMenuValue");var s=e.hot.rootDocument.createElement("div");return Ht(s,"htFiltersMenuLabel"),s.textContent=a,n.appendChild(s),n.parentNode.hasAttribute("ghost-table")||$(e.elements,(function(e){return n.appendChild(e.element)})),n}}}},{key:"reset",value:function(){var e=this.hot.getTranslatedPhrase(Xh),t=eC(this._getColumnVisibleValues()),n=tC(t,t,e);this.getMultipleSelectElement().setItems(n),EC(PC(a.prototype),"reset",this).call(this),this.getMultipleSelectElement().setValue(t);var r=this.hot.getPlugin("filters").getSelectedColumn();null!==r&&this.getMultipleSelectElement().setLocale(this.hot.getCellMeta(0,r.visualIndex).locale)}},{key:"onInputKeyDown",value:function(e){zn(e.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),Bn(e))}},{key:"_getColumnVisibleValues",value:function(){var e=this.hot.getPlugin("filters").getSelectedColumn();return null===e?[]:W(this.hot.getDataAtCol(e.visualIndex),(function(e){return QO(e)}))}}],n&&DC(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(ax);const HC=IC;function NC(e){return NC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NC(e)}function FC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function YC(e,t){return YC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},YC(e,t)}function zC(e,t){if(t&&("object"===NC(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function BC(e){return BC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},BC(e)}const WC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YC(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=BC(i);if(o){var n=BC(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return zC(this,e)});function s(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(n=a.call(this,e,{id:t.id,stateless:!0})).name=t.name,n.elements.push(new iO(n.hot,{type:"button",value:ef,className:"htUIButton htUIButtonOK",identifier:s.BUTTON_OK})),n.elements.push(new iO(n.hot,{type:"button",value:tf,className:"htUIButton htUIButtonCancel",identifier:s.BUTTON_CANCEL})),n.registerHooks(),n}return t=s,r=[{key:"BUTTON_OK",get:function(){return"ok"}},{key:"BUTTON_CANCEL",get:function(){return"cancel"}}],(n=[{key:"registerHooks",value:function(){var e=this;$(this.elements,(function(t){t.addLocalHook("click",(function(t,n){return e.onButtonClick(t,n)}))}))}},{key:"getMenuItemDescriptor",value:function(){var e=this;return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:function(){return e.isHidden()},renderer:function(t,n){return Ht(n.parentNode,"htFiltersMenuActionBar"),n.parentNode.hasAttribute("ghost-table")||$(e.elements,(function(e){return n.appendChild(e.element)})),n}}}},{key:"accept",value:function(){this.runLocalHooks("accept")}},{key:"cancel",value:function(){this.runLocalHooks("cancel")}},{key:"onButtonClick",value:function(e,t){t.options.identifier===s.BUTTON_OK?this.accept():this.cancel()}}])&&FC(t.prototype,n),r&&FC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(ax);var $C,UC;function VC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qC(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GC(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function KC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var XC="ConditionCollection.filteringStates",JC=function(){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];KC(this,e),this.hot=t,this.isMapRegistrable=n,this.filteringStates=new Lc,!0===this.isMapRegistrable?this.hot.columnIndexMapper.registerMap(XC,this.filteringStates):this.filteringStates.init(this.hot.columnIndexMapper.getNumberOfIndexes())}var t,n;return t=e,n=[{key:"isEmpty",value:function(){return 0===this.getFilteredColumns().length}},{key:"isMatch",value:function(e,t){var n,r=this.filteringStates.getValueAtIndex(t),i=null!==(n=null==r?void 0:r.conditions)&&void 0!==n?n:[],o=null==r?void 0:r.operation;return this.isMatchInConditions(i,e,o)}},{key:"isMatchInConditions",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:CO;return!e.length||xO(n)(e,t)}},{key:"addCondition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:CO,r=arguments.length>3?arguments[3]:void 0,i=this.hot.getCellMeta(0,e).locale,o=W(t.args,(function(e){return"string"==typeof e?e.toLocaleLowerCase(i):e})),a=t.name||t.command.key;this.runLocalHooks("beforeAdd",e);var s=this.getOperation(e);if(s){if(s!==n)throw Error(Ge($C||($C=GC(["The column of index "," has been already applied with a `","` \n        filter operation. Use `removeConditions` to clear the current conditions and then add new ones. \n        Mind that you cannot mix different types of operations (for instance, if you use `conjunction`, \n        use it consequently for a particular column)."],["The column of index "," has been already applied with a \\`","\\`\\x20\n        filter operation. Use \\`removeConditions\\` to clear the current conditions and then add new ones.\\x20\n        Mind that you cannot mix different types of operations (for instance, if you use \\`conjunction\\`,\\x20\n        use it consequently for a particular column)."])),e,s))}else if(Qe(MO[n]))throw new Error(Ge(UC||(UC=GC(["Unexpected operation named `","`. Possible ones are \n        `disjunction` and `conjunction`."],["Unexpected operation named \\`","\\`. Possible ones are\\x20\n        \\`disjunction\\` and \\`conjunction\\`."])),n));var l=this.getConditions(e);0===l.length?this.filteringStates.setValueAtIndex(e,{operation:n,conditions:[{name:a,args:o,func:lx(a,o)}]},r):l.push({name:a,args:o,func:lx(a,o)}),this.runLocalHooks("afterAdd",e)}},{key:"getConditions",value:function(e){var t,n;return null!==(t=null===(n=this.filteringStates.getValueAtIndex(e))||void 0===n?void 0:n.conditions)&&void 0!==t?t:[]}},{key:"getOperation",value:function(e){var t;return null===(t=this.filteringStates.getValueAtIndex(e))||void 0===t?void 0:t.operation}},{key:"getFilteredColumns",value:function(){return this.filteringStates.getEntries().map((function(e){return VC(e,1)[0]}))}},{key:"getColumnStackPosition",value:function(e){return this.getFilteredColumns().indexOf(e)}},{key:"exportAllConditions",value:function(){return z(this.filteringStates.getEntries(),(function(e,t){var n=VC(t,2),r=n[0],i=n[1],o=i.operation,a=i.conditions;return e.push({column:r,operation:o,conditions:W(a,(function(e){return{name:e.name,args:e.args}}))}),e}),[])}},{key:"importAllConditions",value:function(e){var t=this;this.clean(),$(e,(function(e){$(e.conditions,(function(n){return t.addCondition(e.column,n)}))}))}},{key:"removeConditions",value:function(e){this.runLocalHooks("beforeRemove",e),this.filteringStates.clearValue(e),this.runLocalHooks("afterRemove",e)}},{key:"clean",value:function(){this.runLocalHooks("beforeClean"),this.filteringStates.clear(),this.runLocalHooks("afterClean")}},{key:"hasConditions",value:function(e,t){var n=this.getConditions(e);return t?n.some((function(e){return e.name===t})):n.length>0}},{key:"destroy",value:function(){this.isMapRegistrable&&this.hot.columnIndexMapper.unregisterMap(XC),this.filteringStates=null,this.clearLocalHooks()}}],n&&ZC(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();ue(JC,Vu);const QC=JC;function eT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var nT=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return[]};eT(this,e),this.conditionCollection=t,this.columnDataFactory=n}var t,n;return t=e,n=[{key:"filter",value:function(){var e=this,t=[];return $(this.conditionCollection.getFilteredColumns(),(function(n,r){var i=e.columnDataFactory(n);r&&(i=e._getIntersectData(i,t)),t=e.filterByColumn(n,i)})),t}},{key:"filterByColumn",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return $(n,(function(n){void 0!==n&&t.conditionCollection.isMatch(n,e)&&r.push(n)})),r}},{key:"_getIntersectData",value:function(e,t){var n=[];return $(t,(function(t){var r=t.meta.visualRow;void 0!==e[r]&&(n[r]=e[r])})),n}}],n&&tT(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const rT=nT;function iT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var aT=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return[]};iT(this,e),this.hot=t,this.conditionCollection=n,this.columnDataFactory=i,this.changes=[],this.grouping=!1,this.latestEditedColumnPosition=-1,this.latestOrderStack=[],this.conditionCollection.addLocalHook("beforeRemove",(function(e){return r._onConditionBeforeModify(e)})),this.conditionCollection.addLocalHook("afterRemove",(function(e){return r.updateStatesAtColumn(e)})),this.conditionCollection.addLocalHook("afterAdd",(function(e){return r.updateStatesAtColumn(e)})),this.conditionCollection.addLocalHook("beforeClean",(function(){return r._onConditionBeforeClean()})),this.conditionCollection.addLocalHook("afterClean",(function(){return r._onConditionAfterClean()}))}var t,n;return t=e,n=[{key:"groupChanges",value:function(){this.grouping=!0}},{key:"flush",value:function(){var e=this;this.grouping=!1,$(this.changes,(function(t){e.updateStatesAtColumn(t)})),this.changes.length=0}},{key:"_onConditionBeforeModify",value:function(e){this.latestEditedColumnPosition=this.conditionCollection.getColumnStackPosition(e)}},{key:"updateStatesAtColumn",value:function(e,t){var n=this;if(this.grouping)-1===this.changes.indexOf(e)&&this.changes.push(e);else{var r=this.conditionCollection.exportAllConditions(),i=this.conditionCollection.getColumnStackPosition(e);-1===i&&(i=this.latestEditedColumnPosition);var o=r.slice(0,i),a=r.slice(i);a.length&&a[0].column===e&&a.shift();var s=En((function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=new QC(n.hot,!1),o=[].concat(e,r);i.importAllConditions(o);var a=n.columnDataFactory(t),s=JO(W(i.isEmpty()?a:new rT(i,(function(e){return n.columnDataFactory(e)})).filter(),(function(e){return e.meta.visualRow})));return i.destroy(),B(a,(function(e){return s(e.meta.visualRow)}))}))(o),l=[].concat(this.conditionCollection.getConditions(e));this.runLocalHooks("update",{editedConditionStack:{column:e,conditions:l},dependentConditionStacks:a,filteredRowsFactory:s,conditionArgsChange:t})}}},{key:"_onConditionBeforeClean",value:function(){this.latestOrderStack=this.conditionCollection.getFilteredColumns()}},{key:"_onConditionAfterClean",value:function(){var e=this;$(this.latestOrderStack,(function(t){e.updateStatesAtColumn(t)}))}},{key:"destroy",value:function(){var e=this;this.clearLocalHooks(),fe(this,(function(t,n){e[n]=null}))}}],n&&oT(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();ue(aT,Vu);const sT=aT;function lT(e){return lT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lT(e)}var uT;function cT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hT(){return hT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=fT(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},hT.apply(this,arguments)}function fT(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=yT(e)););return e}function pT(e,t){return pT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pT(e,t)}function mT(e,t){if(t&&("object"===lT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gT(e)}function gT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yT(e){return yT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yT(e)}var vT=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pT(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=yT(i);if(o){var n=yT(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return mT(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).eventManager=new kr(gT(t)),t.dropdownMenuPlugin=null,t.conditionCollection=null,t.conditionUpdateObserver=null,t.components=new Map([["filter_by_condition",null],["filter_operators",null],["filter_by_condition2",null],["filter_by_value",null],["filter_action_bar",null]]),t.lastSelectedColumn=null,t.filtersRowsMap=null,t.hot.addHook("afterGetColHeader",(function(e,n){return t.onAfterGetColHeader(e,n)})),t}return t=s,n=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().filters}},{key:"enablePlugin",value:function(){var e=this;if(!this.enabled){this.filtersRowsMap=this.hot.rowIndexMapper.registerMap(this.pluginName,new Yc),this.dropdownMenuPlugin=this.hot.getPlugin("dropdownMenu");var t=this.hot.getSettings().dropdownMenu,n=t&&t.uiContainer||this.hot.rootDocument.body,r=function(t){return t.addLocalHook("accept",(function(){return e.onActionBarSubmit("accept")})),t.addLocalHook("cancel",(function(){return e.onActionBarSubmit("cancel")})),t.addLocalHook("change",(function(n){return e.onComponentChange(t,n)})),t};if(!this.components.get("filter_by_condition")){var i=new SO(this.hot,{id:"filter_by_condition",name:function(){return"".concat(e.hot.getTranslatedPhrase(qh),":")},addSeparator:!1,menuContainer:n});i.addLocalHook("afterClose",(function(){return e.onSelectUIClosed()})),this.components.set("filter_by_condition",r(i))}if(this.components.get("filter_operators")||this.components.set("filter_operators",new GO(this.hot,{id:"filter_operators",name:"Operators"})),!this.components.get("filter_by_condition2")){var o=new SO(this.hot,{id:"filter_by_condition2",name:"",addSeparator:!0,menuContainer:n});o.addLocalHook("afterClose",(function(){return e.onSelectUIClosed()})),this.components.set("filter_by_condition2",r(o))}this.components.get("filter_by_value")||this.components.set("filter_by_value",r(new HC(this.hot,{id:"filter_by_value",name:function(){return"".concat(e.hot.getTranslatedPhrase(Gh),":")}}))),this.components.get("filter_action_bar")||this.components.set("filter_action_bar",r(new WC(this.hot,{id:"filter_action_bar",name:"Action bar"}))),this.conditionCollection||(this.conditionCollection=new QC(this.hot)),this.conditionUpdateObserver||(this.conditionUpdateObserver=new sT(this.hot,this.conditionCollection,(function(t){return e.getDataMapAtColumn(t)})),this.conditionUpdateObserver.addLocalHook("update",(function(t){return e.updateComponents(t)}))),this.components.forEach((function(e){return e.show()})),this.addHook("beforeDropdownMenuSetItems",(function(t){return e.onBeforeDropdownMenuSetItems(t)})),this.addHook("afterDropdownMenuDefaultOptions",(function(t){return e.onAfterDropdownMenuDefaultOptions(t)})),this.addHook("afterDropdownMenuShow",(function(){return e.onAfterDropdownMenuShow()})),this.addHook("afterDropdownMenuHide",(function(){return e.onAfterDropdownMenuHide()})),this.addHook("afterChange",(function(t){return e.onAfterChange(t)})),this.hot.getSettings().dropdownMenu&&this.dropdownMenuPlugin&&(this.dropdownMenuPlugin.disablePlugin(),this.dropdownMenuPlugin.enablePlugin()),hT(yT(s.prototype),"enablePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){var e,t=this;this.enabled&&(null!==(e=this.dropdownMenuPlugin)&&void 0!==e&&e.enabled&&this.dropdownMenuPlugin.menu.clearLocalHooks(),this.components.forEach((function(e,n){e.destroy(),t.components.set(n,null)})),this.conditionCollection.destroy(),this.conditionCollection=null,this.hot.rowIndexMapper.unregisterMap(this.pluginName)),hT(yT(s.prototype),"disablePlugin",this).call(this)}},{key:"addCondition",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:CO,i=this.hot.toPhysicalColumn(e);this.conditionCollection.addCondition(i,{command:{key:t},args:n},r)}},{key:"removeConditions",value:function(e){var t=this.hot.toPhysicalColumn(e);this.conditionCollection.removeConditions(t)}},{key:"clearConditions",value:function(e){if(void 0===e)this.conditionCollection.clean();else{var t=this.hot.toPhysicalColumn(e);this.conditionCollection.removeConditions(t)}}},{key:"filter",value:function(){var e=this,t=this._createDataFilter(),n=!this.conditionCollection.isEmpty(),r=[],i=this.conditionCollection.exportAllConditions();if(!1!==this.hot.runHooks("beforeFilter",i))if(n){var o=[];this.hot.batchExecution((function(){e.filtersRowsMap.clear();var n=JO(r=W(t.filter(),(function(e){return e.meta.visualRow})));Wr(e.hot.countSourceRows()-1,(function(e){n(e)||o.push(e)})),$(o,(function(t){e.filtersRowsMap.setValueAtIndex(t,!0)}))}),!0),r.length||this.hot.deselectCell()}else this.filtersRowsMap.clear();this.hot.runHooks("afterFilter",i),this.hot.view.adjustElementsSize(!0),this.hot.render(),this.clearColumnSelection()}},{key:"getSelectedColumn",value:function(){var e,t=null===(e=this.hot.getSelectedRangeLast())||void 0===e?void 0:e.highlight;return t?{visualIndex:t.col,physicalIndex:this.hot.toPhysicalColumn(t.col)}:null}},{key:"clearColumnSelection",value:function(){var e=this.getSelectedColumn();null!==e&&this.hot.selectCell(0,e.visualIndex)}},{key:"getDataMapAtColumn",value:function(e){var t=this,n=this.hot.toVisualColumn(e),r=[];return $(this.hot.getSourceDataAtCol(n),(function(e,i){var o,a=t.hot.getCellMeta(i,n),s=a.row,l=a.col,u=a.visualCol,c=a.visualRow,d=a.type,h=a.instance,f=a.dateFormat,p=a.locale,m=null!==(o=t.hot.getDataAtCell(t.hot.toVisualRow(i),n))&&void 0!==o?o:e;r.push({meta:{row:s,col:l,visualCol:u,visualRow:c,type:d,instance:h,dateFormat:f,locale:p},value:QO(m)})})),r}},{key:"onAfterChange",value:function(e){var t=this;e&&$(e,(function(e){var n,r,i=(n=e,r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(n,r)||function(e,t){if(e){if("string"==typeof e)return cT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cT(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1],o=t.hot.propToCol(i);t.conditionCollection.hasConditions(o)&&t.updateValueComponentCondition(o)}))}},{key:"updateValueComponentCondition",value:function(e){var t=eC(this.hot.getDataAtCol(e));this.conditionUpdateObserver.updateStatesAtColumn(e,t)}},{key:"restoreComponents",value:function(e){var t,n=null===(t=this.getSelectedColumn())||void 0===t?void 0:t.physicalIndex;e.forEach((function(e){e.isHidden()||e.restoreState(n)})),this.updateDependentComponentsVisibility()}},{key:"onAfterDropdownMenuShow",value:function(){this.restoreComponents(Array.from(this.components.values()))}},{key:"onAfterDropdownMenuHide",value:function(){this.components.get("filter_by_condition").getSelectElement().closeOptions(),this.components.get("filter_by_condition2").getSelectElement().closeOptions()}},{key:"onBeforeDropdownMenuSetItems",value:function(){var e=this;this.dropdownMenuPlugin&&this.dropdownMenuPlugin.menu.addLocalHook("afterOpen",(function(){e.dropdownMenuPlugin.menu.hotMenu.updateSettings({hiddenRows:!0})}))}},{key:"onAfterDropdownMenuDefaultOptions",value:function(e){e.items.push({name:Z_}),this.components.forEach((function(t){e.items.push(t.getMenuItemDescriptor())}))}},{key:"getOperationBasedOnArguments",value:function(e,t,n,r){var i=e;return i===TO&&t.command.key!==dx&&n.command.key!==dx&&r.command.key!==dx?i=RO:r.command.key!==dx&&(t.command.key!==dx&&n.command.key!==dx||(i=CO)),i}},{key:"onActionBarSubmit",value:function(e){var t;if("accept"===e){var n,r=this.getSelectedColumn();if(null===r)return void(null===(n=this.dropdownMenuPlugin)||void 0===n||n.close());var i=r.physicalIndex,o=this.components.get("filter_by_condition").getState(),a=this.components.get("filter_by_condition2").getState(),s=this.components.get("filter_by_value").getState(),l=this.getOperationBasedOnArguments(this.components.get("filter_operators").getActiveOperationId(),o,a,s);this.conditionUpdateObserver.groupChanges();var u=this.conditionCollection.getColumnStackPosition(i);-1===u&&(u=void 0),this.conditionCollection.removeConditions(i),o.command.key!==dx&&(this.conditionCollection.addCondition(i,o,l,u),a.command.key!==dx&&this.conditionCollection.addCondition(i,a,l,u)),s.command.key!==dx&&this.conditionCollection.addCondition(i,s,l,u),this.conditionUpdateObserver.flush(),this.components.forEach((function(e){return e.saveState(i)})),this.filtersRowsMap.clear(),this.filter()}null===(t=this.dropdownMenuPlugin)||void 0===t||t.close()}},{key:"onComponentChange",value:function(e,t){this.updateDependentComponentsVisibility(),e.constructor!==SO||t.inputsCount||this.setListeningDropdownMenu()}},{key:"onSelectUIClosed",value:function(){this.setListeningDropdownMenu()}},{key:"setListeningDropdownMenu",value:function(){this.dropdownMenuPlugin&&this.dropdownMenuPlugin.setListening()}},{key:"updateDependentComponentsVisibility",value:function(){var e=this.components.get("filter_by_condition").getState().command,t=[this.components.get("filter_by_condition2"),this.components.get("filter_operators")];e.showOperators?this.showComponents.apply(this,t):this.hideComponents.apply(this,t)}},{key:"onAfterGetColHeader",value:function(e,t){var n=this.hot.toPhysicalColumn(e);this.enabled&&this.conditionCollection.hasConditions(n)?Ht(t,"htFiltersActive"):Nt(t,"htFiltersActive")}},{key:"_createDataFilter",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.conditionCollection;return new rT(t,(function(t){return e.getDataMapAtColumn(t)}))}},{key:"updateComponents",value:function(e){var t;if(null!==(t=this.dropdownMenuPlugin)&&void 0!==t&&t.enabled){var n=e.editedConditionStack,r=n.conditions,i=n.column,o=r.filter((function(e){return e.name===CC})),a=r.filter((function(e){return e.name!==CC}));if(o.length>=2||a.length>=3)Vn(Ge(uT||(uT=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["The filter conditions have been applied properly, but couldn’t be displayed visually. \n        The overall amount of conditions exceed the capability of the dropdown menu. \n        For more details see the documentation."],["The filter conditions have been applied properly, but couldn’t be displayed visually.\\x20\n        The overall amount of conditions exceed the capability of the dropdown menu.\\x20\n        For more details see the documentation."]))));else{var s=this.conditionCollection.getOperation(i);this.components.get("filter_by_condition").updateState(a[0],i),this.components.get("filter_by_condition2").updateState(a[1],i),this.components.get("filter_operators").updateState(s,i),this.components.get("filter_by_value").updateState(e)}}}},{key:"getIndexesOfComponents",value:function(){var e=[];if(!this.dropdownMenuPlugin)return e;for(var t=this.dropdownMenuPlugin.menu,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return $(r,(function(n){$(t.menuItems,(function(t,r){t.key===n.getMenuItemDescriptor().key&&e.push(r)}))})),e}},{key:"changeComponentsVisibility",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.dropdownMenuPlugin){for(var t=this.dropdownMenuPlugin.menu,n=t.hotMenu,r=n.getPlugin("hiddenRows"),i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var s=this.getIndexesOfComponents.apply(this,o);e?r.showRows(s):r.hideRows(s),n.render()}}},{key:"hideComponents",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.changeComponentsVisibility.apply(this,[!1].concat(t))}},{key:"showComponents",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.changeComponentsVisibility.apply(this,[!0].concat(t))}},{key:"destroy",value:function(){var e=this;this.enabled&&(this.components.forEach((function(t,n){null!==t&&(t.destroy(),e.components.set(n,null))})),this.conditionCollection.destroy(),this.conditionUpdateObserver.destroy(),this.hot.rowIndexMapper.unregisterMap(this.pluginName)),hT(yT(s.prototype),"destroy",this).call(this)}}],r=[{key:"PLUGIN_KEY",get:function(){return"filters"}},{key:"PLUGIN_PRIORITY",get:function(){return 250}},{key:"PLUGIN_DEPS",get:function(){return["plugin:DropdownMenu","plugin:HiddenRows","cell-type:checkbox"]}}],n&&dT(t.prototype,n),r&&dT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($v);function bT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bT(Object(n),!0).forEach((function(t){_T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kT="internal-use-in-handsontable",ST={licenseKey:kT,useArrayArithmetic:!0,useColumnIndex:!1,useStats:!1,evaluateNullToZero:!0,precisionEpsilon:1e-13,precisionRounding:14,smartRounding:!0,leapYear1900:!0,nullDate:{year:1899,month:12,day:31},nullYear:30,dateFormats:["DD/MM/YYYY","DD/MM/YY"],timeFormats:["hh:mm","hh:mm:ss.sss"],matchWholeCell:!0,useRegularExpressions:!1,useWildcards:!0,functionArgSeparator:",",thousandSeparator:"",decimalSeparator:".",language:"enGB"};function MT(e){var t,n;return{maxColumns:e.maxColumns,maxRows:e.maxRows,language:null===(t=e[JT])||void 0===t||null===(n=t.language)||void 0===n?void 0:n.langCode}}function xT(e){return Object.keys(e).reduce((function(t,n){return"hyperformula"!==n&&(t[n]=e[n]),t}),{})}function OT(e){return OT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OT(e)}function CT(){var e="engine_relationship",t=sr(JT);return t.hasItem(e)||t.register(e,new Map),t.getItem(e)}function TT(){var e="shared_engine_usage",t=sr(JT);return t.hasItem(e)||t.register(e,new Map),t.getItem(e)}function RT(e){var t,n=CT(),r=0===n.size?[]:Array.from(null!==(t=n.get(e))&&void 0!==t?t:[]);return new Map(r.map((function(e){return[e.getPlugin("formulas").sheetId,e]})))}function DT(e,t){if(e){var n=CT(),r=n.get(e),i=TT(),o=i.get(e);r&&r.includes(t)&&(r.splice(r.indexOf(t),1),0===r.length&&n.delete(e)),o&&o.includes(t.guid)&&(o.splice(o.indexOf(t.guid),1),0===o.length&&(i.delete(e),e.destroy()))}}function ET(e,t){return!Qe(t)&&e.doesSheetExist(t)||(t=e.addSheet(t)),t}function AT(e){return"string"==typeof e&&"'"===e.charAt(0)&&"="===e.charAt(1)}function LT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LT(Object(n),!0).forEach((function(t){qT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function PT(e){return PT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PT(e)}function IT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||HT(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HT(e,t){if(e){if("string"==typeof e)return NT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?NT(e,t):void 0}}function NT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zT(){return zT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=BT(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},zT.apply(this,arguments)}function BT(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=VT(e)););return e}function WT(e,t){return WT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},WT(e,t)}function $T(e,t){if(t&&("object"===PT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return UT(e)}function UT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VT(e){return VT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},VT(e)}function qT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GT(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function KT(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,XT(e,t,"set"),n),n}function ZT(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,XT(e,t,"get"))}function XT(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var JT="formulas",QT="row_move";rr.getSingleton().register("afterNamedExpressionAdded"),rr.getSingleton().register("afterNamedExpressionRemoved"),rr.getSingleton().register("afterSheetAdded"),rr.getSingleton().register("afterSheetRemoved"),rr.getSingleton().register("afterSheetRenamed"),rr.getSingleton().register("afterFormulasValuesUpdate");var eR=function(e){return"UndoRedo.undo"===e||"UndoRedo.redo"===e||"auto"===e},tR=new WeakMap,nR=new WeakMap,rR=new WeakMap,iR=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WT(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=VT(i);if(o){var n=VT(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return $T(this,e)});function s(){var e;FT(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return GT(UT(e=a.call.apply(a,[this].concat(n))),tR,{writable:!0,value:!1}),GT(UT(e),nR,{writable:!0,value:!1}),GT(UT(e),rR,{writable:!0,value:[["valuesUpdated",function(){var t;return(t=e).onEngineValuesUpdated.apply(t,arguments)}],["namedExpressionAdded",function(){var t;return(t=e).onEngineNamedExpressionsAdded.apply(t,arguments)}],["namedExpressionRemoved",function(){var t;return(t=e).onEngineNamedExpressionsRemoved.apply(t,arguments)}],["sheetAdded",function(){var t;return(t=e).onEngineSheetAdded.apply(t,arguments)}],["sheetRenamed",function(){var t;return(t=e).onEngineSheetRenamed.apply(t,arguments)}],["sheetRemoved",function(){var t;return(t=e).onEngineSheetRemoved.apply(t,arguments)}]]}),qT(UT(e),"staticRegister",sr("formulas")),qT(UT(e),"engine",null),qT(UT(e),"sheetName",null),e}return t=s,n=[{key:"sheetId",get:function(){return null===this.sheetName?null:this.engine.getSheetId(this.sheetName)}},{key:"isEnabled",value:function(){return!!this.hot.getSettings()[JT]}},{key:"enablePlugin",value:function(){var e,t=this;if(!this.enabled)if(this.engine=null!==(e=function(e){var t,n=e.getSettings(),r=n[JT],i=null==r?void 0:r.engine;if(!0===r)return null;if(Qe(i))return null;if("function"==typeof i.hyperformula||"function"==typeof i)return function(e,t,n){var r=t[JT],i=function(e){var t,n=e[JT],r=xT(null!=n&&null!==(t=n.engine)&&void 0!==t&&t.hyperformula?n.engine:{}),i=MT(e);return wT(wT(wT({},ST),r),i)}(t),o=CT(),a=TT();(function(e,t){t&&t.forEach((function(t){var n=t.name,r=t.plugin,i=t.translations;try{e.registerFunction(n,r,i)}catch(e){Vn(e.message)}}))})(e,r.functions),function(e,t){if(t){var n=t.langCode;try{e.registerLanguage(n,t)}catch(e){Vn(e.message)}}}(e,r.language);var s=e.buildEmpty(i);return o.set(s,[n]),a.set(s,[n.guid]),function(e,t){t&&(e.suspendEvaluation(),t.forEach((function(t){var n=t.name,r=t.expression,i=t.scope,o=t.options;try{e.addNamedExpression(n,r,i,o)}catch(e){Vn(e.message)}})),e.resumeEvaluation())}(s,r.namedExpressions),s.on("sheetAdded",(function(){s.rebuildAndRecalculate()})),s.on("sheetRemoved",(function(){s.rebuildAndRecalculate()})),s}(null!==(t=i.hyperformula)&&void 0!==t?t:i,n,e);if("object"===OT(i)&&Qe(i.hyperformula)){var o=CT(),a=TT().get(i);return o.has(i)||o.set(i,[]),o.get(i).push(e),a&&a.push(e.guid),i.getConfig().licenseKey||i.updateConfig({licenseKey:kT}),i}return null}(this.hot))&&void 0!==e?e:this.engine,this.engine){if(null!==this.sheetName&&!this.engine.doesSheetExist(this.sheetName)){var n=this.addSheet(this.sheetName,this.hot.getSourceDataArray());!1!==n&&(this.sheetName=n)}this.addHook("beforeLoadData",(function(){return t.onBeforeLoadData.apply(t,arguments)})),this.addHook("afterLoadData",(function(){return t.onAfterLoadData.apply(t,arguments)})),this.addHook("modifyData",(function(){return t.onModifyData.apply(t,arguments)})),this.addHook("modifySourceData",(function(){return t.onModifySourceData.apply(t,arguments)})),this.addHook("beforeValidate",(function(){return t.onBeforeValidate.apply(t,arguments)})),this.addHook("afterSetSourceDataAtCell",(function(){return t.onAfterSetSourceDataAtCell.apply(t,arguments)})),this.addHook("afterSetDataAtCell",(function(){return t.onAfterSetDataAtCell.apply(t,arguments)})),this.addHook("afterSetDataAtRowProp",(function(){return t.onAfterSetDataAtCell.apply(t,arguments)})),this.addHook("beforeCreateRow",(function(){return t.onBeforeCreateRow.apply(t,arguments)})),this.addHook("beforeCreateCol",(function(){return t.onBeforeCreateCol.apply(t,arguments)})),this.addHook("afterCreateRow",(function(){return t.onAfterCreateRow.apply(t,arguments)})),this.addHook("afterCreateCol",(function(){return t.onAfterCreateCol.apply(t,arguments)})),this.addHook("beforeRemoveRow",(function(){return t.onBeforeRemoveRow.apply(t,arguments)})),this.addHook("beforeRemoveCol",(function(){return t.onBeforeRemoveCol.apply(t,arguments)})),this.addHook("afterRemoveRow",(function(){return t.onAfterRemoveRow.apply(t,arguments)})),this.addHook("afterRemoveCol",(function(){return t.onAfterRemoveCol.apply(t,arguments)})),this.addHook("beforeUndo",(function(e){(null==e?void 0:e.actionType)!==QT&&t.engine.undo()})),this.addHook("beforeRedo",(function(e){(null==e?void 0:e.actionType)!==QT&&t.engine.redo()})),this.addHook("afterDetachChild",(function(){return t.onAfterDetachChild.apply(t,arguments)})),this.addHook("beforeAutofill",(function(){return t.onBeforeAutofill.apply(t,arguments)})),ZT(this,rR).forEach((function(e){var n=IT(e,2),r=n[0],i=n[1];return t.engine.on(r,i)})),zT(VT(s.prototype),"enablePlugin",this).call(this)}else Vn("Missing the required `engine` key in the Formulas settings. Please fill it with either an engine class or an engine instance.")}},{key:"disablePlugin",value:function(){var e=this;ZT(this,rR).forEach((function(t){var n=IT(t,2),r=n[0],i=n[1];return e.engine.off(r,i)})),DT(this.engine,this.hot),this.engine=null,zT(VT(s.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(e){this.engine.updateConfig(function(e){var t,n=e[JT],r=xT(null!=n&&null!==(t=n.engine)&&void 0!==t&&t.hyperformula?n.engine:{}),i=MT(e);return wT(wT({},r),i)}(this.hot.getSettings()));var t=this.hot.getSettings()[JT];if(Je(t)&&Je(t.sheetName)&&t.sheetName!==this.sheetName&&this.switchSheet(t.sheetName),!e.data&&null===this.sheetName){var n=this.hot.getSettings()[JT].sheetName;n&&this.engine.doesSheetExist(n)?this.switchSheet(this.sheetName):this.sheetName=this.addSheet(null!=n?n:void 0,this.hot.getSourceDataArray())}zT(VT(s.prototype),"updatePlugin",this).call(this,e)}},{key:"destroy",value:function(){var e=this;ZT(this,rR).forEach((function(t){var n,r=IT(t,2),i=r[0],o=r[1];return null===(n=e.engine)||void 0===n?void 0:n.off(i,o)})),KT(this,rR,null),DT(this.engine,this.hot),this.engine=null,zT(VT(s.prototype),"destroy",this).call(this)}},{key:"getPhysicalIndexPosition",value:function(e,t,n,r,i){return!i&&e>=n?r+(e-n):t}},{key:"toPhysicalRowPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getPhysicalIndexPosition(e,this.hot.toPhysicalRow(e),this.hot.countRows(),this.hot.countSourceRows(),t)}},{key:"toPhysicalColumnPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getPhysicalIndexPosition(e,this.hot.toPhysicalColumn(e),this.hot.countCols(),this.hot.countSourceCols(),t)}},{key:"addSheet",value:function(e,t){if(Je(t)&&!Fu(t))return Vn("The provided data should be an array of arrays."),!1;if(null!=e&&this.engine.doesSheetExist(e))return Vn("Sheet with the provided name already exists."),!1;try{var n=this.engine.addSheet(null!=e?e:void 0);return t&&this.engine.setSheetContent(this.engine.getSheetId(n),t),n}catch(e){return Vn(e.message),!1}}},{key:"switchSheet",value:function(e){if(this.engine.doesSheetExist(e)){this.sheetName=e;var t=this.engine.getSheetSerialized(this.sheetId);t.length>0&&this.hot.loadData(t,"".concat(mt(JT),".switchSheet"))}else qn("The sheet named `".concat(e,"` does not exist, switch aborted."))}},{key:"getCellType",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.sheetId,r=this.hot.toPhysicalRow(e),i=this.hot.toPhysicalColumn(t);return null!==r&&null!==i?this.engine.getCellType({sheet:n,row:r,col:i}):"EMPTY"}},{key:"isFormulaCellType",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.sheetId,r=this.hot.toPhysicalRow(e),i=this.hot.toPhysicalColumn(t);return null!==r&&null!==i&&this.engine.doesCellHaveFormula({sheet:n,row:r,col:i})}},{key:"renderDependentSheets",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new Set;e.forEach((function(e){var t,n=null==e||null===(t=e.address)||void 0===t?void 0:t.sheet;void 0!==n&&(r.has(n)||r.add(n))})),RT(this.engine).forEach((function(e,i){var o;(n||i!==t.sheetId)&&r.has(i)&&(e.render(),null===(o=e.view)||void 0===o||o.adjustElementsSize())}))}},{key:"validateDependentCells",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=function(e){var t,n=null!==(t=null==e?void 0:e.address)&&void 0!==t?t:{},r=n.row,i=n.col,o=n.sheet;return Je(o)?"".concat(o,":").concat(r,"x").concat(i):""},i=new Set(n.map((function(e){return r(e)})));e.forEach((function(e){var n,o,a=null!==(n=e.address)&&void 0!==n?n:{},s=a.row,l=a.col,u=Je(s)?t.hot.toVisualRow(s):null,c=Je(l)?t.hot.toVisualColumn(l):null;if(null!==u&&null!==c){var d=null==e||null===(o=e.address)||void 0===o?void 0:o.sheet,h=r(e);if(void 0!==d&&!i.has(h)){var f=RT(t.engine).get(d);if(!f)return;f.validateCell(f.getDataAtCell(u,c),f.getCellMeta(u,c),(function(){}))}}}))}},{key:"syncChangeWithEngine",value:function(e,t,n){var r={row:this.toPhysicalRowPosition(e),col:this.toPhysicalColumnPosition(t),sheet:this.sheetId};if(this.engine.isItPossibleToSetCellContents(r))return this.engine.setCellContents(r,n);Vn("Not possible to set cell data at ".concat(JSON.stringify(r)))}},{key:"onBeforeValidate",value:function(e,t,n){var r=this.hot.propToCol(n);if(this.isFormulaCellType(t,r)){var i={row:this.hot.toPhysicalRow(t),col:this.hot.toPhysicalColumn(r),sheet:this.sheetId},o=this.engine.getCellValue(i);return"object"===PT(o)&&null!==o?o.value:o}return e}},{key:"onBeforeAutofill",value:function(e,t,n){var r=this,i=function(e){return jT(jT({},e),{},{sheet:r.sheetId})},o={start:i(t.getTopStartCorner()),end:i(t.getBottomEndCorner())},a={start:i(n.getTopStartCorner()),end:i(n.getBottomEndCorner())};return!1!==this.engine.isItPossibleToSetCellContents(a)&&this.engine.getFillRangeData(o,a)}},{key:"onBeforeLoadData",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";n.includes(mt(JT))||KT(this,nR,Qe(this.hot.getSettings().data))}},{key:"onAfterLoadData",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!n.includes(mt(JT)))if(this.sheetName=ET(this.engine,this.hot.getSettings()[JT].sheetName),ZT(this,nR))this.switchSheet(this.sheetName);else{var r=this.hot.getSourceDataArray();if(this.engine.isItPossibleToReplaceSheetContent(this.sheetId,r)){KT(this,tR,!0);var i=this.engine.setSheetContent(this.sheetId,this.hot.getSourceDataArray());this.renderDependentSheets(i),KT(this,tR,!1)}}}},{key:"onModifyData",value:function(e,t,n,r){if("get"===r&&!ZT(this,tR)&&null!==this.sheetName&&this.engine.doesSheetExist(this.sheetName)){var i,o=this.hot.toVisualRow(e);if(!this.isFormulaCellType(o,t)&&"ARRAY"!==this.getCellType(o,t))return void(AT(n.value)&&(n.value=AT(i=n.value)?i.substr(1):i));var a={row:e,col:this.toPhysicalColumnPosition(t),sheet:this.sheetId},s=this.engine.getCellValue(a),l="object"===PT(s)&&null!==s?s.value:s;n.value=l}}},{key:"onModifySourceData",value:function(e,t,n,r){if("get"===r&&!ZT(this,tR)&&null!==this.sheetName&&this.engine.doesSheetExist(this.sheetName)){var i=this.hot.toVisualRow(e),o=this.hot.propToCol(t);if(!this.isFormulaCellType(i,o)&&"ARRAY"!==this.getCellType(i,o))return;var a=this.engine.getSheetDimensions(this.engine.getSheetId(this.sheetName));if(0!==a.width||0!==a.height){var s={row:e,col:this.toPhysicalColumnPosition(o),sheet:this.sheetId};n.value=this.engine.getCellSerialized(s)}}}},{key:"onAfterSetDataAtCell",value:function(e,t){var n=this;if(!eR(t)){var r=[],i=[],o=this.engine.batch((function(){e.forEach((function(e){var t=IT(e,4),o=t[0],a=t[1],s=t[3],l=n.hot.propToCol(a),u=n.hot.toPhysicalRow(o),c=n.hot.toPhysicalColumn(l),d={row:u,col:c,sheet:n.sheetId};null!==u&&null!==c?n.syncChangeWithEngine(o,l,s):r.push([o,l,s]),i.push({address:d})}))}));r.length&&this.hot.addHookOnce("afterChange",(function(){var e=n.engine.batch((function(){r.forEach((function(e){var t=IT(e,3),r=t[0],i=t[1],o=t[2];n.syncChangeWithEngine(r,i,o)}))}));n.renderDependentSheets(e,!0)})),this.renderDependentSheets(o),this.validateDependentCells(o,i)}}},{key:"onAfterSetSourceDataAtCell",value:function(e,t){var n=this;if(!eR(t)){var r=[],i=[];e.forEach((function(e){var t,o=IT(e,4),a=o[0],s=o[1],l=o[3],u=n.hot.propToCol(s);if(zr(u)){var c={row:a,col:n.toPhysicalColumnPosition(u),sheet:n.sheetId};n.engine.isItPossibleToSetCellContents(c)?(i.push({address:c}),r.push.apply(r,function(e){if(Array.isArray(e))return NT(e)}(t=n.engine.setCellContents(c,l))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||HT(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())):Vn("Not possible to set source cell data at ".concat(JSON.stringify(c)))}})),this.renderDependentSheets(r),this.validateDependentCells(r,i)}}},{key:"onBeforeCreateRow",value:function(e,t){if(null===this.sheetId||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddRows(this.sheetId,[this.toPhysicalRowPosition(e),t]))return!1}},{key:"onBeforeCreateCol",value:function(e,t){if(null===this.sheetId||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddColumns(this.sheetId,[this.toPhysicalColumnPosition(e),t]))return!1}},{key:"onBeforeRemoveRow",value:function(e,t,n){var r=this;return!1!==n.every((function(e){return r.engine.isItPossibleToRemoveRows(r.sheetId,[e,1])}))&&void 0}},{key:"onBeforeRemoveCol",value:function(e,t,n){var r=this;return!1!==n.every((function(e){return r.engine.isItPossibleToRemoveColumns(r.sheetId,[e,1])}))&&void 0}},{key:"onAfterCreateRow",value:function(e,t,n){if(!eR(n)){var r=this.engine.addRows(this.sheetId,[this.toPhysicalRowPosition(e),t]);this.renderDependentSheets(r)}}},{key:"onAfterCreateCol",value:function(e,t,n){if(!eR(n)){var r=this.engine.addColumns(this.sheetId,[this.toPhysicalColumnPosition(e),t]);this.renderDependentSheets(r)}}},{key:"onAfterRemoveRow",value:function(e,t,n,r){var i=this;if(!eR(r)){var o=n.sort().reverse(),a=this.engine.batch((function(){o.forEach((function(e){i.engine.removeRows(i.sheetId,[e,1])}))}));this.renderDependentSheets(a)}}},{key:"onAfterRemoveCol",value:function(e,t,n,r){var i=this;if(!eR(r)){var o=n.sort().reverse(),a=this.engine.batch((function(){o.forEach((function(e){i.engine.removeColumns(i.sheetId,[e,1])}))}));this.renderDependentSheets(a)}}},{key:"onAfterDetachChild",value:function(e,t,n){var r,i=this;KT(this,tR,!0);var o=this.hot.getSourceDataArray(n,0,n+((null===(r=t.__children)||void 0===r?void 0:r.length)||0),this.hot.countSourceCols());KT(this,tR,!1),o.forEach((function(e,t){e.forEach((function(e,r){i.engine.setCellContents({col:r,row:n+t,sheet:i.sheetId},[[e]])}))}))}},{key:"onEngineValuesUpdated",value:function(e){this.hot.runHooks("afterFormulasValuesUpdate",e)}},{key:"onEngineNamedExpressionsAdded",value:function(e,t){this.hot.runHooks("afterNamedExpressionAdded",e,t)}},{key:"onEngineNamedExpressionsRemoved",value:function(e,t){this.hot.runHooks("afterNamedExpressionRemoved",e,t)}},{key:"onEngineSheetAdded",value:function(e){this.hot.runHooks("afterSheetAdded",e)}},{key:"onEngineSheetRenamed",value:function(e,t){this.hot.runHooks("afterSheetRenamed",e,t)}},{key:"onEngineSheetRemoved",value:function(e,t){this.hot.runHooks("afterSheetRemoved",e,t)}}],r=[{key:"PLUGIN_KEY",get:function(){return JT}},{key:"PLUGIN_PRIORITY",get:function(){return 260}}],n&&YT(t.prototype,n),r&&YT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($v);function oR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aR(e){return function(e){if(Array.isArray(e))return sR(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return sR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sR(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lR(e){return lR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lR(e)}function uR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dR(){return dR="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=hR(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},dR.apply(this,arguments)}function hR(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=gR(e)););return e}function fR(e,t){return fR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fR(e,t)}function pR(e,t){if(t&&("object"===lR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mR(e)}function mR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gR(e){return gR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gR(e)}function yR(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function vR(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,wR(e,t,"get"))}function bR(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,wR(e,t,"set"),n),n}function wR(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}rr.getSingleton().register("beforeHideColumns"),rr.getSingleton().register("afterHideColumns"),rr.getSingleton().register("beforeUnhideColumns"),rr.getSingleton().register("afterUnhideColumns");var _R=new WeakMap,kR=new WeakMap,SR=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fR(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=gR(i);if(o){var n=gR(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return pR(this,e)});function s(){var e;uR(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return yR(mR(e=a.call.apply(a,[this].concat(n))),_R,{writable:!0,value:{}}),yR(mR(e),kR,{writable:!0,value:null}),e}return t=s,n=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().hiddenColumns}},{key:"enablePlugin",value:function(){var e=this;if(!this.enabled){var t=this.hot.getSettings().hiddenColumns;de(t)&&(bR(this,_R,t),Qe(t.copyPasteEnabled)&&(t.copyPasteEnabled=!0)),bR(this,kR,new mc),vR(this,kR).addLocalHook("init",(function(){return e.onMapInit()})),this.hot.columnIndexMapper.registerMap(this.pluginName,vR(this,kR)),this.addHook("afterContextMenuDefaultOptions",(function(){return e.onAfterContextMenuDefaultOptions.apply(e,arguments)})),this.addHook("afterGetCellMeta",(function(t,n,r){return e.onAfterGetCellMeta(t,n,r)})),this.addHook("modifyColWidth",(function(t,n){return e.onModifyColWidth(t,n)})),this.addHook("afterGetColHeader",(function(){return e.onAfterGetColHeader.apply(e,arguments)})),this.addHook("modifyCopyableRange",(function(t){return e.onModifyCopyableRange(t)})),dR(gR(s.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),dR(gR(s.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),bR(this,_R,{}),dR(gR(s.prototype),"disablePlugin",this).call(this),this.resetCellsMeta()}},{key:"showColumns",value:function(e){var t=this,n=this.getHiddenColumns(),r=this.isValidConfig(e),i=n,o=vR(this,kR).getValues().slice(),a=e.length>0;r&&a&&($(e.map((function(e){return t.hot.toPhysicalColumn(e)})),(function(e){o[e]=!1})),i=z(o,(function(e,n,r){return n&&e.push(t.hot.toVisualColumn(r)),e}),[])),!1!==this.hot.runHooks("beforeUnhideColumns",n,i,r&&a)&&(r&&a&&vR(this,kR).setValues(o),this.hot.view.adjustElementsSize(),this.hot.runHooks("afterUnhideColumns",n,i,r&&a,r&&i.length<n.length))}},{key:"showColumn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.showColumns(t)}},{key:"hideColumns",value:function(e){var t=this,n=this.getHiddenColumns(),r=this.isValidConfig(e),i=n;r&&(i=Array.from(new Set(n.concat(e)))),!1!==this.hot.runHooks("beforeHideColumns",n,i,r)&&(r&&this.hot.batchExecution((function(){$(e,(function(e){vR(t,kR).setValueAtIndex(t.hot.toPhysicalColumn(e),!0)}))}),!0),this.hot.runHooks("afterHideColumns",n,i,r,r&&i.length>n.length))}},{key:"hideColumn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.hideColumns(t)}},{key:"getHiddenColumns",value:function(){var e=this;return W(vR(this,kR).getHiddenIndexes(),(function(t){return e.hot.toVisualColumn(t)}))}},{key:"isHidden",value:function(e){return vR(this,kR).getValueAtIndex(this.hot.toPhysicalColumn(e))||!1}},{key:"isValidConfig",value:function(e){var t=this.hot.countCols();return!!(Array.isArray(e)&&e.length>0)&&e.every((function(e){return Number.isInteger(e)&&e>=0&&e<t}))}},{key:"resetCellsMeta",value:function(){$(this.hot.getCellsMeta(),(function(e){e&&(e.skipColumnOnPaste=!1)}))}},{key:"onModifyColWidth",value:function(e,t){return this.isHidden(t)?0:vR(this,_R).indicators&&(this.isHidden(t+1)||this.isHidden(t-1))&&"number"==typeof e&&this.hot.hasColHeaders()?e+15:void 0}},{key:"onAfterGetCellMeta",value:function(e,t,n){if(!1===vR(this,_R).copyPasteEnabled&&this.isHidden(t)&&(n.skipColumnOnPaste=!0),this.isHidden(t-1))n.className=n.className||"",-1===n.className.indexOf("afterHiddenColumn")&&(n.className+=" afterHiddenColumn");else if(n.className){var r=n.className.split(" ");if(r.length>0){var i=r.indexOf("afterHiddenColumn");i>-1&&r.splice(i,1),n.className=r.join(" ")}}}},{key:"onModifyCopyableRange",value:function(e){var t=this;if(vR(this,_R).copyPasteEnabled)return e;var n=[],r=function(e,t,r,i){n.push({startRow:e,endRow:t,startCol:r,endCol:i})};return $(e,(function(e){var n=!0,i=0;Wr(e.startCol,e.endCol,(function(o){t.isHidden(o)?(n||r(e.startRow,e.endRow,i,o-1),n=!0):(n&&(i=o),o===e.endCol&&r(e.startRow,e.endRow,i,o),n=!1)}))})),n}},{key:"onAfterGetColHeader",value:function(e,t){if(vR(this,_R).indicators&&!(e<0)){var n=[];e>=1&&this.isHidden(e-1)&&n.push("afterHiddenColumn"),e<this.hot.countCols()-1&&this.isHidden(e+1)&&n.push("beforeHiddenColumn"),Ht(t,n)}}},{key:"onAfterContextMenuDefaultOptions",value:function(e){var t;e.items.push({name:Z_},(t=this,{key:"hidden_columns_hide",name:function(){var e,t,n=this.getSelectedLast(),r=0;if(Array.isArray(n)){var i=(t=4,function(e){if(Array.isArray(e))return e}(e=n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return oR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oR(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());i[1]-i[3]!=0&&(r=1)}return this.getTranslatedPhrase(wh,r)},callback:function(){for(var e=this.getSelectedRangeLast(),n=e.from,r=e.to,i=Math.max(Math.min(n.col,r.col),0),o=Math.max(n.col,r.col),a=[],s=i;s<=o;s+=1)a.push(s);t.hideColumns(a);var l=a[a.length-1],u=this.columnIndexMapper.getNearestNotHiddenIndex(l,1,!0);Number.isInteger(u)&&u>=0?this.selectColumns(u):this.deselectCell(),this.render(),this.view.adjustElementsSize(!0)},disabled:!1,hidden:function(){return!(this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner())}}),function(e){var t=[];return{key:"hidden_columns_show",name:function(){var e=t.length>1?1:0;return this.getTranslatedPhrase(_h,e)},callback:function(){var n,r;if(0!==t.length){var i=t[0],o=t[t.length-1];i=null!==(n=this.columnIndexMapper.getNearestNotHiddenIndex(i-1,-1))&&void 0!==n?n:0,o=null!==(r=this.columnIndexMapper.getNearestNotHiddenIndex(o+1,1))&&void 0!==r?r:this.countCols()-1,e.showColumns(t),this.render(),this.view.adjustElementsSize(!0),o-i+1===this.countCols()||this.selectColumns(i,o)}},disabled:!1,hidden:function(){var n=this,r=W(e.getHiddenColumns(),(function(e){return n.toPhysicalColumn(e)}));if(!this.selection.isSelectedByColumnHeader()&&!this.selection.isSelectedByCorner()||r.length<1)return!0;t.length=0;var i=this.getSelectedRangeLast(),o=i.getTopStartCorner().col,a=i.getBottomEndCorner().col,s=this.columnIndexMapper,l=s.getRenderableFromVisualIndex(o),u=s.getRenderableFromVisualIndex(a),c=s.getNotTrimmedIndexes(),d=[];if(o!==a){if(a-o+1>u-l+1){var h=c.slice(o,a+1);d.push.apply(d,aR(h.filter((function(e){return r.includes(e)}))))}}else if(0===l&&l<o)d.push.apply(d,aR(c.slice(0,o)));else if(null===l)d.push.apply(d,aR(c.slice(0,this.countCols())));else{var f=this.countCols()-1;u===s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(f,-1))&&f>a&&d.push.apply(d,aR(c.slice(a+1)))}return $(d,(function(e){t.push(n.toVisualColumn(e))})),0===t.length}}}(this))}},{key:"onMapInit",value:function(){Array.isArray(vR(this,_R).columns)&&this.hideColumns(vR(this,_R).columns)}},{key:"destroy",value:function(){bR(this,_R,null),bR(this,kR,null),dR(gR(s.prototype),"destroy",this).call(this)}}],r=[{key:"PLUGIN_KEY",get:function(){return"hiddenColumns"}},{key:"PLUGIN_PRIORITY",get:function(){return 310}}],n&&cR(t.prototype,n),r&&cR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($v);function MR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xR(e){return function(e){if(Array.isArray(e))return OR(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return OR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?OR(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function CR(e){return CR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CR(e)}function TR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function DR(){return DR="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=ER(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},DR.apply(this,arguments)}function ER(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=PR(e)););return e}function AR(e,t){return AR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},AR(e,t)}function LR(e,t){if(t&&("object"===CR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jR(e)}function jR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PR(e){return PR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},PR(e)}function IR(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function HR(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,FR(e,t,"get"))}function NR(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,FR(e,t,"set"),n),n}function FR(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}rr.getSingleton().register("beforeHideRows"),rr.getSingleton().register("afterHideRows"),rr.getSingleton().register("beforeUnhideRows"),rr.getSingleton().register("afterUnhideRows");var YR=new WeakMap,zR=new WeakMap,BR=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AR(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=PR(i);if(o){var n=PR(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return LR(this,e)});function s(){var e;TR(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return IR(jR(e=a.call.apply(a,[this].concat(n))),YR,{writable:!0,value:{}}),IR(jR(e),zR,{writable:!0,value:null}),e}return t=s,n=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().hiddenRows}},{key:"enablePlugin",value:function(){var e=this;if(!this.enabled){var t=this.hot.getSettings().hiddenRows;de(t)&&(NR(this,YR,t),Qe(t.copyPasteEnabled)&&(t.copyPasteEnabled=!0)),NR(this,zR,new mc),HR(this,zR).addLocalHook("init",(function(){return e.onMapInit()})),this.hot.rowIndexMapper.registerMap(this.pluginName,HR(this,zR)),this.addHook("afterContextMenuDefaultOptions",(function(){return e.onAfterContextMenuDefaultOptions.apply(e,arguments)})),this.addHook("afterGetCellMeta",(function(t,n,r){return e.onAfterGetCellMeta(t,n,r)})),this.addHook("modifyRowHeight",(function(t,n){return e.onModifyRowHeight(t,n)})),this.addHook("afterGetRowHeader",(function(){return e.onAfterGetRowHeader.apply(e,arguments)})),this.addHook("modifyCopyableRange",(function(t){return e.onModifyCopyableRange(t)})),DR(PR(s.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),DR(PR(s.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.hot.rowIndexMapper.unregisterMap(this.pluginName),NR(this,YR,{}),DR(PR(s.prototype),"disablePlugin",this).call(this),this.resetCellsMeta()}},{key:"showRows",value:function(e){var t=this,n=this.getHiddenRows(),r=this.isValidConfig(e),i=n,o=HR(this,zR).getValues().slice(),a=e.length>0;r&&a&&($(e.map((function(e){return t.hot.toPhysicalRow(e)})),(function(e){o[e]=!1})),i=z(o,(function(e,n,r){return n&&e.push(t.hot.toVisualRow(r)),e}),[])),!1!==this.hot.runHooks("beforeUnhideRows",n,i,r&&a)&&(r&&a&&HR(this,zR).setValues(o),this.hot.runHooks("afterUnhideRows",n,i,r&&a,r&&i.length<n.length))}},{key:"showRow",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.showRows(t)}},{key:"hideRows",value:function(e){var t=this,n=this.getHiddenRows(),r=this.isValidConfig(e),i=n;r&&(i=Array.from(new Set(n.concat(e)))),!1!==this.hot.runHooks("beforeHideRows",n,i,r)&&(r&&this.hot.batchExecution((function(){$(e,(function(e){HR(t,zR).setValueAtIndex(t.hot.toPhysicalRow(e),!0)}))}),!0),this.hot.runHooks("afterHideRows",n,i,r,r&&i.length>n.length))}},{key:"hideRow",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.hideRows(t)}},{key:"getHiddenRows",value:function(){var e=this;return W(HR(this,zR).getHiddenIndexes(),(function(t){return e.hot.toVisualRow(t)}))}},{key:"isHidden",value:function(e){return HR(this,zR).getValueAtIndex(this.hot.toPhysicalRow(e))||!1}},{key:"isValidConfig",value:function(e){var t=this.hot.countRows();return!!(Array.isArray(e)&&e.length>0)&&e.every((function(e){return Number.isInteger(e)&&e>=0&&e<t}))}},{key:"resetCellsMeta",value:function(){$(this.hot.getCellsMeta(),(function(e){e&&(e.skipRowOnPaste=!1)}))}},{key:"onModifyRowHeight",value:function(e,t){return this.isHidden(t)?0:e}},{key:"onAfterGetCellMeta",value:function(e,t,n){if(!1===HR(this,YR).copyPasteEnabled&&this.isHidden(e)&&(n.skipRowOnPaste=!0),this.isHidden(e-1))n.className=n.className||"",-1===n.className.indexOf("afterHiddenRow")&&(n.className+=" afterHiddenRow");else if(n.className){var r=n.className.split(" ");if(r.length>0){var i=r.indexOf("afterHiddenRow");i>-1&&r.splice(i,1),n.className=r.join(" ")}}}},{key:"onModifyCopyableRange",value:function(e){var t=this;if(HR(this,YR).copyPasteEnabled)return e;var n=[],r=function(e,t,r,i){n.push({startRow:e,endRow:t,startCol:r,endCol:i})};return $(e,(function(e){var n=!0,i=0;Wr(e.startRow,e.endRow,(function(o){t.isHidden(o)?(n||r(i,o-1,e.startCol,e.endCol),n=!0):(n&&(i=o),o===e.endRow&&r(i,o,e.startCol,e.endCol),n=!1)}))})),n}},{key:"onAfterGetRowHeader",value:function(e,t){if(HR(this,YR).indicators&&!(e<0)){var n=[];e>=1&&this.isHidden(e-1)&&n.push("afterHiddenRow"),e<this.hot.countRows()-1&&this.isHidden(e+1)&&n.push("beforeHiddenRow"),Ht(t,n)}}},{key:"onAfterContextMenuDefaultOptions",value:function(e){var t;e.items.push({name:Z_},(t=this,{key:"hidden_rows_hide",name:function(){var e,t,n=this.getSelectedLast(),r=0;if(Array.isArray(n)){var i=(t=3,function(e){if(Array.isArray(e))return e}(e=n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return MR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?MR(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());i[0]-i[2]!=0&&(r=1)}return this.getTranslatedPhrase(kh,r)},callback:function(){for(var e=this.getSelectedRangeLast(),n=e.from,r=e.to,i=Math.max(Math.min(n.row,r.row),0),o=Math.max(n.row,r.row),a=[],s=i;s<=o;s+=1)a.push(s);t.hideRows(a);var l=a[a.length-1],u=this.rowIndexMapper.getNearestNotHiddenIndex(l,1,!0);Number.isInteger(u)&&u>=0?this.selectRows(u):this.deselectCell(),this.render(),this.view.adjustElementsSize(!0)},disabled:!1,hidden:function(){return!(this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner())}}),function(e){var t=[];return{key:"hidden_rows_show",name:function(){var e=t.length>1?1:0;return this.getTranslatedPhrase(Sh,e)},callback:function(){var n,r;if(0!==t.length){var i=t[0],o=t[t.length-1];i=null!==(n=this.rowIndexMapper.getNearestNotHiddenIndex(i-1,-1))&&void 0!==n?n:0,o=null!==(r=this.rowIndexMapper.getNearestNotHiddenIndex(o+1,1))&&void 0!==r?r:this.countRows()-1,e.showRows(t),this.render(),this.view.adjustElementsSize(!0),o-i+1===this.countRows()||this.selectRows(i,o)}},disabled:!1,hidden:function(){var n=this,r=W(e.getHiddenRows(),(function(e){return n.toPhysicalRow(e)}));if(!this.selection.isSelectedByRowHeader()&&!this.selection.isSelectedByCorner()||r.length<1)return!0;t.length=0;var i=this.getSelectedRangeLast(),o=i.getTopStartCorner().row,a=i.getBottomEndCorner().row,s=this.rowIndexMapper,l=s.getRenderableFromVisualIndex(o),u=s.getRenderableFromVisualIndex(a),c=s.getNotTrimmedIndexes(),d=[];if(o!==a){if(a-o+1>u-l+1){var h=c.slice(o,a+1);d.push.apply(d,xR(h.filter((function(e){return r.includes(e)}))))}}else if(0===l&&l<o)d.push.apply(d,xR(c.slice(0,o)));else if(null===l)d.push.apply(d,xR(c.slice(0,this.countRows())));else{var f=this.countRows()-1;u===s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(f,-1))&&f>a&&d.push.apply(d,xR(c.slice(a+1)))}return $(d,(function(e){t.push(n.toVisualRow(e))})),0===t.length}}}(this))}},{key:"onMapInit",value:function(){Array.isArray(HR(this,YR).rows)&&this.hideRows(HR(this,YR).rows)}},{key:"destroy",value:function(){NR(this,YR,null),NR(this,zR,null),DR(PR(s.prototype),"destroy",this).call(this)}}],r=[{key:"PLUGIN_KEY",get:function(){return"hiddenRows"}},{key:"PLUGIN_PRIORITY",get:function(){return 320}}],n&&RR(t.prototype,n),r&&RR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($v);function WR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UR(e){return UR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UR(e)}function VR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qR(){return qR="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=GR(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},qR.apply(this,arguments)}function GR(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=JR(e)););return e}function KR(e,t){return KR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},KR(e,t)}function ZR(e,t){if(t&&("object"===UR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return XR(e)}function XR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JR(e){return JR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},JR(e)}rr.getSingleton().register("beforeColumnFreeze"),rr.getSingleton().register("afterColumnFreeze"),rr.getSingleton().register("beforeColumnUnfreeze"),rr.getSingleton().register("afterColumnUnfreeze");var QR=new WeakMap,eD=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KR(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=JR(i);if(o){var n=JR(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ZR(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=a.call(this,e),QR.set(XR(t),{afterFirstUse:!1}),t}return t=s,n=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().manualColumnFreeze}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.addHook("afterContextMenuDefaultOptions",(function(t){return e.addContextMenuEntry(t)})),this.addHook("beforeColumnMove",(function(t,n){return e.onBeforeColumnMove(t,n)})),qR(JR(s.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){QR.get(this).afterFirstUse=!1,qR(JR(s.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),qR(JR(s.prototype),"updatePlugin",this).call(this)}},{key:"freezeColumn",value:function(e){var t=QR.get(this),n=this.hot.getSettings(),r=n.fixedColumnsStart<this.hot.countCols()&&e>n.fixedColumnsStart-1;t.afterFirstUse||(t.afterFirstUse=!0),!1!==this.hot.runHooks("beforeColumnFreeze",e,r)&&(r&&(this.hot.columnIndexMapper.moveIndexes(e,n.fixedColumnsStart),n._fixedColumnsStart+=1),this.hot.runHooks("afterColumnFreeze",e,r))}},{key:"unfreezeColumn",value:function(e){var t=QR.get(this),n=this.hot.getSettings(),r=n.fixedColumnsStart>0&&e<=n.fixedColumnsStart-1;t.afterFirstUse||(t.afterFirstUse=!0),!1!==this.hot.runHooks("beforeColumnUnfreeze",e,r)&&(r&&(n._fixedColumnsStart-=1,this.hot.columnIndexMapper.moveIndexes(e,n.fixedColumnsStart)),this.hot.runHooks("afterColumnUnfreeze",e,r))}},{key:"addContextMenuEntry",value:function(e){var t;e.items.push({name:"---------"},(t=this,{key:"freeze_column",name:function(){return this.getTranslatedPhrase(Zd)},callback:function(e,n){var r,i,o=(r=n,i=1,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(r,i)||function(e,t){if(e){if("string"==typeof e)return WR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?WR(e,t):void 0}}(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0].start.col;t.freezeColumn(o),this.render(),this.view.adjustElementsSize(!0)},hidden:function(){var e=this.getSelectedRange(),t=!1;return(void 0===e||e.length>1||e[0].from.col!==e[0].to.col||e[0].from.col<=this.getSettings().fixedColumnsStart-1)&&(t=!0),t}}),function(e){return{key:"unfreeze_column",name:function(){return this.getTranslatedPhrase(Xd)},callback:function(t,n){var r,i,o=(r=n,i=1,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(r,i)||function(e,t){if(e){if("string"==typeof e)return $R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$R(e,t):void 0}}(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0].start.col;e.unfreezeColumn(o),this.render(),this.view.adjustElementsSize(!0)},hidden:function(){var e=this.getSelectedRange(),t=!1;return(void 0===e||e.length>1||e[0].from.col!==e[0].to.col||e[0].from.col>=this.getSettings().fixedColumnsStart)&&(t=!0),t}}}(this))}},{key:"onBeforeColumnMove",value:function(e,t){if(QR.get(this).afterFirstUse){var n=this.hot.getSettings().fixedColumnsStart;if(t<n)return!1;if(e.some((function(e){return e<n})))return!1}}}],r=[{key:"PLUGIN_KEY",get:function(){return"manualColumnFreeze"}},{key:"PLUGIN_PRIORITY",get:function(){return 110}}],n&&VR(t.prototype,n),r&&VR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($v);function tD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var nD="px",rD=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hot=t,this._element=null,this.state=0,this.inlineProperty=t.isRtl()?"right":"left"}var t,n;return t=e,(n=[{key:"appendTo",value:function(e){e.appendChild(this._element),this.state=2}},{key:"build",value:function(){0===this.state&&(this._element=this.hot.rootDocument.createElement("div"),this.state=1)}},{key:"destroy",value:function(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=0}},{key:"isAppended",value:function(){return 2===this.state}},{key:"isBuilt",value:function(){return this.state>=1}},{key:"setPosition",value:function(e,t){zr(e)&&(this._element.style.top=e+nD),zr(t)&&(this._element.style[this.inlineProperty]=t+nD)}},{key:"getPosition",value:function(){var e=this._element.style;return{top:e.top?parseInt(e.top,10):0,start:e[this.inlineProperty]?parseInt(e[this.inlineProperty],10):0}}},{key:"setSize",value:function(e,t){zr(e)&&(this._element.style.width=e+nD),zr(t)&&(this._element.style.height=t+nD)}},{key:"getSize",value:function(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}},{key:"setOffset",value:function(e,t){zr(e)&&(this._element.style.marginTop=e+nD),zr(t)&&(this._element.style["margin".concat(mt(this.inlineProperty))]=t+nD)}},{key:"getOffset",value:function(){var e=this._element.style,t="margin".concat(mt(this.inlineProperty));return{top:e.marginTop?parseInt(e.marginTop,10):0,start:e[t]?parseInt(e[t],10):0}}}])&&tD(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const iD=rD;function oD(e){return oD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oD(e)}function aD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lD(){return lD="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=uD(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},lD.apply(this,arguments)}function uD(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=hD(e)););return e}function cD(e,t){return cD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cD(e,t)}function dD(e,t){if(t&&("object"===oD(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function hD(e){return hD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hD(e)}const fD=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cD(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=hD(r);if(i){var n=hD(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return dD(this,e)});function a(){return aD(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"build",value:function(){lD(hD(a.prototype),"build",this).call(this),Ht(this._element,"ht__manualColumnMove--backlight")}}])&&sD(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(iD);function pD(e){return pD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pD(e)}function mD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yD(){return yD="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=vD(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},yD.apply(this,arguments)}function vD(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_D(e)););return e}function bD(e,t){return bD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bD(e,t)}function wD(e,t){if(t&&("object"===pD(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _D(e){return _D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_D(e)}const kD=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bD(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_D(r);if(i){var n=_D(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return wD(this,e)});function a(){return mD(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"build",value:function(){yD(_D(a.prototype),"build",this).call(this),Ht(this._element,"ht__manualColumnMove--guideline")}}])&&gD(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(iD);function SD(e){return SD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SD(e)}function MD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xD(){return xD="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=OD(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},xD.apply(this,arguments)}function OD(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=DD(e)););return e}function CD(e,t){return CD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},CD(e,t)}function TD(e,t){if(t&&("object"===SD(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return RD(e)}function RD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DD(e){return DD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},DD(e)}rr.getSingleton().register("beforeColumnMove"),rr.getSingleton().register("afterColumnMove");var ED=new WeakMap,AD="ht__manualColumnMove",LD="show-ui",jD="on-moving--columns",PD="after-selection--columns",ID=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CD(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=DD(i);if(o){var n=DD(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return TD(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=a.call(this,e),ED.set(RD(t),{columnsToMove:[],countCols:0,fixedColumns:0,pressed:void 0,target:{eventPageX:void 0,coords:void 0,TD:void 0,col:void 0},cachedDropIndex:void 0}),t.eventManager=new kr(RD(t)),t.backlight=new fD(e),t.guideline=new kD(e),t}return t=s,n=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().manualColumnMove}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.addHook("beforeOnCellMouseDown",(function(){return e.onBeforeOnCellMouseDown.apply(e,arguments)})),this.addHook("beforeOnCellMouseOver",(function(){return e.onBeforeOnCellMouseOver.apply(e,arguments)})),this.addHook("afterScrollVertically",(function(){return e.onAfterScrollVertically()})),this.addHook("afterLoadData",(function(){return e.onAfterLoadData.apply(e,arguments)})),this.buildPluginUI(),this.registerEvents(),Ht(this.hot.rootElement,AD),xD(DD(s.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),xD(DD(s.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){Nt(this.hot.rootElement,AD),this.unregisterEvents(),this.backlight.destroy(),this.guideline.destroy(),xD(DD(s.prototype),"disablePlugin",this).call(this)}},{key:"moveColumn",value:function(e,t){return this.moveColumns([e],t)}},{key:"moveColumns",value:function(e,t){var n=ED.get(this),r=n.cachedDropIndex,i=this.isMovePossible(e,t),o=this.hot.runHooks("beforeColumnMove",e,t,r,i);if(n.cachedDropIndex=void 0,!1!==o){i&&this.hot.columnIndexMapper.moveIndexes(e,t);var a=i&&this.isColumnOrderChanged(e,t);return this.hot.runHooks("afterColumnMove",e,t,r,i,a),a}}},{key:"dragColumn",value:function(e,t){return this.dragColumns([e],t)}},{key:"dragColumns",value:function(e,t){var n=this.countFinalIndex(e,t);return ED.get(this).cachedDropIndex=t,this.moveColumns(e,n)}},{key:"isMovePossible",value:function(e,t){var n=this.hot.columnIndexMapper.getNotTrimmedIndexesLength(),r=e.length+t>n,i=t<0,o=e.some((function(e){return e<0})),a=e.some((function(e){return e>=n}));return!(r||i||o||a)}},{key:"isColumnOrderChanged",value:function(e,t){return e.some((function(e,n){return e-n!==t}))}},{key:"countFinalIndex",value:function(e,t){var n=z(e,(function(e,n){return n<t&&(e+=1),e}),0);return t-n}},{key:"getColumnsWidth",value:function(e,t){for(var n=this.hot.columnIndexMapper,r=0,i=e;i<=t;i+=1){var o=n.getRenderableFromVisualIndex(i);i<0?r+=this.hot.view._wt.wtViewport.getRowHeaderWidth()||0:null!==o&&(r+=this.hot.view._wt.wtTable.getStretchedColumnWidth(o)||0)}return r}},{key:"moveBySettingsOrLoad",value:function(){var e=this.hot.getSettings().manualColumnMove;if(Array.isArray(e))this.moveColumns(e,0);else if(void 0!==e){var t=this.persistentStateLoad();t.length&&this.moveColumns(t,0)}}},{key:"isFixedColumnsStart",value:function(e){return e<this.hot.getSettings().fixedColumnsStart}},{key:"persistentStateSave",value:function(){this.hot.runHooks("persistentStateSave","manualColumnMove",this.hot.columnIndexMapper.getIndexesSequence())}},{key:"persistentStateLoad",value:function(){var e={};return this.hot.runHooks("persistentStateLoad","manualColumnMove",e),e.value?e.value:[]}},{key:"prepareColumnsToMoving",value:function(e,t){var n=[];return Wr(e,t,(function(e){n.push(e)})),n}},{key:"refreshPositions",value:function(){var e=ED.get(this),t=this.hot.view.getFirstFullyVisibleColumn();this.isFixedColumnsStart(e.hoveredColumn)&&t>0&&this.hot.scrollViewportTo(void 0,this.hot.columnIndexMapper.getNearestNotHiddenIndex(t-1,-1));var n=this.hot.view._wt.wtTable,r=this.hot.view._wt.wtOverlays.scrollableElement,i="number"==typeof r.scrollX?r.scrollX:r.scrollLeft,o=this.hot.view.THEAD.offsetLeft+this.getColumnsWidth(0,e.hoveredColumn-1),a=n.hider.offsetWidth,s=n.TBODY.offsetLeft,l=this.backlight.getOffset().start,u=this.backlight.getSize().width,c=0,d=0;if(this.hot.isRtl()){var h=this.hot.rootWindow,f=nn(this.hot.rootElement),p=h.innerWidth-e.rootElementOffset-f;d=h.innerWidth-e.target.eventPageX-p-(void 0===r.scrollX?i:0)}else d=e.target.eventPageX-(e.rootElementOffset-(void 0===r.scrollX?i:0));if(e.hasRowHeaders&&(c=this.hot.view._wt.wtOverlays.inlineStartOverlay.clone.wtTable.getColumnHeader(-1).offsetWidth),this.isFixedColumnsStart(e.hoveredColumn)&&(o+=i),o+=c,e.hoveredColumn<0)e.fixedColumnsStart>0?e.target.col=0:e.target.col=t>0?t-1:t;else if(e.target.TD.offsetWidth/2+o<=d){var m=e.hoveredColumn>=e.countCols?e.countCols-1:e.hoveredColumn;e.target.col=m+1,o+=e.target.TD.offsetWidth}else e.target.col=e.hoveredColumn;var g=d,y=o;d+u+l>=a?g=a-u-l:d+l<s+c&&(g=s+c+Math.abs(l)),o>=a-1?y=a-1:0===y?y=1:void 0!==r.scrollX&&e.hoveredColumn<e.fixedColumnsStart&&(y-=e.rootElementOffset<=r.scrollX?e.rootElementOffset:0),this.backlight.setPosition(null,g),this.guideline.setPosition(null,y)}},{key:"registerEvents",value:function(){var e=this,t=this.hot.rootDocument.documentElement;this.eventManager.addEventListener(t,"mousemove",(function(t){return e.onMouseMove(t)})),this.eventManager.addEventListener(t,"mouseup",(function(){return e.onMouseUp()}))}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"onBeforeOnCellMouseDown",value:function(e,t,n,r){var i=this.hot.view._wt.wtTable,o=this.hot.selection.isSelectedByColumnHeader(),a=this.hot.getSelectedRangeLast(),s=ED.get(this),l=It(e.target,"sortAction");if(!a||!o||s.pressed||0!==e.button||l)return s.pressed=!1,s.columnsToMove.length=0,void Nt(this.hot.rootElement,[jD,LD]);var u=this.guideline.isBuilt()&&!this.guideline.isAppended(),c=this.backlight.isBuilt()&&!this.backlight.isAppended();u&&c&&(this.guideline.appendTo(i.hider),this.backlight.appendTo(i.hider));var d=a.from,h=a.to,f=Math.min(d.col,h.col),p=Math.max(d.col,h.col);if(t.row<0&&t.col>=f&&t.col<=p){r.column=!0,s.pressed=!0,s.target.eventPageX=e.pageX,s.target.eventOffsetX=e.offsetX,s.hoveredColumn=t.col,s.target.TD=n,s.target.col=t.col,s.columnsToMove=this.prepareColumnsToMoving(f,p),s.hasRowHeaders=!!this.hot.getSettings().rowHeaders,s.countCols=this.hot.countCols(),s.fixedColumnsStart=this.hot.getSettings().fixedColumnsStart,s.rootElementOffset=Vt(this.hot.rootElement).left;var m=s.hasRowHeaders?-1:0,g=i.holder.scrollTop+i.getColumnHeaderHeight(0)+1,y=t.col<s.fixedColumnsStart,v=Math.abs(this.hot.view._wt.wtOverlays.inlineStartOverlay.getScrollPosition()),b=Math.abs(e.offsetX-(this.hot.isRtl()?e.target.offsetWidth:0)),w=this.getColumnsWidth(f,t.col-1)+b,_=this.getColumnsWidth(m,f-1)+(y?v:0)+w;this.backlight.setPosition(g,_),this.backlight.setSize(this.getColumnsWidth(f,p),i.hider.offsetHeight-g),this.backlight.setOffset(null,-w),Ht(this.hot.rootElement,jD)}else Nt(this.hot.rootElement,PD),s.pressed=!1,s.columnsToMove.length=0}},{key:"onMouseMove",value:function(e){var t=ED.get(this);if(t.pressed){if(e.target===this.backlight.element){var n=this.backlight.getSize().width;this.backlight.setSize(0),setTimeout((function(){this.backlight.setPosition(n)}))}t.target.eventPageX=e.pageX,this.refreshPositions()}}},{key:"onBeforeOnCellMouseOver",value:function(e,t,n,r){var i=this.hot.getSelectedRangeLast(),o=ED.get(this);i&&o.pressed&&(o.columnsToMove.indexOf(t.col)>-1?Nt(this.hot.rootElement,LD):Ht(this.hot.rootElement,LD),r.row=!0,r.column=!0,r.cell=!0,o.hoveredColumn=t.col,o.target.TD=n)}},{key:"onMouseUp",value:function(){var e=ED.get(this),t=e.target.col,n=e.columnsToMove.length;if(e.hoveredColumn=void 0,e.pressed=!1,e.backlightWidth=0,Nt(this.hot.rootElement,[jD,LD,PD]),this.hot.selection.isSelectedByColumnHeader()&&Ht(this.hot.rootElement,PD),!(n<1||void 0===t)){var r=e.columnsToMove[0],i=this.hot.toPhysicalColumn(r),o=this.dragColumns(e.columnsToMove,t);if(e.columnsToMove.length=0,!0===o){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize(!0);var a=this.hot.toVisualColumn(i),s=a+n-1;this.hot.selectColumns(a,s)}}}},{key:"onAfterScrollVertically",value:function(){var e=this.hot.view._wt.wtTable,t=e.getColumnHeaderHeight(0)+1+e.holder.scrollTop;this.backlight.setPosition(t),this.backlight.setSize(null,e.hider.offsetHeight-t)}},{key:"buildPluginUI",value:function(){this.backlight.build(),this.guideline.build()}},{key:"onAfterLoadData",value:function(){this.moveBySettingsOrLoad()}},{key:"destroy",value:function(){this.backlight.destroy(),this.guideline.destroy(),xD(DD(s.prototype),"destroy",this).call(this)}}],r=[{key:"PLUGIN_KEY",get:function(){return"manualColumnMove"}},{key:"PLUGIN_PRIORITY",get:function(){return 120}}],n&&MD(t.prototype,n),r&&MD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($v);function HD(e){return HD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HD(e)}function ND(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function FD(){return FD="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=YD(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},FD.apply(this,arguments)}function YD(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$D(e)););return e}function zD(e,t){return zD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zD(e,t)}function BD(e,t){if(t&&("object"===HD(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return WD(e)}function WD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $D(e){return $D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$D(e)}var UD="manualColumnWidths",VD=new WeakMap,qD=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zD(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=$D(i);if(o){var n=$D(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return BD(this,e)});function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var n=(t=a.call(this,e)).hot.rootDocument;return t.currentTH=null,t.currentCol=null,t.selectedCols=[],t.currentWidth=null,t.newSize=null,t.startY=null,t.startWidth=null,t.startOffset=null,t.handle=n.createElement("DIV"),t.guide=n.createElement("DIV"),t.eventManager=new kr(WD(t)),t.pressed=null,t.dblclick=0,t.autoresizeTimeout=null,t.columnWidthsMap=void 0,VD.set(WD(t),{config:void 0}),Ht(t.handle,"manualColumnResizer"),Ht(t.guide,"manualColumnResizerGuide"),t}return t=s,n=[{key:"inlineDir",get:function(){return this.hot.isRtl()?"right":"left"}},{key:"isEnabled",value:function(){return this.hot.getSettings().manualColumnResize}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.columnWidthsMap=new lc,this.columnWidthsMap.addLocalHook("init",(function(){return e.onMapInit()})),this.hot.columnIndexMapper.registerMap(this.pluginName,this.columnWidthsMap),this.addHook("modifyColWidth",(function(t,n){return e.onModifyColWidth(t,n)})),this.addHook("beforeStretchingColumnWidth",(function(t,n){return e.onBeforeStretchingColumnWidth(t,n)})),this.addHook("beforeColumnResize",(function(t,n,r){return e.onBeforeColumnResize(t,n,r)})),this.bindEvents(),FD($D(s.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),FD($D(s.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){VD.get(this).config=this.columnWidthsMap.getValues(),this.hot.columnIndexMapper.unregisterMap(this.pluginName),FD($D(s.prototype),"disablePlugin",this).call(this)}},{key:"saveManualColumnWidths",value:function(){this.hot.runHooks("persistentStateSave",UD,this.columnWidthsMap.getValues())}},{key:"loadManualColumnWidths",value:function(){var e={};return this.hot.runHooks("persistentStateLoad",UD,e),e.value}},{key:"setManualSize",value:function(e,t){var n=Math.max(t,20),r=this.hot.toPhysicalColumn(e);return this.columnWidthsMap.setValueAtIndex(r,n),n}},{key:"clearManualSize",value:function(e){var t=this.hot.toPhysicalColumn(e);this.columnWidthsMap.setValueAtIndex(t,null)}},{key:"onMapInit",value:function(){var e=this,t=VD.get(this),n=this.hot.getSettings().manualColumnResize,r=this.loadManualColumnWidths();void 0!==r?this.hot.batchExecution((function(){r.forEach((function(t,n){e.columnWidthsMap.setValueAtIndex(n,t)}))}),!0):Array.isArray(n)?(this.hot.batchExecution((function(){n.forEach((function(t,n){e.columnWidthsMap.setValueAtIndex(n,t)}))}),!0),t.config=n):!0===n&&Array.isArray(t.config)&&this.hot.batchExecution((function(){t.config.forEach((function(t,n){e.columnWidthsMap.setValueAtIndex(n,t)}))}),!0)}},{key:"setupHandlePosition",value:function(e){var t=this;if(e.parentNode){this.currentTH=e;var n=this.hot.view._wt,r=n.wtTable.getCoords(this.currentTH),i=r.col;if(!(i<0)){var o,a=rn(this.currentTH),s=this.currentTH.getBoundingClientRect();i<n.getSetting("fixedColumnsStart")&&(o=n.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(this.currentTH,r.row,r.col)),o||(o=n.wtOverlays.topOverlay.getRelativeCellPosition(this.currentTH,r.row,r.col)),this.currentCol=this.hot.columnIndexMapper.getVisualFromRenderableIndex(i),this.selectedCols=[];var l=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByColumnHeader();this.hot.selection.isSelected()&&l&&$(this.hot.getSelectedRange(),(function(e){Wr(e.getTopStartCorner().col,e.getBottomEndCorner().col,(function(e){t.selectedCols.includes(e)||t.selectedCols.push(e)}))})),this.selectedCols.includes(this.currentCol)||(this.selectedCols=[this.currentCol]),this.startOffset=o.start-6,this.startWidth=parseInt(s.width,10),this.handle.style.top="".concat(o.top,"px"),this.handle.style[this.inlineDir]="".concat(this.startOffset+this.startWidth,"px"),this.handle.style.height="".concat(a,"px"),this.hot.rootElement.appendChild(this.handle)}}}},{key:"refreshHandlePosition",value:function(){this.handle.style[this.inlineDir]="".concat(this.startOffset+this.currentWidth,"px")}},{key:"setupGuidePosition",value:function(){var e=parseInt(rn(this.handle),10),t=parseInt(this.handle.style.top,10)+e,n=parseInt(this.hot.view.maximumVisibleElementHeight(0),10);Ht(this.handle,"active"),Ht(this.guide,"active"),this.guide.style.top="".concat(t,"px"),this.refreshGuidePosition(),this.guide.style.height="".concat(n-e,"px"),this.hot.rootElement.appendChild(this.guide)}},{key:"refreshGuidePosition",value:function(){this.guide.style[this.inlineDir]=this.handle.style[this.inlineDir]}},{key:"hideHandleAndGuide",value:function(){Nt(this.handle,"active"),Nt(this.guide,"active")}},{key:"checkIfColumnHeader",value:function(e){return!!Tt(e,["THEAD"],this.hot.rootElement)}},{key:"getClosestTHParent",value:function(e){return"TABLE"!==e.tagName?"TH"===e.tagName?e:this.getClosestTHParent(e.parentNode):null}},{key:"onMouseOver",value:function(e){if(!Mn(e.target)&&this.checkIfColumnHeader(e.target)){var t=this.getClosestTHParent(e.target);if(!t)return;var n=t.getAttribute("colspan");!t||null!==n&&"1"!==n||this.pressed||this.setupHandlePosition(t)}}},{key:"afterMouseDownTimeout",value:function(){var e=this,t=function(){e.hot.forceFullRender=!0,e.hot.view.render(),e.hot.view.adjustElementsSize(!0)},n=function(n,r){var i=e.hot.runHooks("beforeColumnResize",e.newSize,n,!0);void 0!==i&&(e.newSize=i),"all"===e.hot.getSettings().stretchH?e.clearManualSize(n):e.setManualSize(n,e.newSize),e.saveManualColumnWidths(),e.hot.runHooks("afterColumnResize",e.newSize,n,!0),r&&t()};this.dblclick>=2&&(this.selectedCols.length>1?($(this.selectedCols,(function(e){n(e)})),t()):$(this.selectedCols,(function(e){n(e,!0)}))),this.dblclick=0,this.autoresizeTimeout=null}},{key:"onMouseDown",value:function(e){var t=this;It(e.target,"manualColumnResizer")&&(this.setupHandlePosition(this.currentTH),this.setupGuidePosition(),this.pressed=!0,null===this.autoresizeTimeout&&(this.autoresizeTimeout=setTimeout((function(){return t.afterMouseDownTimeout()}),500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick+=1,this.startX=e.pageX,this.newSize=this.startWidth)}},{key:"onMouseMove",value:function(e){var t=this;if(this.pressed){var n=(e.pageX-this.startX)*this.hot.getDirectionFactor();this.currentWidth=this.startWidth+n,$(this.selectedCols,(function(e){t.newSize=t.setManualSize(e,t.currentWidth)})),this.refreshHandlePosition(),this.refreshGuidePosition()}}},{key:"onMouseUp",value:function(){var e=this,t=function(){e.hot.forceFullRender=!0,e.hot.view.render(),e.hot.view.adjustElementsSize(!0)},n=function(n,r){e.hot.runHooks("beforeColumnResize",e.newSize,n,!1),r&&t(),e.saveManualColumnWidths(),e.hot.runHooks("afterColumnResize",e.newSize,n,!1)};this.pressed&&(this.hideHandleAndGuide(),this.pressed=!1,this.newSize!==this.startWidth&&(this.selectedCols.length>1?($(this.selectedCols,(function(e){n(e)})),t()):$(this.selectedCols,(function(e){n(e,!0)}))),this.setupHandlePosition(this.currentTH))}},{key:"bindEvents",value:function(){var e=this,t=this.hot,n=t.rootWindow,r=t.rootElement;this.eventManager.addEventListener(r,"mouseover",(function(t){return e.onMouseOver(t)})),this.eventManager.addEventListener(r,"mousedown",(function(t){return e.onMouseDown(t)})),this.eventManager.addEventListener(n,"mousemove",(function(t){return e.onMouseMove(t)})),this.eventManager.addEventListener(n,"mouseup",(function(){return e.onMouseUp()}))}},{key:"onModifyColWidth",value:function(e,t){var n=e;if(this.enabled){var r=this.hot.toPhysicalColumn(t),i=this.columnWidthsMap.getValueAtIndex(r);this.hot.getSettings().manualColumnResize&&i&&(n=i)}return n}},{key:"onBeforeStretchingColumnWidth",value:function(e,t){var n=this.columnWidthsMap.getValueAtIndex(t);return null===n&&(n=e),n}},{key:"onBeforeColumnResize",value:function(){this.hot.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked()}},{key:"destroy",value:function(){FD($D(s.prototype),"destroy",this).call(this)}}],r=[{key:"PLUGIN_KEY",get:function(){return"manualColumnResize"}},{key:"PLUGIN_PRIORITY",get:function(){return 130}}],n&&ND(t.prototype,n),r&&ND(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($v);function GD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var KD="px",ZD=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hot=t,this._element=null,this.state=0}var t,n;return t=e,n=[{key:"appendTo",value:function(e){e.appendChild(this._element),this.state=2}},{key:"build",value:function(){0===this.state&&(this._element=this.hot.rootDocument.createElement("div"),this.state=1)}},{key:"destroy",value:function(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=0}},{key:"isAppended",value:function(){return 2===this.state}},{key:"isBuilt",value:function(){return this.state>=1}},{key:"setPosition",value:function(e,t){void 0!==e&&(this._element.style.top=e+KD),void 0!==t&&(this._element.style.left=t+KD)}},{key:"getPosition",value:function(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}}},{key:"setSize",value:function(e,t){e&&(this._element.style.width=e+KD),t&&(this._element.style.height=t+KD)}},{key:"getSize",value:function(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}},{key:"setOffset",value:function(e,t){e&&(this._element.style.marginTop=e+KD),t&&(this._element.style.marginLeft=t+KD)}},{key:"getOffset",value:function(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}}],n&&GD(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const XD=ZD;function JD(e){return JD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JD(e)}function QD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tE(){return tE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=nE(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},tE.apply(this,arguments)}function nE(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oE(e)););return e}function rE(e,t){return rE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rE(e,t)}function iE(e,t){if(t&&("object"===JD(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function oE(e){return oE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oE(e)}const aE=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rE(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=oE(r);if(i){var n=oE(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return iE(this,e)});function a(){return QD(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"build",value:function(){tE(oE(a.prototype),"build",this).call(this),Ht(this._element,"ht__manualRowMove--backlight")}}])&&eE(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(XD);function sE(e){return sE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sE(e)}function lE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cE(){return cE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=dE(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},cE.apply(this,arguments)}function dE(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pE(e)););return e}function hE(e,t){return hE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hE(e,t)}function fE(e,t){if(t&&("object"===sE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function pE(e){return pE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pE(e)}const mE=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hE(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=pE(r);if(i){var n=pE(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return fE(this,e)});function a(){return lE(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"build",value:function(){cE(pE(a.prototype),"build",this).call(this),Ht(this._element,"ht__manualRowMove--guideline")}}])&&uE(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(XD);function gE(e){return gE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gE(e)}function yE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vE(){return vE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=bE(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},vE.apply(this,arguments)}function bE(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=SE(e)););return e}function wE(e,t){return wE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wE(e,t)}function _E(e,t){if(t&&("object"===gE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kE(e)}function kE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SE(e){return SE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},SE(e)}rr.getSingleton().register("beforeRowMove"),rr.getSingleton().register("afterRowMove");var ME=new WeakMap,xE="ht__manualRowMove",OE="show-ui",CE="on-moving--rows",TE="after-selection--rows",RE=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wE(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=SE(i);if(o){var n=SE(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return _E(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=a.call(this,e),ME.set(kE(t),{rowsToMove:[],pressed:void 0,target:{eventPageY:void 0,coords:void 0,TD:void 0,row:void 0},cachedDropIndex:void 0}),t.eventManager=new kr(kE(t)),t.backlight=new aE(e),t.guideline=new mE(e),t}return t=s,n=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().manualRowMove}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.addHook("beforeOnCellMouseDown",(function(){return e.onBeforeOnCellMouseDown.apply(e,arguments)})),this.addHook("beforeOnCellMouseOver",(function(){return e.onBeforeOnCellMouseOver.apply(e,arguments)})),this.addHook("afterScrollHorizontally",(function(){return e.onAfterScrollHorizontally()})),this.addHook("afterLoadData",(function(){return e.onAfterLoadData.apply(e,arguments)})),this.buildPluginUI(),this.registerEvents(),Ht(this.hot.rootElement,xE),vE(SE(s.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),vE(SE(s.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){Nt(this.hot.rootElement,xE),this.unregisterEvents(),this.backlight.destroy(),this.guideline.destroy(),vE(SE(s.prototype),"disablePlugin",this).call(this)}},{key:"moveRow",value:function(e,t){return this.moveRows([e],t)}},{key:"moveRows",value:function(e,t){var n=ME.get(this),r=n.cachedDropIndex,i=this.isMovePossible(e,t),o=this.hot.runHooks("beforeRowMove",e,t,r,i);if(n.cachedDropIndex=void 0,!1!==o){i&&this.hot.rowIndexMapper.moveIndexes(e,t);var a=i&&this.isRowOrderChanged(e,t);return this.hot.runHooks("afterRowMove",e,t,r,i,a),a}}},{key:"dragRow",value:function(e,t){return this.dragRows([e],t)}},{key:"dragRows",value:function(e,t){var n=this.countFinalIndex(e,t);return ME.get(this).cachedDropIndex=t,this.moveRows(e,n)}},{key:"isMovePossible",value:function(e,t){var n=this.hot.rowIndexMapper.getNotTrimmedIndexesLength(),r=e.length+t>n,i=t<0,o=e.some((function(e){return e<0})),a=e.some((function(e){return e>=n}));return!(r||i||o||a)}},{key:"isRowOrderChanged",value:function(e,t){return e.some((function(e,n){return e-n!==t}))}},{key:"countFinalIndex",value:function(e,t){var n=z(e,(function(e,n){return n<t&&(e+=1),e}),0);return t-n}},{key:"getRowsHeight",value:function(e,t){for(var n=this.hot.rowIndexMapper,r=0,i=e;i<=t;i++){var o=n.getRenderableFromVisualIndex(i);null!==o&&(r+=this.hot.view._wt.wtTable.getRowHeight(o)||23)}return r}},{key:"moveBySettingsOrLoad",value:function(){var e=this.hot.getSettings().manualRowMove;if(Array.isArray(e))this.moveRows(e,0);else if(void 0!==e){var t=this.persistentStateLoad();t.length&&this.moveRows(t,0)}}},{key:"isFixedRowTop",value:function(e){return e<this.hot.getSettings().fixedRowsTop}},{key:"isFixedRowBottom",value:function(e){return e>this.hot.countRows()-1-this.hot.getSettings().fixedRowsBottom}},{key:"persistentStateSave",value:function(){this.hot.runHooks("persistentStateSave","manualRowMove",this.hot.rowIndexMapper.getIndexesSequence())}},{key:"persistentStateLoad",value:function(){var e={};return this.hot.runHooks("persistentStateLoad","manualRowMove",e),e.value?e.value:[]}},{key:"prepareRowsToMoving",value:function(){var e=this.hot.getSelectedRangeLast(),t=[];if(!e)return t;var n=e.from,r=e.to;return Wr(Math.min(n.row,r.row),Math.max(n.row,r.row),(function(e){t.push(e)})),t}},{key:"refreshPositions",value:function(){var e=ME.get(this),t=e.target.coords,n=this.hot.view.getFirstFullyVisibleRow(),r=this.hot.view.getLastFullyVisibleRow(),i=this.hot.countRows();this.isFixedRowTop(t.row)&&n>0&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(n-1,-1)),this.isFixedRowBottom(t.row)&&r<i&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(r+1,1),void 0,!0);var o=this.hot.view._wt.wtTable,a=e.target.TD,s=Vt(this.hot.rootElement),l=this.hot.view.THEAD.offsetHeight+this.getRowsHeight(0,t.row-1),u=e.target.eventPageY-s.top+o.holder.scrollTop,c=o.hider.offsetHeight,d=o.TBODY.offsetTop,h=this.backlight.getOffset().top,f=this.backlight.getSize().height;this.isFixedRowTop(t.row)&&(l+=o.holder.scrollTop),t.row<0?e.target.row=n>0?n-1:n:a.offsetHeight/2+l<=u?(e.target.row=t.row+1,l+=0===t.row?a.offsetHeight-1:a.offsetHeight):e.target.row=t.row;var p=u,m=l;u+f+h>=c?p=c-f-h:u+h<d&&(p=d+Math.abs(h)),l>=c-1&&(m=c-1),this.backlight.setPosition(p),this.guideline.setPosition(m)}},{key:"registerEvents",value:function(){var e=this,t=this.hot.rootDocument.documentElement;this.eventManager.addEventListener(t,"mousemove",(function(t){return e.onMouseMove(t)})),this.eventManager.addEventListener(t,"mouseup",(function(){return e.onMouseUp()}))}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"onBeforeOnCellMouseDown",value:function(e,t,n,r){var i=this.hot.view._wt,o=i.wtTable,a=i.wtViewport,s=this.hot.selection.isSelectedByRowHeader(),l=this.hot.getSelectedRangeLast(),u=ME.get(this);if(!l||!s||u.pressed||0!==e.button)return u.pressed=!1,u.rowsToMove.length=0,void Nt(this.hot.rootElement,[CE,OE]);var c=this.guideline.isBuilt()&&!this.guideline.isAppended(),d=this.backlight.isBuilt()&&!this.backlight.isAppended();c&&d&&(this.guideline.appendTo(o.hider),this.backlight.appendTo(o.hider));var h=l.from,f=l.to,p=Math.min(h.row,f.row),m=Math.max(h.row,f.row);if(t.col<0&&t.row>=p&&t.row<=m){r.row=!0,u.pressed=!0,u.target.eventPageY=e.pageY,u.target.coords=t,u.target.TD=n,u.rowsToMove=this.prepareRowsToMoving();var g=o.holder.scrollLeft+a.getRowHeaderWidth();this.backlight.setPosition(null,g),this.backlight.setSize(o.hider.offsetWidth-g,this.getRowsHeight(p,m)),this.backlight.setOffset(-1*(this.getRowsHeight(p,t.row-1)+e.offsetY),null),Ht(this.hot.rootElement,CE),this.refreshPositions()}else Nt(this.hot.rootElement,TE),u.pressed=!1,u.rowsToMove.length=0}},{key:"onMouseMove",value:function(e){var t=ME.get(this);if(t.pressed){if(e.target===this.backlight.element){var n=this.backlight.getSize().height;this.backlight.setSize(null,0),setTimeout((function(){this.backlight.setPosition(null,n)}))}t.target.eventPageY=e.pageY,this.refreshPositions()}}},{key:"onBeforeOnCellMouseOver",value:function(e,t,n,r){var i=this.hot.getSelectedRangeLast(),o=ME.get(this);i&&o.pressed&&(o.rowsToMove.indexOf(t.row)>-1?Nt(this.hot.rootElement,OE):Ht(this.hot.rootElement,OE),r.row=!0,r.column=!0,r.cell=!0,o.target.coords=t,o.target.TD=n)}},{key:"onMouseUp",value:function(){var e=ME.get(this),t=e.target.row,n=e.rowsToMove.length;if(e.pressed=!1,e.backlightHeight=0,Nt(this.hot.rootElement,[CE,OE,TE]),this.hot.selection.isSelectedByRowHeader()&&Ht(this.hot.rootElement,TE),!(n<1||void 0===t)){var r=e.rowsToMove[0],i=this.hot.toPhysicalRow(r),o=this.dragRows(e.rowsToMove,t);if(e.rowsToMove.length=0,!0===o){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize(!0);var a=this.hot.toVisualRow(i),s=a+n-1;this.hot.selectRows(a,s)}}}},{key:"onAfterScrollHorizontally",value:function(){var e=this.hot.view._wt.wtTable,t=this.hot.view._wt.wtViewport.getRowHeaderWidth()+e.holder.scrollLeft;this.backlight.setPosition(null,t),this.backlight.setSize(e.hider.offsetWidth-t)}},{key:"buildPluginUI",value:function(){this.backlight.build(),this.guideline.build()}},{key:"onAfterLoadData",value:function(){this.moveBySettingsOrLoad()}},{key:"destroy",value:function(){this.backlight.destroy(),this.guideline.destroy(),vE(SE(s.prototype),"destroy",this).call(this)}}],r=[{key:"PLUGIN_KEY",get:function(){return"manualRowMove"}},{key:"PLUGIN_PRIORITY",get:function(){return 140}}],n&&yE(t.prototype,n),r&&yE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($v);function DE(e){return DE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DE(e)}function EE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function AE(){return AE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=LE(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},AE.apply(this,arguments)}function LE(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=HE(e)););return e}function jE(e,t){return jE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jE(e,t)}function PE(e,t){if(t&&("object"===DE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return IE(e)}function IE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HE(e){return HE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},HE(e)}var NE,FE,YE,zE,BE="manualRowHeights",WE=new WeakMap,$E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jE(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=HE(i);if(o){var n=HE(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return PE(this,e)});function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var n=(t=a.call(this,e)).hot.rootDocument;return t.currentTH=null,t.currentRow=null,t.selectedRows=[],t.currentHeight=null,t.newSize=null,t.startY=null,t.startHeight=null,t.startOffset=null,t.handle=n.createElement("DIV"),t.guide=n.createElement("DIV"),t.eventManager=new kr(IE(t)),t.pressed=null,t.dblclick=0,t.autoresizeTimeout=null,t.rowHeightsMap=void 0,WE.set(IE(t),{config:void 0}),Ht(t.handle,"manualRowResizer"),Ht(t.guide,"manualRowResizerGuide"),t}return t=s,n=[{key:"inlineDir",get:function(){return this.hot.isRtl()?"right":"left"}},{key:"isEnabled",value:function(){return this.hot.getSettings().manualRowResize}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.rowHeightsMap=new lc,this.rowHeightsMap.addLocalHook("init",(function(){return e.onMapInit()})),this.hot.rowIndexMapper.registerMap(this.pluginName,this.rowHeightsMap),this.addHook("modifyRowHeight",(function(t,n){return e.onModifyRowHeight(t,n)})),this.bindEvents(),AE(HE(s.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),AE(HE(s.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){WE.get(this).config=this.rowHeightsMap.getValues(),this.hot.rowIndexMapper.unregisterMap(this.pluginName),AE(HE(s.prototype),"disablePlugin",this).call(this)}},{key:"saveManualRowHeights",value:function(){this.hot.runHooks("persistentStateSave",BE,this.rowHeightsMap.getValues())}},{key:"loadManualRowHeights",value:function(){var e={};return this.hot.runHooks("persistentStateLoad",BE,e),e.value}},{key:"setManualSize",value:function(e,t){var n=this.hot.toPhysicalRow(e),r=Math.max(t,zl.DEFAULT_HEIGHT);return this.rowHeightsMap.setValueAtIndex(n,r),r}},{key:"setupHandlePosition",value:function(e){var t=this;this.currentTH=e;var n=this.hot.view,r=n._wt,i=r.wtTable.getCoords(this.currentTH),o=i.row;if(!(o<0)){var a,s=nn(this.currentTH),l=this.currentTH.getBoundingClientRect(),u=o<r.getSetting("fixedRowsTop"),c=o>=n.countNotHiddenRowIndexes(0,1)-r.getSetting("fixedRowsBottom");u?a=r.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(this.currentTH,i.row,i.col):c&&(a=r.wtOverlays.bottomInlineStartCornerOverlay.getRelativeCellPosition(this.currentTH,i.row,i.col)),a||(a=r.wtOverlays.inlineStartOverlay.getRelativeCellPosition(this.currentTH,i.row,i.col)),this.currentRow=this.hot.rowIndexMapper.getVisualFromRenderableIndex(o),this.selectedRows=[];var d=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByRowHeader();this.hot.selection.isSelected()&&d&&$(this.hot.getSelectedRange(),(function(e){Wr(e.getTopStartCorner().row,e.getBottomStartCorner().row,(function(e){t.selectedRows.includes(e)||t.selectedRows.push(e)}))})),this.selectedRows.includes(this.currentRow)||(this.selectedRows=[this.currentRow]),this.startOffset=a.top-6,this.startHeight=parseInt(l.height,10),this.handle.style.top="".concat(this.startOffset+this.startHeight,"px"),this.handle.style[this.inlineDir]="".concat(a.start,"px"),this.handle.style.width="".concat(s,"px"),this.hot.rootElement.appendChild(this.handle)}}},{key:"refreshHandlePosition",value:function(){this.handle.style.top="".concat(this.startOffset+this.currentHeight,"px")}},{key:"setupGuidePosition",value:function(){var e=parseInt(nn(this.handle),10),t=parseInt(this.handle.style[this.inlineDir],10)+e,n=parseInt(this.hot.view.maximumVisibleElementWidth(0),10);Ht(this.handle,"active"),Ht(this.guide,"active"),this.guide.style.top=this.handle.style.top,this.guide.style[this.inlineDir]="".concat(t,"px"),this.guide.style.width="".concat(n-e,"px"),this.hot.rootElement.appendChild(this.guide)}},{key:"refreshGuidePosition",value:function(){this.guide.style.top=this.handle.style.top}},{key:"hideHandleAndGuide",value:function(){Nt(this.handle,"active"),Nt(this.guide,"active")}},{key:"checkIfRowHeader",value:function(e){var t,n;return Tt(e,["TH"],this.hot.rootElement)&&"TBODY"===(null===(t=e.parentNode)||void 0===t||null===(n=t.parentNode)||void 0===n?void 0:n.tagName)}},{key:"getClosestTHParent",value:function(e){return"TABLE"!==e.tagName?"TH"===e.tagName?e:this.getClosestTHParent(e.parentNode):null}},{key:"getActualRowHeight",value:function(e){var t=this.hot.view._wt.wtTable.getRowHeight(e);return void 0!==t&&this.newSize<t?t:this.newSize}},{key:"onMouseOver",value:function(e){if(!Mn(e.target)&&this.checkIfRowHeader(e.target)){var t=this.getClosestTHParent(e.target);t&&(this.pressed||this.setupHandlePosition(t))}}},{key:"afterMouseDownTimeout",value:function(){var e=this,t=function(){e.hot.forceFullRender=!0,e.hot.view.render(),e.hot.view.adjustElementsSize(!0)},n=function(n,r){var i=e.hot.runHooks("beforeRowResize",e.getActualRowHeight(n),n,!0);void 0!==i&&(e.newSize=i),e.setManualSize(n,e.newSize),e.hot.runHooks("afterRowResize",e.getActualRowHeight(n),n,!0),r&&t()};this.dblclick>=2&&(this.selectedRows.length>1?($(this.selectedRows,(function(e){n(e)})),t()):$(this.selectedRows,(function(e){n(e,!0)}))),this.dblclick=0,this.autoresizeTimeout=null}},{key:"onMouseDown",value:function(e){var t=this;It(e.target,"manualRowResizer")&&(this.setupHandlePosition(this.currentTH),this.setupGuidePosition(),this.pressed=!0,null===this.autoresizeTimeout&&(this.autoresizeTimeout=setTimeout((function(){return t.afterMouseDownTimeout()}),500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick+=1,this.startY=e.pageY,this.newSize=this.startHeight)}},{key:"onMouseMove",value:function(e){var t=this;this.pressed&&(this.currentHeight=this.startHeight+(e.pageY-this.startY),$(this.selectedRows,(function(e){t.newSize=t.setManualSize(e,t.currentHeight)})),this.refreshHandlePosition(),this.refreshGuidePosition())}},{key:"onMouseUp",value:function(){var e=this,t=function(){e.hot.forceFullRender=!0,e.hot.view.render(),e.hot.view.adjustElementsSize(!0)},n=function(n,r){e.hot.runHooks("beforeRowResize",e.getActualRowHeight(n),n,!1),r&&t(),e.saveManualRowHeights(),e.hot.runHooks("afterRowResize",e.getActualRowHeight(n),n,!1)};this.pressed&&(this.hideHandleAndGuide(),this.pressed=!1,this.newSize!==this.startHeight&&(this.selectedRows.length>1?($(this.selectedRows,(function(e){n(e)})),t()):$(this.selectedRows,(function(e){n(e,!0)}))),this.setupHandlePosition(this.currentTH))}},{key:"bindEvents",value:function(){var e=this,t=this.hot,n=t.rootElement,r=t.rootWindow;this.eventManager.addEventListener(n,"mouseover",(function(t){return e.onMouseOver(t)})),this.eventManager.addEventListener(n,"mousedown",(function(t){return e.onMouseDown(t)})),this.eventManager.addEventListener(r,"mousemove",(function(t){return e.onMouseMove(t)})),this.eventManager.addEventListener(r,"mouseup",(function(){return e.onMouseUp()}))}},{key:"onModifyRowHeight",value:function(e,t){var n=e;if(this.enabled){var r=this.hot.toPhysicalRow(t),i=this.rowHeightsMap.getValueAtIndex(r);this.hot.getSettings().manualRowResize&&i&&(n=i)}return n}},{key:"onMapInit",value:function(){var e=this,t=WE.get(this),n=this.hot.getSettings().manualRowResize,r=this.loadManualRowHeights();this.hot.batchExecution((function(){void 0!==r?r.forEach((function(t,n){e.rowHeightsMap.setValueAtIndex(n,t)})):Array.isArray(n)?(n.forEach((function(t,n){e.rowHeightsMap.setValueAtIndex(n,t)})),t.config=n):!0===n&&Array.isArray(t.config)&&t.config.forEach((function(t,n){e.rowHeightsMap.setValueAtIndex(n,t)}))}),!0)}},{key:"destroy",value:function(){AE(HE(s.prototype),"destroy",this).call(this)}}],r=[{key:"PLUGIN_KEY",get:function(){return"manualRowResize"}},{key:"PLUGIN_PRIORITY",get:function(){return 30}}],n&&EE(t.prototype,n),r&&EE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($v);function UE(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function VE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var qE=function(){function e(t,n,r,i,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.row=t,this.col=n,this.rowspan=r,this.colspan=i,this.removed=!1,this.cellCoordsFactory=o,this.cellRangeFactory=a}var t,n,r;return t=e,n=[{key:"normalize",value:function(e){var t=e.countRows(),n=e.countCols();this.row<0?this.row=0:this.row>t-1&&(this.row=t-1),this.col<0?this.col=0:this.col>n-1&&(this.col=n-1),this.row+this.rowspan>t-1&&(this.rowspan=t-this.row),this.col+this.colspan>n-1&&(this.colspan=n-this.col)}},{key:"includes",value:function(e,t){return this.row<=e&&this.col<=t&&this.row+this.rowspan-1>=e&&this.col+this.colspan-1>=t}},{key:"includesHorizontally",value:function(e){return this.col<=e&&this.col+this.colspan-1>=e}},{key:"includesVertically",value:function(e){return this.row<=e&&this.row+this.rowspan-1>=e}},{key:"shift",value:function(e,t){var n=e[0]||e[1],r=t+Math.abs(e[0]||e[1])-1,i=e[0]?"colspan":"rowspan",o=e[0]?"col":"row",a=Math.min(t,r),s=Math.max(t,r),l=this[o],u=this[o]+this[i]-1;if(l>=t&&(this[o]+=n),n>0)t<=u&&t>l&&(this[i]+=n);else if(n<0){if(a<=l&&s>=u)return this.removed=!0,!1;if(l>=a&&l<=s){var c=s-l+1,d=Math.abs(n)-c;this[o]-=d+n,this[i]-=c}else if(l<=a&&u>=s)this[i]+=n;else if(l<=a&&u>=a&&u<s){var h=u-a+1;this[i]-=h}}return!0}},{key:"isFarther",value:function(e,t){return!e||("down"===t?e.row+e.rowspan-1<this.row+this.rowspan-1:"up"===t?e.row>this.row:"right"===t?e.col+e.colspan-1<this.col+this.colspan-1:"left"===t?e.col>this.col:null)}},{key:"getLastRow",value:function(){return this.row+this.rowspan-1}},{key:"getLastColumn",value:function(){return this.col+this.colspan-1}},{key:"getRange",value:function(){return this.cellRangeFactory(this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.getLastRow(),this.getLastColumn()))}}],r=[{key:"NEGATIVE_VALUES_WARNING",value:function(e){return Ge(NE||(NE=UE(["The merged cell declared with {row: ",", col: ",", \n      rowspan: ",", colspan: ","} contains negative values, which is \n      not supported. It will not be added to the collection."],["The merged cell declared with {row: ",", col: ",",\\x20\n      rowspan: ",", colspan: ","} contains negative values, which is\\x20\n      not supported. It will not be added to the collection."])),e.row,e.col,e.rowspan,e.colspan)}},{key:"IS_OUT_OF_BOUNDS_WARNING",value:function(e){return Ge(FE||(FE=UE(["The merged cell declared at [",", ","] is positioned \n      (or positioned partially) outside of the table range. It was not added to the table, please fix your setup."],["The merged cell declared at [",", ","] is positioned\\x20\n      (or positioned partially) outside of the table range. It was not added to the table, please fix your setup."])),e.row,e.col)}},{key:"IS_SINGLE_CELL",value:function(e){return Ge(YE||(YE=UE(["The merged cell declared at [",", ",'] has both "rowspan" \n      and "colspan" declared as "1", which makes it a single cell. It cannot be added to the collection.'],["The merged cell declared at [",", ",'] has both "rowspan"\\x20\n      and "colspan" declared as "1", which makes it a single cell. It cannot be added to the collection.'])),e.row,e.col)}},{key:"ZERO_SPAN_WARNING",value:function(e){return Ge(zE||(zE=UE(["The merged cell declared at [",", ",'] has "rowspan" \n      or "colspan" declared as "0", which is not supported. It cannot be added to the collection.'],["The merged cell declared at [",", ",'] has "rowspan"\\x20\n      or "colspan" declared as "0", which is not supported. It cannot be added to the collection.'])),e.row,e.col)}},{key:"containsNegativeValues",value:function(e){return e.row<0||e.col<0||e.rowspan<0||e.colspan<0}},{key:"isSingleCell",value:function(e){return 1===e.colspan&&1===e.rowspan}},{key:"containsZeroSpan",value:function(e){return 0===e.colspan||0===e.rowspan}},{key:"isOutOfBounds",value:function(e,t,n){return e.row<0||e.col<0||e.row>=t||e.row+e.rowspan-1>=t||e.col>=n||e.col+e.colspan-1>=n}}],n&&VE(t.prototype,n),r&&VE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();const GE=qE;function KE(e,t,n,r){t?t.row===n&&t.col===r?(e.setAttribute("rowspan",t.rowspan.toString()),e.setAttribute("colspan",t.colspan.toString())):(e.removeAttribute("rowspan"),e.removeAttribute("colspan"),e.style.display="none"):(e.removeAttribute("rowspan"),e.removeAttribute("colspan"),e.style.display="")}var ZE;function XE(e){return function(e){if(Array.isArray(e))return JE(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return JE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?JE(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function QE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var eA=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.plugin=t,this.mergedCells=[],this.hot=t.hot}var t,n,r;return t=e,n=[{key:"get",value:function(e,t){var n=this.mergedCells,r=!1;return $(n,(function(n){return!(n.row<=e&&n.row+n.rowspan-1>=e&&n.col<=t&&n.col+n.colspan-1>=t&&(r=n,1))})),r}},{key:"getByRange",value:function(e){var t=this.mergedCells,n=!1;return $(t,(function(t){return!(t.row<=e.from.row&&t.row+t.rowspan-1>=e.to.row&&t.col<=e.from.col&&t.col+t.colspan-1>=e.to.col)||(n=t)})),n}},{key:"getWithinRange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.mergedCells,i=[],o=e;if(!o.includesRange){var a=this.hot._createCellCoords(o.from.row,o.from.col),s=this.hot._createCellCoords(o.to.row,o.to.col);o=this.hot._createCellRange(a,a,s)}return $(r,(function(e){var r=t.hot._createCellCoords(e.row,e.col),a=t.hot._createCellCoords(e.row+e.rowspan-1,e.col+e.colspan-1),s=t.hot._createCellRange(r,r,a);n?o.overlaps(s)&&i.push(e):o.includesRange(s)&&i.push(e)})),!!i.length&&i}},{key:"add",value:function(t){var n=this.mergedCells,r=t.row,i=t.col,o=t.rowspan,a=t.colspan,s=new GE(r,i,o,a,this.hot._createCellCoords,this.hot._createCellRange),l=this.get(r,i),u=this.isOverlapping(s);return l||u?(Vn(e.IS_OVERLAPPING_WARNING(s)),!1):(this.hot&&s.normalize(this.hot),n.push(s),s)}},{key:"remove",value:function(e,t){var n=this.mergedCells,r=this.get(e,t),i=r?this.mergedCells.indexOf(r):-1;return!(!r||-1===i)&&(n.splice(i,1),r)}},{key:"clear",value:function(){var e=this,t=this.mergedCells,n=[],r=[];$(t,(function(t){var r=e.hot.getCell(t.row,t.col);r&&n.push([r,e.get(t.row,t.col),t.row,t.col])})),this.mergedCells.length=0,$(n,(function(t,i){Wr(0,t.rowspan-1,(function(n){Wr(0,t.colspan-1,(function(i){if(0!==i||0!==n){var o=e.hot.getCell(t.row+n,t.col+i);o&&r.push([o,null,null,null])}}))})),n[i][1]=null})),$(n,(function(e){KE.apply(void 0,XE(e))})),$(r,(function(e){KE.apply(void 0,XE(e))}))}},{key:"isOverlapping",value:function(e){var t=this,n=this.hot._createCellRange(this.hot._createCellCoords(0,0),this.hot._createCellCoords(e.row,e.col),this.hot._createCellCoords(e.row+e.rowspan-1,e.col+e.colspan-1)),r=!1;return $(this.mergedCells,(function(e){return!t.hot._createCellRange(t.hot._createCellCoords(0,0),t.hot._createCellCoords(e.row,e.col),t.hot._createCellCoords(e.row+e.rowspan-1,e.col+e.colspan-1)).overlaps(n)||(r=!0,!1)})),r}},{key:"isFirstRenderableMergedCell",value:function(e,t){var n=this.get(e,t);return n&&this.hot.rowIndexMapper.getNearestNotHiddenIndex(n.row,1)===e&&this.hot.columnIndexMapper.getNearestNotHiddenIndex(n.col,1)===t}},{key:"getFirstRenderableCoords",value:function(e,t){var n=this.get(e,t);if(!n||this.isFirstRenderableMergedCell(e,t))return this.hot._createCellCoords(e,t);var r=this.hot.rowIndexMapper.getNearestNotHiddenIndex(n.row,1),i=this.hot.columnIndexMapper.getNearestNotHiddenIndex(n.col,1);return this.hot._createCellCoords(r,i)}},{key:"shiftCollections",value:function(e,t,n){var r=this,i=[0,0];switch(e){case"right":i[0]+=n;break;case"left":i[0]-=n;break;case"down":i[1]+=n;break;case"up":i[1]-=n}$(this.mergedCells,(function(e){e.shift(i,t)})),$r(this.mergedCells.length-1,0,(function(e){var t=r.mergedCells[e];t&&t.removed&&r.mergedCells.splice(r.mergedCells.indexOf(t),1)}))}}],r=[{key:"IS_OVERLAPPING_WARNING",value:function(e){return Ge(ZE||(ZE=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["The merged cell declared at [",", ","], overlaps \n      with the other declared merged cell. The overlapping merged cell was not added to the table, please \n      fix your setup."],["The merged cell declared at [",", ","], overlaps\\x20\n      with the other declared merged cell. The overlapping merged cell was not added to the table, please\\x20\n      fix your setup."])),e.row,e.col)}}],n&&QE(t.prototype,n),r&&QE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();const tA=eA;function nA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rA(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var oA=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.plugin=t,this.mergedCellsCollection=this.plugin.mergedCellsCollection,this.currentFillData=null}var t,n;return t=e,n=[{key:"correctSelectionAreaSize",value:function(e){if(e[0]===e[2]&&e[1]===e[3]){var t=this.mergedCellsCollection.get(e[0],e[1]);t&&(e[2]=e[0]+t.rowspan-1,e[3]=e[1]+t.colspan-1)}}},{key:"getDirection",value:function(e,t){return t[0]===e[0]&&t[1]===e[1]&&t[3]===e[3]?"down":t[2]===e[2]&&t[1]===e[1]&&t[3]===e[3]?"up":t[1]===e[1]&&t[2]===e[2]?"right":"left"}},{key:"snapDragArea",value:function(e,t,n,r){var i=t.slice(0),o=this.getAutofillSize(e,t,n),a=nA(e,4),s=a[0],l=a[1],u=a[2],c=a[3],d=["up","down"].indexOf(n)>-1?u-s+1:c-l+1,h=o-Math.floor(o/d)*d,f=this.getFarthestCollection(e,t,n,r);if(f)if("down"===n){var p=f.row+f.rowspan-s-h;i[2]+p>=this.plugin.hot.countRows()?i[2]-=h:i[2]+=h?p:0}else if("right"===n){var m=f.col+f.colspan-l-h;i[3]+m>=this.plugin.hot.countCols()?i[3]-=h:i[3]+=h?m:0}else if("up"===n){var g=u-h-f.row+1;i[0]+g<0?i[0]+=h:i[0]-=h?g:0}else if("left"===n){var y=c-h-f.col+1;i[1]+y<0?i[1]+=h:i[1]-=h?y:0}return this.updateCurrentFillCache({baseArea:e,dragDirection:n,foundMergedCells:r,fillSize:o,dragArea:i,cycleLength:d}),i}},{key:"updateCurrentFillCache",value:function(e){this.currentFillData||(this.currentFillData={}),oe(this.currentFillData,e)}},{key:"getAutofillSize",value:function(e,t,n){var r=nA(e,4),i=r[0],o=r[1],a=r[2],s=r[3],l=nA(t,4),u=l[0],c=l[1],d=l[2],h=l[3];switch(n){case"up":return i-u;case"down":return d-a;case"left":return o-c;case"right":return h-s;default:return null}}},{key:"getDragArea",value:function(e,t,n){var r=nA(e,4),i=r[0],o=r[1],a=r[2],s=r[3],l=nA(t,4),u=l[0],c=l[1],d=l[2],h=l[3];switch(n){case"up":return[u,c,i-1,s];case"down":return[a+1,o,d,s];case"left":return[u,c,a,o-1];case"right":return[i,s+1,d,h];default:return null}}},{key:"getFarthestCollection",value:function(e,t,n,r){var i=nA(e,4),o=i[0],a=i[1],s=i[2],l=i[3],u=["up","down"].indexOf(n)>-1,c=u?s:l,d=u?o:a,h=this.getAutofillSize(e,t,n),f=u?s-o+1:l-a+1,p=h-Math.floor(h/f)*f,m=null,g=null,y=null;switch(n){case"up":m="includesVertically",y=c-p+1;break;case"left":m="includesHorizontally",y=c-p+1;break;case"down":m="includesVertically",y=d+p-1;break;case"right":m="includesHorizontally",y=d+p-1}return $(r,(function(e){e[m](y)&&e.isFarther(g,n)&&(g=e)})),g}},{key:"recreateAfterDataPopulation",value:function(e){if(this.currentFillData){var t=this.getRangeFromChanges(e),n=this.currentFillData.foundMergedCells,r=this.currentFillData.dragDirection,i=function(e,n){switch(r){case"up":return e.row-n>=t.from.row;case"down":return e.row+e.rowspan-1+n<=t.to.row;case"left":return e.col-n>=t.from.column;case"right":return e.col+e.colspan-1+n<=t.to.column;default:return null}},o=0,a=null,s=1;do{for(var l=0;l<n.length;l+=1){if(i(a=n[l],o=s*this.currentFillData.cycleLength))switch(r){case"up":this.plugin.mergedCellsCollection.add({row:a.row-o,rowspan:a.rowspan,col:a.col,colspan:a.colspan});break;case"down":this.plugin.mergedCellsCollection.add({row:a.row+o,rowspan:a.rowspan,col:a.col,colspan:a.colspan});break;case"left":this.plugin.mergedCellsCollection.add({row:a.row,rowspan:a.rowspan,col:a.col-o,colspan:a.colspan});break;case"right":this.plugin.mergedCellsCollection.add({row:a.row,rowspan:a.rowspan,col:a.col+o,colspan:a.colspan})}l===n.length-1&&(s+=1)}}while(i(a,o));this.currentFillData=null,this.plugin.hot.render()}}},{key:"getRangeFromChanges",value:function(e){var t=this,n={min:null,max:null},r={min:null,max:null};return $(e,(function(e){var i=e[0],o=t.plugin.hot.propToCol(e[1]);(null===n.min||i<n.min)&&(n.min=i),(null===n.max||i>n.max)&&(n.max=i),(null===r.min||o<r.min)&&(r.min=o),(null===r.max||o>r.max)&&(r.max=o)})),{from:{row:n.min,column:r.min},to:{row:n.max,column:r.max}}}},{key:"dragAreaOverlapsCollections",value:function(e,t,n){var r=nA(this.getDragArea(e,t,n),4),i=r[0],o=r[1],a=r[2],s=r[3],l=this.plugin.hot._createCellCoords(i,o),u=this.plugin.hot._createCellCoords(a,s),c=this.plugin.hot._createCellRange(l,l,u);return!!this.mergedCellsCollection.getWithinRange(c,!0)}}],n&&iA(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const aA=oA;function sA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var lA=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.plugin=t,this.hot=t.hot,this.fullySelectedMergedCellClassName="fullySelectedMergedCell"}var t,n;return t=e,n=[{key:"snapDelta",value:function(e,t,n){var r=t.to,i=r.row+e.row,o=r.col+e.col;e.row?this.jumpOverMergedCell(e,n,i):e.col&&this.jumpOverMergedCell(e,n,o)}},{key:"jumpOverMergedCell",value:function(e,t,n){var r=e.row||e.col,i=null,o=null,a=null;e.row?(i=t.includesVertically(n),o=t.row,a=t.getLastRow()):e.col&&(i=t.includesHorizontally(n),o=t.col,a=t.getLastColumn()),0!==r&&(r>0?i&&n!==o&&(r+=a-n+1):i&&n!==a&&(r-=n-o+1),e.row?e.row=r:e.col&&(e.col=r))}},{key:"getUpdatedSelectionRange",value:function(e,t){return this.hot._createCellRange(e.highlight,e.from,this.hot._createCellCoords(e.to.row+t.row,e.to.col+t.col))}},{key:"getSelectedMergedCellClassName",value:function(e,t,n,r){var i=Math.min(n[0],n[2]),o=Math.min(n[1],n[3]),a=Math.max(n[0],n[2]),s=Math.max(n[1],n[3]);if(void 0!==r&&this.plugin.mergedCellsCollection.isFirstRenderableMergedCell(e,t)){var l=this.plugin.mergedCellsCollection.get(e,t);if(l){var u=l.getLastRow(),c=l.getLastColumn();return i<=l.row&&o<=l.col&&a>=u&&s>=c?"".concat(this.fullySelectedMergedCellClassName,"-").concat(r):this.plugin.selectionCalculations.isMergeCellFullySelected(l,this.plugin.hot.getSelectedRange())?"".concat(this.fullySelectedMergedCellClassName,"-multiple"):void 0}}}},{key:"isMergeCellFullySelected",value:function(e,t){var n=[];if(!t||!e)return!1;for(var r=0;r<e.rowspan;r+=1)for(var i=0;i<e.colspan;i+=1)n.push(this.hot._createCellCoords(e.row+r,e.col+i));for(var o=0;o<n.length;o+=1){for(var a=[],s=0;s<t.length;s+=1)a[s]=t[s].includes(n[o]);if(!a.includes(!0))return!1}return!0}},{key:"getSelectedMergedCellClassNameToRemove",value:function(){for(var e=[],t=0;t<=7;t+=1)e.push("".concat(this.fullySelectedMergedCellClassName,"-").concat(t));return e.push("".concat(this.fullySelectedMergedCellClassName,"-multiple")),e}}],n&&sA(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const uA=lA;function cA(e){return cA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cA(e)}function dA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||fA(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hA(e){return function(e){if(Array.isArray(e))return pA(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||fA(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fA(e,t){if(e){if("string"==typeof e)return pA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pA(e,t):void 0}}function pA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gA(){return gA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=yA(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},gA.apply(this,arguments)}function yA(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_A(e)););return e}function vA(e,t){return vA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vA(e,t)}function bA(e,t){if(t&&("object"===cA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wA(e)}function wA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _A(e){return _A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_A(e)}rr.getSingleton().register("beforeMergeCells"),rr.getSingleton().register("afterMergeCells"),rr.getSingleton().register("beforeUnmergeCells"),rr.getSingleton().register("afterUnmergeCells");var kA,SA="mergeCells",MA=new WeakMap,xA=SA,OA=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vA(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_A(i);if(o){var n=_A(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return bA(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=a.call(this,e),MA.set(wA(t),{lastDesiredCoords:null}),t.mergedCellsCollection=null,t.autofillCalculations=null,t.selectionCalculations=null,t}return t=s,n=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().mergeCells}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.mergedCellsCollection=new tA(this),this.autofillCalculations=new aA(this),this.selectionCalculations=new uA(this),this.addHook("afterInit",(function(){return e.onAfterInit.apply(e,arguments)})),this.addHook("modifyTransformStart",(function(){return e.onModifyTransformStart.apply(e,arguments)})),this.addHook("afterModifyTransformStart",(function(){return e.onAfterModifyTransformStart.apply(e,arguments)})),this.addHook("modifyTransformEnd",(function(){return e.onModifyTransformEnd.apply(e,arguments)})),this.addHook("modifyGetCellCoords",(function(){return e.onModifyGetCellCoords.apply(e,arguments)})),this.addHook("beforeSetRangeStart",(function(){return e.onBeforeSetRangeStart.apply(e,arguments)})),this.addHook("beforeSetRangeStartOnly",(function(){return e.onBeforeSetRangeStart.apply(e,arguments)})),this.addHook("beforeSetRangeEnd",(function(){return e.onBeforeSetRangeEnd.apply(e,arguments)})),this.addHook("afterIsMultipleSelection",(function(){return e.onAfterIsMultipleSelection.apply(e,arguments)})),this.addHook("afterRenderer",(function(){return e.onAfterRenderer.apply(e,arguments)})),this.addHook("afterContextMenuDefaultOptions",(function(){return e.addMergeActionsToContextMenu.apply(e,arguments)})),this.addHook("afterGetCellMeta",(function(){return e.onAfterGetCellMeta.apply(e,arguments)})),this.addHook("afterViewportRowCalculatorOverride",(function(){return e.onAfterViewportRowCalculatorOverride.apply(e,arguments)})),this.addHook("afterViewportColumnCalculatorOverride",(function(){return e.onAfterViewportColumnCalculatorOverride.apply(e,arguments)})),this.addHook("modifyAutofillRange",(function(){return e.onModifyAutofillRange.apply(e,arguments)})),this.addHook("afterCreateCol",(function(){return e.onAfterCreateCol.apply(e,arguments)})),this.addHook("afterRemoveCol",(function(){return e.onAfterRemoveCol.apply(e,arguments)})),this.addHook("afterCreateRow",(function(){return e.onAfterCreateRow.apply(e,arguments)})),this.addHook("afterRemoveRow",(function(){return e.onAfterRemoveRow.apply(e,arguments)})),this.addHook("afterChange",(function(){return e.onAfterChange.apply(e,arguments)})),this.addHook("beforeDrawBorders",(function(){return e.onBeforeDrawAreaBorders.apply(e,arguments)})),this.addHook("afterDrawSelection",(function(){return e.onAfterDrawSelection.apply(e,arguments)})),this.addHook("beforeRemoveCellClassNames",(function(){return e.onBeforeRemoveCellClassNames.apply(e,arguments)})),this.addHook("beforeUndoStackChange",(function(e,t){if("MergeCells"===t)return!1})),this.registerShortcuts(),gA(_A(s.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.clearCollections(),this.unregisterShortcuts(),this.hot.render(),gA(_A(s.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){var e=this.hot.getSettings().mergeCells;this.disablePlugin(),this.enablePlugin(),this.generateFromSettings(e),gA(_A(s.prototype),"updatePlugin",this).call(this)}},{key:"validateSetting",value:function(e){var t=!0;return!!e&&(GE.containsNegativeValues(e)?(Vn(GE.NEGATIVE_VALUES_WARNING(e)),t=!1):GE.isOutOfBounds(e,this.hot.countRows(),this.hot.countCols())?(Vn(GE.IS_OUT_OF_BOUNDS_WARNING(e)),t=!1):GE.isSingleCell(e)?(Vn(GE.IS_SINGLE_CELL(e)),t=!1):GE.containsZeroSpan(e)&&(Vn(GE.ZERO_SPAN_WARNING(e)),t=!1),t)}},{key:"generateFromSettings",value:function(e){var t=this;if(Array.isArray(e)){var n,r=[];$(e,(function(e){if(t.validateSetting(e)){var n=t.hot._createCellCoords(e.row,e.col),i=t.hot._createCellCoords(e.row+e.rowspan-1,e.col+e.colspan-1),o=t.hot._createCellRange(n,n,i);r.push(t.mergeRange(o,!0,!0))}})),r=r.filter((function(e){return!0!==e}));var i=this.getBulkCollectionData(r);(n=this.hot).populateFromArray.apply(n,hA(i))}}},{key:"getBulkCollectionData",value:function(e){var t,n=this.getBulkCollectionDataRange(e),r=(t=this.hot).getData.apply(t,hA(n)).splice(0);return $(e,(function(e){var t=dA(e,3),i=t[0],o=t[1];$(t[2],(function(e,t){$(e,(function(e,a){r[i-n[0]+t][o-n[1]+a]=e}))}))})),[n[0],n[1],r]}},{key:"getBulkCollectionDataRange",value:function(e){var t=[0,0],n=[0,0],r=null,i=null,o=null;return $(e,(function(e){r=e[0],i=e[1],o=e[2],t[0]=Math.min(r,t[0]),t[1]=Math.min(i,t[1]),n[0]=Math.max(r+o.length-1,n[0]),n[1]=Math.max(i+o[0].length-1,n[1])})),[].concat(t,n)}},{key:"clearCollections",value:function(){this.mergedCellsCollection.clear()}},{key:"canMergeRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!t||this.validateSetting(e)}},{key:"toggleMergeOnSelection",value:function(){var e=this.hot.getSelectedRangeLast();if(e){e.setDirection(this.hot.isRtl()?"NE-SW":"NW-SE");var t=e.from,n=e.to;this.toggleMerge(e),this.hot.selectCell(t.row,t.col,n.row,n.col,!1)}}},{key:"mergeSelection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hot.getSelectedRangeLast();if(e){e.setDirection(this.hot.isRtl()?"NE-SW":"NW-SE");var t=e.from,n=e.to;this.unmergeRange(e,!0),this.mergeRange(e),this.hot.selectCell(t.row,t.col,n.row,n.col,!1)}}},{key:"unmergeSelection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hot.getSelectedRangeLast();if(e){var t=e.from,n=e.to;this.unmergeRange(e,!0),this.hot.selectCell(t.row,t.col,n.row,n.col,!1)}}},{key:"mergeRange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.getTopStartCorner(),o=e.getBottomEndCorner(),a={row:i.row,col:i.col,rowspan:o.row-i.row+1,colspan:o.col-i.col+1},s=[],l=null;if(!this.canMergeRange(a,n))return!1;this.hot.runHooks("beforeMergeCells",e,n),Wr(0,a.rowspan-1,(function(e){Wr(0,a.colspan-1,(function(n){var r=null;s[e]||(s[e]=[]),0===e&&0===n?r=t.hot.getDataAtCell(a.row,a.col):t.hot.setCellMeta(a.row+e,a.col+n,"hidden",!0),s[e][n]=r}))})),this.hot.setCellMeta(a.row,a.col,"spanned",!0);var u=this.mergedCellsCollection.add(a);return!u||(r?l=[a.row,a.col,s]:this.hot.populateFromArray(a.row,a.col,s,void 0,void 0,this.pluginName),this.hot.runHooks("afterMergeCells",e,a,n),l)}},{key:"unmergeRange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.mergedCellsCollection.getWithinRange(e);r&&(this.hot.runHooks("beforeUnmergeCells",e,n),$(r,(function(e){t.mergedCellsCollection.remove(e.row,e.col),Wr(0,e.rowspan-1,(function(n){Wr(0,e.colspan-1,(function(r){t.hot.removeCellMeta(e.row+n,e.col+r,"hidden")}))})),t.hot.removeCellMeta(e.row,e.col,"spanned")})),this.hot.runHooks("afterUnmergeCells",e,n),this.hot.render())}},{key:"toggleMerge",value:function(e){var t=this.mergedCellsCollection.get(e.from.row,e.from.col);t.row===e.from.row&&t.col===e.from.col&&t.row+t.rowspan-1===e.to.row&&t.col+t.colspan-1===e.to.col?this.unmergeRange(e):this.mergeSelection(e)}},{key:"merge",value:function(e,t,n,r){var i=this.hot._createCellCoords(e,t),o=this.hot._createCellCoords(n,r);this.mergeRange(this.hot._createCellRange(i,i,o))}},{key:"unmerge",value:function(e,t,n,r){var i=this.hot._createCellCoords(e,t),o=this.hot._createCellCoords(n,r);this.unmergeRange(this.hot._createCellRange(i,i,o))}},{key:"onAfterInit",value:function(){this.generateFromSettings(this.hot.getSettings().mergeCells),this.hot.render()}},{key:"registerShortcuts",value:function(){var e=this;this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Control","m"]],callback:function(){e.toggleMerge(e.hot.getSelectedRangeLast()),e.hot.render()},runOnlyIf:function(e){return!e.altKey},group:xA})}},{key:"unregisterShortcuts",value:function(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(xA)}},{key:"onAfterIsMultipleSelection",value:function(e){if(e)for(var t=this.mergedCellsCollection.mergedCells,n=this.hot.getSelectedRangeLast(),r=0;r<t.length;r+=1)if(n.from.row===t[r].row&&n.from.col===t[r].col&&n.to.row===t[r].row+t[r].rowspan-1&&n.to.col===t[r].col+t[r].colspan-1)return!1;return e}},{key:"onModifyTransformStart",value:function(e){var t,n=MA.get(this),r=this.hot.getSelectedRangeLast(),i={row:e.row,col:e.col},o=this.hot._createCellCoords(r.highlight.row,r.highlight.col),a=this.mergedCellsCollection.get(o.row,o.col);if(n.lastDesiredCoords||(n.lastDesiredCoords=this.hot._createCellCoords(null,null)),a){var s=this.hot._createCellCoords(a.row,a.col),l=this.hot._createCellCoords(a.row+a.rowspan-1,a.col+a.colspan-1);this.hot._createCellRange(s,s,l).includes(n.lastDesiredCoords)||(n.lastDesiredCoords=this.hot._createCellCoords(null,null)),i.row=n.lastDesiredCoords.row?n.lastDesiredCoords.row-o.row:i.row,i.col=n.lastDesiredCoords.col?n.lastDesiredCoords.col-o.col:i.col,e.row>0?i.row=a.row+a.rowspan-1-o.row+e.row:e.row<0&&(i.row=o.row-a.row+e.row),e.col>0?i.col=a.col+a.colspan-1-o.col+e.col:e.col<0&&(i.col=o.col-a.col+e.col)}t=this.hot._createCellCoords(r.highlight.row+i.row,r.highlight.col+i.col);var u=this.mergedCellsCollection.get(t.row,t.col);if(u){var c=this.mergedCellsCollection.getFirstRenderableCoords(u.row,u.col);n.lastDesiredCoords=t,i={row:c.row-o.row,col:c.col-o.col}}0!==i.row&&(e.row=i.row),0!==i.col&&(e.col=i.col)}},{key:"onModifyTransformEnd",value:function(e){var t=this,n=this.hot.getSelectedRangeLast(),r=le(e),i=this.selectionCalculations.getUpdatedSelectionRange(n,e),o=le(r),a=this.mergedCellsCollection.getWithinRange(i,!0);do{o=le(r),this.selectionCalculations.getUpdatedSelectionRange(n,r),$(a,(function(e){t.selectionCalculations.snapDelta(r,n,e)}))}while(r.row!==o.row||r.col!==o.col);e.row=r.row,e.col=r.col}},{key:"onModifyGetCellCoords",value:function(e,t){if(!(e<0||t<0)){var n=this.mergedCellsCollection.get(e,t);if(n){var r=n.row,i=n.col,o=n.colspan;return[r,i,r+n.rowspan-1,i+o-1]}}}},{key:"addMergeActionsToContextMenu",value:function(e){var t;e.items.push({name:"---------"},(t=this,{key:"mergeCells",name:function(){var e=this.getSelectedLast();if(e){var n=t.mergedCellsCollection.get(e[0],e[1]);if(n.row===e[0]&&n.col===e[1]&&n.row+n.rowspan-1===e[2]&&n.col+n.colspan-1===e[3])return this.getTranslatedPhrase(Qd)}return this.getTranslatedPhrase(Jd)},callback:function(){t.toggleMergeOnSelection()},disabled:function(){var e=this.getSelectedLast();return!e||GE.isSingleCell({row:e[0],col:e[1],rowspan:e[2]-e[0]+1,colspan:e[3]-e[1]+1})||this.selection.isSelectedByCorner()},hidden:!1}))}},{key:"onAfterRenderer",value:function(e,t,n){var r=this.mergedCellsCollection.get(t,n),i=de(r)?le(r):void 0;if(de(i)){var o=this.hot,a=o.rowIndexMapper,s=o.columnIndexMapper,l=i.row,u=i.col,c=i.colspan,d=i.rowspan,h=dA(this.translateMergedCellToRenderable(l,d,u,c),2),f=h[0],p=h[1],m=f-a.getRenderableFromVisualIndex(t)+1,g=p-s.getRenderableFromVisualIndex(n)+1;i.row=a.getNearestNotHiddenIndex(i.row,1),i.col=s.getNearestNotHiddenIndex(i.col,1),i.rowspan=Math.min(i.rowspan,m),i.colspan=Math.min(i.colspan,g)}KE(e,i,t,n)}},{key:"onBeforeSetRangeStart",value:function(e){if(this.mergedCellsCollection.isFirstRenderableMergedCell(e.row,e.col)){var t=this.mergedCellsCollection.get(e.row,e.col),n=[t.row,t.col];e.row=n[0],e.col=n[1]}}},{key:"onBeforeSetRangeEnd",value:function(e){var t=this.hot.getSelectedRangeLast();t.highlight=this.hot._createCellCoords(t.highlight.row,t.highlight.col),t.to=e;var n=!1;if(!this.hot.selection.isSelectedByColumnHeader()&&!this.hot.selection.isSelectedByRowHeader())do{n=!1;for(var r=0;r<this.mergedCellsCollection.mergedCells.length;r+=1){var i=this.mergedCellsCollection.mergedCells[r].getRange();t.expandByRange(i)&&(e.row=t.to.row,e.col=t.to.col,n=!0)}}while(n)}},{key:"onAfterGetCellMeta",value:function(e,t,n){var r=this.mergedCellsCollection.get(e,t);r&&(r.row!==e||r.col!==t?n.copyable=!1:(n.rowspan=r.rowspan,n.colspan=r.colspan))}},{key:"onAfterViewportRowCalculatorOverride",value:function(e){var t=this.hot.countCols();this.modifyViewportRowStart(e,t),this.modifyViewportRowEnd(e,t)}},{key:"modifyViewportRowStart",value:function(e,t){for(var n=this.hot.rowIndexMapper,r=n.getVisualFromRenderableIndex(e.startRow),i=0;i<t;i+=1){var o=this.mergedCellsCollection.get(r,i);if(de(o)){var a=n.getRenderableFromVisualIndex(n.getNearestNotHiddenIndex(o.row,1));if(a<e.startRow)return e.startRow=a,void this.modifyViewportRowStart(e,t)}}}},{key:"modifyViewportRowEnd",value:function(e,t){for(var n=this.hot.rowIndexMapper,r=n.getVisualFromRenderableIndex(e.endRow),i=0;i<t;i+=1){var o=this.mergedCellsCollection.get(r,i);if(de(o)){var a=o.row+o.rowspan-1,s=n.getRenderableFromVisualIndex(n.getNearestNotHiddenIndex(a,-1));if(s>e.endRow)return e.endRow=s,void this.modifyViewportRowEnd(e,t)}}}},{key:"onAfterViewportColumnCalculatorOverride",value:function(e){var t=this.hot.countRows();this.modifyViewportColumnStart(e,t),this.modifyViewportColumnEnd(e,t)}},{key:"modifyViewportColumnStart",value:function(e,t){for(var n=this.hot.columnIndexMapper,r=n.getVisualFromRenderableIndex(e.startColumn),i=0;i<t;i+=1){var o=this.mergedCellsCollection.get(i,r);if(de(o)){var a=n.getRenderableFromVisualIndex(n.getNearestNotHiddenIndex(o.col,1));if(a<e.startColumn)return e.startColumn=a,void this.modifyViewportColumnStart(e,t)}}}},{key:"modifyViewportColumnEnd",value:function(e,t){for(var n=this.hot.columnIndexMapper,r=n.getVisualFromRenderableIndex(e.endColumn),i=0;i<t;i+=1){var o=this.mergedCellsCollection.get(i,r);if(de(o)){var a=o.col+o.colspan-1,s=n.getRenderableFromVisualIndex(n.getNearestNotHiddenIndex(a,-1));if(s>e.endColumn)return e.endColumn=s,void this.modifyViewportColumnEnd(e,t)}}}},{key:"translateMergedCellToRenderable",value:function(e,t,n,r){var i,o,a=this.hot,s=a.rowIndexMapper,l=a.columnIndexMapper;return i=0===t?s.getNearestNotHiddenIndex(e,1):s.getNearestNotHiddenIndex(e+t-1,-1),o=0===r?l.getNearestNotHiddenIndex(n,1):l.getNearestNotHiddenIndex(n+r-1,-1),[e>=0?s.getRenderableFromVisualIndex(i):e,n>=0?l.getRenderableFromVisualIndex(o):n]}},{key:"onModifyAutofillRange",value:function(e,t){this.autofillCalculations.correctSelectionAreaSize(t);var n=this.autofillCalculations.getDirection(t,e),r=e;if(this.autofillCalculations.dragAreaOverlapsCollections(t,r,n))return t;var i=this.mergedCellsCollection.getWithinRange({from:{row:t[0],col:t[1]},to:{row:t[2],col:t[3]}});return i?r=this.autofillCalculations.snapDragArea(t,r,n,i):r}},{key:"onAfterCreateCol",value:function(e,t){this.mergedCellsCollection.shiftCollections("right",e,t)}},{key:"onAfterRemoveCol",value:function(e,t){this.mergedCellsCollection.shiftCollections("left",e,t)}},{key:"onAfterCreateRow",value:function(e,t,n){"auto"!==n&&this.mergedCellsCollection.shiftCollections("down",e,t)}},{key:"onAfterRemoveRow",value:function(e,t){this.mergedCellsCollection.shiftCollections("up",e,t)}},{key:"onAfterChange",value:function(e,t){"Autofill.fill"===t&&this.autofillCalculations.recreateAfterDataPopulation(e)}},{key:"onBeforeDrawAreaBorders",value:function(e,t){if(t&&"area"===t){var n=this.hot.getSelectedRangeLast();$(this.mergedCellsCollection.getWithinRange(n),(function(t){n.getBottomEndCorner().row===t.getLastRow()&&n.getBottomEndCorner().col===t.getLastColumn()&&(e[2]=t.row,e[3]=t.col)}))}}},{key:"onAfterModifyTransformStart",value:function(e,t,n){if(this.enabled){var r=this.mergedCellsCollection.get(e.row,e.col);if(r){var i=t>0,o=t<0,a=n<0,s=n>0,l=r.row+r.rowspan-1==this.hot.countRows()-1,u=0===r.row,c=r.col+r.colspan-1==this.hot.countCols()-1,d=0===r.col;(i&&l||o&&u||s&&c||a&&d)&&(e.row=r.row,e.col=r.col)}}}},{key:"onAfterDrawSelection",value:function(e,t,n,r){if(n)return this.selectionCalculations.getSelectedMergedCellClassName(e,t,n,r)}},{key:"onBeforeRemoveCellClassNames",value:function(){return this.selectionCalculations.getSelectedMergedCellClassNameToRemove()}}],r=[{key:"PLUGIN_KEY",get:function(){return SA}},{key:"PLUGIN_PRIORITY",get:function(){return 150}}],n&&mA(t.prototype,n),r&&mA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($v);function CA(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return TA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?TA(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RA(){Vn(Ge(kA||(kA=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["Plugins `columnSorting` and `multiColumnSorting` should not be enabled simultaneously. \n    Only `multiColumnSorting` will work."],["Plugins \\`columnSorting\\` and \\`multiColumnSorting\\` should not be enabled simultaneously. \n    Only \\`multiColumnSorting\\` will work."]))))}var DA="sort";function EA(e,t,n){var r=[];return!1===n||e.isColumnSorted(t)&&e.getNumberOfSortedColumns()>1&&r.push("".concat(DA,"-").concat(e.getIndexOfColumnInSortQueue(t)+1)),r}function AA(e){var t=e.className.split(" "),n=new RegExp("^".concat(DA,"-[0-9]{1,2}$"));return t.filter((function(e){return n.test(e)}))}function LA(e){return LA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LA(e)}function jA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function PA(){return PA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=IA(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},PA.apply(this,arguments)}function IA(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=FA(e)););return e}function HA(e,t){return HA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},HA(e,t)}function NA(e,t){if(t&&("object"===LA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function FA(e){return FA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},FA(e)}var YA="multiColumnSorting";c_(YA,(function(e,t){return function(n,r){var i=CA(n).slice(1),o=CA(r).slice(1);return function n(r){var a=e[r],s=t[r],l=i[r],u=o[r],c=s.multiColumnSorting,d=(c.compareFunctionFactory?c.compareFunctionFactory:h_(s.type))(a,s,c)(l,u);if(0===d){var h=r+1;if(void 0!==t[h])return n(h)}return d}(0)}}));var zA=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HA(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=FA(i);if(o){var n=FA(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return NA(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).pluginKey=YA,t}return t=s,n=[{key:"isEnabled",value:function(){return PA(FA(s.prototype),"isEnabled",this).call(this)}},{key:"enablePlugin",value:function(){!this.enabled&&this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings().columnSorting&&RA(),PA(FA(s.prototype),"enablePlugin",this).call(this)}},{key:"disablePlugin",value:function(){PA(FA(s.prototype),"disablePlugin",this).call(this)}},{key:"sort",value:function(e){PA(FA(s.prototype),"sort",this).call(this,e)}},{key:"clearSort",value:function(){PA(FA(s.prototype),"clearSort",this).call(this)}},{key:"isSorted",value:function(){return PA(FA(s.prototype),"isSorted",this).call(this)}},{key:"getSortConfig",value:function(e){return PA(FA(s.prototype),"getSortConfig",this).call(this,e)}},{key:"setSortConfig",value:function(e){PA(FA(s.prototype),"setSortConfig",this).call(this,e)}},{key:"getNormalizedSortConfigs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(e)?e:[e]}},{key:"updateHeaderClasses",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=PA(FA(s.prototype),"updateHeaderClasses",this)).call.apply(t,[this,e].concat(r)),Nt(e,AA(e)),!1!==this.enabled&&Ht(e,EA.apply(void 0,r))}},{key:"onUpdateSettings",value:function(e){this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings().columnSorting&&RA(),PA(FA(s.prototype),"onUpdateSettings",this).call(this,e)}},{key:"onAfterOnCellMouseDown",value:function(e,t){!1!==Kw(t.row,t.col,e)&&this.wasClickableHeaderClicked(e,t.col)&&(this.hot.getShortcutManager().isCtrlPressed()?(this.hot.deselectCell(),this.hot.selectColumns(t.col),this.sort(this.getNextSortConfig(t.col,"append"))):this.sort(this.getColumnNextConfig(t.col)))}}],r=[{key:"PLUGIN_KEY",get:function(){return YA}},{key:"PLUGIN_PRIORITY",get:function(){return 170}}],n&&jA(t.prototype,n),r&&jA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(L_);function BA(e){return BA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BA(e)}function WA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $A(){return $A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=UA(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},$A.apply(this,arguments)}function UA(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=GA(e)););return e}function VA(e,t){return VA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},VA(e,t)}function qA(e,t){if(t&&("object"===BA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function GA(e){return GA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},GA(e)}var KA=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VA(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=GA(i);if(o){var n=GA(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return qA(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).dragged=[],t.eventManager=null,t.lastSetCell=null,t}return t=s,r=[{key:"PLUGIN_KEY",get:function(){return"multipleSelectionHandles"}},{key:"PLUGIN_PRIORITY",get:function(){return 160}}],(n=[{key:"isEnabled",value:function(){return je()}},{key:"enablePlugin",value:function(){this.enabled||(this.eventManager||(this.eventManager=new kr(this)),this.registerListeners(),$A(GA(s.prototype),"enablePlugin",this).call(this))}},{key:"registerListeners",value:function(){var e=this,t=this,n=this.hot.rootElement;function r(e){if(1===t.dragged.length)return t.dragged.splice(0,t.dragged.length),!0;var n=t.dragged.indexOf(e);if(-1===n)return!1;0===n?t.dragged=t.dragged.slice(0,1):1===n&&(t.dragged=t.dragged.slice(-1))}this.eventManager.addEventListener(n,"touchstart",(function(e){var n;return It(e.target,"topSelectionHandle-HitArea")?(n=t.hot.getSelectedRangeLast(),t.dragged.push("top"),t.touchStartRange={width:n.getWidth(),height:n.getHeight(),direction:n.getDirection()},e.preventDefault(),!1):It(e.target,"bottomSelectionHandle-HitArea")?(n=t.hot.getSelectedRangeLast(),t.dragged.push("bottom"),t.touchStartRange={width:n.getWidth(),height:n.getHeight(),direction:n.getDirection()},e.preventDefault(),!1):void 0})),this.eventManager.addEventListener(n,"touchend",(function(e){return It(e.target,"topSelectionHandle-HitArea")?(r.call(t,"top"),t.touchStartRange=void 0,e.preventDefault(),!1):It(e.target,"bottomSelectionHandle-HitArea")?(r.call(t,"bottom"),t.touchStartRange=void 0,e.preventDefault(),!1):void 0})),this.eventManager.addEventListener(n,"touchmove",(function(n){var r,i,o,a,s,l,u=e.hot.rootDocument;if(0!==t.dragged.length){var c=u.elementFromPoint(n.touches[0].clientX,n.touches[0].clientY);c&&c!==t.lastSetCell&&("TD"!==c.nodeName&&"TH"!==c.nodeName||(-1===(r=t.hot.getCoords(c)).col&&(r.col=0),o=(i=t.hot.getSelectedRangeLast()).getWidth(),a=i.getHeight(),s=i.getDirection(),1===o&&1===a&&t.hot.selection.setRangeEnd(r),null!==(l=t.getCurrentRangeCoords(i,r,t.touchStartRange.direction,s,t.dragged[0])).start&&t.hot.selection.setRangeStart(l.start),t.hot.selection.setRangeEnd(l.end),t.lastSetCell=c),n.preventDefault())}}))}},{key:"getCurrentRangeCoords",value:function(e,t,n,r,i){var o=e.getTopStartCorner(),a=e.getBottomEndCorner(),s=e.getBottomStartCorner(),l=e.getTopEndCorner(),u={start:null,end:null};switch(n){case"NE-SW":switch(r){case"NE-SW":case"NW-SE":u="top"===i?{start:this.hot._createCellCoords(t.row,e.highlight.col),end:this.hot._createCellCoords(s.row,t.col)}:{start:this.hot._createCellCoords(e.highlight.row,t.col),end:this.hot._createCellCoords(t.row,o.col)};break;case"SE-NW":"bottom"===i&&(u={start:this.hot._createCellCoords(a.row,t.col),end:this.hot._createCellCoords(t.row,o.col)})}break;case"NW-SE":switch(r){case"NE-SW":"top"===i?u={start:t,end:s}:u.end=t;break;case"NW-SE":"top"===i?u={start:t,end:a}:u.end=t;break;case"SE-NW":"top"===i?u={start:t,end:o}:u.end=t;break;case"SW-NE":"top"===i?u={start:t,end:l}:u.end=t}break;case"SW-NE":switch(r){case"NW-SE":u="bottom"===i?{start:this.hot._createCellCoords(t.row,o.col),end:this.hot._createCellCoords(s.row,t.col)}:{start:this.hot._createCellCoords(o.row,t.col),end:this.hot._createCellCoords(t.row,a.col)};break;case"SW-NE":u="top"===i?{start:this.hot._createCellCoords(e.highlight.row,t.col),end:this.hot._createCellCoords(t.row,a.col)}:{start:this.hot._createCellCoords(t.row,o.col),end:this.hot._createCellCoords(o.row,t.col)};break;case"SE-NW":"bottom"===i?u={start:this.hot._createCellCoords(t.row,l.col),end:this.hot._createCellCoords(o.row,t.col)}:"top"===i&&(u={start:s,end:t})}break;case"SE-NW":switch(r){case"NW-SE":case"NE-SW":case"SW-NE":"top"===i&&(u.end=t);break;case"SE-NW":"top"===i?u.end=t:u={start:t,end:o}}}return u}},{key:"isDragged",value:function(){return this.dragged.length>0}}])&&WA(t.prototype,n),r&&WA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($v);function ZA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.label,n=void 0===t?"":t,r=e.colspan,i=void 0===r?1:r,o=e.origColspan,a=void 0===o?1:o,s=e.collapsible,l=void 0!==s&&s,u=e.crossHiddenColumns,c=void 0===u?[]:u,d=e.isCollapsed,h=void 0!==d&&d,f=e.isHidden,p=void 0!==f&&f,m=e.isRoot,g=void 0!==m&&m,y=e.isPlaceholder,v=void 0!==y&&y;return{label:n,colspan:i,origColspan:a,collapsible:l,isCollapsed:h,crossHiddenColumns:c,isHidden:p,isRoot:g,isPlaceholder:v}}function XA(e){return function(e){if(Array.isArray(e))return JA(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return JA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?JA(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function QA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=[];if(0===t)return n;$(e,(function(e){var r=[],i=0;n.push(r),$(e,(function(e){var n=ZA();if(de(e)){var o=e.label,a=e.colspan;n.label=Xe(o),"number"==typeof a&&a>1&&(n.colspan=a,n.origColspan=a)}else n.label=Xe(e);var s=!1;if((i+=n.origColspan)>=t&&(n.colspan=n.origColspan-(i-t),n.origColspan=n.colspan,s=!0),r.push(n),n.colspan>1)for(var l=0;l<n.colspan-1;l++)r.push({label:"",isPlaceholder:!0});return!s}))}));var r=Math.max.apply(Math,XA(W(n,(function(e){return e.length}))));return $(n,(function(e){if(e.length<r){var t=W(new Array(r-e.length),(function(){return ZA()}));e.splice.apply(e,[e.length,0].concat(XA(t)))}})),n}var eL=["row","col"];function tL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iL(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function oL(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,sL(e,t,"get"))}function aL(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,sL(e,t,"set"),n),n}function sL(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var lL=["label","collapsible"],uL=new WeakMap,cL=new WeakMap,dL=new WeakMap,hL=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),iL(this,uL,{writable:!0,value:[]}),iL(this,cL,{writable:!0,value:0}),iL(this,dL,{writable:!0,value:1/0})}var t,n;return t=e,n=[{key:"setColumnsLimit",value:function(e){aL(this,dL,e)}},{key:"setData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];aL(this,uL,QA(e,oL(this,dL))),aL(this,cL,oL(this,uL).length)}},{key:"getData",value:function(){return oL(this,uL)}},{key:"mergeWith",value:function(e){var t=this;$(e,(function(e){var n=e.row,r=e.col,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,eL),o=t.getHeaderSettings(n,r);null!==o&&oe(o,i,lL)}))}},{key:"map",value:function(e){$(oL(this,uL),(function(t){$(t,(function(t){var n=e(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tL(Object(n),!0).forEach((function(t){nL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t));de(n)&&oe(t,n,lL)}))}))}},{key:"getHeaderSettings",value:function(e,t){var n;if(e>=oL(this,cL)||e<0)return null;var r=oL(this,uL)[e];return t>=r.length?null:null!==(n=r[t])&&void 0!==n?n:null}},{key:"getHeadersSettings",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=[];if(e>=oL(this,cL)||e<0)return r;for(var i=oL(this,uL)[e],o=0,a=t;a<i.length;a++){var s=i[a];if(s.isPlaceholder)throw new Error("The first column settings cannot overlap the other header layers");if(o+=s.colspan,r.push(s),s.colspan>1&&(a+=s.colspan-1),o===n)break;if(o>n)throw new Error("The last column settings cannot overlap the other header layers")}return r}},{key:"getLayersCount",value:function(){return oL(this,cL)}},{key:"getColumnsCount",value:function(){return oL(this,cL)>0?oL(this,uL)[0].length:0}},{key:"clear",value:function(){aL(this,uL,[]),aL(this,cL,0)}}],n&&rL(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function fL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fL(Object(n),!0).forEach((function(t){gL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vL=new Map([["DF-pre-order",function e(t,n){for(var r=t.call(n,this),i=0;i<this.childs.length;i++){if(!1===r)return!1;r=e.call(this.childs[i],t,n)}return r}],["DF-post-order",function e(t,n){for(var r=0;r<this.childs.length;r++)if(!1===e.call(this.childs[r],t,n))return!1;return t.call(n,this)}],["BF",function(e,t){var n=[this];!function r(){if(0!==n.length){var i=n.shift();n.push.apply(n,function(e){if(Array.isArray(e))return yL(e)}(o=i.childs)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||function(e,t){if(e){if("string"==typeof e)return yL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yL(e,t):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),!1!==e.call(t,i)&&r()}var o}()}]]),bL=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),gL(this,"data",{}),gL(this,"parent",null),gL(this,"childs",[]),this.data=t}var t,n;return t=e,n=[{key:"addChild",value:function(e){e.parent=this,this.childs.push(e)}},{key:"cloneTree",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,n=new e(pL({},t.data)),r=0;r<t.childs.length;r++)n.addChild(this.cloneTree(t.childs[r]));return n}},{key:"replaceTreeWith",value:function(e){this.data=pL({},e.data),this.childs=[];for(var t=0;t<e.childs.length;t++)this.addChild(e.childs[t])}},{key:"walkDown",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"BF";if(!vL.has(t))throw new Error('Traversal strategy "'.concat(t,'" does not exist'));vL.get(t).call(this,e,this)}},{key:"walkUp",value:function(e){var t=this;!function n(r){!1!==e.call(t,r)&&null!==r.parent&&n(r.parent)}(this)}}],n&&mL(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function wL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wL(Object(n),!0).forEach((function(t){kL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ML(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xL(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function OL(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,CL(e,t,"get"))}function CL(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var TL,RL,DL=new WeakMap,EL=new WeakMap,AL=new WeakMap,LL=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),xL(this,DL,{writable:!0,value:new Map}),xL(this,EL,{writable:!0,value:new Map}),xL(this,AL,{writable:!0,value:null}),function(e,t,n){(function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}})(e,CL(e,t,"set"),n)}(this,AL,t)}var t,n;return t=e,n=[{key:"getRoots",value:function(){return Array.from(OL(this,DL).values())}},{key:"getRootByColumn",value:function(e){var t;return OL(this,EL).has(e)&&(t=OL(this,DL).get(OL(this,EL).get(e))),t}},{key:"getNode",value:function(e,t){var n=this.getRootByColumn(t);if(n){var r,i=t-OL(this,EL).get(t),o=0;return n.walkDown((function(t){var n=t.data,a=n.origColspan,s=n.headerLevel;if(e===s){if(i>=o&&i<=o+a-1)return r=t,!1;o+=a}})),r}}},{key:"rebuildTreeIndex",value:function(){var e=this,t=0;OL(this,EL).clear(),$(OL(this,DL),(function(n){for(var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return SL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?SL(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n,2)[1].data.colspan,i=t;i<t+r;i++)OL(e,EL).set(i,t);t+=r}))}},{key:"buildTree",value:function(){this.clear();for(var e=OL(this,AL).getColumnsCount(),t=0;t<e;){var n=OL(this,AL).getHeaderSettings(0,t),r=new bL;OL(this,DL).set(t,r),this.buildLeaves(r,t,0,n.origColspan),t+=n.origColspan}this.rebuildTreeIndex()}},{key:"buildLeaves",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=OL(this,AL).getHeadersSettings(n,t,i);n+=1,$(o,(function(i){var o,a=_L(_L({},i),{},{headerLevel:n-1,columnIndex:t});1===n?(e.data=a,o=e):(o=new bL(a),e.addChild(o)),n<OL(r,AL).getLayersCount()&&r.buildLeaves(o,t,n,i.origColspan),t+=i.origColspan}))}},{key:"clear",value:function(){OL(this,DL).clear(),OL(this,EL).clear()}}],n&&ML(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function jL(e,t){e.walkDown((function(e){var n=e.data,r=e.childs;if(!n.isHidden&&(t(n.columnIndex),0===r.length))for(var i=1;i<n.colspan;i++)t(n.columnIndex+i)}))}function PL(e,t){var n=e.childs;if(0!==n.length)return n[0].data[t]}function IL(e){return PL(e,"origColspan")===e.data.origColspan}function HL(e){var t=e.data,n=e.childs;if(!t.isCollapsed||t.isHidden||t.origColspan<=1)return{rollbackModification:function(){},affectedColumns:[],colspanCompensation:0};if(IL(e))return HL(n[0]);t.isCollapsed=!1;var r=n.slice(1),i=new Set,o=0;if(r.length>0)$(r,(function(e){e.replaceTreeWith(e.data.clonedTree),e.data.clonedTree=null;var t=e.data;o+=t.colspan,jL(e,(function(e){i.add(e)}))}));else{var a=t.colspan,s=t.origColspan,l=t.columnIndex;o=s-a;for(var u=1;u<s;u++)i.add(l+u)}return e.walkUp((function(e){var t=e.data;t.colspan+=o,t.colspan>=t.origColspan?(t.colspan=t.origColspan,t.isCollapsed=!1):IL(e)&&(t.isCollapsed=PL(e,"isCollapsed"))})),{rollbackModification:function(){return NL(e)},affectedColumns:Array.from(i),colspanCompensation:o}}function NL(e){var t,n=e.data,r=e.childs;if(n.isCollapsed||n.isHidden||n.origColspan<=1)return{rollbackModification:function(){},affectedColumns:[],colspanCompensation:0};if(IL(e))return NL(r[0]);n.isCollapsed=!0;var i=r.slice(1),o=new Set;if(i.length>0)$(i,(function(e){jL(e,(function(e){o.add(e)})),e.data.clonedTree=e.cloneTree(),e.walkDown((function(e){e.data.isHidden=!0}))}));else for(var a=n.origColspan,s=n.columnIndex,l=1;l<a;l++){var u=s+l;o.add(u)}var c=n.colspan-(null!==(t=PL(e,"colspan"))&&void 0!==t?t:1);return e.walkUp((function(e){var t=e.data;t.colspan-=c,t.colspan<=1?(t.colspan=1,t.isCollapsed=!0):IL(e)&&(t.isCollapsed=PL(e,"isCollapsed"))})),{rollbackModification:function(){return HL(e)},affectedColumns:Array.from(o),colspanCompensation:c}}var FL=new Map([["collapse",NL],["expand",HL],["hide-column",function(e,t){if(!Number.isInteger(t))throw new Error("The passed gridColumnIndex argument has invalid type.");if(e.childs.length>0)throw new Error(Ge(TL||(TL=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["The passed node is not the last node on the tree. Only for \nthe last node, the hide column modification can be applied."],["The passed node is not the last node on the tree. Only for\\x20\nthe last node, the hide column modification can be applied."]))));if(!e.data.crossHiddenColumns.includes(t)){var n=!1;e.walkUp((function(e){if(e.data.collapsible)return n=!0,!1})),n||e.walkUp((function(e){var n=e.data;n.crossHiddenColumns.push(t),n.colspan>1?n.colspan-=1:n.isHidden=!0}))}}],["show-column",function(e,t){if(!Number.isInteger(t))throw new Error("The passed gridColumnIndex argument has invalid type.");if(e.childs.length>0)throw new Error(Ge(RL||(RL=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["The passed node is not the last node on the tree. Only for \nthe last node, the show column modification can be applied."],["The passed node is not the last node on the tree. Only for\\x20\nthe last node, the show column modification can be applied."]))));if(e.data.crossHiddenColumns.includes(t)){var n=!1;e.walkUp((function(e){if(e.data.collapsible)return n=!0,!1})),n||e.walkUp((function(e){var n=e.data;n.crossHiddenColumns.splice(n.crossHiddenColumns.indexOf(t),1),!n.isHidden&&n.colspan<n.origColspan&&(n.colspan+=1),n.isHidden=!1}))}}]]),YL=["crossHiddenColumns"];function zL(e){var t=[];return $(e,(function(e){e.walkDown((function(e){for(var n=e.data,r=n.origColspan,i=n.columnIndex,o=n.headerLevel,a=n.crossHiddenColumns,s=function(e,t){var n;return Array.isArray(e[t])?n=e[t]:(n=[],e[t]=n),n}(t,o),l=!1,u=i;u<i+r;u++)if(a.includes(u)||l)s.push({label:"",isPlaceholder:!0});else{var c=BL(n);c.isRoot=!0,s.push(c),l=!0}}))})),t}function BL(e){var t=ZA(e);return t.crossHiddenColumns,function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,YL)}var WL=["row"];function $L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function UL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$L(Object(n),!0).forEach((function(t){VL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function VL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function GL(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function KL(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,XL(e,t,"set"),n),n}function ZL(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,XL(e,t,"get"))}function XL(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var JL=new WeakMap,QL=new WeakMap,ej=new WeakMap,tj=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),GL(this,JL,{writable:!0,value:new hL}),GL(this,QL,{writable:!0,value:new LL(ZL(this,JL))}),GL(this,ej,{writable:!0,value:[[]]})}var t,n;return t=e,n=[{key:"setState",value:function(e){ZL(this,JL).setData(e);var t=!1;try{ZL(this,QL).buildTree()}catch(e){ZL(this,QL).clear(),ZL(this,JL).clear(),t=!0}return KL(this,ej,zL(ZL(this,QL).getRoots())),t}},{key:"setColumnsLimit",value:function(e){ZL(this,JL).setColumnsLimit(e)}},{key:"mergeStateWith",value:function(e){var t=this,n=W(e,(function(e){var n=e.row,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,WL);return UL({row:n<0?t.rowCoordsToLevel(n):n},r)}));ZL(this,JL).mergeWith(n),ZL(this,QL).buildTree(),KL(this,ej,zL(ZL(this,QL).getRoots()))}},{key:"mapState",value:function(e){ZL(this,JL).map(e),ZL(this,QL).buildTree(),KL(this,ej,zL(ZL(this,QL).getRoots()))}},{key:"mapNodes",value:function(e){return z(ZL(this,QL).getRoots(),(function(t,n){return n.walkDown((function(n){var r=e(n.data);void 0!==r&&t.push(r)})),t}),[])}},{key:"triggerNodeModification",value:function(e,t,n){t<0&&(t=this.rowCoordsToLevel(t));var r,i=ZL(this,QL).getNode(t,n);return i&&(r=function(e,t,n){if(!FL.has(e))throw new Error('The node modifier action ("'.concat(e,'") does not exist.'));return FL.get(e)(t,n)}(e,i,n),KL(this,ej,zL(ZL(this,QL).getRoots()))),r}},{key:"triggerColumnModification",value:function(e,t){return this.triggerNodeModification(e,-1,t)}},{key:"rowCoordsToLevel",value:function(e){var t=Math.max(this.getLayersCount(),1),n=t-1;return Math.min(Math.max(e+t,0),n)}},{key:"levelToRowCoords",value:function(e){var t=Math.max(this.getLayersCount(),1),n=-t;return Math.min(Math.max(e-t,n),-1)}},{key:"getHeaderSettings",value:function(e,t){var n,r;return e<0&&(e=this.rowCoordsToLevel(e)),e>=this.getLayersCount()?null:null!==(n=null===(r=ZL(this,ej)[e])||void 0===r?void 0:r[t])&&void 0!==n?n:null}},{key:"getHeaderTreeNodeData",value:function(e,t){e<0&&(e=this.rowCoordsToLevel(e));var n=ZL(this,QL).getNode(e,t);return n?UL({},n.data):null}},{key:"findLeftMostColumnIndex",value:function(e,t){var n;if((null!==(n=this.getHeaderSettings(e,t))&&void 0!==n?n:{isRoot:!0}).isRoot)return t;for(var r=t-1;r>=0;){var i;if((null!==(i=this.getHeaderSettings(e,r))&&void 0!==i?i:{isRoot:!0}).isRoot)break;r-=1}return r}},{key:"getLayersCount",value:function(){return ZL(this,JL).getLayersCount()}},{key:"getColumnsCount",value:function(){return ZL(this,JL).getColumnsCount()}},{key:"clear",value:function(){KL(this,ej,[]),ZL(this,JL).clear(),ZL(this,QL).clear()}}],n&&qL(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function nj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ij=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),rj(this,"hot",void 0),rj(this,"nestedHeaderSettingsGetter",void 0),rj(this,"layersCount",0),rj(this,"container",void 0),rj(this,"widthsMap",void 0),this.hot=t,this.nestedHeaderSettingsGetter=n,this.widthsMap=this.hot.columnIndexMapper.createAndRegisterIndexMap("nestedHeaders.widthsMap","physicalIndexToValue")}var t,n;return t=e,n=[{key:"setLayersCount",value:function(e){return this.layersCount=e,this}},{key:"getWidth",value:function(e){return this.widthsMap.getValueAtIndex(this.hot.toPhysicalColumn(e))}},{key:"buildWidthsMap",value:function(){this.container=this.hot.rootDocument.createElement("div"),this.container.classList.add("handsontable","htGhostTable","htAutoSize"),this._buildGhostTable(this.container),this.hot.rootDocument.body.appendChild(this.container);var e=this.container.querySelectorAll("tr:last-of-type th"),t=e.length;this.widthsMap.clear();for(var n=0;n<t;n++){var r=this.hot.columnIndexMapper.getVisualFromRenderableIndex(n),i=this.hot.toPhysicalColumn(r);this.widthsMap.setValueAtIndex(i,e[n].offsetWidth)}this.container.parentNode.removeChild(this.container),this.container=null}},{key:"_buildGhostTable",value:function(e){for(var t=this.hot,n=t.rootDocument,r=t.columnIndexMapper,i=n.createDocumentFragment(),o=n.createElement("table"),a=!!this.hot.getSettings().dropdownMenu,s=r.getRenderableIndexesLength(),l=0;l<this.layersCount;l++){for(var u=n.createElement("tr"),c=0;c<s;c++){var d=r.getVisualFromRenderableIndex(c);null===d&&(d=c);var h=n.createElement("th"),f=this.nestedHeaderSettingsGetter(l,d);if(f&&(!f.isPlaceholder||f.isHidden)){var p=f.label;a&&(p+='<button class="changeType"></button>'),Wt(h,p),h.colSpan=f.colspan,u.appendChild(h)}}o.appendChild(u)}i.appendChild(o),e.appendChild(i)}},{key:"clear",value:function(){this.widthsMap.clear(),this.container=null}}],n&&nj(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const oj=ij;function aj(e){return aj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aj(e)}var sj,lj;function uj(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function cj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hj(){return hj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=fj(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},hj.apply(this,arguments)}function fj(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=yj(e)););return e}function pj(e,t){return pj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pj(e,t)}function mj(e,t){if(t&&("object"===aj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gj(e)}function gj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yj(e){return yj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yj(e)}function vj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bj(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function wj(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,kj(e,t,"set"),n),n}function _j(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,kj(e,t,"get"))}function kj(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var Sj=new WeakMap,Mj=new WeakMap,xj=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pj(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=yj(i);if(o){var n=yj(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return mj(this,e)});function s(){var e;cj(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return bj(gj(e=a.call.apply(a,[this].concat(n))),Sj,{writable:!0,value:new tj}),bj(gj(e),Mj,{writable:!0,value:null}),vj(gj(e),"ghostTable",new oj(e.hot,(function(t,n){return e.getHeaderSettings(t,n)}))),vj(gj(e),"detectedOverlappedHeaders",!1),e}return t=s,n=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().nestedHeaders}},{key:"enablePlugin",value:function(){var e=this;if(!this.enabled){var t=this.hot.getSettings().nestedHeaders;Array.isArray(t)&&Array.isArray(t[0])||Vn(Ge(sj||(sj=uj(["Your Nested Headers plugin configuration is invalid. The settings has to be \n                        passed as an array of arrays e.q. [['A1', { label: 'A2', colspan: 2 }]]"],["Your Nested Headers plugin configuration is invalid. The settings has to be\\x20\n                        passed as an array of arrays e.q. [['A1', { label: 'A2', colspan: 2 }]]"])))),this.addHook("init",(function(){return e.onInit()})),this.addHook("afterLoadData",(function(){return e.onAfterLoadData.apply(e,arguments)})),this.addHook("beforeOnCellMouseDown",(function(){return e.onBeforeOnCellMouseDown.apply(e,arguments)})),this.addHook("afterOnCellMouseDown",(function(){return e.onAfterOnCellMouseDown.apply(e,arguments)})),this.addHook("beforeOnCellMouseOver",(function(){return e.onBeforeOnCellMouseOver.apply(e,arguments)})),this.addHook("afterGetColumnHeaderRenderers",(function(t){return e.onAfterGetColumnHeaderRenderers(t)})),this.addHook("modifyColWidth",(function(){return e.onModifyColWidth.apply(e,arguments)})),this.addHook("beforeHighlightingColumnHeader",(function(){return e.onBeforeHighlightingColumnHeader.apply(e,arguments)})),this.addHook("afterViewportColumnCalculatorOverride",(function(){return e.onAfterViewportColumnCalculatorOverride.apply(e,arguments)})),hj(yj(s.prototype),"enablePlugin",this).call(this),this.updatePlugin()}}},{key:"updatePlugin",value:function(){var e=this;if(this.hot.view){var t=this.hot.getSettings().nestedHeaders;_j(this,Sj).setColumnsLimit(this.hot.countCols()),Array.isArray(t)&&(this.detectedOverlappedHeaders=_j(this,Sj).setState(t)),this.detectedOverlappedHeaders&&Vn(Ge(lj||(lj=uj(["Your Nested Headers plugin setup contains overlapping headers. This kind of configuration \n                        is currently not supported."],["Your Nested Headers plugin setup contains overlapping headers. This kind of configuration\\x20\n                        is currently not supported."])))),this.enabled&&this.hot.columnIndexMapper.hidingMapsCollection.getMergedValues().forEach((function(t,n){var r=!0===t?"hide-column":"show-column";_j(e,Sj).triggerColumnModification(r,n)})),!_j(this,Mj)&&this.enabled&&wj(this,Mj,this.hot.columnIndexMapper.createChangesObserver("hiding").subscribe((function(t){t.forEach((function(t){var n=t.op,r=t.index,i=t.newValue;if("replace"===n){var o=!0===i?"hide-column":"show-column";_j(e,Sj).triggerColumnModification(o,r)}})),e.ghostTable.buildWidthsMap()}))),this.ghostTable.setLayersCount(this.getLayersCount()).buildWidthsMap(),hj(yj(s.prototype),"updatePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){this.clearColspans(),_j(this,Sj).clear(),_j(this,Mj).unsubscribe(),wj(this,Mj,null),this.ghostTable.clear(),hj(yj(s.prototype),"disablePlugin",this).call(this)}},{key:"getStateManager",value:function(){return _j(this,Sj)}},{key:"getLayersCount",value:function(){return _j(this,Sj).getLayersCount()}},{key:"getHeaderSettings",value:function(e,t){return _j(this,Sj).getHeaderSettings(e,t)}},{key:"clearColspans",value:function(){if(this.hot.view)for(var e=this.hot.view._wt,t=e.getSetting("columnHeaders").length,n=e.wtTable.THEAD,r=e.wtOverlays.topOverlay.clone.wtTable.THEAD,i=e.wtOverlays.topInlineStartCornerOverlay?e.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null,o=0;o<t;o++){var a=n.childNodes[o];if(!a)break;for(var s=r.childNodes[o],l=i?i.childNodes[o]:null,u=0,c=a.childNodes.length;u<c;u++)a.childNodes[u].removeAttribute("colspan"),Nt(a.childNodes[u],"hiddenHeader"),s&&s.childNodes[u]&&(s.childNodes[u].removeAttribute("colspan"),Nt(s.childNodes[u],"hiddenHeader")),i&&l&&l.childNodes[u]&&(l.childNodes[u].removeAttribute("colspan"),Nt(l.childNodes[u],"hiddenHeader"))}}},{key:"headerRendererFactory",value:function(e){var t=this,n=this.hot.view._wt.getSetting("fixedColumnsStart");return function(r,i){var o,a=t.hot,s=a.rootDocument,l=a.columnIndexMapper,u=a.view,c=l.getVisualFromRenderableIndex(r);null===c&&(c=r),i.removeAttribute("colspan"),Nt(i,"hiddenHeader");var d=null!==(o=_j(t,Sj).getHeaderSettings(e,c))&&void 0!==o?o:{label:""},h=d.colspan,f=d.label,p=d.isHidden;if(d.isPlaceholder||p)Ht(i,"hiddenHeader");else if(h>1){var m,g,y=u._wt.wtOverlays,v=null===(m=y.topInlineStartCornerOverlay)||void 0===m?void 0:m.clone.wtTable.THEAD.contains(i),b=null===(g=y.inlineStartOverlay)||void 0===g?void 0:g.clone.wtTable.THEAD.contains(i),w=v||b?Math.min(h,n-r):h;w>1&&i.setAttribute("colspan",w)}var _=s.createElement("div"),k=s.createElement("span");Ht(_,"relative"),Ht(k,"colHeader"),Wt(k,f),_.appendChild(k),Yt(i),i.appendChild(_),t.hot.runHooks("afterGetColHeader",c,i)}}},{key:"onBeforeHighlightingColumnHeader",value:function(e,t,n){var r=_j(this,Sj).getHeaderTreeNodeData(t,e);if(!r)return e;var i=n.classNames,o=n.columnCursor,a=n.selectionType,s=n.selectionWidth,l=_j(this,Sj).getHeaderSettings(t,e),u=l.isRoot,c=l.colspan;if(a===Sf){if(!u)return r.columnIndex}else a===bf&&(c>s-o||!u)&&(i.length=0);return e}},{key:"onBeforeOnCellMouseDown",value:function(e,t,n,r){this._getHeaderTreeNodeDataByCoords(t)&&(r.column=!0)}},{key:"onAfterOnCellMouseDown",value:function(e,t){var n=this._getHeaderTreeNodeDataByCoords(t);if(n){var r=this.hot.selection,i=r.isSelected()?r.getSelectedRange().current():null,o=[],a=n.columnIndex,s=n.origColspan,l=!r.inInSelection(t);e.shiftKey&&i?t.col<i.from.col?o.push(i.getTopEndCorner().col,a,t.row):t.col>i.from.col?o.push(i.getTopStartCorner().col,a+s-1,t.row):o.push(a,a+s-1,t.row):(Un(e)||$n(e)&&l)&&o.push(a,a+s-1,t.row),r.selectColumns.apply(r,o)}}},{key:"onBeforeOnCellMouseOver",value:function(e,t,n,r){var i;if(this.hot.view.isMouseDown()){var o=this._getHeaderTreeNodeDataByCoords(t);if(o){var a=o.columnIndex,s=o.origColspan,l=this.hot.getSelectedRangeLast(),u=l.getTopStartCorner(),c=l.getBottomEndCorner(),d=l.from;r.column=!0,r.cell=!0;var h=[];t.col<d.col?h.push(c.col,a):t.col>d.col?h.push(u.col,a+s-1):h.push(a,a+s-1),(i=this.hot).selectColumns.apply(i,h)}}}},{key:"onAfterGetColumnHeaderRenderers",value:function(e){if(e){e.length=0;for(var t=0;t<_j(this,Sj).getLayersCount();t++)e.push(this.headerRendererFactory(t))}}},{key:"onAfterViewportColumnCalculatorOverride",value:function(e){for(var t=_j(this,Sj).getLayersCount(),n=e.startColumn,r=!!t,i=0;i<t;i++){var o=_j(this,Sj).findLeftMostColumnIndex(i,e.startColumn),a=this.hot.columnIndexMapper.getRenderableFromVisualIndex(o);if(o>=0&&(r=!1),zr(a)&&a<e.startColumn){n=a;break}}e.startColumn=r?_j(this,Sj).getHeaderTreeNodeData(0,n).columnIndex:n}},{key:"onModifyColWidth",value:function(e,t){var n=this.ghostTable.getWidth(t);return e>n?e:n}},{key:"onInit",value:function(){this.updatePlugin()}},{key:"onAfterLoadData",value:function(e,t){t||this.updatePlugin()}},{key:"destroy",value:function(){wj(this,Sj,null),null!==_j(this,Mj)&&(_j(this,Mj).unsubscribe(),wj(this,Mj,null)),hj(yj(s.prototype),"destroy",this).call(this)}},{key:"_getHeaderTreeNodeDataByCoords",value:function(e){if(!(e.row>=0||e.col<0))return _j(this,Sj).getHeaderTreeNodeData(e.row,e.col)}}],r=[{key:"PLUGIN_KEY",get:function(){return"nestedHeaders"}},{key:"PLUGIN_PRIORITY",get:function(){return 280}}],n&&dj(t.prototype,n),r&&dj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($v);function Oj(e){return function(e){if(Array.isArray(e))return Cj(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Cj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cj(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tj(e){return Tj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tj(e)}function Rj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Dj=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hot=n,this.data=null,this.plugin=t,this.parentReference=new WeakMap,this.cache={levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap}}var t,n;return t=e,n=[{key:"setData",value:function(e){this.data=e}},{key:"getData",value:function(){return this.data}},{key:"getRawSourceData",value:function(){var e;return this.plugin.disableCoreAPIModifiers(),e=this.hot.getSourceData(),this.plugin.enableCoreAPIModifiers(),e}},{key:"updateWithData",value:function(e){this.setData(e),this.rewriteCache()}},{key:"rewriteCache",value:function(){var e=this;this.cache={levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap},Wr(0,this.data.length-1,(function(t){e.cacheNode(e.data[t],0,null)}))}},{key:"cacheNode",value:function(e,t,n){var r=this;this.cache.levels[t]||(this.cache.levels[t]=[],this.cache.levelCount+=1),this.cache.levels[t].push(e),this.cache.rows.push(e),this.cache.nodeInfo.set(e,{parent:n,row:this.cache.rows.length-1,level:t}),this.hasChildren(e)&&$(e.__children,(function(n){r.cacheNode(n,t+1,e)}))}},{key:"getDataObject",value:function(e){return null==e?null:this.cache.rows[e]}},{key:"readTreeNodes",value:function(e,t,n,r){var i=this,o=!1,a=t;if(isNaN(a)&&a.end)return a;var s=e;return s||(s={__children:this.data},o=!0,a-=1),null!=n&&a===n?{result:s,end:!0}:null!=r&&s===r?{result:a,end:!0}:(a+=1,s.__children&&$(s.__children,(function(e){if(i.parentReference.set(e,o?null:s),a=i.readTreeNodes(e,a,n,r),isNaN(a)&&a.end)return!1})),a)}},{key:"mockParent",value:function(){var e=this.mockNode();return e.__children=this.data,e}},{key:"mockNode",value:function(){var e={};return fe(this.data[0],(function(t,n){e[n]=null})),e}},{key:"getRowIndex",value:function(e){return null==e?null:this.cache.nodeInfo.get(e).row}},{key:"getRowIndexWithinParent",value:function(e){var t;t=isNaN(e)?e:this.getDataObject(e);var n=this.getRowParent(e);return null==n?this.data.indexOf(t):n.__children.indexOf(t)}},{key:"countAllRows",value:function(){var e={__children:this.data};return this.countChildren(e)}},{key:"countChildren",value:function(e){var t=this,n=0,r=e;return isNaN(r)||(r=this.getDataObject(r)),r&&r.__children?($(r.__children,(function(e){n+=1,e.__children&&(n+=t.countChildren(e))})),n):0}},{key:"getRowParent",value:function(e){var t;return t=isNaN(e)?e:this.getDataObject(e),this.getRowObjectParent(t)}},{key:"getRowObjectParent",value:function(e){return e&&"object"===Tj(e)?this.cache.nodeInfo.get(e).parent:null}},{key:"getRowLevel",value:function(e){var t;return(t=isNaN(e)?e:this.getDataObject(e))?this.getRowObjectLevel(t):null}},{key:"getRowObjectLevel",value:function(e){return null==e?null:this.cache.nodeInfo.get(e).level}},{key:"hasChildren",value:function(e){var t=e;return isNaN(t)||(t=this.getDataObject(t)),!(!t.__children||!t.__children.length)}},{key:"isChild",value:function(e){return null!==this.getRowParent(e)}},{key:"getChild",value:function(e,t){var n;return(null===(n=e.__children)||void 0===n?void 0:n[t])||null}},{key:"isRowHighestLevel",value:function(e){return!this.isChild(e)}},{key:"isParent",value:function(e){var t,n=e;return isNaN(n)||(n=this.getDataObject(n)),n&&!!n.__children&&0!==(null===(t=n.__children)||void 0===t?void 0:t.length)}},{key:"addChild",value:function(e,t){var n=t;this.hot.runHooks("beforeAddChild",e,n);var r=null;e&&(r=this.getRowIndex(e)),this.hot.runHooks("beforeCreateRow",r+this.countChildren(e)+1,1);var i=e;e||(i=this.mockParent()),i.__children||(i.__children=[]),n||(n=this.mockNode()),i.__children.push(n),this.rewriteCache();var o=this.getRowIndex(n);this.hot.rowIndexMapper.insertIndexes(o,1),this.hot.runHooks("afterCreateRow",o,1),this.hot.runHooks("afterAddChild",e,n)}},{key:"addChildAtIndex",value:function(e,t,n){var r,i=n;if(i||(i=this.mockNode()),this.hot.runHooks("beforeAddChild",e,i,t),e){var o=this.getRowIndex(e)+t+1;this.hot.runHooks("beforeCreateRow",o,1),e.__children.splice(t,null,i),this.rewriteCache(),this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndexWithinParent(e),"__children",e.__children,"NestedRows.addChildAtIndex"),this.hot.rowIndexMapper.insertIndexes(o,1),this.plugin.enableCoreAPIModifiers(),this.hot.runHooks("afterCreateRow",o,1),r=o}else this.plugin.disableCoreAPIModifiers(),this.hot.alter("insert_row",t,1,"NestedRows.addChildAtIndex"),this.plugin.enableCoreAPIModifiers(),r=this.getRowIndex(this.data[t]);i=this.getDataObject(r),this.hot.runHooks("afterAddChild",e,i,t)}},{key:"addSibling",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"below",n=this.translateTrimmedRow(e),r=this.getRowParent(n),i=this.getRowIndexWithinParent(n);switch(t){case"below":this.addChildAtIndex(r,i+1,null);break;case"above":this.addChildAtIndex(r,i,null)}}},{key:"detachFromParent",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=null,i=[];Array.isArray(e)?(Wr(e[0],e[2],(function(e){var n=t.translateTrimmedRow(e);i.push(t.getDataObject(n))})),Wr(0,i.length-2,(function(e){t.detachFromParent(i[e],!1)})),r=i[i.length-1]):r=e;var o=this.getRowIndex(r),a=this.countChildren(r),s=this.getRowIndexWithinParent(r),l=this.getRowParent(r),u=this.getRowParent(l),c=this.getRowIndex(u),d=null;if(this.hot.runHooks("beforeDetachChild",l,r),null!=s){var h=Array.from(new Array(o+a+1).keys()).splice(-1*(a+1));if(this.hot.runHooks("beforeRemoveRow",o,a+1,h,this.plugin.pluginName),l.__children.splice(s,1),this.rewriteCache(),this.hot.runHooks("afterRemoveRow",o,a+1,h,this.plugin.pluginName),u){d=c+this.countChildren(u);var f=this.getChild(u,this.countChildren(u)-1),p=this.getRowIndex(f);this.hot.runHooks("beforeCreateRow",p+1,a+1,this.plugin.pluginName),u.__children.push(r)}else d=this.hot.countRows()+1,this.hot.runHooks("beforeCreateRow",d-2,a+1,this.plugin.pluginName),this.data.push(r)}this.rewriteCache(),this.hot.runHooks("afterCreateRow",d-2,a+1,this.plugin.pluginName),this.hot.runHooks("afterDetachChild",l,r,this.getRowIndex(r)),n&&this.hot.render()}},{key:"filterData",value:function(e,t,n){var r=this,i=[];$(n,(function(e){i.push(r.getDataObject(e))})),$(i,(function(e){var t=r.getRowIndexWithinParent(e),n=r.getRowParent(e);null===n?r.data.splice(t,1):n.__children.splice(t,1)})),this.rewriteCache()}},{key:"spliceData",value:function(e,t,n){var r,i=this.getDataObject(e-1),o=null,a=e;if(i&&i.__children&&0===i.__children.length?(o=i,a=0):e<this.countAllRows()&&(o=this.getRowParent(e),a=this.getRowIndexWithinParent(e)),o)n?(r=o.__children).splice.apply(r,[a,t].concat(Oj(n))):o.__children.splice(a,t);else if(n){var s;(s=this.data).splice.apply(s,[a,t].concat(Oj(n)))}else this.data.splice(a,t);this.rewriteCache()}},{key:"syncRowWithRawSource",value:function(e){var t=e,n=null;do{null!==(n=this.getRowParent(n))&&(t=n)}while(null!==n);this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndex(t),"__children",t.__children,"NestedRows.syncRowWithRawSource"),this.plugin.enableCoreAPIModifiers()}},{key:"moveRow",value:function(e,t,n,r){var i=t===this.hot.countRows(),o=this.getRowParent(e),a=this.getRowIndexWithinParent(e),s=o.__children.slice(a,a+1),l=e>t,u=i?this.getRowParent(t-1):this.getRowParent(t);null==u&&(u=this.getRowParent(t-1)),null==u&&(u=this.getDataObject(t-1)),u?u.__children||(u.__children=[]):(u=this.getDataObject(t)).__children=[];var c=i||n||r?u.__children.length:this.getRowIndexWithinParent(t),d=o===u;u.__children.splice(c,0,s[0]),o.__children.splice(a+(l&&d?1:0),1),this.syncRowWithRawSource(o),d||this.syncRowWithRawSource(u)}},{key:"translateTrimmedRow",value:function(e){return this.plugin.collapsingUI?this.plugin.collapsingUI.translateTrimmedRow(e):e}},{key:"untranslateTrimmedRow",value:function(e){return this.plugin.collapsingUI?this.plugin.collapsingUI.untranslateTrimmedRow(e):e}}],n&&Rj(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const Ej=Dj;function Aj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lj(e,t,n){return t&&Aj(e.prototype,t),n&&Aj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var jj=Lj((function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hot=n,this.plugin=t}));const Pj=jj;function Ij(e){return Ij="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ij(e)}function Hj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nj(e,t){return Nj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nj(e,t)}function Fj(e,t){if(t&&("object"===Ij(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Yj(e){return Yj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yj(e)}var zj=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nj(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Yj(i);if(o){var n=Yj(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Fj(this,e)});function s(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(n=a.call(this,e,t)).dataManager=n.plugin.dataManager,n.collapsingUI=n.plugin.collapsingUI,n.rowHeaderWidthCache=null,n}return t=s,n=[{key:"appendLevelIndicators",value:function(e,t){var n=this.hot.toPhysicalRow(e),r=this.dataManager.getRowLevel(n),i=this.dataManager.getDataObject(n),o=t.getElementsByTagName("DIV")[0],a=o.querySelector("span.rowHeader");if($(o.querySelectorAll('[class^="ht_nesting"]'),(function(e){e&&o.removeChild(e)})),Ht(t,s.CSS_CLASSES.indicatorContainer),r){var l=this.hot.rootDocument,u=a.cloneNode(!0);o.innerHTML="",Wr(0,r-1,(function(){var e=l.createElement("SPAN");Ht(e,s.CSS_CLASSES.emptyIndicator),o.appendChild(e)})),o.appendChild(u)}if(this.dataManager.hasChildren(i)){var c=this.hot.rootDocument.createElement("DIV");Ht(t,s.CSS_CLASSES.parent),this.collapsingUI.areChildrenCollapsed(n)?Ht(c,"".concat(s.CSS_CLASSES.button," ").concat(s.CSS_CLASSES.expandButton)):Ht(c,"".concat(s.CSS_CLASSES.button," ").concat(s.CSS_CLASSES.collapseButton)),o.appendChild(c)}}},{key:"updateRowHeaderWidth",value:function(e){var t=e;t||(t=this.dataManager.cache.levelCount),this.rowHeaderWidthCache=Math.max(50,11+10*t+25),this.hot.render()}}],r=[{key:"CSS_CLASSES",get:function(){return{indicatorContainer:"ht_nestingLevels",parent:"ht_nestingParent",indicator:"ht_nestingLevel",emptyIndicator:"ht_nestingLevel_empty",button:"ht_nestingButton",expandButton:"ht_nestingExpand",collapseButton:"ht_nestingCollapse"}}}],n&&Hj(t.prototype,n),r&&Hj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(Pj);const Bj=zj;function Wj(e){return Wj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wj(e)}function $j(e){return function(e){if(Array.isArray(e))return Uj(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Uj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Uj(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qj(e,t){return qj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qj(e,t)}function Gj(e,t){if(t&&("object"===Wj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Kj(e){return Kj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kj(e)}var Zj=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qj(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Kj(r);if(i){var n=Kj(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Gj(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=o.call(this,e,t)).dataManager=n.plugin.dataManager,n.collapsedRows=[],n.collapsedRowsStash={stash:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.lastCollapsedRows=n.collapsedRows.slice(0),n.expandMultipleChildren(n.lastCollapsedRows,e)},shiftStash:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;null==t&&(t=1/0),$(n.lastCollapsedRows,(function(i,o){i>=e&&i<t&&(n.lastCollapsedRows[o]=i+r)}))},applyStash:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.collapseMultipleChildren(n.lastCollapsedRows,e),n.lastCollapsedRows=void 0},trimStash:function(e,t){Wr(e,e+t-1,(function(e){var t=n.lastCollapsedRows.indexOf(e);t>-1&&n.lastCollapsedRows.splice(t,1)}))}},n}return t=a,n=[{key:"collapseChildren",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=[],o=null,a=null,s=null;return isNaN(e)?(o=e,a=this.dataManager.getRowIndex(o)):(o=this.dataManager.getDataObject(e),a=e),this.dataManager.hasChildren(o)&&$(o.__children,(function(e){i.push(t.dataManager.getRowIndex(e))})),s=this.collapseRows(i,!0,!1),r&&this.trimRows(s),n&&this.renderAndAdjust(),-1===this.collapsedRows.indexOf(a)&&this.collapsedRows.push(a),s}},{key:"collapseMultipleChildren",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=[];$(e,(function(e){i.push.apply(i,$j(t.collapseChildren(e,!1,!1)))})),r&&this.trimRows(i),n&&this.renderAndAdjust()}},{key:"collapseRow",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.collapseRows([e],t)}},{key:"collapseRows",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[];return $(e,(function(e){i.push(e),n&&t.collapseChildRows(e,i)})),r&&this.trimRows(i),i}},{key:"collapseChildRows",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.dataManager.hasChildren(e)){var i=this.dataManager.getDataObject(e);$(i.__children,(function(e){var r=t.dataManager.getRowIndex(e);n.push(r),t.collapseChildRows(r,n)}))}r&&this.trimRows(n)}},{key:"expandRow",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.expandRows([e],t)}},{key:"expandRows",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[];return $(e,(function(e){i.push(e),n&&t.expandChildRows(e,i)})),r&&this.untrimRows(i),i}},{key:"expandChildRows",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.dataManager.hasChildren(e)){var i=this.dataManager.getDataObject(e);$(i.__children,(function(e){if(!t.isAnyParentCollapsed(e)){var r=t.dataManager.getRowIndex(e);n.push(r),t.expandChildRows(r,n)}}))}r&&this.untrimRows(n)}},{key:"expandChildren",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=[],o=null,a=null,s=null;return isNaN(e)?(o=e,a=this.dataManager.getRowIndex(e)):(o=this.dataManager.getDataObject(e),a=e),this.collapsedRows.splice(this.collapsedRows.indexOf(a),1),this.dataManager.hasChildren(o)&&$(o.__children,(function(e){var n=t.dataManager.getRowIndex(e);i.push(n)})),s=this.expandRows(i,!0,!1),r&&this.untrimRows(s),n&&this.renderAndAdjust(),s}},{key:"expandMultipleChildren",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=[];$(e,(function(e){i.push.apply(i,$j(t.expandChildren(e,!1,!1)))})),r&&this.untrimRows(i),n&&this.renderAndAdjust()}},{key:"collapseAll",value:function(){var e=this,t=this.dataManager.getData(),n=[];$(t,(function(t){e.dataManager.hasChildren(t)&&n.push(t)})),this.collapseMultipleChildren(n),this.renderAndAdjust()}},{key:"expandAll",value:function(){var e=this,t=this.dataManager.getData(),n=[];$(t,(function(t){e.dataManager.hasChildren(t)&&n.push(t)})),this.expandMultipleChildren(n),this.renderAndAdjust()}},{key:"trimRows",value:function(e){var t=this;this.hot.batchExecution((function(){$(e,(function(e){t.plugin.collapsedRowsMap.setValueAtIndex(e,!0)}))}),!0)}},{key:"untrimRows",value:function(e){var t=this;this.hot.batchExecution((function(){$(e,(function(e){t.plugin.collapsedRowsMap.setValueAtIndex(e,!1)}))}),!0)}},{key:"areChildrenCollapsed",value:function(e){var t=this,n=isNaN(e)?e:this.dataManager.getDataObject(e),r=!0;return null===n&&(n={__children:this.dataManager.data}),this.dataManager.hasChildren(n)&&$(n.__children,(function(e){var n=t.dataManager.getRowIndex(e);if(!t.plugin.collapsedRowsMap.getValueAtIndex(n))return r=!1,!1})),r}},{key:"isAnyParentCollapsed",value:function(e){for(var t=e;null!==t;){t=this.dataManager.getRowParent(t);var n=this.dataManager.getRowIndex(t);if(this.collapsedRows.indexOf(n)>-1)return!0}return!1}},{key:"toggleState",value:function(e,t){if(!(t.col>=0)){var n=this.translateTrimmedRow(t.row);It(e.target,Bj.CSS_CLASSES.button)&&(this.areChildrenCollapsed(n)?this.expandChildren(n):this.collapseChildren(n),Bn(e))}}},{key:"translateTrimmedRow",value:function(e){return this.hot.toPhysicalRow(e)}},{key:"untranslateTrimmedRow",value:function(e){return this.hot.toVisualRow(e)}},{key:"renderAndAdjust",value:function(){this.hot.render(),this.hot.view.adjustElementsSize()}}],n&&Vj(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(Pj);const Xj=Zj;function Jj(e){return Jj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jj(e)}function Qj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eP(e,t){return eP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},eP(e,t)}function tP(e,t){if(t&&("object"===Jj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nP(e)}function nP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rP(e){return rP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rP(e)}var iP=new WeakMap;const oP=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eP(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=rP(r);if(i){var n=rP(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return tP(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),n=o.call(this,e,t),iP.set(nP(n),{row_above:function(e,t){var r=t[t.length-1];n.dataManager.addSibling(r.start.row,"above")},row_below:function(e,t){var r=t[t.length-1];n.dataManager.addSibling(r.start.row,"below")}}),n.dataManager=n.plugin.dataManager,n}return t=a,(n=[{key:"appendOptions",value:function(e){var t=this,n=[{key:"add_child",name:function(){return this.getTranslatedPhrase(vh)},callback:function(){var e=t.dataManager.translateTrimmedRow(t.hot.getSelectedLast()[0]),n=t.dataManager.getDataObject(e);t.dataManager.addChild(n)},disabled:function(){var e=t.hot.getSelectedLast();return!e||e[0]<0||t.hot.selection.isSelectedByColumnHeader()||t.hot.countRows()>=t.hot.getSettings().maxRows}},{key:"detach_from_parent",name:function(){return this.getTranslatedPhrase(bh)},callback:function(){t.dataManager.detachFromParent(t.hot.getSelectedLast())},disabled:function(){var e=t.hot.getSelectedLast(),n=t.dataManager.translateTrimmedRow(e[0]);return!t.dataManager.getRowParent(n)||!e||e[0]<0||t.hot.selection.isSelectedByColumnHeader()||t.hot.countRows()>=t.hot.getSettings().maxRows}},{name:"---------"}];return Wr(0,e.items.length-1,(function(t){if(0===t)return $(n,(function(n,r){e.items.splice(t+r,0,n)})),!1})),this.modifyRowInsertingOptions(e)}},{key:"modifyRowInsertingOptions",value:function(e){var t=iP.get(this);return Wr(0,e.items.length-1,(function(n){var r=t[e.items[n].key];null!=r&&(e.items[n].callback=r)})),e}}])&&Qj(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(Pj);var aP;function sP(e){return function(e){if(Array.isArray(e))return lP(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return lP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lP(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var cP=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.plugin=t,this.hot=t.hot,this.dataManager=t.dataManager,this.collapsingUI=t.collapsingUI}var t,n;return t=e,n=[{key:"onBeforeRowMove",value:function(e,t,n,r){var i=this;if(this.displayAPICompatibilityWarning({rows:e,finalIndex:t,dropIndex:n,movePossible:r}))return!1;this.movedToCollapsed=!1;var o=n===this.hot.countRows(),a=o?this.hot.countSourceRows():this.dataManager.translateTrimmedRow(n),s=!0,l=e.map((function(e){if(!s)return!1;var t=i.dataManager.translateTrimmedRow(e);return s=i.shouldAllowMoving(t,a),t})),u=-1===l.indexOf(a);if(!s||!u)return!1;var c=this.getBaseParent(l),d=this.getTargetParent(o,a),h=c===d;return this.movedToCollapsed=this.collapsingUI.areChildrenCollapsed(d),this.collapsingUI.collapsedRowsStash.stash(),this.shiftCollapsibleParentsLocations(l,a,h),this.moveRows(l,a,d),this.dataManager.rewriteCache(),this.moveCellsMeta(l,a),this.collapsingUI.collapsedRowsStash.applyStash(!1),this.hot.runHooks("afterRowMove",e,t,n,r,r&&this.isRowOrderChanged(e,t)),this.hot.render(),this.selectCells(e,n),!1}},{key:"displayAPICompatibilityWarning",value:function(e){var t=e.rows,n=e.finalIndex,r=e.dropIndex,i=e.movePossible,o=!1;return Qe(r)&&(Vn(Ge(aP||(aP=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["Since version 8.0.0 of the Handsontable the 'moveRows' method isn't used for moving rows \n      when the NestedRows plugin is enabled. Please use the 'dragRows' method instead."],["Since version 8.0.0 of the Handsontable the 'moveRows' method isn't used for moving rows\\x20\n      when the NestedRows plugin is enabled. Please use the 'dragRows' method instead."])))),this.hot.runHooks("afterRowMove",t,n,r,i,!1),o=!0),o}},{key:"shouldAllowMoving",value:function(e,t){return!(this.dataManager.isParent(e)||this.dataManager.isRowHighestLevel(e)||e===t||0===t)}},{key:"getBaseParent",value:function(e){return this.dataManager.getRowParent(e[0])}},{key:"getTargetParent",value:function(e,t){var n=this.dataManager.getRowParent(e?t-1:t);return null==n&&(n=this.dataManager.getRowParent(t-1)),n}},{key:"shiftCollapsibleParentsLocations",value:function(e,t,n){n||(Math.max.apply(Math,sP(e))<=t?this.collapsingUI.collapsedRowsStash.shiftStash(e[0],t,-1*e.length):this.collapsingUI.collapsedRowsStash.shiftStash(t,e[0],e.length))}},{key:"moveRows",value:function(e,t,n){var r=this,i=t===this.dataManager.getRowIndex(n)+this.dataManager.countChildren(n)+1;this.hot.batchRender((function(){e.forEach((function(e){r.dataManager.moveRow(e,t,r.movedToCollapsed,i)}))}))}},{key:"moveCellsMeta",value:function(e,t){var n,r=this,i=[],o=Math.max.apply(Math,sP(e))<t;e.forEach((function(e){i.push(r.hot.getCellMetaAtRow(e))})),this.hot.spliceCellsMeta(e[0],e.length),(n=this.hot).spliceCellsMeta.apply(n,[t-(o?i.length:0),0].concat(i))}},{key:"selectCells",value:function(e,t){var n,r=e.length,i=0,o=0,a=null;if(this.movedToCollapsed){var s;s=e[r-1]<t?this.dataManager.translateTrimmedRow(t-r):this.dataManager.translateTrimmedRow(t);var l=this.dataManager.getRowParent(null===s?this.hot.countSourceRows()-1:s-1),u=this.dataManager.getRowIndex(l);o=i=this.dataManager.untranslateTrimmedRow(u)}else e[r-1]<t?i=(o=t-1)-r+1:o=(i=t)+r-1;a=this.hot.selection,n=this.hot.countCols()-1,a.setRangeStart(this.hot._createCellCoords(i,0)),a.setRangeEnd(this.hot._createCellCoords(o,n),!0)}},{key:"isRowOrderChanged",value:function(e,t){return e.some((function(e,n){return e-n!==t}))}}],n&&uP(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function dP(e){return dP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dP(e)}function hP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pP(){return pP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=mP(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},pP.apply(this,arguments)}function mP(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=bP(e)););return e}function gP(e,t){return gP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gP(e,t)}function yP(e,t){if(t&&("object"===dP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vP(e)}function vP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bP(e){return bP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bP(e)}var wP=new WeakMap,_P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gP(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=bP(i);if(o){var n=bP(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return yP(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).dataManager=null,t.headersUI=null,t.collapsedRowsMap=null,wP.set(vP(t),{movedToCollapsed:!1,skipRender:null,skipCoreAPIModifiers:!1}),t}return t=s,n=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().nestedRows}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.collapsedRowsMap=this.hot.rowIndexMapper.registerMap("nestedRows",new Yc),this.dataManager=new Ej(this,this.hot),this.collapsingUI=new Xj(this,this.hot),this.headersUI=new Bj(this,this.hot),this.contextMenuUI=new oP(this,this.hot),this.rowMoveController=new cP(this),this.addHook("afterInit",(function(){return e.onAfterInit.apply(e,arguments)})),this.addHook("beforeViewRender",(function(){return e.onBeforeViewRender.apply(e,arguments)})),this.addHook("modifyRowData",(function(){return e.onModifyRowData.apply(e,arguments)})),this.addHook("modifySourceLength",(function(){return e.onModifySourceLength.apply(e,arguments)})),this.addHook("beforeDataSplice",(function(){return e.onBeforeDataSplice.apply(e,arguments)})),this.addHook("filterData",(function(){return e.onFilterData.apply(e,arguments)})),this.addHook("afterContextMenuDefaultOptions",(function(){return e.onAfterContextMenuDefaultOptions.apply(e,arguments)})),this.addHook("afterGetRowHeader",(function(){return e.onAfterGetRowHeader.apply(e,arguments)})),this.addHook("beforeOnCellMouseDown",(function(){return e.onBeforeOnCellMouseDown.apply(e,arguments)})),this.addHook("beforeRemoveRow",(function(){return e.onBeforeRemoveRow.apply(e,arguments)})),this.addHook("afterRemoveRow",(function(){return e.onAfterRemoveRow.apply(e,arguments)})),this.addHook("beforeAddChild",(function(){return e.onBeforeAddChild.apply(e,arguments)})),this.addHook("afterAddChild",(function(){return e.onAfterAddChild.apply(e,arguments)})),this.addHook("beforeDetachChild",(function(){return e.onBeforeDetachChild.apply(e,arguments)})),this.addHook("afterDetachChild",(function(){return e.onAfterDetachChild.apply(e,arguments)})),this.addHook("modifyRowHeaderWidth",(function(){return e.onModifyRowHeaderWidth.apply(e,arguments)})),this.addHook("afterCreateRow",(function(){return e.onAfterCreateRow.apply(e,arguments)})),this.addHook("beforeRowMove",(function(){return e.onBeforeRowMove.apply(e,arguments)})),this.addHook("beforeLoadData",(function(t){return e.onBeforeLoadData(t)})),pP(bP(s.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.hot.rowIndexMapper.unregisterMap("nestedRows"),pP(bP(s.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin();var e=this.dataManager.getData();this.enablePlugin(),this.dataManager.updateWithData(e),pP(bP(s.prototype),"updatePlugin",this).call(this)}},{key:"onBeforeRowMove",value:function(e,t,n,r){return this.rowMoveController.onBeforeRowMove(e,t,n,r)}},{key:"disableCoreAPIModifiers",value:function(){wP.get(this).skipCoreAPIModifiers=!0}},{key:"enableCoreAPIModifiers",value:function(){wP.get(this).skipCoreAPIModifiers=!1}},{key:"onBeforeOnCellMouseDown",value:function(e,t,n){this.collapsingUI.toggleState(e,t,n)}},{key:"onModifyRowData",value:function(e){if(!wP.get(this).skipCoreAPIModifiers)return this.dataManager.getDataObject(e)}},{key:"onModifySourceLength",value:function(){if(!wP.get(this).skipCoreAPIModifiers)return this.dataManager.countAllRows()}},{key:"onBeforeDataSplice",value:function(e,t,n){return!(!wP.get(this).skipCoreAPIModifiers&&!this.dataManager.isRowHighestLevel(e)&&(this.dataManager.spliceData(e,t,n),1))}},{key:"onFilterData",value:function(e,t,n){var r=wP.get(this);return this.collapsingUI.collapsedRowsStash.stash(),this.collapsingUI.collapsedRowsStash.trimStash(n[0],t),this.collapsingUI.collapsedRowsStash.shiftStash(n[0],null,-1*t),this.dataManager.filterData(e,t,n),r.skipRender=!0,this.dataManager.getData().slice()}},{key:"onAfterContextMenuDefaultOptions",value:function(e){return this.contextMenuUI.appendOptions(e)}},{key:"onAfterGetRowHeader",value:function(e,t){this.headersUI.appendLevelIndicators(e,t)}},{key:"onModifyRowHeaderWidth",value:function(e){return this.headersUI.rowHeaderWidthCache||e}},{key:"onAfterRemoveRow",value:function(e,t,n,r){var i=this;if(r!==this.pluginName){var o=wP.get(this);setTimeout((function(){o.skipRender=null,i.headersUI.updateRowHeaderWidth(),i.collapsingUI.collapsedRowsStash.applyStash()}),0)}}},{key:"onBeforeRemoveRow",value:function(e,t,n){var r=this,i=Array.from(n.reduce((function(e,t){if(r.dataManager.isParent(t)){var n=r.dataManager.getDataObject(t).__children;return e.add(t),Array.isArray(n)&&n.forEach((function(t){return e.add(r.dataManager.getRowIndex(t))})),e}return e.add(t)}),new Set));n.length=0,n.push.apply(n,i)}},{key:"onBeforeAddChild",value:function(){this.collapsingUI.collapsedRowsStash.stash()}},{key:"onAfterAddChild",value:function(e,t){this.collapsingUI.collapsedRowsStash.shiftStash(this.dataManager.getRowIndex(t)),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}},{key:"onBeforeDetachChild",value:function(){this.collapsingUI.collapsedRowsStash.stash()}},{key:"onAfterDetachChild",value:function(e,t,n){this.collapsingUI.collapsedRowsStash.shiftStash(n,null,-1),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}},{key:"onAfterCreateRow",value:function(){this.dataManager.rewriteCache()}},{key:"onAfterInit",value:function(){var e,t=Math.max.apply(Math,function(e){if(Array.isArray(e))return hP(e)}(e=this.dataManager.cache.levels)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return hP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hP(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());t>0&&this.headersUI.updateRowHeaderWidth(t)}},{key:"onBeforeViewRender",value:function(e,t){wP.get(this).skipRender&&(t.skipRender=!0)}},{key:"destroy",value:function(){pP(bP(s.prototype),"destroy",this).call(this)}},{key:"onBeforeLoadData",value:function(e){if(!Yu(e))return qn("The Nested Rows plugin requires an Array of Objects as a dataset to be provided. The plugin has been disabled."),this.hot.getSettings().nestedRows=!1,void this.disablePlugin();this.dataManager.setData(e),this.dataManager.rewriteCache()}}],r=[{key:"PLUGIN_KEY",get:function(){return"nestedRows"}},{key:"PLUGIN_PRIORITY",get:function(){return 300}}],n&&fP(t.prototype,n),r&&fP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($v);function kP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var MP=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;kP(this,e),this.rootWindow=n,this.prefix=t,this.savedKeys=[],this.loadSavedKeys()}var t,n;return t=e,n=[{key:"saveValue",value:function(e,t){this.rootWindow.localStorage.setItem("".concat(this.prefix,"_").concat(e),JSON.stringify(t)),-1===this.savedKeys.indexOf(e)&&(this.savedKeys.push(e),this.saveSavedKeys())}},{key:"loadValue",value:function(e,t){var n=void 0===e?t:e,r=this.rootWindow.localStorage.getItem("".concat(this.prefix,"_").concat(n));return null===r?void 0:JSON.parse(r)}},{key:"reset",value:function(e){this.rootWindow.localStorage.removeItem("".concat(this.prefix,"_").concat(e))}},{key:"resetAll",value:function(){var e=this;$(this.savedKeys,(function(t,n){e.rootWindow.localStorage.removeItem("".concat(e.prefix,"_").concat(e.savedKeys[n]))})),this.clearSavedKeys()}},{key:"loadSavedKeys",value:function(){var e=this.rootWindow.localStorage.getItem("".concat(this.prefix,"__persistentStateKeys")),t="string"==typeof e?JSON.parse(e):void 0;this.savedKeys=t||[]}},{key:"saveSavedKeys",value:function(){this.rootWindow.localStorage.setItem("".concat(this.prefix,"__persistentStateKeys"),JSON.stringify(this.savedKeys))}},{key:"clearSavedKeys",value:function(){this.savedKeys.length=0,this.saveSavedKeys()}}],n&&SP(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const xP=MP;function OP(e){return OP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OP(e)}function CP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TP(){return TP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=RP(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},TP.apply(this,arguments)}function RP(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=AP(e)););return e}function DP(e,t){return DP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},DP(e,t)}function EP(e,t){if(t&&("object"===OP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function AP(e){return AP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},AP(e)}rr.getSingleton().register("persistentStateSave"),rr.getSingleton().register("persistentStateLoad"),rr.getSingleton().register("persistentStateReset");var LP=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DP(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=AP(i);if(o){var n=AP(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return EP(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).storage=void 0,t}return t=s,n=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().persistentState}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.storage||(this.storage=new xP(this.hot.rootElement.id,this.hot.rootWindow)),this.addHook("persistentStateSave",(function(t,n){return e.saveValue(t,n)})),this.addHook("persistentStateLoad",(function(t,n){return e.loadValue(t,n)})),this.addHook("persistentStateReset",(function(){return e.resetValue()})),TP(AP(s.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.storage=void 0,TP(AP(s.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),TP(AP(s.prototype),"updatePlugin",this).call(this)}},{key:"loadValue",value:function(e,t){t.value=this.storage.loadValue(e)}},{key:"saveValue",value:function(e,t){this.storage.saveValue(e,t)}},{key:"resetValue",value:function(e){void 0===e?this.storage.resetAll():this.storage.reset(e)}},{key:"destroy",value:function(){TP(AP(s.prototype),"destroy",this).call(this)}}],r=[{key:"PLUGIN_KEY",get:function(){return"persistentState"}},{key:"PLUGIN_PRIORITY",get:function(){return 0}}],n&&CP(t.prototype,n),r&&CP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($v);function jP(e){return jP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jP(e)}function PP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function IP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function HP(){return HP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=NP(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},HP.apply(this,arguments)}function NP(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zP(e)););return e}function FP(e,t){return FP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},FP(e,t)}function YP(e,t){if(t&&("object"===jP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function zP(e){return zP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zP(e)}var BP=function(e,t,n,r,i){e.getCellMeta(t,n).isSearchResult=i},WP=function(e,t,n){return!(Qe(e)||null===e||!e.toLocaleLowerCase||0===e.length||Qe(t)||null===t||-1===t.toString().toLocaleLowerCase(n.locale).indexOf(e.toLocaleLowerCase(n.locale)))},$P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FP(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=zP(i);if(o){var n=zP(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return YP(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).callback=BP,t.queryMethod=WP,t.searchResultClass="htSearchResult",t}return t=s,n=[{key:"isEnabled",value:function(){return this.hot.getSettings().search}},{key:"enablePlugin",value:function(){var e=this;if(!this.enabled){var t=this.hot.getSettings().search;this.updatePluginSettings(t),this.addHook("beforeRenderer",(function(){return e.onBeforeRenderer.apply(e,arguments)})),HP(zP(s.prototype),"enablePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){var e=this,t=function(){return e.onBeforeRenderer.apply(e,arguments)};this.hot.addHook("beforeRenderer",t),this.hot.addHookOnce("afterViewRender",(function(){e.hot.removeHook("beforeRenderer",t)})),HP(zP(s.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),HP(zP(s.prototype),"updatePlugin",this).call(this)}},{key:"query",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCallback(),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getQueryMethod(),i=this.hot.countRows(),o=this.hot.countCols(),a=[],s=this.hot;return Wr(0,i-1,(function(i){Wr(0,o-1,(function(o){var l=t.hot.getDataAtCell(i,o),u=t.hot.getCellMeta(i,o),c=u.search.callback||n,d=(u.search.queryMethod||r)(e,l,u);if(d){var h={row:i,col:o,data:l};a.push(h)}c&&c(s,i,o,l,d)}))})),a}},{key:"getCallback",value:function(){return this.callback}},{key:"setCallback",value:function(e){this.callback=e}},{key:"getQueryMethod",value:function(){return this.queryMethod}},{key:"setQueryMethod",value:function(e){this.queryMethod=e}},{key:"getSearchResultClass",value:function(){return this.searchResultClass}},{key:"setSearchResultClass",value:function(e){this.searchResultClass=e}},{key:"updatePluginSettings",value:function(e){de(e)&&(e.searchResultClass&&this.setSearchResultClass(e.searchResultClass),e.queryMethod&&this.setQueryMethod(e.queryMethod),e.callback&&this.setCallback(e.callback))}},{key:"onBeforeRenderer",value:function(e,t,n,r,i,o){var a,s,l=o.className||[],u=[];"string"==typeof l?u=l.split(" "):(a=u).push.apply(a,function(e){if(Array.isArray(e))return PP(e)}(s=l)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(s)||function(e,t){if(e){if("string"==typeof e)return PP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?PP(e,t):void 0}}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),this.isEnabled()&&o.isSearchResult?u.includes(this.searchResultClass)||u.push("".concat(this.searchResultClass)):u.includes(this.searchResultClass)&&u.splice(u.indexOf(this.searchResultClass),1),o.className=u.join(" ")}},{key:"destroy",value:function(){HP(zP(s.prototype),"destroy",this).call(this)}}],r=[{key:"PLUGIN_KEY",get:function(){return"search"}},{key:"PLUGIN_PRIORITY",get:function(){return 190}}],n&&IP(t.prototype,n),r&&IP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($v);function UP(e){return UP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UP(e)}function VP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qP(){return qP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=GP(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},qP.apply(this,arguments)}function GP(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=XP(e)););return e}function KP(e,t){return KP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},KP(e,t)}function ZP(e,t){if(t&&("object"===UP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function XP(e){return XP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},XP(e)}var JP=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KP(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=XP(i);if(o){var n=XP(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ZP(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).scrollbars=[],t.clones=[],t.lockedCollection=!1,t.freezeOverlays=!1,t}return t=s,n=[{key:"isEnabled",value:function(){return j()}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.addHook("afterViewRender",(function(){return e.onAfterViewRender()})),this.registerEvents(),qP(XP(s.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.lockedCollection=!1,qP(XP(s.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){qP(XP(s.prototype),"disablePlugin",this).call(this)}},{key:"registerEvents",value:function(){var e=this;this.addHook("beforeTouchScroll",(function(){return e.onBeforeTouchScroll()})),this.addHook("afterMomentumScroll",(function(){return e.onAfterMomentumScroll()}))}},{key:"onAfterViewRender",value:function(){if(!this.lockedCollection){var e=this.hot.view._wt.wtOverlays,t=e.topOverlay,n=e.bottomOverlay,r=e.inlineStartOverlay,i=e.topInlineStartCornerOverlay,o=e.bottomInlineStartCornerOverlay;this.lockedCollection=!0,this.scrollbars.length=0,this.scrollbars.push(t),n.clone&&this.scrollbars.push(n),this.scrollbars.push(r),i&&this.scrollbars.push(i),o&&o.clone&&this.scrollbars.push(o),this.clones=[],t.needFullRender&&this.clones.push(t.clone.wtTable.holder.parentNode),n.needFullRender&&this.clones.push(n.clone.wtTable.holder.parentNode),r.needFullRender&&this.clones.push(r.clone.wtTable.holder.parentNode),i&&this.clones.push(i.clone.wtTable.holder.parentNode),o&&o.clone&&this.clones.push(o.clone.wtTable.holder.parentNode)}}},{key:"onBeforeTouchScroll",value:function(){this.freezeOverlays=!0,$(this.clones,(function(e){Ht(e,"hide-tween")}))}},{key:"onAfterMomentumScroll",value:function(){var e=this;this.freezeOverlays=!1,$(this.clones,(function(e){Nt(e,"hide-tween"),Ht(e,"show-tween")})),this.hot._registerTimeout((function(){$(e.clones,(function(e){Nt(e,"show-tween")}))}),400),$(this.scrollbars,(function(e){e.refresh(),e.resetFixedPosition()})),this.hot.view._wt.wtOverlays.syncScrollWithMaster()}}],r=[{key:"PLUGIN_KEY",get:function(){return"touchScroll"}},{key:"PLUGIN_PRIORITY",get:function(){return 200}},{key:"SETTING_KEYS",get:function(){return!0}}],n&&VP(t.prototype,n),r&&VP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($v);function QP(e){return QP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QP(e)}function eI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tI(){return tI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=nI(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},tI.apply(this,arguments)}function nI(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oI(e)););return e}function rI(e,t){return rI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rI(e,t)}function iI(e,t){if(t&&("object"===QP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function oI(e){return oI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oI(e)}var aI=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rI(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=oI(i);if(o){var n=oI(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return iI(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).trimmedRowsMap=null,t}return t=s,n=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().trimRows}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.trimmedRowsMap=this.hot.rowIndexMapper.registerMap("trimRows",new Yc),this.trimmedRowsMap.addLocalHook("init",(function(){return e.onMapInit()})),tI(oI(s.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){var e=this,t=this.hot.getSettings().trimRows;Array.isArray(t)&&this.hot.batchExecution((function(){e.trimmedRowsMap.clear(),$(t,(function(t){e.trimmedRowsMap.setValueAtIndex(t,!0)}))}),!0),tI(oI(s.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.hot.rowIndexMapper.unregisterMap("trimRows"),tI(oI(s.prototype),"disablePlugin",this).call(this)}},{key:"getTrimmedRows",value:function(){return this.trimmedRowsMap.getTrimmedIndexes()}},{key:"trimRows",value:function(e){var t=this,n=this.getTrimmedRows(),r=this.isValidConfig(e),i=n;r&&(i=Array.from(new Set(n.concat(e)))),!1!==this.hot.runHooks("beforeTrimRow",n,i,r)&&(r&&this.hot.batchExecution((function(){$(e,(function(e){t.trimmedRowsMap.setValueAtIndex(e,!0)}))}),!0),this.hot.runHooks("afterTrimRow",n,i,r,r&&i.length>n.length))}},{key:"trimRow",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.trimRows(t)}},{key:"untrimRows",value:function(e){var t=this.getTrimmedRows(),n=this.isValidConfig(e),r=t,i=this.trimmedRowsMap.getValues().slice(),o=e.length>0;n&&o&&($(e,(function(e){i[e]=!1})),r=z(i,(function(e,t,n){return t&&e.push(n),e}),[])),!1!==this.hot.runHooks("beforeUntrimRow",t,r,n&&o)&&(n&&o&&this.trimmedRowsMap.setValues(i),this.hot.runHooks("afterUntrimRow",t,r,n&&o,n&&r.length<t.length))}},{key:"untrimRow",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.untrimRows(t)}},{key:"isTrimmed",value:function(e){return this.trimmedRowsMap.getValueAtIndex(e)||!1}},{key:"untrimAll",value:function(){this.untrimRows(this.getTrimmedRows())}},{key:"isValidConfig",value:function(e){var t=this.hot.countSourceRows();return e.every((function(e){return Number.isInteger(e)&&e>=0&&e<t}))}},{key:"onMapInit",value:function(){var e=this,t=this.hot.getSettings().trimRows;Array.isArray(t)&&this.hot.batchExecution((function(){$(t,(function(t){e.trimmedRowsMap.setValueAtIndex(t,!0)}))}),!0)}},{key:"destroy",value:function(){tI(oI(s.prototype),"destroy",this).call(this)}}],r=[{key:"PLUGIN_KEY",get:function(){return"trimRows"}},{key:"PLUGIN_PRIORITY",get:function(){return 330}}],n&&eI(t.prototype,n),r&&eI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($v);function sI(e){return sI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sI(e)}function lI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cI(e,t,n){return t&&uI(e.prototype,t),n&&uI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dI(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hI(e,t)}function hI(e,t){return hI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hI(e,t)}function fI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mI(e);if(t){var i=mI(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pI(this,n)}}function pI(e,t){if(t&&("object"===sI(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function mI(e){return mI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mI(e)}function gI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||yI(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yI(e,t){if(e){if("string"==typeof e)return vI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vI(e,t):void 0}}function vI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bI="undoRedo";function wI(e){var t=this;this.instance=e,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,this.enabled=!1,e.addHook("afterChange",(function(n,r){var i=this,o=n&&n.length;o&&n.find((function(e){var t=gI(e,4);return t[2]!==t[3]}))&&t.done((function(){var t=n.reduce((function(e,t){return e.push(function(e){return function(e){if(Array.isArray(e))return vI(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||yI(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t)),e}),[]);$(t,(function(t){t[1]=e.propToCol(t[1])}));var r=o>1?i.getSelected():[[t[0][0],t[0][1]]];return new wI.ChangeAction(t,r)}),r)})),e.addHook("afterCreateRow",(function(e,n,r){t.done((function(){return new wI.CreateRowAction(e,n)}),r)})),e.addHook("beforeRemoveRow",(function(n,r,i,o){t.done((function(){var i=t.instance.getSourceDataArray(),o=(i.length+n)%i.length,a=e.toPhysicalRow(o),s=se(i.slice(a,a+r));return new wI.RemoveRowAction(o,s,e.getSettings().fixedRowsBottom,e.getSettings().fixedRowsTop)}),o)})),e.addHook("afterCreateCol",(function(e,n,r){t.done((function(){return new wI.CreateColumnAction(e,n)}),r)})),e.addHook("beforeRemoveCol",(function(n,r,i,o){t.done((function(){var i=t.instance.getSourceDataArray(),o=(t.instance.countCols()+n)%t.instance.countCols(),a=[],s=[],l=[];Wr(i.length-1,(function(t){var n=[],s=i[t];Wr(o,o+(r-1),(function(t){n.push(s[e.toPhysicalColumn(t)])})),a.push(n)})),Wr(r-1,(function(t){l.push(e.toPhysicalColumn(o+t))})),Array.isArray(e.getSettings().colHeaders)&&Wr(r-1,(function(t){s.push(e.getSettings().colHeaders[e.toPhysicalColumn(o+t)]||null)}));var u=e.columnIndexMapper.getIndexesSequence(),c=e.rowIndexMapper.getIndexesSequence();return new wI.RemoveColumnAction(o,l,a,s,u,c,e.getSettings().fixedColumnsStart)}),o)})),e.addHook("beforeCellAlignment",(function(e,n,r,i){t.done((function(){return new wI.CellAlignmentAction(e,n,r,i)}))})),e.addHook("beforeFilter",(function(e){t.done((function(){return new wI.FiltersAction(e)}))})),e.addHook("beforeRowMove",(function(e,n){!1!==e&&t.done((function(){return new wI.RowMoveAction(e,n)}))})),e.addHook("beforeMergeCells",(function(n,r){r||t.done((function(){return new wI.MergeCellsAction(e,n)}))})),e.addHook("afterUnmergeCells",(function(n,r){r||t.done((function(){return new wI.UnmergeCellsAction(e,n)}))})),e.addHook("afterInit",(function(){t.init()}))}wI.prototype.done=function(e,t){if(!this.ignoreNewActions&&"UndoRedo.undo"!==t&&"UndoRedo.redo"!==t&&"auto"!==t){var n=this.doneActions.slice();if(!1!==this.instance.runHooks("beforeUndoStackChange",n,t)){var r=e(),i=this.undoneActions.slice();this.doneActions.push(r),this.instance.runHooks("afterUndoStackChange",n,this.doneActions.slice()),this.instance.runHooks("beforeRedoStackChange",i),this.undoneActions.length=0,this.instance.runHooks("afterRedoStackChange",i,this.undoneActions.slice())}}},wI.prototype.undo=function(){if(this.isUndoAvailable()){var e=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",e);var t=this.doneActions.pop();this.instance.runHooks("afterUndoStackChange",e,this.doneActions.slice());var n=se(t);if(!1===this.instance.runHooks("beforeUndo",n))return;this.ignoreNewActions=!0;var r=this,i=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",i),t.undo(this.instance,(function(){r.ignoreNewActions=!1,r.undoneActions.push(t)})),this.instance.runHooks("afterRedoStackChange",i,this.undoneActions.slice()),this.instance.runHooks("afterUndo",n)}},wI.prototype.redo=function(){if(this.isRedoAvailable()){var e=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",e);var t=this.undoneActions.pop();this.instance.runHooks("afterRedoStackChange",e,this.undoneActions.slice());var n=se(t);if(!1===this.instance.runHooks("beforeRedo",n))return;this.ignoreNewActions=!0;var r=this,i=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",i),t.redo(this.instance,(function(){r.ignoreNewActions=!1,r.doneActions.push(t)})),this.instance.runHooks("afterUndoStackChange",i,this.doneActions.slice()),this.instance.runHooks("afterRedo",n)}},wI.prototype.isUndoAvailable=function(){return this.doneActions.length>0},wI.prototype.isRedoAvailable=function(){return this.undoneActions.length>0},wI.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0},wI.prototype.isEnabled=function(){return this.enabled},wI.prototype.enable=function(){if(!this.isEnabled()){var e,t=this.instance;this.enabled=!0,(e=t).undo=function(){return e.undoRedo.undo()},e.redo=function(){return e.undoRedo.redo()},e.isUndoAvailable=function(){return e.undoRedo.isUndoAvailable()},e.isRedoAvailable=function(){return e.undoRedo.isRedoAvailable()},e.clearUndo=function(){return e.undoRedo.clear()},this.registerShortcuts(),t.addHook("afterChange",SI)}},wI.prototype.disable=function(){if(this.isEnabled()){var e,t=this.instance;this.enabled=!1,delete(e=t).undo,delete e.redo,delete e.isUndoAvailable,delete e.isRedoAvailable,delete e.clearUndo,this.unregisterShortcuts(),t.removeHook("afterChange",SI)}},wI.prototype.destroy=function(){this.clear(),this.instance=null,this.doneActions=null,this.undoneActions=null},wI.Action=function(){},wI.Action.prototype.undo=function(){},wI.Action.prototype.redo=function(){},wI.ChangeAction=function(e,t){this.changes=e,this.selected=t,this.actionType="change"},ie(wI.ChangeAction,wI.Action),wI.ChangeAction.prototype.undo=function(e,t){for(var n=se(this.changes),r=e.countEmptyRows(!0),i=e.countEmptyCols(!0),o=0,a=n.length;o<a;o++)n[o].splice(3,1);e.addHookOnce("afterChange",t),e.setDataAtCell(n,null,null,"UndoRedo.undo");for(var s=0,l=n.length;s<l;s++){var u=gI(n[s],2),c=u[0],d=u[1];e.getSettings().minSpareRows&&c+1+e.getSettings().minSpareRows===e.countRows()&&r===e.getSettings().minSpareRows&&(e.alter("remove_row",parseInt(c+1,10),e.getSettings().minSpareRows),e.undoRedo.doneActions.pop()),e.getSettings().minSpareCols&&d+1+e.getSettings().minSpareCols===e.countCols()&&i===e.getSettings().minSpareCols&&(e.alter("remove_col",parseInt(d+1,10),e.getSettings().minSpareCols),e.undoRedo.doneActions.pop())}e.selectCells(this.selected,!1,!1)},wI.ChangeAction.prototype.redo=function(e,t){for(var n=se(this.changes),r=0,i=n.length;r<i;r++)n[r].splice(2,1);e.addHookOnce("afterChange",t),e.setDataAtCell(n,null,null,"UndoRedo.redo"),this.selected&&e.selectCells(this.selected,!1,!1)},wI.CreateRowAction=function(e,t){this.index=e,this.amount=t,this.actionType="insert_row"},ie(wI.CreateRowAction,wI.Action),wI.CreateRowAction.prototype.undo=function(e,t){var n=e.countRows(),r=e.getSettings().minSpareRows;this.index>=n&&this.index-r<n&&(this.index-=r),e.addHookOnce("afterRemoveRow",t),e.alter("remove_row",this.index,this.amount,"UndoRedo.undo")},wI.CreateRowAction.prototype.redo=function(e,t){e.addHookOnce("afterCreateRow",t),e.alter("insert_row",this.index,this.amount,"UndoRedo.redo")},wI.RemoveRowAction=function(e,t,n,r){this.index=e,this.data=t,this.actionType="remove_row",this.fixedRowsBottom=n,this.fixedRowsTop=r},ie(wI.RemoveRowAction,wI.Action),wI.RemoveRowAction.prototype.undo=function(e,t){var n=e.getSettings();n.fixedRowsBottom=this.fixedRowsBottom,n.fixedRowsTop=this.fixedRowsTop,e.alter("insert_row",this.index,this.data.length,"UndoRedo.undo"),e.addHookOnce("afterViewRender",t),e.populateFromArray(this.index,0,this.data,void 0,void 0,"UndoRedo.undo")},wI.RemoveRowAction.prototype.redo=function(e,t){e.addHookOnce("afterRemoveRow",t),e.alter("remove_row",this.index,this.data.length,"UndoRedo.redo")},wI.CreateColumnAction=function(e,t){this.index=e,this.amount=t,this.actionType="insert_col"},ie(wI.CreateColumnAction,wI.Action),wI.CreateColumnAction.prototype.undo=function(e,t){e.addHookOnce("afterRemoveCol",t),e.alter("remove_col",this.index,this.amount,"UndoRedo.undo")},wI.CreateColumnAction.prototype.redo=function(e,t){e.addHookOnce("afterCreateCol",t),e.alter("insert_col",this.index,this.amount,"UndoRedo.redo")},wI.RemoveColumnAction=function(e,t,n,r,i,o,a){this.index=e,this.indexes=t,this.data=n,this.amount=this.data[0].length,this.headers=r,this.columnPositions=i.slice(0),this.rowPositions=o.slice(0),this.actionType="remove_col",this.fixedColumnsStart=a},ie(wI.RemoveColumnAction,wI.Action),wI.RemoveColumnAction.prototype.undo=function(e,t){var n=this;e.getSettings().fixedColumnsStart=this.fixedColumnsStart;for(var r=this.indexes.slice(0).sort(),i=function(e,t,i){return i[n.indexes.indexOf(r[t])]},o=this.data.length,a=[],s=0;s<o;s++)a.push(W(this.data[s],i));var l=W(this.headers,i),u=[];e.alter("insert_col",this.indexes[0],this.indexes.length,"UndoRedo.undo"),$(e.getSourceDataArray(),(function(e,t){$(r,(function(n,r){e[n]=a[t][r],u.push([t,n,e[n]])}))})),e.setSourceDataAtCell(u,void 0,void 0,"UndoRedo.undo"),e.columnIndexMapper.insertIndexes(r[0],r.length),void 0!==this.headers&&$(l,(function(t,n){e.getSettings().colHeaders[r[n]]=t})),e.batchExecution((function(){e.rowIndexMapper.setIndexesSequence(n.rowPositions),e.columnIndexMapper.setIndexesSequence(n.columnPositions)}),!0),e.addHookOnce("afterViewRender",t),e.render()},wI.RemoveColumnAction.prototype.redo=function(e,t){e.addHookOnce("afterRemoveCol",t),e.alter("remove_col",this.index,this.amount,"UndoRedo.redo")},wI.CellAlignmentAction=function(e,t,n,r){this.stateBefore=e,this.range=t,this.type=n,this.alignment=r},wI.CellAlignmentAction.prototype.undo=function(e,t){var n=this;$(this.range,(function(t){t.forAll((function(t,r){t>=0&&r>=0&&e.setCellMeta(t,r,"className",n.stateBefore[t][r]||" htLeft")}))})),e.addHookOnce("afterViewRender",t),e.render()},wI.CellAlignmentAction.prototype.redo=function(e,t){nk(this.range,this.type,this.alignment,(function(t,n){return e.getCellMeta(t,n)}),(function(t,n,r,i){return e.setCellMeta(t,n,r,i)})),e.addHookOnce("afterViewRender",t),e.render()},wI.FiltersAction=function(e){this.conditionsStack=e,this.actionType="filter"},ie(wI.FiltersAction,wI.Action),wI.FiltersAction.prototype.undo=function(e,t){var n=e.getPlugin("filters");e.addHookOnce("afterViewRender",t),n.conditionCollection.importAllConditions(this.conditionsStack.slice(0,this.conditionsStack.length-1)),n.filter()},wI.FiltersAction.prototype.redo=function(e,t){var n=e.getPlugin("filters");e.addHookOnce("afterViewRender",t),n.conditionCollection.importAllConditions(this.conditionsStack),n.filter()};var _I=function(e){dI(n,e);var t=fI(n);function n(e,r){var i;lI(this,n),(i=t.call(this)).cellRange=r;var o=i.cellRange.getTopStartCorner(),a=i.cellRange.getBottomEndCorner();return i.rangeData=e.getData(o.row,o.col,a.row,a.col),i}return cI(n,[{key:"undo",value:function(e,t){var n=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",t),n.unmergeRange(this.cellRange,!0);var r=this.cellRange.getTopStartCorner();e.populateFromArray(r.row,r.col,this.rangeData,void 0,void 0,"MergeCells")}},{key:"redo",value:function(e,t){var n=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",t),n.mergeRange(this.cellRange)}}]),n}(wI.Action);wI.MergeCellsAction=_I;var kI=function(e){dI(n,e);var t=fI(n);function n(e,r){var i;return lI(this,n),(i=t.call(this)).cellRange=r,i}return cI(n,[{key:"undo",value:function(e,t){var n=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",t),n.mergeRange(this.cellRange,!0)}},{key:"redo",value:function(e,t){var n=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",t),n.unmergeRange(this.cellRange,!0),e.render()}}]),n}(wI.Action);function SI(e,t){if("loadData"===t)return this.undoRedo.clear()}wI.UnmergeCellsAction=kI,wI.RowMoveAction=function(e,t){this.rows=e.slice(),this.finalIndex=t,this.actionType="row_move"},ie(wI.RowMoveAction,wI.Action),wI.RowMoveAction.prototype.undo=function(e,t){var n=this,r=e.getPlugin("manualRowMove"),i=[].concat(this.rows),o=i.filter((function(e){return e>n.finalIndex})),a=i.filter((function(e){return e<=n.finalIndex})),s=o.sort((function(e,t){return t-e})).concat(a.sort((function(e,t){return e-t})));e.addHookOnce("afterViewRender",t);for(var l=0;l<s.length;l+=1){var u=e.toVisualRow(s[l]);r.moveRow(u,s[l])}e.render(),e.deselectCell(),e.selectRows(this.rows[0],this.rows[0]+this.rows.length-1)},wI.RowMoveAction.prototype.redo=function(e,t){var n=e.getPlugin("manualRowMove");e.addHookOnce("afterViewRender",t),n.moveRows(this.rows.slice(),this.finalIndex),e.render(),e.deselectCell(),e.selectRows(this.finalIndex,this.finalIndex+this.rows.length-1)},wI.prototype.init=function(){var e=this.instance.getSettings().undo,t=void 0===e||e;this.instance.undoRedo||(this.instance.undoRedo=this),t?this.instance.undoRedo.enable():this.instance.undoRedo.disable()},wI.prototype.registerShortcuts=function(){var e=this,t=this.instance.getShortcutManager().getContext("grid"),n={runOnlyIf:function(e){return!e.altKey},group:bI};t.addShortcuts([{keys:[["Control/Meta","z"]],callback:function(){e.undo()}},{keys:[["Control/Meta","y"],["Control/Meta","Shift","z"]],callback:function(){e.redo()}}],n)},wI.prototype.unregisterShortcuts=function(){this.instance.getShortcutManager().getContext("grid").removeShortcutsByGroup(bI)};var MI=rr.getSingleton();MI.add("afterUpdateSettings",(function(){var e;null===(e=this.getPlugin("undoRedo"))||void 0===e||e.init()})),MI.register("beforeUndo"),MI.register("afterUndo"),MI.register("beforeRedo"),MI.register("afterRedo"),wI.PLUGIN_KEY="undoRedo",wI.SETTING_KEYS=!0;const xI=wI;var OI,CI,TI,RI,DI;yr(fg),yr(Qg),yr(ay),yr(yy),yr(Oy),yr(Wg),yr(Ly),yr(By),yr(Qy),yr(Tg),yr(lv),xi(cv),xi(Rg),xi(gv),xi(uv),xi(bv),xi(wv),xi(Dg),xi(_v),Ai(kv),Ai(xv),Ai(Ov),Ai(Tv),Cu(Rv),Cu(Dv),Cu(Ev),Cu(Av),Cu(Lv),Cu(jv),Cu(Pv),Cu(Eg),Cu(Iv),vi(cb),vi(Mb),vi(jb),vi(mw),vi(Iw),vi(L_),vi(V_),vi(xk),vi(gS),vi(BS),vi(hM),vi(_M),vi(EM),vi(rx),vi(vT),vi(iR),vi(SR),vi(BR),vi(eD),vi(ID),vi(qD),vi(RE),vi($E),vi(OA),vi(zA),vi(KA),vi(xj),vi(_P),vi(LP),vi($P),vi(JP),vi(aI),vi(xI),function(e){var t="undefined"!=typeof window&&window.jQuery;t&&(t.fn.handsontable=function(t){var n,r=this.first(),i=r.data("handsontable");if("string"!=typeof t){var o=t||{};return i?i.updateSettings(o):(i=new e.Core(r[0],o),r.data("handsontable",i),i.init()),r}if(i){if(void 0===i[t])throw new Error("Handsontable do not provide action: ".concat(t));for(var a,s=arguments.length,l=new Array(s>1?s-1:0),u=1;u<s;u++)l[u-1]=arguments[u];n=(a=i[t]).call.apply(a,[i].concat(l)),"destroy"===t&&r.removeData()}return n})}(Lg),Lg.__GhostTable=Kv,Lg._getListenersCounter=function(){return wr},Lg._getRegisteredMapsCounter=function(){return Xc},Lg.EventManager=kr;var EI=[i,a,m,y,r,c,s,p,o,l,d,f],AI=[u,h];Lg.helper={},Lg.dom={},$(EI,(function(e){$(Object.getOwnPropertyNames(e),(function(t){"_"!==t.charAt(0)&&(Lg.helper[t]=e[t])}))})),$(AI,(function(e){$(Object.getOwnPropertyNames(e),(function(t){"_"!==t.charAt(0)&&(Lg.dom[t]=e[t])}))})),Lg.cellTypes=null!==(OI=Lg.cellTypes)&&void 0!==OI?OI:{},$(xu(),(function(e){Lg.cellTypes[e]=Ou(e)})),Lg.cellTypes.registerCellType=Cu,Lg.cellTypes.getCellType=Ou,Lg.editors=null!==(CI=Lg.editors)&&void 0!==CI?CI:{},$(fr(),(function(e){Lg.editors["".concat(mt(e),"Editor")]=gr(e)})),Lg.editors.registerEditor=yr,Lg.editors.getEditor=gr,Lg.renderers=null!==(TI=Lg.renderers)&&void 0!==TI?TI:{},$(Si(),(function(e){var t=Mi(e);"base"===e&&(Lg.renderers.cellDecorator=t),Lg.renderers["".concat(mt(e),"Renderer")]=t})),Lg.renderers.registerRenderer=xi,Lg.renderers.getRenderer=Mi,Lg.validators=null!==(RI=Lg.validators)&&void 0!==RI?RI:{},$(Di(),(function(e){Lg.validators["".concat(mt(e),"Validator")]=Ei(e)})),Lg.validators.registerValidator=Ai,Lg.validators.getValidator=Ei,Lg.plugins=null!==(DI=Lg.plugins)&&void 0!==DI?DI:{},$(gi(),(function(e){Lg.plugins[e]=yi(e)})),Lg.plugins["".concat(mt($v.PLUGIN_KEY),"Plugin")]=$v,Lg.plugins.registerPlugin=vi,Lg.plugins.getPlugin=yi;const LI=Lg;var jI=n(61417);class PI extends v.Z{constructor(e,t){super(e,t),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e._hot=n}(this,"_hot",void 0),(0,b.registerDestructor)(this,this.destructor)}destructor(){this._hot&&this._hot.destroy()}modify(e,t,n){let[]=t,{data:r,config:i,isVisible:o}=n;if(!e)throw new Error("Handsontable has no element");this._hot?(this._updateHot(r,i),o&&(0,jI.next)((()=>{this._hot.refreshDimensions()}))):this._createHot(e,r,i)}_createHot(e,t,n){e.classList.add("handsontable-modifier"),this._hot=new LI(e,{data:t,...n})}_updateHot(e,t){this._hot.updateSettings({data:e,...t})}}},78099:(e,t,n)=>{"use strict";n.d(t,{_6:()=>p,C5:()=>m});var r=n(34149);const i={plurals:[[/$/,"s"],[/s$/i,"s"],[/^(ax|test)is$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(octop|vir)i$/i,"$1i"],[/(alias|status|bonus)$/i,"$1es"],[/(bu)s$/i,"$1ses"],[/(buffal|tomat)o$/i,"$1oes"],[/([ti])um$/i,"$1a"],[/([ti])a$/i,"$1a"],[/sis$/i,"ses"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/(hive)$/i,"$1s"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(x|ch|ss|sh)$/i,"$1es"],[/(matr|vert|ind)(?:ix|ex)$/i,"$1ices"],[/^(m|l)ouse$/i,"$1ice"],[/^(m|l)ice$/i,"$1ice"],[/^(ox)$/i,"$1en"],[/^(oxen)$/i,"$1"],[/(quiz)$/i,"$1zes"]],singular:[[/s$/i,""],[/(ss)$/i,"$1"],[/(n)ews$/i,"$1ews"],[/([ti])a$/i,"$1um"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(sis|ses)$/i,"$1sis"],[/(^analy)(sis|ses)$/i,"$1sis"],[/([^f])ves$/i,"$1fe"],[/(hive)s$/i,"$1"],[/(tive)s$/i,"$1"],[/([lr])ves$/i,"$1f"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/(s)eries$/i,"$1eries"],[/(m)ovies$/i,"$1ovie"],[/(x|ch|ss|sh)es$/i,"$1"],[/^(m|l)ice$/i,"$1ouse"],[/(bus)(es)?$/i,"$1"],[/(o)es$/i,"$1"],[/(shoe)s$/i,"$1"],[/(cris|test)(is|es)$/i,"$1is"],[/^(a)x[ie]s$/i,"$1xis"],[/(octop|vir)(us|i)$/i,"$1us"],[/(alias|status|bonus)(es)?$/i,"$1"],[/^(ox)en/i,"$1"],[/(vert|ind)ices$/i,"$1ex"],[/(matr)ices$/i,"$1ix"],[/(quiz)zes$/i,"$1"],[/(database)s$/i,"$1"]],irregularPairs:[["person","people"],["man","men"],["child","children"],["sex","sexes"],["move","moves"],["cow","kine"],["zombie","zombies"]],uncountable:["equipment","information","rice","money","species","series","fish","sheep","jeans","police"]},o=/^\s*$/,a=/([\w/-]+[_/\s-])([a-z\d]+$)/,s=/([\w/\s-]+)([A-Z][a-z\d]*$)/,l=/[A-Z][a-z\d]*$/;function u(e,t){for(let n=0,r=t.length;n<r;n++)e.uncountable[t[n].toLowerCase()]=!0}function c(e,t){let n;for(let r=0,i=t.length;r<i;r++)n=t[r],e.irregular[n[0].toLowerCase()]=n[1],e.irregular[n[1].toLowerCase()]=n[1],e.irregularInverse[n[1].toLowerCase()]=n[0],e.irregularInverse[n[0].toLowerCase()]=n[0]}function d(e){(e=e||{}).uncountable=e.uncountable||h(),e.irregularPairs=e.irregularPairs||h();const t=this.rules={plurals:e.plurals||[],singular:e.singular||[],irregular:h(),irregularInverse:h(),uncountable:h()};u(t,e.uncountable),c(t,e.irregularPairs),this.enableCache()}if(!Object.create&&!Object.create(null).hasOwnProperty)throw new Error("This browser does not support Object.create(null), please polyfil with es5-sham: http://git.io/yBU2rg");function h(){var e=Object.create(null);return e._dict=null,delete e._dict,e}d.prototype={enableCache(){this.purgeCache(),this.singularize=function(e){return this._cacheUsed=!0,this._sCache[e]||(this._sCache[e]=this._singularize(e))},this.pluralize=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._cacheUsed=!0;var r=[e,t,n.withoutCount];return this._pCache[r]||(this._pCache[r]=this._pluralize(e,t,n))}},purgeCache(){this._cacheUsed=!1,this._sCache=h(),this._pCache=h()},disableCache(){this._sCache=null,this._pCache=null,this.singularize=function(e){return this._singularize(e)},this.pluralize=function(){return this._pluralize(...arguments)}},plural(e,t){this._cacheUsed&&this.purgeCache(),this.rules.plurals.push([e,t.toLowerCase()])},singular(e,t){this._cacheUsed&&this.purgeCache(),this.rules.singular.push([e,t.toLowerCase()])},uncountable(e){this._cacheUsed&&this.purgeCache(),u(this.rules,[e.toLowerCase()])},irregular(e,t){this._cacheUsed&&this.purgeCache(),c(this.rules,[[e,t]])},pluralize(){return this._pluralize(...arguments)},_pluralize(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return void 0===t?this.inflect(e,this.rules.plurals,this.rules.irregular):(1!==parseFloat(e)&&(t=this.inflect(t,this.rules.plurals,this.rules.irregular)),n.withoutCount?t:`${e} ${t}`)},singularize(e){return this._singularize(e)},_singularize(e){return this.inflect(e,this.rules.singular,this.rules.irregularInverse)},inflect(e,t,n){let i,u,c,d,h,f,p,m,g,y;if(p=!e||o.test(e),m=l.test(e),p)return e;if(d=e.toLowerCase(),h=a.exec(e)||s.exec(e),h&&(f=h[2].toLowerCase()),y=this.rules.uncountable[d]||this.rules.uncountable[f],y)return e;for(g in n)if(d.match(g+"$"))return u=n[g],m&&n[f]&&(u=(0,r.kC)(u),g=(0,r.kC)(g)),e.replace(new RegExp(g,"i"),u);for(var v=t.length;v>0&&(i=t[v-1],g=i[0],!g.test(e));v--);return i=i||[],g=i[0],u=i[1],c=e.replace(g,u),c}},d.defaultRules=i,d.inflector=new d(i);const f=d;function p(){return f.inflector.pluralize(...arguments)}function m(e){return f.inflector.singularize(e)}},5216:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(66683),i=n.n(r);function o(e){var t=i()(e,null,null,!0);if(!t)throw new Error(e+" must export an initializer.");var n=t.default;if(!n)throw new Error(e+" must have a default export");return n.name||(n.name=e.slice(e.lastIndexOf("/")+1)),n}function a(e,t){return-1!==e.indexOf(t,e.length-t.length)}function s(e,t){for(var n=t+"/initializers/",r=t+"/instance-initializers/",i=[],s=[],l=Object.keys(requirejs._eak_seen),u=0;u<l.length;u++){var c=l[u];0===c.lastIndexOf(n,0)?a(c,"-test")||i.push(c):0===c.lastIndexOf(r,0)&&(a(c,"-test")||s.push(c))}!function(e,t){for(var n=0;n<t.length;n++)e.initializer(o(t[n]))}(e,i),function(e,t){for(var n=0;n<t.length;n++)e.instanceInitializer(o(t[n]))}(e,s)}},61731:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(14510);e=n.hmd(e);var i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Z.Buffer:void 0,s=a?a.allocUnsafe:void 0;const l=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},54949:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r="object"==typeof global&&global&&global.Object===Object&&global},53159:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(54949);e=n.hmd(e);var i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.Z.process;const s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}()},14510:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(54949),i="object"==typeof self&&self&&self.Object===Object&&self;const o=r.Z||i||Function("return this")()},11633:(e,t,n)=>{"use strict";n.d(t,{XhB:()=>Yi,U2M:()=>_n,kJL:()=>g,xbD:()=>Os,HD0:()=>Qa});var r=n(14510);const i=r.Z.Symbol;var o=Object.prototype,a=o.hasOwnProperty,s=o.toString,l=i?i.toStringTag:void 0;var u=Object.prototype.toString;var c=i?i.toStringTag:void 0;const d=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":c&&c in Object(e)?function(e){var t=a.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[l]=n:delete e[l]),i}(e):function(e){return u.call(e)}(e)},h=function(e){return null!=e&&"object"==typeof e},f=function(e){return"symbol"==typeof e||h(e)&&"[object Symbol]"==d(e)},p=function(e){return"number"==typeof e?e:f(e)?NaN:+e},m=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},g=Array.isArray;var y=i?i.prototype:void 0,v=y?y.toString:void 0;const b=function e(t){if("string"==typeof t)return t;if(g(t))return m(t,e)+"";if(f(t))return v?v.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},w=function(e,t){return function(n,r){var i;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=b(n),r=b(r)):(n=p(n),r=p(r)),i=e(n,r)}return i}},_=w((function(e,t){return e+t}),0);var k=/\s/;const S=function(e){for(var t=e.length;t--&&k.test(e.charAt(t)););return t};var M=/^\s+/;const x=function(e){return e?e.slice(0,S(e)+1).replace(M,""):e},O=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var C=/^[-+]0x[0-9a-f]+$/i,T=/^0b[01]+$/i,R=/^0o[0-7]+$/i,D=parseInt;const E=function(e){if("number"==typeof e)return e;if(f(e))return NaN;if(O(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=O(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=x(e);var n=T.test(e);return n||R.test(e)?D(e.slice(2),n?2:8):C.test(e)?NaN:+e};const A=function(e){return e?Infinity===(e=E(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},L=function(e){var t=A(e),n=t%1;return t==t?n?t-n:t:0},j=function(e){return e},P=function(e){if(!O(e))return!1;var t=d(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},I=r.Z["__core-js_shared__"];var H,N=(H=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+H:"";var F=Function.prototype.toString;const Y=function(e){if(null!=e){try{return F.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var z=/^\[object .+?Constructor\]$/,B=Function.prototype,W=Object.prototype,$=B.toString,U=W.hasOwnProperty,V=RegExp("^"+$.call(U).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const q=function(e){return!(!O(e)||function(e){return!!N&&N in e}(e))&&(P(e)?V:z).test(Y(e))},G=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return q(n)?n:null},K=G(r.Z,"WeakMap"),Z=K&&new K;var X=Z?function(e,t){return Z.set(e,t),e}:j;const J=X;var Q=Object.create;const ee=function(){function e(){}return function(t){if(!O(t))return{};if(Q)return Q(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),te=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=ee(e.prototype),r=e.apply(n,t);return O(r)?r:n}},ne=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var re=Math.max;const ie=function(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,l=t.length,u=re(o-a,0),c=Array(l+u),d=!r;++s<l;)c[s]=t[s];for(;++i<a;)(d||i<o)&&(c[n[i]]=e[i]);for(;u--;)c[s++]=e[i++];return c};var oe=Math.max;const ae=function(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,l=-1,u=t.length,c=oe(o-s,0),d=Array(c+u),h=!r;++i<c;)d[i]=e[i];for(var f=i;++l<u;)d[f+l]=t[l];for(;++a<s;)(h||i<o)&&(d[f+n[a]]=e[i++]);return d},se=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r},le=function(){};function ue(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}ue.prototype=ee(le.prototype),ue.prototype.constructor=ue;const ce=ue,de=function(){};var he=Z?function(e){return Z.get(e)}:de;const fe=he,pe={};var me=Object.prototype.hasOwnProperty;const ge=function(e){for(var t=e.name+"",n=pe[t],r=me.call(pe,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t};function ye(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}ye.prototype=ee(le.prototype),ye.prototype.constructor=ye;const ve=ye,be=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},we=function(e){if(e instanceof ce)return e.clone();var t=new ve(e.__wrapped__,e.__chain__);return t.__actions__=be(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t};var _e=Object.prototype.hasOwnProperty;function ke(e){if(h(e)&&!g(e)&&!(e instanceof ce)){if(e instanceof ve)return e;if(_e.call(e,"__wrapped__"))return we(e)}return new ve(e)}ke.prototype=le.prototype,ke.prototype.constructor=ke;const Se=ke,Me=function(e){var t=ge(e),n=Se[t];if("function"!=typeof n||!(t in ce.prototype))return!1;if(e===n)return!0;var r=fe(n);return!!r&&e===r[0]};var xe=Date.now;const Oe=function(e){var t=0,n=0;return function(){var r=xe(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},Ce=Oe(J);var Te=/\{\n\/\* \[wrapped with (.+)\] \*/,Re=/,? & /;var De=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;const Ee=function(e){return function(){return e}};var Ae=function(){try{var e=G(Object,"defineProperty");return e({},"",{}),e}catch(e){return null}}();const Le=Ae;var je=Le?function(e,t){return Le(e,"toString",{configurable:!0,enumerable:!1,value:Ee(t),writable:!0})}:j;const Pe=Oe(je),Ie=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},He=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1},Ne=function(e){return e!=e},Fe=function(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):He(e,Ne,n)},Ye=function(e,t){return!(null==e||!e.length)&&Fe(e,t,0)>-1};var ze=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];const Be=function(e,t,n){var r=t+"";return Pe(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(De,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Ie(ze,(function(n){var r="_."+n[0];t&n[1]&&!Ye(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(Te);return t?t[1].split(Re):[]}(r),n)))},We=function(e,t,n,r,i,o,a,s,l,u){var c=8&t;t|=c?32:64,4&(t&=~(c?64:32))||(t&=-4);var d=[e,t,i,c?o:void 0,c?a:void 0,c?void 0:o,c?void 0:a,s,l,u],h=n.apply(void 0,d);return Me(e)&&Ce(h,d),h.placeholder=r,Be(h,e,t)},$e=function(e){return e.placeholder};var Ue=/^(?:0|[1-9]\d*)$/;const Ve=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Ue.test(e))&&e>-1&&e%1==0&&e<t};var qe=Math.min;const Ge=function(e,t){for(var n=e.length,r=qe(t.length,n),i=be(e);r--;){var o=t[r];e[r]=Ve(o,n)?i[o]:void 0}return e};var Ke="__lodash_placeholder__";const Ze=function(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==Ke||(e[n]=Ke,o[i++]=n)}return o},Xe=function e(t,n,i,o,a,s,l,u,c,d){var h=128&n,f=1&n,p=2&n,m=24&n,g=512&n,y=p?void 0:te(t);return function v(){for(var b=arguments.length,w=Array(b),_=b;_--;)w[_]=arguments[_];if(m)var k=$e(v),S=se(w,k);if(o&&(w=ie(w,o,a,m)),s&&(w=ae(w,s,l,m)),b-=S,m&&b<d){var M=Ze(w,k);return We(t,n,e,v.placeholder,i,w,M,u,c,d-b)}var x=f?i:this,O=p?x[t]:t;return b=w.length,u?w=Ge(w,u):g&&b>1&&w.reverse(),h&&c<b&&(w.length=c),this&&this!==r.Z&&this instanceof v&&(O=y||te(O)),O.apply(x,w)}};var Je="__lodash_placeholder__",Qe=Math.min;var et=Math.max;const tt=function(e,t,n,i,o,a,s,l){var u=2&t;if(!u&&"function"!=typeof e)throw new TypeError("Expected a function");var c=i?i.length:0;if(c||(t&=-97,i=o=void 0),s=void 0===s?s:et(L(s),0),l=void 0===l?l:L(l),c-=o?o.length:0,64&t){var d=i,h=o;i=o=void 0}var f=u?void 0:fe(e),p=[e,t,n,i,o,d,h,a,s,l];if(f&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var s=t[3];if(s){var l=e[3];e[3]=l?ie(l,s,t[4]):s,e[4]=l?Ze(e[3],Je):t[4]}(s=t[5])&&(l=e[5],e[5]=l?ae(l,s,t[6]):s,e[6]=l?Ze(e[5],Je):t[6]),(s=t[7])&&(e[7]=s),128&r&&(e[8]=null==e[8]?t[8]:Qe(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(p,f),e=p[0],t=p[1],n=p[2],i=p[3],o=p[4],!(l=p[9]=void 0===p[9]?u?0:e.length:et(p[9]-c,0))&&24&t&&(t&=-25),t&&1!=t)m=8==t||16==t?function(e,t,n){var i=te(e);return function o(){for(var a=arguments.length,s=Array(a),l=a,u=$e(o);l--;)s[l]=arguments[l];var c=a<3&&s[0]!==u&&s[a-1]!==u?[]:Ze(s,u);if((a-=c.length)<n)return We(e,t,Xe,o.placeholder,void 0,s,c,void 0,void 0,n-a);var d=this&&this!==r.Z&&this instanceof o?i:e;return ne(d,this,s)}}(e,t,l):32!=t&&33!=t||o.length?Xe.apply(void 0,p):function(e,t,n,i){var o=1&t,a=te(e);return function t(){for(var s=-1,l=arguments.length,u=-1,c=i.length,d=Array(c+l),h=this&&this!==r.Z&&this instanceof t?a:e;++u<c;)d[u]=i[u];for(;l--;)d[u++]=arguments[++s];return ne(h,o?n:this,d)}}(e,t,n,i);else var m=function(e,t,n){var i=1&t,o=te(e);return function t(){return(this&&this!==r.Z&&this instanceof t?o:e).apply(i?n:this,arguments)}}(e,t,n);return Be((f?J:Ce)(m,p),e,t)},nt=function(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,tt(e,128,void 0,void 0,void 0,void 0,t)},rt=function(e,t,n){"__proto__"==t&&Le?Le(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},it=function(e,t){return e===t||e!=e&&t!=t};var ot=Object.prototype.hasOwnProperty;const at=function(e,t,n){var r=e[t];ot.call(e,t)&&it(r,n)&&(void 0!==n||t in e)||rt(e,t,n)},st=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),i?rt(n,s,l):at(n,s,l)}return n};var lt=Math.max;const ut=function(e,t,n){return t=lt(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=lt(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),ne(e,this,s)}},ct=function(e,t){return Pe(ut(e,t,j),e+"")},dt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},ht=function(e){return null!=e&&dt(e.length)&&!P(e)},ft=function(e,t,n){if(!O(n))return!1;var r=typeof t;return!!("number"==r?ht(n)&&Ve(t,n.length):"string"==r&&t in n)&&it(n[t],e)},pt=function(e){return ct((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&ft(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t}))};var mt=Object.prototype;const gt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||mt)},yt=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},vt=function(e){return h(e)&&"[object Arguments]"==d(e)};var bt=Object.prototype,wt=bt.hasOwnProperty,_t=bt.propertyIsEnumerable;const kt=vt(function(){return arguments}())?vt:function(e){return h(e)&&wt.call(e,"callee")&&!_t.call(e,"callee")};var St=n(66449),Mt={};Mt["[object Float32Array]"]=Mt["[object Float64Array]"]=Mt["[object Int8Array]"]=Mt["[object Int16Array]"]=Mt["[object Int32Array]"]=Mt["[object Uint8Array]"]=Mt["[object Uint8ClampedArray]"]=Mt["[object Uint16Array]"]=Mt["[object Uint32Array]"]=!0,Mt["[object Arguments]"]=Mt["[object Array]"]=Mt["[object ArrayBuffer]"]=Mt["[object Boolean]"]=Mt["[object DataView]"]=Mt["[object Date]"]=Mt["[object Error]"]=Mt["[object Function]"]=Mt["[object Map]"]=Mt["[object Number]"]=Mt["[object Object]"]=Mt["[object RegExp]"]=Mt["[object Set]"]=Mt["[object String]"]=Mt["[object WeakMap]"]=!1;const xt=function(e){return function(t){return e(t)}};var Ot=n(53159),Ct=Ot.Z&&Ot.Z.isTypedArray;const Tt=Ct?xt(Ct):function(e){return h(e)&&dt(e.length)&&!!Mt[d(e)]};var Rt=Object.prototype.hasOwnProperty;const Dt=function(e,t){var n=g(e),r=!n&&kt(e),i=!n&&!r&&(0,St.Z)(e),o=!n&&!r&&!i&&Tt(e),a=n||r||i||o,s=a?yt(e.length,String):[],l=s.length;for(var u in e)!t&&!Rt.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ve(u,l))||s.push(u);return s},Et=function(e,t){return function(n){return e(t(n))}},At=Et(Object.keys,Object);var Lt=Object.prototype.hasOwnProperty;const jt=function(e){if(!gt(e))return At(e);var t=[];for(var n in Object(e))Lt.call(e,n)&&"constructor"!=n&&t.push(n);return t},Pt=function(e){return ht(e)?Dt(e):jt(e)};var It=Object.prototype.hasOwnProperty,Ht=pt((function(e,t){if(gt(t)||ht(t))st(t,Pt(t),e);else for(var n in t)It.call(t,n)&&at(e,n,t[n])}));const Nt=Ht;var Ft=Object.prototype.hasOwnProperty;const Yt=function(e){if(!O(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=gt(e),n=[];for(var r in e)("constructor"!=r||!t&&Ft.call(e,r))&&n.push(r);return n},zt=function(e){return ht(e)?Dt(e,!0):Yt(e)};var Bt=pt((function(e,t){st(t,zt(t),e)}));const Wt=Bt;var $t=pt((function(e,t,n,r){st(t,zt(t),e,r)}));const Ut=$t;var Vt=pt((function(e,t,n,r){st(t,Pt(t),e,r)}));const qt=Vt;var Gt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Kt=/^\w*$/;const Zt=function(e,t){if(g(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!f(e))||Kt.test(e)||!Gt.test(e)||null!=t&&e in Object(t)},Xt=G(Object,"create");var Jt=Object.prototype.hasOwnProperty;var Qt=Object.prototype.hasOwnProperty;function en(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}en.prototype.clear=function(){this.__data__=Xt?Xt(null):{},this.size=0},en.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},en.prototype.get=function(e){var t=this.__data__;if(Xt){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Jt.call(t,e)?t[e]:void 0},en.prototype.has=function(e){var t=this.__data__;return Xt?void 0!==t[e]:Qt.call(t,e)},en.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Xt&&void 0===t?"__lodash_hash_undefined__":t,this};const tn=en,nn=function(e,t){for(var n=e.length;n--;)if(it(e[n][0],t))return n;return-1};var rn=Array.prototype.splice;function on(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}on.prototype.clear=function(){this.__data__=[],this.size=0},on.prototype.delete=function(e){var t=this.__data__,n=nn(t,e);return!(n<0||(n==t.length-1?t.pop():rn.call(t,n,1),--this.size,0))},on.prototype.get=function(e){var t=this.__data__,n=nn(t,e);return n<0?void 0:t[n][1]},on.prototype.has=function(e){return nn(this.__data__,e)>-1},on.prototype.set=function(e,t){var n=this.__data__,r=nn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};const an=on,sn=G(r.Z,"Map"),ln=function(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map};function un(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}un.prototype.clear=function(){this.size=0,this.__data__={hash:new tn,map:new(sn||an),string:new tn}},un.prototype.delete=function(e){var t=ln(this,e).delete(e);return this.size-=t?1:0,t},un.prototype.get=function(e){return ln(this,e).get(e)},un.prototype.has=function(e){return ln(this,e).has(e)},un.prototype.set=function(e,t){var n=ln(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};const cn=un;function dn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(dn.Cache||cn),n}dn.Cache=cn;const hn=dn;var fn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pn=/\\(\\)?/g,mn=function(e){var t=hn(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(fn,(function(e,n,r,i){t.push(r?i.replace(pn,"$1"):n||e)})),t}));const gn=mn,yn=function(e){return null==e?"":b(e)},vn=function(e,t){return g(e)?e:Zt(e,t)?[e]:gn(yn(e))},bn=function(e){if("string"==typeof e||f(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},wn=function(e,t){for(var n=0,r=(t=vn(t,e)).length;null!=e&&n<r;)e=e[bn(t[n++])];return n&&n==r?e:void 0},_n=function(e,t,n){var r=null==e?void 0:wn(e,t);return void 0===r?n:r},kn=function(e,t){for(var n=-1,r=t.length,i=Array(r),o=null==e;++n<r;)i[n]=o?void 0:_n(e,t[n]);return i},Sn=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e};var Mn=i?i.isConcatSpreadable:void 0;const xn=function(e){return g(e)||kt(e)||!!(Mn&&e&&e[Mn])},On=function e(t,n,r,i,o){var a=-1,s=t.length;for(r||(r=xn),o||(o=[]);++a<s;){var l=t[a];n>0&&r(l)?n>1?e(l,n-1,r,i,o):Sn(o,l):i||(o[o.length]=l)}return o},Cn=function(e){return null!=e&&e.length?On(e,1):[]},Tn=function(e){return Pe(ut(e,void 0,Cn),e+"")},Rn=Tn(kn),Dn=Et(Object.getPrototypeOf,Object);var En=Function.prototype,An=Object.prototype,Ln=En.toString,jn=An.hasOwnProperty,Pn=Ln.call(Object);const In=function(e){if(!h(e)||"[object Object]"!=d(e))return!1;var t=Dn(e);if(null===t)return!0;var n=jn.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ln.call(n)==Pn},Hn=function(e){if(!h(e))return!1;var t=d(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!In(e)};var Nn=ct((function(e,t){try{return ne(e,void 0,t)}catch(e){return Hn(e)?e:new Error(e)}}));const Fn=Nn,Yn=function(e,t){var n;if("function"!=typeof t)throw new TypeError("Expected a function");return e=L(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}};var zn=ct((function(e,t,n){var r=1;if(n.length){var i=Ze(n,$e(zn));r|=32}return tt(e,r,t,n,i)}));zn.placeholder={};const Bn=zn,Wn=Tn((function(e,t){return Ie(t,(function(t){t=bn(t),rt(e,t,Bn(e[t],e))})),e}));var $n=ct((function(e,t,n){var r=3;if(n.length){var i=Ze(n,$e($n));r|=32}return tt(t,r,e,n,i)}));$n.placeholder={};const Un=$n,Vn=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o},qn=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Vn(e,t,n)};var Gn=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const Kn=function(e){return Gn.test(e)};var Zn="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Xn="\\ud83c[\\udffb-\\udfff]",Jn="[^\\ud800-\\udfff]",Qn="(?:\\ud83c[\\udde6-\\uddff]){2}",er="[\\ud800-\\udbff][\\udc00-\\udfff]",tr="(?:"+Zn+"|"+Xn+")?",nr="[\\ufe0e\\ufe0f]?",rr=nr+tr+"(?:\\u200d(?:"+[Jn,Qn,er].join("|")+")"+nr+tr+")*",ir="(?:"+[Jn+Zn+"?",Zn,Qn,er,"[\\ud800-\\udfff]"].join("|")+")",or=RegExp(Xn+"(?="+Xn+")|"+ir+rr,"g");const ar=function(e){return Kn(e)?function(e){return e.match(or)||[]}(e):function(e){return e.split("")}(e)},sr=function(e){return function(t){t=yn(t);var n=Kn(t)?ar(t):void 0,r=n?n[0]:t.charAt(0),i=n?qn(n,1).join(""):t.slice(1);return r[e]()+i}},lr=sr("toUpperCase"),ur=function(e){return lr(yn(e).toLowerCase())},cr=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n},dr=function(e){return function(t){return null==e?void 0:e[t]}},hr=dr({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"});var fr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,pr=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");const mr=function(e){return(e=yn(e))&&e.replace(fr,hr).replace(pr,"")};var gr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var yr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var vr="a-z\\xdf-\\xf6\\xf8-\\xff",br="A-Z\\xc0-\\xd6\\xd8-\\xde",wr="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",_r="["+wr+"]",kr="\\d+",Sr="["+vr+"]",Mr="[^\\ud800-\\udfff"+wr+kr+"\\u2700-\\u27bf"+vr+br+"]",xr="(?:\\ud83c[\\udde6-\\uddff]){2}",Or="[\\ud800-\\udbff][\\udc00-\\udfff]",Cr="["+br+"]",Tr="(?:"+Sr+"|"+Mr+")",Rr="(?:"+Cr+"|"+Mr+")",Dr="(?:['’](?:d|ll|m|re|s|t|ve))?",Er="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ar="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",Lr="[\\ufe0e\\ufe0f]?",jr=Lr+Ar+"(?:\\u200d(?:"+["[^\\ud800-\\udfff]",xr,Or].join("|")+")"+Lr+Ar+")*",Pr="(?:"+["[\\u2700-\\u27bf]",xr,Or].join("|")+")"+jr,Ir=RegExp([Cr+"?"+Sr+"+"+Dr+"(?="+[_r,Cr,"$"].join("|")+")",Rr+"+"+Er+"(?="+[_r,Cr+Tr,"$"].join("|")+")",Cr+"?"+Tr+"+"+Dr,Cr+"+"+Er,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",kr,Pr].join("|"),"g");const Hr=function(e,t,n){return e=yn(e),void 0===(t=n?void 0:t)?function(e){return yr.test(e)}(e)?function(e){return e.match(Ir)||[]}(e):function(e){return e.match(gr)||[]}(e):e.match(t)||[]};var Nr=RegExp("['’]","g");const Fr=function(e){return function(t){return cr(Hr(mr(t).replace(Nr,"")),e,"")}};const Yr=Fr((function(e,t,n){return t=t.toLowerCase(),e+(n?ur(t):t)}));var zr=r.Z.isFinite,Br=Math.min;const Wr=function(e){var t=Math[e];return function(e,n){if(e=E(e),(n=null==n?0:Br(L(n),292))&&zr(e)){var r=(yn(e)+"e").split("e"),i=t(r[0]+"e"+(+r[1]+n));return+((r=(yn(i)+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}},$r=Wr("ceil"),Ur=function(e){var t=Se(e);return t.__chain__=!0,t};var Vr=Math.ceil,qr=Math.max;const Gr=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e};function Kr(e){var t=this.__data__=new an(e);this.size=t.size}Kr.prototype.clear=function(){this.__data__=new an,this.size=0},Kr.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Kr.prototype.get=function(e){return this.__data__.get(e)},Kr.prototype.has=function(e){return this.__data__.has(e)},Kr.prototype.set=function(e,t){var n=this.__data__;if(n instanceof an){var r=n.__data__;if(!sn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new cn(r)}return n.set(e,t),this.size=n.size,this};const Zr=Kr,Xr=function(e,t){return e&&st(t,Pt(t),e)};var Jr=n(61731);const Qr=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o},ei=function(){return[]};var ti=Object.prototype.propertyIsEnumerable,ni=Object.getOwnPropertySymbols;const ri=ni?function(e){return null==e?[]:(e=Object(e),Qr(ni(e),(function(t){return ti.call(e,t)})))}:ei;const ii=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Sn(t,ri(e)),e=Dn(e);return t}:ei,oi=function(e,t,n){var r=t(e);return g(e)?r:Sn(r,n(e))},ai=function(e){return oi(e,Pt,ri)},si=function(e){return oi(e,zt,ii)},li=G(r.Z,"DataView"),ui=G(r.Z,"Promise"),ci=G(r.Z,"Set");var di="[object Map]",hi="[object Promise]",fi="[object Set]",pi="[object WeakMap]",mi="[object DataView]",gi=Y(li),yi=Y(sn),vi=Y(ui),bi=Y(ci),wi=Y(K),_i=d;(li&&_i(new li(new ArrayBuffer(1)))!=mi||sn&&_i(new sn)!=di||ui&&_i(ui.resolve())!=hi||ci&&_i(new ci)!=fi||K&&_i(new K)!=pi)&&(_i=function(e){var t=d(e),n="[object Object]"==t?e.constructor:void 0,r=n?Y(n):"";if(r)switch(r){case gi:return mi;case yi:return di;case vi:return hi;case bi:return fi;case wi:return pi}return t});const ki=_i;var Si=Object.prototype.hasOwnProperty;const Mi=r.Z.Uint8Array,xi=function(e){var t=new e.constructor(e.byteLength);return new Mi(t).set(new Mi(e)),t};var Oi=/\w*$/;var Ci=i?i.prototype:void 0,Ti=Ci?Ci.valueOf:void 0;const Ri=function(e,t){var n=t?xi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},Di=function(e,t,n){var r,i,o,a=e.constructor;switch(t){case"[object ArrayBuffer]":return xi(e);case"[object Boolean]":case"[object Date]":return new a(+e);case"[object DataView]":return function(e,t){var n=t?xi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ri(e,n);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(e);case"[object RegExp]":return(o=new(i=e).constructor(i.source,Oi.exec(i))).lastIndex=i.lastIndex,o;case"[object Symbol]":return r=e,Ti?Object(Ti.call(r)):{}}},Ei=function(e){return"function"!=typeof e.constructor||gt(e)?{}:ee(Dn(e))};var Ai=Ot.Z&&Ot.Z.isMap;const Li=Ai?xt(Ai):function(e){return h(e)&&"[object Map]"==ki(e)};var ji=Ot.Z&&Ot.Z.isSet;const Pi=ji?xt(ji):function(e){return h(e)&&"[object Set]"==ki(e)};var Ii="[object Arguments]",Hi="[object Function]",Ni={};Ni[Ii]=Ni["[object Array]"]=Ni["[object ArrayBuffer]"]=Ni["[object DataView]"]=Ni["[object Boolean]"]=Ni["[object Date]"]=Ni["[object Float32Array]"]=Ni["[object Float64Array]"]=Ni["[object Int8Array]"]=Ni["[object Int16Array]"]=Ni["[object Int32Array]"]=Ni["[object Map]"]=Ni["[object Number]"]=Ni["[object Object]"]=Ni["[object RegExp]"]=Ni["[object Set]"]=Ni["[object String]"]=Ni["[object Symbol]"]=Ni["[object Uint8Array]"]=Ni["[object Uint8ClampedArray]"]=Ni["[object Uint16Array]"]=Ni["[object Uint32Array]"]=!0,Ni["[object Error]"]=Ni[Hi]=Ni["[object WeakMap]"]=!1;const Fi=function e(t,n,r,i,o,a){var s,l=1&n,u=2&n,c=4&n;if(r&&(s=o?r(t,i,o,a):r(t)),void 0!==s)return s;if(!O(t))return t;var d=g(t);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Si.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!l)return be(t,s)}else{var h=ki(t),f=h==Hi||"[object GeneratorFunction]"==h;if((0,St.Z)(t))return(0,Jr.Z)(t,l);if("[object Object]"==h||h==Ii||f&&!o){if(s=u||f?{}:Ei(t),!l)return u?function(e,t){return st(e,ii(e),t)}(t,function(e,t){return e&&st(t,zt(t),e)}(s,t)):function(e,t){return st(e,ri(e),t)}(t,Xr(s,t))}else{if(!Ni[h])return o?t:{};s=Di(t,h,l)}}a||(a=new Zr);var p=a.get(t);if(p)return p;a.set(t,s),Pi(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,a))})):Li(t)&&t.forEach((function(i,o){s.set(o,e(i,n,r,o,t,a))}));var m=d?void 0:(c?u?si:ai:u?zt:Pt)(t);return Ie(m||t,(function(i,o){m&&(i=t[o=i]),at(s,o,e(i,n,r,o,t,a))})),s},Yi=function(e){return Fi(e,5)};function zi(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new cn;++t<n;)this.add(e[t])}zi.prototype.add=zi.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},zi.prototype.has=function(e){return this.__data__.has(e)};const Bi=zi,Wi=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},$i=function(e,t){return e.has(t)},Ui=function(e,t,n,r,i,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(e),c=o.get(t);if(u&&c)return u==t&&c==e;var d=-1,h=!0,f=2&n?new Bi:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var p=e[d],m=t[d];if(r)var g=a?r(m,p,d,t,e,o):r(p,m,d,e,t,o);if(void 0!==g){if(g)continue;h=!1;break}if(f){if(!Wi(t,(function(e,t){if(!$i(f,t)&&(p===e||i(p,e,n,r,o)))return f.push(t)}))){h=!1;break}}else if(p!==m&&!i(p,m,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h},Vi=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},qi=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n};var Gi=i?i.prototype:void 0,Ki=Gi?Gi.valueOf:void 0;var Zi=Object.prototype.hasOwnProperty;var Xi="[object Arguments]",Ji="[object Array]",Qi="[object Object]",eo=Object.prototype.hasOwnProperty;const to=function(e,t,n,r,i,o){var a=g(e),s=g(t),l=a?Ji:ki(e),u=s?Ji:ki(t),c=(l=l==Xi?Qi:l)==Qi,d=(u=u==Xi?Qi:u)==Qi,h=l==u;if(h&&(0,St.Z)(e)){if(!(0,St.Z)(t))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new Zr),a||Tt(e)?Ui(e,t,n,r,i,o):function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Mi(e),new Mi(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return it(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Vi;case"[object Set]":var l=1&r;if(s||(s=qi),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var c=Ui(s(e),s(t),r,i,o,a);return a.delete(e),c;case"[object Symbol]":if(Ki)return Ki.call(e)==Ki.call(t)}return!1}(e,t,l,n,r,i,o);if(!(1&n)){var f=c&&eo.call(e,"__wrapped__"),p=d&&eo.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,y=p?t.value():t;return o||(o=new Zr),i(m,y,n,r,o)}}return!!h&&(o||(o=new Zr),function(e,t,n,r,i,o){var a=1&n,s=ai(e),l=s.length;if(l!=ai(t).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in t:Zi.call(t,c)))return!1}var d=o.get(e),h=o.get(t);if(d&&h)return d==t&&h==e;var f=!0;o.set(e,t),o.set(t,e);for(var p=a;++u<l;){var m=e[c=s[u]],g=t[c];if(r)var y=a?r(g,m,c,t,e,o):r(m,g,c,e,t,o);if(!(void 0===y?m===g||i(m,g,n,r,o):y)){f=!1;break}p||(p="constructor"==c)}if(f&&!p){var v=e.constructor,b=t.constructor;v==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(f=!1)}return o.delete(e),o.delete(t),f}(e,t,n,r,i,o))},no=function e(t,n,r,i,o){return t===n||(null==t||null==n||!h(t)&&!h(n)?t!=t&&n!=n:to(t,n,r,i,e,o))},ro=function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var l=(s=n[i])[0],u=e[l],c=s[1];if(a&&s[2]){if(void 0===u&&!(l in e))return!1}else{var d=new Zr;if(r)var h=r(u,c,l,e,t,d);if(!(void 0===h?no(c,u,3,r,d):h))return!1}}return!0},io=function(e){return e==e&&!O(e)},oo=function(e){for(var t=Pt(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,io(i)]}return t},ao=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},so=function(e){var t=oo(e);return 1==t.length&&t[0][2]?ao(t[0][0],t[0][1]):function(n){return n===e||ro(n,e,t)}},lo=function(e,t){return null!=e&&t in Object(e)},uo=function(e,t,n){for(var r=-1,i=(t=vn(t,e)).length,o=!1;++r<i;){var a=bn(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&dt(i)&&Ve(a,i)&&(g(e)||kt(e))},co=function(e,t){return null!=e&&uo(e,t,lo)},ho=function(e,t){return Zt(e)&&io(t)?ao(bn(e),t):function(n){var r=_n(n,e);return void 0===r&&r===t?co(n,e):no(t,r,3)}},fo=function(e){return function(t){return null==t?void 0:t[e]}},po=function(e){return Zt(e)?fo(bn(e)):function(e){return function(t){return wn(t,e)}}(e)},mo=function(e){return"function"==typeof e?e:null==e?j:"object"==typeof e?g(e)?ho(e[0],e[1]):so(e):po(e)},go=function(e,t,n){var r=n.length;if(null==e)return!r;for(e=Object(e);r--;){var i=n[r],o=t[i],a=e[i];if(void 0===a&&!(i in e)||!o(a))return!1}return!0},yo=function(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r},vo=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}},bo=vo(),wo=function(e,t){return e&&bo(e,t,Pt)},_o=function(e,t){return function(n,r){if(null==n)return n;if(!ht(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}},ko=_o(wo),So=function(e,t,n,r){return ko(e,(function(e,i,o){t(r,e,n(e),o)})),r},Mo=function(e,t){return function(n,r){var i=g(n)?yo:So,o=t?t():{};return i(n,e,mo(r),o)}};var xo=Object.prototype.hasOwnProperty;const Oo=Mo((function(e,t,n){xo.call(e,n)?++e[n]:rt(e,n,1)}));function Co(e,t,n){var r=tt(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=Co.placeholder,r}Co.placeholder={};const To=Co;function Ro(e,t,n){var r=tt(e,16,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=Ro.placeholder,r}Ro.placeholder={};const Do=Ro,Eo=function(){return r.Z.Date.now()};var Ao=Math.max,Lo=Math.min;const jo=function(e,t,n){var r,i,o,a,s,l,u=0,c=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,o=i;return r=i=void 0,u=t,a=e.apply(o,n)}function p(e){return u=e,s=setTimeout(g,t),c?f(e):a}function m(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-u>=o}function g(){var e=Eo();if(m(e))return y(e);s=setTimeout(g,function(e){var n=t-(e-l);return d?Lo(n,o-(e-u)):n}(e))}function y(e){return s=void 0,h&&r?f(e):(r=i=void 0,a)}function v(){var e=Eo(),n=m(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return p(l);if(d)return clearTimeout(s),s=setTimeout(g,t),f(l)}return void 0===s&&(s=setTimeout(g,t)),a}return t=E(t)||0,O(n)&&(c=!!n.leading,o=(d="maxWait"in n)?Ao(E(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h),v.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=i=s=void 0},v.flush=function(){return void 0===s?a:y(Eo())},v};var Po=Object.prototype,Io=Po.hasOwnProperty,Ho=ct((function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&ft(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],a=zt(o),s=-1,l=a.length;++s<l;){var u=a[s],c=e[u];(void 0===c||it(c,Po[u])&&!Io.call(e,u))&&(e[u]=o[u])}return e}));const No=Ho,Fo=function(e,t,n){(void 0!==n&&!it(e[t],n)||void 0===n&&!(t in e))&&rt(e,t,n)},Yo=function(e){return h(e)&&ht(e)},zo=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},Bo=function(e){return st(e,zt(e))},Wo=function e(t,n,r,i,o){t!==n&&bo(n,(function(a,s){if(o||(o=new Zr),O(a))!function(e,t,n,r,i,o,a){var s=zo(e,n),l=zo(t,n),u=a.get(l);if(u)Fo(e,n,u);else{var c=o?o(s,l,n+"",e,t,a):void 0,d=void 0===c;if(d){var h=g(l),f=!h&&(0,St.Z)(l),p=!h&&!f&&Tt(l);c=l,h||f||p?g(s)?c=s:Yo(s)?c=be(s):f?(d=!1,c=(0,Jr.Z)(l,!0)):p?(d=!1,c=Ri(l,!0)):c=[]:In(l)||kt(l)?(c=s,kt(s)?c=Bo(s):O(s)&&!P(s)||(c=Ei(l))):d=!1}d&&(a.set(l,c),i(c,l,r,o,a),a.delete(l)),Fo(e,n,c)}}(t,n,s,r,e,i,o);else{var l=i?i(zo(t,s),a,s+"",t,n,o):void 0;void 0===l&&(l=a),Fo(t,s,l)}}),zt)},$o=function e(t,n,r,i,o,a){return O(t)&&O(n)&&(a.set(n,t),Wo(t,n,void 0,e,a),a.delete(n)),t};var Uo=pt((function(e,t,n,r){Wo(e,t,n,r)}));const Vo=Uo,qo=ct((function(e){return e.push(void 0,$o),ne(Vo,void 0,e)})),Go=function(e,t,n){if("function"!=typeof e)throw new TypeError("Expected a function");return setTimeout((function(){e.apply(void 0,n)}),t)};var Ko=ct((function(e,t){return Go(e,1,t)}));const Zo=Ko;var Xo=ct((function(e,t,n){return Go(e,E(t)||0,n)}));const Jo=Xo,Qo=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1},ea=function(e,t,n,r){var i=-1,o=Ye,a=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=m(t,xt(n))),r?(o=Qo,a=!1):t.length>=200&&(o=$i,a=!1,t=new Bi(t));e:for(;++i<s;){var c=e[i],d=null==n?c:n(c);if(c=r||0!==c?c:0,a&&d==d){for(var h=u;h--;)if(t[h]===d)continue e;l.push(c)}else o(t,d,r)||l.push(c)}return l};const ta=ct((function(e,t){return Yo(e)?ea(e,On(t,1,Yo,!0)):[]})),na=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};const ra=ct((function(e,t){var n=na(t);return Yo(n)&&(n=void 0),Yo(e)?ea(e,On(t,1,Yo,!0),mo(n)):[]}));const ia=ct((function(e,t){var n=na(t);return Yo(n)&&(n=void 0),Yo(e)?ea(e,On(t,1,Yo,!0),void 0,n):[]})),oa=w((function(e,t){return e/t}),1),aa=function(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Vn(e,r?0:o,r?o+1:i):Vn(e,r?o+1:0,r?i:o)},sa=function(e){return"function"==typeof e?e:j},la=function(e,t){return(g(e)?Ie:ko)(e,sa(t))},ua=function(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e},ca=vo(!0),da=function(e,t){return e&&ca(e,t,Pt)},ha=_o(da,!0),fa=function(e,t){return(g(e)?ua:ha)(e,sa(t))},pa=function(e){return function(t){var n,r,i,o=ki(t);return"[object Map]"==o?Vi(t):"[object Set]"==o?(n=t,r=-1,i=Array(n.size),n.forEach((function(e){i[++r]=[e,e]})),i):function(e,t){return m(t,(function(t){return[t,e[t]]}))}(t,e(t))}},ma=pa(Pt),ga=pa(zt),ya=dr({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});var va=/[&<>"']/g,ba=RegExp(va.source);const wa=function(e){return(e=yn(e))&&ba.test(e)?e.replace(va,ya):e};var _a=/[\\^$.*+?()[\]{}|]/g,ka=RegExp(_a.source);const Sa=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0},Ma=function(e,t){var n=!0;return ko(e,(function(e,r,i){return n=!!t(e,r,i)})),n},xa=function(e){return e?Gr(L(e),0,4294967295):0},Oa=function(e,t){var n=[];return ko(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n},Ca=function(e){return function(t,n,r){var i=Object(t);if(!ht(t)){var o=mo(n);t=Pt(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}};var Ta=Math.max;const Ra=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:L(n);return i<0&&(i=Ta(r+i,0)),He(e,mo(t),i)},Da=Ca(Ra),Ea=function(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r};var Aa=Math.max,La=Math.min;const ja=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=L(n),i=n<0?Aa(r+i,0):La(i,r-1)),He(e,mo(t),i,!0)},Pa=Ca(ja),Ia=function(e,t){var n=-1,r=ht(e)?Array(e.length):[];return ko(e,(function(e,i,o){r[++n]=t(e,i,o)})),r},Ha=function(e,t){return(g(e)?m:Ia)(e,mo(t))},Na=Wr("floor"),Fa=function(e){return Tn((function(t){var n=t.length,r=n,i=ve.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new TypeError("Expected a function");if(i&&!a&&"wrapper"==ge(o))var a=new ve([],!0)}for(r=a?r:n;++r<n;){o=t[r];var s=ge(o),l="wrapper"==s?fe(o):void 0;a=l&&Me(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?a[ge(l[0])].apply(a,l[3]):1==o.length&&Me(o)?a[s]():a.thru(o)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&g(r))return a.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))},Ya=Fa(),za=Fa(!0),Ba=function(e,t){return Qr(t,(function(t){return P(e[t])}))};var Wa=Object.prototype.hasOwnProperty;const $a=Mo((function(e,t,n){Wa.call(e,n)?e[n].push(t):rt(e,n,[t])})),Ua=function(e,t){return e>t},Va=function(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=E(t),n=E(n)),e(t,n)}},qa=Va(Ua),Ga=Va((function(e,t){return e>=t}));var Ka=Object.prototype.hasOwnProperty;const Za=function(e,t){return null!=e&&Ka.call(e,t)};var Xa=Math.max,Ja=Math.min;const Qa=function(e){return"string"==typeof e||!g(e)&&h(e)&&"[object String]"==d(e)},es=function(e,t){return m(t,(function(t){return e[t]}))},ts=function(e){return null==e?[]:es(e,Pt(e))};var ns=Math.max;var rs=Math.max;var is=Math.min;const os=function(e,t,n){for(var r=n?Qo:Ye,i=e[0].length,o=e.length,a=o,s=Array(o),l=1/0,u=[];a--;){var c=e[a];a&&t&&(c=m(c,xt(t))),l=is(c.length,l),s[a]=!n&&(t||i>=120&&c.length>=120)?new Bi(a&&c):void 0}c=e[0];var d=-1,h=s[0];e:for(;++d<i&&u.length<l;){var f=c[d],p=t?t(f):f;if(f=n||0!==f?f:0,!(h?$i(h,p):r(u,p,n))){for(a=o;--a;){var g=s[a];if(!(g?$i(g,p):r(e[a],p,n)))continue e}h&&h.push(p),u.push(f)}}return u},as=function(e){return Yo(e)?e:[]},ss=ct((function(e){var t=m(e,as);return t.length&&t[0]===e[0]?os(t):[]}));const ls=ct((function(e){var t=na(e),n=m(e,as);return t===na(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?os(n,mo(t)):[]})),us=ct((function(e){var t=na(e),n=m(e,as);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?os(n,void 0,t):[]})),cs=function(e,t){return function(n,r){return function(e,t,n,r){return wo(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}};var ds=Object.prototype.toString;const hs=cs((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ds.call(t)),e[t]=n}),Ee(j));var fs=Object.prototype,ps=fs.hasOwnProperty,ms=fs.toString;const gs=cs((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ms.call(t)),ps.call(e,t)?e[t].push(n):e[t]=[n]}),mo),ys=function(e,t){return t.length<2?e:wn(e,Vn(t,0,-1))},vs=function(e,t,n){t=vn(t,e);var r=null==(e=ys(e,t))?e:e[bn(na(t))];return null==r?void 0:ne(r,e,n)},bs=ct(vs);const ws=ct((function(e,t,n){var r=-1,i="function"==typeof t,o=ht(e)?Array(e.length):[];return ko(e,(function(e){o[++r]=i?ne(t,e,n):vs(e,t,n)})),o}));var _s=Ot.Z&&Ot.Z.isArrayBuffer;const ks=_s?xt(_s):function(e){return h(e)&&"[object ArrayBuffer]"==d(e)};var Ss=Ot.Z&&Ot.Z.isDate;const Ms=Ss?xt(Ss):function(e){return h(e)&&"[object Date]"==d(e)};var xs=Object.prototype.hasOwnProperty;const Os=function(e){if(null==e)return!0;if(ht(e)&&(g(e)||"string"==typeof e||"function"==typeof e.splice||(0,St.Z)(e)||Tt(e)||kt(e)))return!e.length;var t=ki(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(gt(e))return!jt(e).length;for(var n in e)if(xs.call(e,n))return!1;return!0};var Cs=r.Z.isFinite;const Ts=function(e){return"number"==typeof e&&e==L(e)},Rs=function(e){return"number"==typeof e||h(e)&&"[object Number]"==d(e)};var Ds=n(91898);const Es=I?P:Ds.Z;var As=Ot.Z&&Ot.Z.isRegExp;const Ls=As?xt(As):function(e){return h(e)&&"[object RegExp]"==d(e)};var js=Array.prototype.join;const Ps=Fr((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}));const Is=Mo((function(e,t,n){rt(e,n,t)}));var Hs=Math.max,Ns=Math.min;const Fs=Fr((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ys=sr("toLowerCase"),zs=function(e,t){return e<t},Bs=Va(zs),Ws=Va((function(e,t){return e<=t})),$s=function(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(void 0===s?a==a&&!f(a):n(a,s)))var s=a,l=o}return l},Us=function(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n},Vs=function(e,t){var n=null==e?0:e.length;return n?Us(e,t)/n:NaN};var qs=pt((function(e,t,n){Wo(e,t,n)}));const Gs=qs,Ks=ct((function(e,t){return function(n){return vs(n,e,t)}})),Zs=ct((function(e,t){return function(n){return vs(e,n,t)}})),Xs=function(e,t,n){var r=Pt(t),i=Ba(t,r),o=!(O(n)&&"chain"in n&&!n.chain),a=P(e);return Ie(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=be(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Sn([this.value()],arguments))})})),e},Js=w((function(e,t){return e*t}),1);var Qs=i?i.iterator:void 0;const el=function(e){if(!e)return[];if(ht(e))return Qa(e)?ar(e):be(e);if(Qs&&e[Qs])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Qs]());var t=ki(e);return("[object Map]"==t?Vi:"[object Set]"==t?qi:ts)(e)},tl=function(e,t){var n=e.length;if(n)return Ve(t+=t<0?n:0,n)?e[t]:void 0},nl=function(e,t){return t=vn(t,e),null==(e=ys(e,t))||delete e[bn(na(t))]},rl=function(e){return In(e)?void 0:e};const il=Tn((function(e,t){var n={};if(null==e)return n;var r=!1;t=m(t,(function(t){return t=vn(t,e),r||(r=t.length>1),t})),st(e,si(e),n),r&&(n=Fi(n,7,rl));for(var i=t.length;i--;)nl(n,t[i]);return n})),ol=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}},al=function(e,t,n,r){if(!O(e))return e;for(var i=-1,o=(t=vn(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var l=bn(t[i]),u=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=a){var c=s[l];void 0===(u=r?r(c,l,s):void 0)&&(u=O(c)?c:Ve(t[i+1])?[]:{})}at(s,l,u),s=s[l]}return e},sl=function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=wn(e,a);n(s,a)&&al(o,vn(a,e),s)}return o},ll=function(e,t){if(null==e)return{};var n=m(si(e),(function(e){return[e]}));return t=mo(t),sl(e,n,(function(e,n){return t(e,n[0])}))},ul=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=f(e),a=void 0!==t,s=null===t,l=t==t,u=f(t);if(!s&&!u&&!o&&e>t||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&e<t||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0},cl=function(e,t,n){t=t.length?m(t,(function(e){return g(e)?function(t){return wn(t,1===e.length?e[0]:e)}:e})):[j];var r=-1;return t=m(t,xt(mo)),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Ia(e,(function(e,n,i){return{criteria:m(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var l=ul(i[r],o[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))},dl=function(e){return Tn((function(t){return t=m(t,xt(mo)),ct((function(n){var r=this;return e(t,(function(e){return ne(e,r,n)}))}))}))},hl=dl(m),fl=ct;var pl=Math.min,ml=fl((function(e,t){var n=(t=1==t.length&&g(t[0])?m(t[0],xt(mo)):m(On(t,1),xt(mo))).length;return ct((function(r){for(var i=-1,o=pl(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return ne(e,this,r)}))}));const gl=ml,yl=dl(Sa),vl=dl(Wi);var bl=Math.floor;const wl=function(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=bl(t/2))&&(e+=e)}while(t);return n},_l=fo("length");var kl="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Sl="[^\\ud800-\\udfff]",Ml="(?:\\ud83c[\\udde6-\\uddff]){2}",xl="[\\ud800-\\udbff][\\udc00-\\udfff]",Ol="(?:"+kl+"|\\ud83c[\\udffb-\\udfff])?",Cl="[\\ufe0e\\ufe0f]?",Tl=Cl+Ol+"(?:\\u200d(?:"+[Sl,Ml,xl].join("|")+")"+Cl+Ol+")*",Rl="(?:"+[Sl+kl+"?",kl,Ml,xl,"[\\ud800-\\udfff]"].join("|")+")",Dl=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|"+Rl+Tl,"g");const El=function(e){return Kn(e)?function(e){for(var t=Dl.lastIndex=0;Dl.test(e);)++t;return t}(e):_l(e)};var Al=Math.ceil;const Ll=function(e,t){var n=(t=void 0===t?" ":b(t)).length;if(n<2)return n?wl(t,e):t;var r=wl(t,Al(e/El(t)));return Kn(t)?qn(ar(r),0,e).join(""):r.slice(0,e)};var jl=Math.ceil,Pl=Math.floor;var Il=/^\s+/,Hl=r.Z.parseInt;var Nl=ct((function(e,t){var n=Ze(t,$e(Nl));return tt(e,32,void 0,t,n)}));Nl.placeholder={};const Fl=Nl;var Yl=ct((function(e,t){var n=Ze(t,$e(Yl));return tt(e,64,void 0,t,n)}));Yl.placeholder={};const zl=Yl;const Bl=Mo((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Wl=Tn((function(e,t){return null==e?{}:function(e,t){return sl(e,t,(function(t,n){return co(e,n)}))}(e,t)})),$l=function(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1};var Ul=Array.prototype.splice;const Vl=function(e,t,n,r){var i=r?$l:Fe,o=-1,a=t.length,s=e;for(e===t&&(t=be(t)),n&&(s=m(e,xt(n)));++o<a;)for(var l=0,u=t[o],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==e&&Ul.call(s,l,1),Ul.call(e,l,1);return e},ql=function(e,t){return e&&e.length&&t&&t.length?Vl(e,t):e},Gl=ct(ql);var Kl=Array.prototype.splice;const Zl=function(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;Ve(i)?Kl.call(e,i,1):nl(e,i)}}return e};const Xl=Tn((function(e,t){var n=null==e?0:e.length,r=kn(e,t);return Zl(e,m(t,(function(e){return Ve(e,n)?+e:e})).sort(ul)),r}));var Jl=Math.floor,Ql=Math.random;const eu=function(e,t){return e+Jl(Ql()*(t-e+1))};var tu=parseFloat,nu=Math.min,ru=Math.random;var iu=Math.ceil,ou=Math.max;const au=function(e){return function(t,n,r){return r&&"number"!=typeof r&&ft(t,n,r)&&(n=r=void 0),t=A(t),void 0===n?(n=t,t=0):n=A(n),function(e,t,n,r){for(var i=-1,o=ou(iu((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a}(t,n,r=void 0===r?t<n?1:-1:A(r),e)}},su=au(),lu=au(!0);var uu=Tn((function(e,t){return tt(e,256,void 0,void 0,void 0,t)}));const cu=uu,du=function(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n},hu=function(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n};var fu=Array.prototype.reverse;const pu=function(e){return null==e?e:fu.call(e)},mu=Wr("round"),gu=function(e){var t=e.length;return t?e[eu(0,t-1)]:void 0},yu=function(e){return gu(ts(e))},vu=function(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var o=eu(n,i),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e},bu=function(e,t){return vu(be(e),Gr(t,0,e.length))},wu=function(e,t){var n=ts(e);return vu(n,Gr(t,0,n.length))},_u=function(e){return vu(be(e))},ku=function(e){return vu(ts(e))};const Su=Fr((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Mu=function(e,t){var n;return ko(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n},xu=ct((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ft(e,t[0],t[1])?t=[]:n>2&&ft(t[0],t[1],t[2])&&(t=[t[0]]),cl(e,On(t,1),[])}));var Ou=Math.floor,Cu=Math.min;const Tu=function(e,t,n,r){var i=0,o=null==e?0:e.length;if(0===o)return 0;for(var a=(t=n(t))!=t,s=null===t,l=f(t),u=void 0===t;i<o;){var c=Ou((i+o)/2),d=n(e[c]),h=void 0!==d,p=null===d,m=d==d,g=f(d);if(a)var y=r||m;else y=u?m&&(r||h):s?m&&h&&(r||!p):l?m&&h&&!p&&(r||!g):!p&&!g&&(r?d<=t:d<t);y?i=c+1:o=c}return Cu(o,4294967294)},Ru=function(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!f(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return Tu(e,t,j,n)},Du=function(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!it(s,l)){var l=s;o[i++]=0===a?0:a}}return o};var Eu=Math.max;const Au=Fr((function(e,t,n){return e+(n?" ":"")+lr(t)})),Lu=w((function(e,t){return e-t}),0);var ju=Object.prototype,Pu=ju.hasOwnProperty;const Iu=function(e,t,n,r){return void 0===e||it(e,ju[n])&&!Pu.call(r,n)?t:e};var Hu={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};const Nu=function(e){return"\\"+Hu[e]},Fu=/<%=([\s\S]+?)%>/g,Yu={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:Fu,variable:"",imports:{_:{escape:wa}}};var zu=/\b__p \+= '';/g,Bu=/\b(__p \+=) '' \+/g,Wu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$u=/[()=,{}\[\]\/\s]/,Uu=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Vu=/($^)/,qu=/['\n\r\u2028\u2029\\]/g,Gu=Object.prototype.hasOwnProperty;var Ku=4294967295,Zu=Math.min;const Xu=function(e,t){var n=e;return n instanceof ce&&(n=n.value()),cr(t,(function(e,t){return t.func.apply(t.thisArg,Sn([e],t.args))}),n)},Ju=function(){return Xu(this.__wrapped__,this.__actions__)};const Qu=function(e,t){for(var n=e.length;n--&&Fe(t,e[n],0)>-1;);return n},ec=function(e,t){for(var n=-1,r=e.length;++n<r&&Fe(t,e[n],0)>-1;);return n};var tc=/^\s+/;var nc=/\w*$/;const rc=dr({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var ic=/&(?:amp|lt|gt|quot|#39);/g,oc=RegExp(ic.source);const ac=ci&&1/qi(new ci([,-0]))[1]==1/0?function(e){return new ci(e)}:de,sc=function(e,t,n){var r=-1,i=Ye,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=Qo;else if(o>=200){var u=t?null:ac(e);if(u)return qi(u);a=!1,i=$i,l=new Bi}else l=t?[]:s;e:for(;++r<o;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,a&&d==d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s},lc=ct((function(e){return sc(On(e,1,Yo,!0))}));const uc=ct((function(e){var t=na(e);return Yo(t)&&(t=void 0),sc(On(e,1,Yo,!0),mo(t))})),cc=ct((function(e){var t=na(e);return t="function"==typeof t?t:void 0,sc(On(e,1,Yo,!0),void 0,t)}));var dc=0;var hc=Math.max;const fc=function(e){if(!e||!e.length)return[];var t=0;return e=Qr(e,(function(e){if(Yo(e))return t=hc(e.length,t),!0})),yt(t,(function(t){return m(e,fo(t))}))},pc=function(e,t){if(!e||!e.length)return[];var n=fc(e);return null==t?n:m(n,(function(e){return ne(t,void 0,e)}))},mc=function(e,t,n,r){return al(e,t,n(wn(e,t)),r)};const gc=Fr((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}));const yc=ct((function(e,t){return Yo(e)?ea(e,t):[]})),vc=function(e,t){return t(e)},bc=Tn((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return kn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof ce&&Ve(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:vc,args:[i],thisArg:void 0}),new ve(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)})),wc=function(e,t,n){var r=e.length;if(r<2)return r?sc(e[0]):[];for(var i=-1,o=Array(r);++i<r;)for(var a=e[i],s=-1;++s<r;)s!=i&&(o[i]=ea(o[i]||a,e[s],t,n));return sc(On(o,1),t,n)},_c=ct((function(e){return wc(Qr(e,Yo))}));const kc=ct((function(e){var t=na(e);return Yo(t)&&(t=void 0),wc(Qr(e,Yo),mo(t))})),Sc=ct((function(e){var t=na(e);return t="function"==typeof t?t:void 0,wc(Qr(e,Yo),void 0,t)})),Mc=ct(fc),xc=function(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:void 0;n(a,e[r],s)}return a};var Oc=ct((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,pc(e,n)}));const Cc=function(e){return e&&e.length?e[0]:void 0},Tc={chunk:function(e,t,n){t=(n?ft(e,t,n):void 0===t)?1:qr(L(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,a=Array(Vr(r/t));i<r;)a[o++]=Vn(e,i,i+=t);return a},compact:function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},concat:function(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Sn(g(n)?be(n):[n],On(t,1))},difference:ta,differenceBy:ra,differenceWith:ia,drop:function(e,t,n){var r=null==e?0:e.length;return r?(t=n||void 0===t?1:L(t),Vn(e,t<0?0:t,r)):[]},dropRight:function(e,t,n){var r=null==e?0:e.length;return r?(t=n||void 0===t?1:L(t),Vn(e,0,(t=r-t)<0?0:t)):[]},dropRightWhile:function(e,t){return e&&e.length?aa(e,mo(t),!0,!0):[]},dropWhile:function(e,t){return e&&e.length?aa(e,mo(t),!0):[]},fill:function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&ft(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=L(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:L(r))<0&&(r+=i),r=n>r?0:xa(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},findIndex:Ra,findLastIndex:ja,first:Cc,flatten:Cn,flattenDeep:function(e){return null!=e&&e.length?On(e,1/0):[]},flattenDepth:function(e,t){return null!=e&&e.length?(t=void 0===t?1:L(t),On(e,t)):[]},fromPairs:function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},head:Cc,indexOf:function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:L(n);return i<0&&(i=rs(r+i,0)),Fe(e,t,i)},initial:function(e){return null!=e&&e.length?Vn(e,0,-1):[]},intersection:ss,intersectionBy:ls,intersectionWith:us,join:function(e,t){return null==e?"":js.call(e,t)},last:na,lastIndexOf:function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=L(n))<0?Hs(r+i,0):Ns(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):He(e,Ne,i,!0)},nth:function(e,t){return e&&e.length?tl(e,L(t)):void 0},pull:Gl,pullAll:ql,pullAllBy:function(e,t,n){return e&&e.length&&t&&t.length?Vl(e,t,mo(n)):e},pullAllWith:function(e,t,n){return e&&e.length&&t&&t.length?Vl(e,t,void 0,n):e},pullAt:Xl,remove:function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=mo(t);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Zl(e,i),n},reverse:pu,slice:function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&ft(e,t,n)?(t=0,n=r):(t=null==t?0:L(t),n=void 0===n?r:L(n)),Vn(e,t,n)):[]},sortedIndex:function(e,t){return Ru(e,t)},sortedIndexBy:function(e,t,n){return Tu(e,t,mo(n))},sortedIndexOf:function(e,t){var n=null==e?0:e.length;if(n){var r=Ru(e,t);if(r<n&&it(e[r],t))return r}return-1},sortedLastIndex:function(e,t){return Ru(e,t,!0)},sortedLastIndexBy:function(e,t,n){return Tu(e,t,mo(n),!0)},sortedLastIndexOf:function(e,t){if(null!=e&&e.length){var n=Ru(e,t,!0)-1;if(it(e[n],t))return n}return-1},sortedUniq:function(e){return e&&e.length?Du(e):[]},sortedUniqBy:function(e,t){return e&&e.length?Du(e,mo(t)):[]},tail:function(e){var t=null==e?0:e.length;return t?Vn(e,1,t):[]},take:function(e,t,n){return e&&e.length?(t=n||void 0===t?1:L(t),Vn(e,0,t<0?0:t)):[]},takeRight:function(e,t,n){var r=null==e?0:e.length;return r?(t=n||void 0===t?1:L(t),Vn(e,(t=r-t)<0?0:t,r)):[]},takeRightWhile:function(e,t){return e&&e.length?aa(e,mo(t),!1,!0):[]},takeWhile:function(e,t){return e&&e.length?aa(e,mo(t)):[]},union:lc,unionBy:uc,unionWith:cc,uniq:function(e){return e&&e.length?sc(e):[]},uniqBy:function(e,t){return e&&e.length?sc(e,mo(t)):[]},uniqWith:function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?sc(e,void 0,t):[]},unzip:fc,unzipWith:pc,without:yc,xor:_c,xorBy:kc,xorWith:Sc,zip:Mc,zipObject:function(e,t){return xc(e||[],t||[],at)},zipObjectDeep:function(e,t){return xc(e||[],t||[],al)},zipWith:Oc},Rc={countBy:Oo,each:la,eachRight:fa,every:function(e,t,n){var r=g(e)?Sa:Ma;return n&&ft(e,t,n)&&(t=void 0),r(e,mo(t))},filter:function(e,t){return(g(e)?Qr:Oa)(e,mo(t))},find:Da,findLast:Pa,flatMap:function(e,t){return On(Ha(e,t),1)},flatMapDeep:function(e,t){return On(Ha(e,t),1/0)},flatMapDepth:function(e,t,n){return n=void 0===n?1:L(n),On(Ha(e,t),n)},forEach:la,forEachRight:fa,groupBy:$a,includes:function(e,t,n,r){e=ht(e)?e:ts(e),n=n&&!r?L(n):0;var i=e.length;return n<0&&(n=ns(i+n,0)),Qa(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Fe(e,t,n)>-1},invokeMap:ws,keyBy:Is,map:Ha,orderBy:function(e,t,n,r){return null==e?[]:(g(t)||(t=null==t?[]:[t]),g(n=r?void 0:n)||(n=null==n?[]:[n]),cl(e,t,n))},partition:Bl,reduce:function(e,t,n){var r=g(e)?cr:du,i=arguments.length<3;return r(e,mo(t),n,i,ko)},reduceRight:function(e,t,n){var r=g(e)?hu:du,i=arguments.length<3;return r(e,mo(t),n,i,ha)},reject:function(e,t){return(g(e)?Qr:Oa)(e,ol(mo(t)))},sample:function(e){return(g(e)?gu:yu)(e)},sampleSize:function(e,t,n){return t=(n?ft(e,t,n):void 0===t)?1:L(t),(g(e)?bu:wu)(e,t)},shuffle:function(e){return(g(e)?_u:ku)(e)},size:function(e){if(null==e)return 0;if(ht(e))return Qa(e)?El(e):e.length;var t=ki(e);return"[object Map]"==t||"[object Set]"==t?e.size:jt(e).length},some:function(e,t,n){var r=g(e)?Wi:Mu;return n&&ft(e,t,n)&&(t=void 0),r(e,mo(t))},sortBy:xu},Dc=Eo,Ec={after:function(e,t){if("function"!=typeof t)throw new TypeError("Expected a function");return e=L(e),function(){if(--e<1)return t.apply(this,arguments)}},ary:nt,before:Yn,bind:Bn,bindKey:Un,curry:To,curryRight:Do,debounce:jo,defer:Zo,delay:Jo,flip:function(e){return tt(e,512)},memoize:hn,negate:ol,once:function(e){return Yn(2,e)},overArgs:gl,partial:Fl,partialRight:zl,rearg:cu,rest:function(e,t){if("function"!=typeof e)throw new TypeError("Expected a function");return t=void 0===t?t:L(t),ct(e,t)},spread:function(e,t){if("function"!=typeof e)throw new TypeError("Expected a function");return t=null==t?0:Eu(L(t),0),ct((function(n){var r=n[t],i=qn(n,0,t);return r&&Sn(i,r),ne(e,this,i)}))},throttle:function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return O(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),jo(e,t,{leading:r,maxWait:t,trailing:i})},unary:function(e){return nt(e,1)},wrap:function(e,t){return Fl(sa(t),e)}},Ac={castArray:function(){if(!arguments.length)return[];var e=arguments[0];return g(e)?e:[e]},clone:function(e){return Fi(e,4)},cloneDeep:Yi,cloneDeepWith:function(e,t){return Fi(e,5,t="function"==typeof t?t:void 0)},cloneWith:function(e,t){return Fi(e,4,t="function"==typeof t?t:void 0)},conformsTo:function(e,t){return null==t||go(e,t,Pt(t))},eq:it,gt:qa,gte:Ga,isArguments:kt,isArray:g,isArrayBuffer:ks,isArrayLike:ht,isArrayLikeObject:Yo,isBoolean:function(e){return!0===e||!1===e||h(e)&&"[object Boolean]"==d(e)},isBuffer:St.Z,isDate:Ms,isElement:function(e){return h(e)&&1===e.nodeType&&!In(e)},isEmpty:Os,isEqual:function(e,t){return no(e,t)},isEqualWith:function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?no(e,t,void 0,n):!!r},isError:Hn,isFinite:function(e){return"number"==typeof e&&Cs(e)},isFunction:P,isInteger:Ts,isLength:dt,isMap:Li,isMatch:function(e,t){return e===t||ro(e,t,oo(t))},isMatchWith:function(e,t,n){return n="function"==typeof n?n:void 0,ro(e,t,oo(t),n)},isNaN:function(e){return Rs(e)&&e!=+e},isNative:function(e){if(Es(e))throw new Error("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return q(e)},isNil:function(e){return null==e},isNull:function(e){return null===e},isNumber:Rs,isObject:O,isObjectLike:h,isPlainObject:In,isRegExp:Ls,isSafeInteger:function(e){return Ts(e)&&e>=-9007199254740991&&e<=9007199254740991},isSet:Pi,isString:Qa,isSymbol:f,isTypedArray:Tt,isUndefined:function(e){return void 0===e},isWeakMap:function(e){return h(e)&&"[object WeakMap]"==ki(e)},isWeakSet:function(e){return h(e)&&"[object WeakSet]"==d(e)},lt:Bs,lte:Ws,toArray:el,toFinite:A,toInteger:L,toLength:xa,toNumber:E,toPlainObject:Bo,toSafeInteger:function(e){return e?Gr(L(e),-9007199254740991,9007199254740991):0===e?e:0},toString:yn},Lc={add:_,ceil:$r,divide:oa,floor:Na,max:function(e){return e&&e.length?$s(e,j,Ua):void 0},maxBy:function(e,t){return e&&e.length?$s(e,mo(t),Ua):void 0},mean:function(e){return Vs(e,j)},meanBy:function(e,t){return Vs(e,mo(t))},min:function(e){return e&&e.length?$s(e,j,zs):void 0},minBy:function(e,t){return e&&e.length?$s(e,mo(t),zs):void 0},multiply:Js,round:mu,subtract:Lu,sum:function(e){return e&&e.length?Us(e,j):0},sumBy:function(e,t){return e&&e.length?Us(e,mo(t)):0}},jc=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=E(n))==n?n:0),void 0!==t&&(t=(t=E(t))==t?t:0),Gr(E(e),t,n)},Pc=function(e,t,n){return t=A(t),void 0===n?(n=t,t=0):n=A(n),function(e,t,n){return e>=Ja(t,n)&&e<Xa(t,n)}(e=E(e),t,n)},Ic=function(e,t,n){if(n&&"boolean"!=typeof n&&ft(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=A(e),void 0===t?(t=e,e=0):t=A(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=ru();return nu(e+i*(t-e+tu("1e-"+((i+"").length-1))),t)}return eu(e,t)},Hc={assign:Nt,assignIn:Wt,assignInWith:Ut,assignWith:qt,at:Rn,create:function(e,t){var n=ee(e);return null==t?n:Xr(n,t)},defaults:No,defaultsDeep:qo,entries:ma,entriesIn:ga,extend:Wt,extendWith:Ut,findKey:function(e,t){return Ea(e,mo(t),wo)},findLastKey:function(e,t){return Ea(e,mo(t),da)},forIn:function(e,t){return null==e?e:bo(e,sa(t),zt)},forInRight:function(e,t){return null==e?e:ca(e,sa(t),zt)},forOwn:function(e,t){return e&&wo(e,sa(t))},forOwnRight:function(e,t){return e&&da(e,sa(t))},functions:function(e){return null==e?[]:Ba(e,Pt(e))},functionsIn:function(e){return null==e?[]:Ba(e,zt(e))},get:_n,has:function(e,t){return null!=e&&uo(e,t,Za)},hasIn:co,invert:hs,invertBy:gs,invoke:bs,keys:Pt,keysIn:zt,mapKeys:function(e,t){var n={};return t=mo(t),wo(e,(function(e,r,i){rt(n,t(e,r,i),e)})),n},mapValues:function(e,t){var n={};return t=mo(t),wo(e,(function(e,r,i){rt(n,r,t(e,r,i))})),n},merge:Gs,mergeWith:Vo,omit:il,omitBy:function(e,t){return ll(e,ol(mo(t)))},pick:Wl,pickBy:ll,result:function(e,t,n){var r=-1,i=(t=vn(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var o=null==e?void 0:e[bn(t[r])];void 0===o&&(r=i,o=n),e=P(o)?o.call(e):o}return e},set:function(e,t,n){return null==e?e:al(e,t,n)},setWith:function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:al(e,t,n,r)},toPairs:ma,toPairsIn:ga,transform:function(e,t,n){var r=g(e),i=r||(0,St.Z)(e)||Tt(e);if(t=mo(t),null==n){var o=e&&e.constructor;n=i?r?new o:[]:O(e)&&P(o)?ee(Dn(e)):{}}return(i?Ie:wo)(e,(function(e,r,i){return t(n,e,r,i)})),n},unset:function(e,t){return null==e||nl(e,t)},update:function(e,t,n){return null==e?e:mc(e,t,sa(n))},updateWith:function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:mc(e,t,sa(n),r)},values:ts,valuesIn:function(e){return null==e?[]:es(e,zt(e))}},Nc={at:bc,chain:Ur,commit:function(){return new ve(this.value(),this.__chain__)},lodash:Se,next:function(){void 0===this.__values__&&(this.__values__=el(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},plant:function(e){for(var t,n=this;n instanceof le;){var r=we(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},reverse:function(){var e=this.__wrapped__;if(e instanceof ce){var t=e;return this.__actions__.length&&(t=new ce(this)),(t=t.reverse()).__actions__.push({func:vc,args:[pu],thisArg:void 0}),new ve(t,this.__chain__)}return this.thru(pu)},tap:function(e,t){return t(e),e},thru:vc,toIterator:function(){return this},toJSON:Ju,value:Ju,valueOf:Ju,wrapperChain:function(){return Ur(this)}},Fc={camelCase:Yr,capitalize:ur,deburr:mr,endsWith:function(e,t,n){e=yn(e),t=b(t);var r=e.length,i=n=void 0===n?r:Gr(L(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},escape:wa,escapeRegExp:function(e){return(e=yn(e))&&ka.test(e)?e.replace(_a,"\\$&"):e},kebabCase:Ps,lowerCase:Fs,lowerFirst:Ys,pad:function(e,t,n){e=yn(e);var r=(t=L(t))?El(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ll(Pl(i),n)+e+Ll(jl(i),n)},padEnd:function(e,t,n){e=yn(e);var r=(t=L(t))?El(e):0;return t&&r<t?e+Ll(t-r,n):e},padStart:function(e,t,n){e=yn(e);var r=(t=L(t))?El(e):0;return t&&r<t?Ll(t-r,n)+e:e},parseInt:function(e,t,n){return n||null==t?t=0:t&&(t=+t),Hl(yn(e).replace(Il,""),t||0)},repeat:function(e,t,n){return t=(n?ft(e,t,n):void 0===t)?1:L(t),wl(yn(e),t)},replace:function(){var e=arguments,t=yn(e[0]);return e.length<3?t:t.replace(e[1],e[2])},snakeCase:Su,split:function(e,t,n){return n&&"number"!=typeof n&&ft(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=yn(e))&&("string"==typeof t||null!=t&&!Ls(t))&&!(t=b(t))&&Kn(e)?qn(ar(e),0,n):e.split(t,n):[]},startCase:Au,startsWith:function(e,t,n){return e=yn(e),n=null==n?0:Gr(L(n),0,e.length),t=b(t),e.slice(n,n+t.length)==t},template:function(e,t,n){var r=Yu.imports._.templateSettings||Yu;n&&ft(e,t,n)&&(t=void 0),e=yn(e),t=Ut({},t,r,Iu);var i,o,a=Ut({},t.imports,r.imports,Iu),s=Pt(a),l=es(a,s),u=0,c=t.interpolate||Vu,d="__p += '",h=RegExp((t.escape||Vu).source+"|"+c.source+"|"+(c===Fu?Uu:Vu).source+"|"+(t.evaluate||Vu).source+"|$","g"),f=Gu.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+"\n":"";e.replace(h,(function(t,n,r,a,s,l){return r||(r=a),d+=e.slice(u,l).replace(qu,Nu),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),s&&(o=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),d+="';\n";var p=Gu.call(t,"variable")&&t.variable;if(p){if($u.test(p))throw new Error("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(o?d.replace(zu,""):d).replace(Bu,"$1").replace(Wu,"$1;"),d="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Fn((function(){return Function(s,f+"return "+d).apply(void 0,l)}));if(m.source=d,Hn(m))throw m;return m},templateSettings:Yu,toLower:function(e){return yn(e).toLowerCase()},toUpper:function(e){return yn(e).toUpperCase()},trim:function(e,t,n){if((e=yn(e))&&(n||void 0===t))return x(e);if(!e||!(t=b(t)))return e;var r=ar(e),i=ar(t),o=ec(r,i),a=Qu(r,i)+1;return qn(r,o,a).join("")},trimEnd:function(e,t,n){if((e=yn(e))&&(n||void 0===t))return e.slice(0,S(e)+1);if(!e||!(t=b(t)))return e;var r=ar(e),i=Qu(r,ar(t))+1;return qn(r,0,i).join("")},trimStart:function(e,t,n){if((e=yn(e))&&(n||void 0===t))return e.replace(tc,"");if(!e||!(t=b(t)))return e;var r=ar(e),i=ec(r,ar(t));return qn(r,i).join("")},truncate:function(e,t){var n=30,r="...";if(O(t)){var i="separator"in t?t.separator:i;n="length"in t?L(t.length):n,r="omission"in t?b(t.omission):r}var o=(e=yn(e)).length;if(Kn(e)){var a=ar(e);o=a.length}if(n>=o)return e;var s=n-El(r);if(s<1)return r;var l=a?qn(a,0,s).join(""):e.slice(0,s);if(void 0===i)return l+r;if(a&&(s+=l.length-s),Ls(i)){if(e.slice(s).search(i)){var u,c=l;for(i.global||(i=RegExp(i.source,yn(nc.exec(i))+"g")),i.lastIndex=0;u=i.exec(c);)var d=u.index;l=l.slice(0,void 0===d?s:d)}}else if(e.indexOf(b(i),s)!=s){var h=l.lastIndexOf(i);h>-1&&(l=l.slice(0,h))}return l+r},unescape:function(e){return(e=yn(e))&&oc.test(e)?e.replace(ic,rc):e},upperCase:gc,upperFirst:lr,words:Hr},Yc={attempt:Fn,bindAll:Wn,cond:function(e){var t=null==e?0:e.length,n=mo;return e=t?m(e,(function(e){if("function"!=typeof e[1])throw new TypeError("Expected a function");return[n(e[0]),e[1]]})):[],ct((function(n){for(var r=-1;++r<t;){var i=e[r];if(ne(i[0],this,n))return ne(i[1],this,n)}}))},conforms:function(e){return function(e){var t=Pt(e);return function(n){return go(n,e,t)}}(Fi(e,1))},constant:Ee,defaultTo:function(e,t){return null==e||e!=e?t:e},flow:Ya,flowRight:za,identity:j,iteratee:function(e){return mo("function"==typeof e?e:Fi(e,1))},matches:function(e){return so(Fi(e,1))},matchesProperty:function(e,t){return ho(e,Fi(t,1))},method:Ks,methodOf:Zs,mixin:Xs,noop:de,nthArg:function(e){return e=L(e),ct((function(t){return tl(t,e)}))},over:hl,overEvery:yl,overSome:vl,property:po,propertyOf:function(e){return function(t){return null==e?void 0:wn(e,t)}},range:su,rangeRight:lu,stubArray:ei,stubFalse:Ds.Z,stubObject:function(){return{}},stubString:function(){return""},stubTrue:function(){return!0},times:function(e,t){if((e=L(e))<1||e>9007199254740991)return[];var n=Ku,r=Zu(e,Ku);t=sa(t),e-=Ku;for(var i=yt(r,t);++n<e;)t(n);return i},toPath:function(e){return g(e)?m(e,bn):f(e)?[e]:be(gn(yn(e)))},uniqueId:function(e){var t=++dc;return yn(e)+t}};var zc=Math.max,Bc=Math.min;var Wc=Math.min;var $c,Uc,Vc=4294967295,qc=Array.prototype,Gc=Object.prototype.hasOwnProperty,Kc=i?i.iterator:void 0,Zc=Math.max,Xc=Math.min,Jc=($c=Xs,function(e,t,n){if(null==n){var r=O(t),i=r&&Pt(t),o=i&&i.length&&Ba(t,i);(o?o.length:r)||(n=t,t=e,e=this)}return $c(e,t,n)});Se.after=Ec.after,Se.ary=Ec.ary,Se.assign=Hc.assign,Se.assignIn=Hc.assignIn,Se.assignInWith=Hc.assignInWith,Se.assignWith=Hc.assignWith,Se.at=Hc.at,Se.before=Ec.before,Se.bind=Ec.bind,Se.bindAll=Yc.bindAll,Se.bindKey=Ec.bindKey,Se.castArray=Ac.castArray,Se.chain=Nc.chain,Se.chunk=Tc.chunk,Se.compact=Tc.compact,Se.concat=Tc.concat,Se.cond=Yc.cond,Se.conforms=Yc.conforms,Se.constant=Yc.constant,Se.countBy=Rc.countBy,Se.create=Hc.create,Se.curry=Ec.curry,Se.curryRight=Ec.curryRight,Se.debounce=Ec.debounce,Se.defaults=Hc.defaults,Se.defaultsDeep=Hc.defaultsDeep,Se.defer=Ec.defer,Se.delay=Ec.delay,Se.difference=Tc.difference,Se.differenceBy=Tc.differenceBy,Se.differenceWith=Tc.differenceWith,Se.drop=Tc.drop,Se.dropRight=Tc.dropRight,Se.dropRightWhile=Tc.dropRightWhile,Se.dropWhile=Tc.dropWhile,Se.fill=Tc.fill,Se.filter=Rc.filter,Se.flatMap=Rc.flatMap,Se.flatMapDeep=Rc.flatMapDeep,Se.flatMapDepth=Rc.flatMapDepth,Se.flatten=Tc.flatten,Se.flattenDeep=Tc.flattenDeep,Se.flattenDepth=Tc.flattenDepth,Se.flip=Ec.flip,Se.flow=Yc.flow,Se.flowRight=Yc.flowRight,Se.fromPairs=Tc.fromPairs,Se.functions=Hc.functions,Se.functionsIn=Hc.functionsIn,Se.groupBy=Rc.groupBy,Se.initial=Tc.initial,Se.intersection=Tc.intersection,Se.intersectionBy=Tc.intersectionBy,Se.intersectionWith=Tc.intersectionWith,Se.invert=Hc.invert,Se.invertBy=Hc.invertBy,Se.invokeMap=Rc.invokeMap,Se.iteratee=Yc.iteratee,Se.keyBy=Rc.keyBy,Se.keys=Pt,Se.keysIn=Hc.keysIn,Se.map=Rc.map,Se.mapKeys=Hc.mapKeys,Se.mapValues=Hc.mapValues,Se.matches=Yc.matches,Se.matchesProperty=Yc.matchesProperty,Se.memoize=Ec.memoize,Se.merge=Hc.merge,Se.mergeWith=Hc.mergeWith,Se.method=Yc.method,Se.methodOf=Yc.methodOf,Se.mixin=Jc,Se.negate=ol,Se.nthArg=Yc.nthArg,Se.omit=Hc.omit,Se.omitBy=Hc.omitBy,Se.once=Ec.once,Se.orderBy=Rc.orderBy,Se.over=Yc.over,Se.overArgs=Ec.overArgs,Se.overEvery=Yc.overEvery,Se.overSome=Yc.overSome,Se.partial=Ec.partial,Se.partialRight=Ec.partialRight,Se.partition=Rc.partition,Se.pick=Hc.pick,Se.pickBy=Hc.pickBy,Se.property=Yc.property,Se.propertyOf=Yc.propertyOf,Se.pull=Tc.pull,Se.pullAll=Tc.pullAll,Se.pullAllBy=Tc.pullAllBy,Se.pullAllWith=Tc.pullAllWith,Se.pullAt=Tc.pullAt,Se.range=Yc.range,Se.rangeRight=Yc.rangeRight,Se.rearg=Ec.rearg,Se.reject=Rc.reject,Se.remove=Tc.remove,Se.rest=Ec.rest,Se.reverse=Tc.reverse,Se.sampleSize=Rc.sampleSize,Se.set=Hc.set,Se.setWith=Hc.setWith,Se.shuffle=Rc.shuffle,Se.slice=Tc.slice,Se.sortBy=Rc.sortBy,Se.sortedUniq=Tc.sortedUniq,Se.sortedUniqBy=Tc.sortedUniqBy,Se.split=Fc.split,Se.spread=Ec.spread,Se.tail=Tc.tail,Se.take=Tc.take,Se.takeRight=Tc.takeRight,Se.takeRightWhile=Tc.takeRightWhile,Se.takeWhile=Tc.takeWhile,Se.tap=Nc.tap,Se.throttle=Ec.throttle,Se.thru=vc,Se.toArray=Ac.toArray,Se.toPairs=Hc.toPairs,Se.toPairsIn=Hc.toPairsIn,Se.toPath=Yc.toPath,Se.toPlainObject=Ac.toPlainObject,Se.transform=Hc.transform,Se.unary=Ec.unary,Se.union=Tc.union,Se.unionBy=Tc.unionBy,Se.unionWith=Tc.unionWith,Se.uniq=Tc.uniq,Se.uniqBy=Tc.uniqBy,Se.uniqWith=Tc.uniqWith,Se.unset=Hc.unset,Se.unzip=Tc.unzip,Se.unzipWith=Tc.unzipWith,Se.update=Hc.update,Se.updateWith=Hc.updateWith,Se.values=Hc.values,Se.valuesIn=Hc.valuesIn,Se.without=Tc.without,Se.words=Fc.words,Se.wrap=Ec.wrap,Se.xor=Tc.xor,Se.xorBy=Tc.xorBy,Se.xorWith=Tc.xorWith,Se.zip=Tc.zip,Se.zipObject=Tc.zipObject,Se.zipObjectDeep=Tc.zipObjectDeep,Se.zipWith=Tc.zipWith,Se.entries=Hc.toPairs,Se.entriesIn=Hc.toPairsIn,Se.extend=Hc.assignIn,Se.extendWith=Hc.assignInWith,Jc(Se,Se),Se.add=Lc.add,Se.attempt=Yc.attempt,Se.camelCase=Fc.camelCase,Se.capitalize=Fc.capitalize,Se.ceil=Lc.ceil,Se.clamp=jc,Se.clone=Ac.clone,Se.cloneDeep=Ac.cloneDeep,Se.cloneDeepWith=Ac.cloneDeepWith,Se.cloneWith=Ac.cloneWith,Se.conformsTo=Ac.conformsTo,Se.deburr=Fc.deburr,Se.defaultTo=Yc.defaultTo,Se.divide=Lc.divide,Se.endsWith=Fc.endsWith,Se.eq=Ac.eq,Se.escape=Fc.escape,Se.escapeRegExp=Fc.escapeRegExp,Se.every=Rc.every,Se.find=Rc.find,Se.findIndex=Tc.findIndex,Se.findKey=Hc.findKey,Se.findLast=Rc.findLast,Se.findLastIndex=Tc.findLastIndex,Se.findLastKey=Hc.findLastKey,Se.floor=Lc.floor,Se.forEach=Rc.forEach,Se.forEachRight=Rc.forEachRight,Se.forIn=Hc.forIn,Se.forInRight=Hc.forInRight,Se.forOwn=Hc.forOwn,Se.forOwnRight=Hc.forOwnRight,Se.get=Hc.get,Se.gt=Ac.gt,Se.gte=Ac.gte,Se.has=Hc.has,Se.hasIn=Hc.hasIn,Se.head=Tc.head,Se.identity=j,Se.includes=Rc.includes,Se.indexOf=Tc.indexOf,Se.inRange=Pc,Se.invoke=Hc.invoke,Se.isArguments=Ac.isArguments,Se.isArray=g,Se.isArrayBuffer=Ac.isArrayBuffer,Se.isArrayLike=Ac.isArrayLike,Se.isArrayLikeObject=Ac.isArrayLikeObject,Se.isBoolean=Ac.isBoolean,Se.isBuffer=Ac.isBuffer,Se.isDate=Ac.isDate,Se.isElement=Ac.isElement,Se.isEmpty=Ac.isEmpty,Se.isEqual=Ac.isEqual,Se.isEqualWith=Ac.isEqualWith,Se.isError=Ac.isError,Se.isFinite=Ac.isFinite,Se.isFunction=Ac.isFunction,Se.isInteger=Ac.isInteger,Se.isLength=Ac.isLength,Se.isMap=Ac.isMap,Se.isMatch=Ac.isMatch,Se.isMatchWith=Ac.isMatchWith,Se.isNaN=Ac.isNaN,Se.isNative=Ac.isNative,Se.isNil=Ac.isNil,Se.isNull=Ac.isNull,Se.isNumber=Ac.isNumber,Se.isObject=O,Se.isObjectLike=Ac.isObjectLike,Se.isPlainObject=Ac.isPlainObject,Se.isRegExp=Ac.isRegExp,Se.isSafeInteger=Ac.isSafeInteger,Se.isSet=Ac.isSet,Se.isString=Ac.isString,Se.isSymbol=Ac.isSymbol,Se.isTypedArray=Ac.isTypedArray,Se.isUndefined=Ac.isUndefined,Se.isWeakMap=Ac.isWeakMap,Se.isWeakSet=Ac.isWeakSet,Se.join=Tc.join,Se.kebabCase=Fc.kebabCase,Se.last=na,Se.lastIndexOf=Tc.lastIndexOf,Se.lowerCase=Fc.lowerCase,Se.lowerFirst=Fc.lowerFirst,Se.lt=Ac.lt,Se.lte=Ac.lte,Se.max=Lc.max,Se.maxBy=Lc.maxBy,Se.mean=Lc.mean,Se.meanBy=Lc.meanBy,Se.min=Lc.min,Se.minBy=Lc.minBy,Se.stubArray=Yc.stubArray,Se.stubFalse=Yc.stubFalse,Se.stubObject=Yc.stubObject,Se.stubString=Yc.stubString,Se.stubTrue=Yc.stubTrue,Se.multiply=Lc.multiply,Se.nth=Tc.nth,Se.noop=Yc.noop,Se.now=Dc,Se.pad=Fc.pad,Se.padEnd=Fc.padEnd,Se.padStart=Fc.padStart,Se.parseInt=Fc.parseInt,Se.random=Ic,Se.reduce=Rc.reduce,Se.reduceRight=Rc.reduceRight,Se.repeat=Fc.repeat,Se.replace=Fc.replace,Se.result=Hc.result,Se.round=Lc.round,Se.sample=Rc.sample,Se.size=Rc.size,Se.snakeCase=Fc.snakeCase,Se.some=Rc.some,Se.sortedIndex=Tc.sortedIndex,Se.sortedIndexBy=Tc.sortedIndexBy,Se.sortedIndexOf=Tc.sortedIndexOf,Se.sortedLastIndex=Tc.sortedLastIndex,Se.sortedLastIndexBy=Tc.sortedLastIndexBy,Se.sortedLastIndexOf=Tc.sortedLastIndexOf,Se.startCase=Fc.startCase,Se.startsWith=Fc.startsWith,Se.subtract=Lc.subtract,Se.sum=Lc.sum,Se.sumBy=Lc.sumBy,Se.template=Fc.template,Se.times=Yc.times,Se.toFinite=Ac.toFinite,Se.toInteger=L,Se.toLength=Ac.toLength,Se.toLower=Fc.toLower,Se.toNumber=Ac.toNumber,Se.toSafeInteger=Ac.toSafeInteger,Se.toString=Ac.toString,Se.toUpper=Fc.toUpper,Se.trim=Fc.trim,Se.trimEnd=Fc.trimEnd,Se.trimStart=Fc.trimStart,Se.truncate=Fc.truncate,Se.unescape=Fc.unescape,Se.uniqueId=Yc.uniqueId,Se.upperCase=Fc.upperCase,Se.upperFirst=Fc.upperFirst,Se.each=Rc.forEach,Se.eachRight=Rc.forEachRight,Se.first=Tc.head,Jc(Se,(Uc={},wo(Se,(function(e,t){Gc.call(Se.prototype,t)||(Uc[t]=e)})),Uc),{chain:!1}),Se.VERSION="4.17.21",(Se.templateSettings=Fc.templateSettings).imports._=Se,Ie(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Se[e].placeholder=Se})),Ie(["drop","take"],(function(e,t){ce.prototype[e]=function(n){n=void 0===n?1:Zc(L(n),0);var r=this.__filtered__&&!t?new ce(this):this.clone();return r.__filtered__?r.__takeCount__=Xc(n,r.__takeCount__):r.__views__.push({size:Xc(n,Vc),type:e+(r.__dir__<0?"Right":"")}),r},ce.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ie(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;ce.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:mo(e),type:n}),t.__filtered__=t.__filtered__||r,t}})),Ie(["head","last"],(function(e,t){var n="take"+(t?"Right":"");ce.prototype[e]=function(){return this[n](1).value()[0]}})),Ie(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");ce.prototype[e]=function(){return this.__filtered__?new ce(this):this[n](1)}})),ce.prototype.compact=function(){return this.filter(j)},ce.prototype.find=function(e){return this.filter(e).head()},ce.prototype.findLast=function(e){return this.reverse().find(e)},ce.prototype.invokeMap=ct((function(e,t){return"function"==typeof e?new ce(this):this.map((function(n){return vs(n,e,t)}))})),ce.prototype.reject=function(e){return this.filter(ol(mo(e)))},ce.prototype.slice=function(e,t){e=L(e);var n=this;return n.__filtered__&&(e>0||t<0)?new ce(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=L(t))<0?n.dropRight(-t):n.take(t-e)),n)},ce.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ce.prototype.toArray=function(){return this.take(Vc)},wo(ce.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Se[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);i&&(Se.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,s=t instanceof ce,l=a[0],u=s||g(t),c=function(e){var t=i.apply(Se,Sn([e],a));return r&&d?t[0]:t};u&&n&&"function"==typeof l&&1!=l.length&&(s=u=!1);var d=this.__chain__,h=!!this.__actions__.length,f=o&&!d,p=s&&!h;if(!o&&u){t=p?t:new ce(this);var m=e.apply(t,a);return m.__actions__.push({func:vc,args:[c],thisArg:void 0}),new ve(m,d)}return f&&p?e.apply(this,a):(m=this.thru(c),f?r?m.value()[0]:m.value():m)})})),Ie(["pop","push","shift","sort","splice","unshift"],(function(e){var t=qc[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Se.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(g(i)?i:[],e)}return this[n]((function(n){return t.apply(g(n)?n:[],e)}))}})),wo(ce.prototype,(function(e,t){var n=Se[t];if(n){var r=n.name+"";Gc.call(pe,r)||(pe[r]=[]),pe[r].push({name:t,func:n})}})),pe[Xe(void 0,2).name]=[{name:"wrapper",func:void 0}],ce.prototype.clone=function(){var e=new ce(this.__wrapped__);return e.__actions__=be(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=be(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=be(this.__views__),e},ce.prototype.reverse=function(){if(this.__filtered__){var e=new ce(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},ce.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=g(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Bc(t,e+a);break;case"takeRight":e=zc(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,l=s-a,u=r?s:a-1,c=this.__iteratees__,d=c.length,h=0,f=Wc(l,this.__takeCount__);if(!n||!r&&i==l&&f==l)return Xu(e,this.__actions__);var p=[];e:for(;l--&&h<f;){for(var m=-1,y=e[u+=t];++m<d;){var v=c[m],b=v.iteratee,w=v.type,_=b(y);if(2==w)y=_;else if(!_){if(1==w)continue e;break e}}p[h++]=y}return p},Se.prototype.at=Nc.at,Se.prototype.chain=Nc.wrapperChain,Se.prototype.commit=Nc.commit,Se.prototype.next=Nc.next,Se.prototype.plant=Nc.plant,Se.prototype.reverse=Nc.reverse,Se.prototype.toJSON=Se.prototype.valueOf=Se.prototype.value=Nc.value,Se.prototype.first=Se.prototype.head,Kc&&(Se.prototype[Kc]=Nc.toIterator)},66449:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(14510),i=n(91898);e=n.hmd(e);var o="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Z.Buffer:void 0;const l=(s?s.isBuffer:void 0)||i.Z},91898:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(){return!1}},92583:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(45308);const i=(0,n(71275).createTemplateFactory)({id:"J+2eIQg4",block:'[[[41,[30,1],[[[18,3,null]],[]],[[[40,[[[18,3,null]],[]],"%cursor:0%",[28,[37,3],[[30,2]],null],null]],[]]]],["@renderInPlace","@destinationElement","&default"],false,["if","yield","in-element","-in-el-null"]]',moduleName:"ember-maybe-in-element/components/maybe-in-element.hbs",isStrictMode:!1});var o=n(74305),a=n.n(o);const s=(0,r.setComponentTemplate)(i,a()())},87017:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(35428),i=n(78957),o=n(35198);let a=()=>{};function s(e){e.willRemove(),e.willDestroy()}a=function(e){let{positional:t,named:n}=e;const r=t;for(let e=0;e<r.length;e++)r[e];Object.values(n)};class l{constructor(e){var t,n,r;t=this,n="capabilities",r=(0,i.capabilities)("3.22"),n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this.owner=e}createModifier(e,t){const n=new e(this.owner,t);return(0,o.registerDestructor)(n,s),{instance:n,implementsModify:u(n),element:null}}installModifier(e,t,n){const r=function(e,t){const n=e;return n.element=t,n}(e,t),{instance:i}=r;!function(e,t){e[c]=t}(i,t),r.implementsModify?i.modify(t,n.positional,n.named):(a(n),i.didReceiveArguments(),i.didInstall())}updateModifier(e,t){const{instance:n}=e;!function(e,t){e[d]=t}(e.instance,t),e.implementsModify?n.modify(e.element,t.positional,t.named):(a(t),n.didUpdateArguments(),n.didReceiveArguments())}destroyModifier(e){(0,o.destroy)(e.instance)}}n(84287);const u=e=>e.modify!==h.prototype.modify,c=Symbol("Element"),d=Symbol("Args");class h{constructor(e,t){(0,r.setOwner)(this,e),this[d]=t}modify(e,t,n){}didReceiveArguments(){}didUpdateArguments(){}didInstall(){}willRemove(){}willDestroy(){}get isDestroying(){return(0,o.isDestroying)(this)}get isDestroyed(){return(0,o.isDestroyed)(this)}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(h.prototype,"args",{enumerable:!0,get(){return this[d]}}),Object.defineProperty(h.prototype,"element",{enumerable:!0,get(){var e;return null!==(e=this[c])&&void 0!==e?e:null}}),(0,i.setModifierManager)((e=>new l(e)),h);class p{constructor(e){var t;f(this,"capabilities",(0,i.capabilities)("3.22")),f(this,"options",void 0),this.options={eager:null===(t=null==e?void 0:e.eager)||void 0===t||t}}createModifier(e){return{element:null,instance:e}}installModifier(e,t,n){const r=function(e,t){const n=e;return n.element=t,n}(e,t),{positional:i,named:o}=n,s=e.instance(t,i,o);"function"==typeof s&&(r.teardown=s),this.options.eager&&a(n)}updateModifier(e,t){e.teardown&&e.teardown();const n=e.instance(e.element,t.positional,t.named);"function"==typeof n&&(e.teardown=n),this.options.eager&&a(t)}destroyModifier(e){"function"==typeof e.teardown&&e.teardown()}}new p({eager:!0}),new p({eager:!1})},39948:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r,i,o,a,s,l,u,c=n(20822),d=n(15229),h=n(14965),f=n(35428),p=n(61417),m=n(8877),g=n.n(m),y=n(9805);n(84287);let v="undefined"!=typeof FastBoot;const b="routeDidChange";let w=(r=(0,m.inject)("page-title"),i=(0,m.inject)("router"),o=(0,m.inject)("-document"),a=class extends(g()){constructor(){super(...arguments),(0,c.Z)(this,"pageTitle",s,this),(0,c.Z)(this,"router",l,this),(0,c.Z)(this,"document",u,this),(0,d.Z)(this,"tokens",[]),(0,d.Z)(this,"_defaultConfig",{separator:" | ",prepend:!0,replace:null}),(0,d.Z)(this,"scheduleTitleUpdate",(()=>{(0,p.scheduleOnce)("afterRender",this,this._updateTitle)})),this._validateExistingTitleElement();let e=(0,f.getOwner)(this).resolveRegistration("config:environment");e.pageTitle&&["separator","prepend","replace"].forEach((t=>{(0,y.isEmpty)(e.pageTitle[t])||(this._defaultConfig[t]=e.pageTitle[t])})),this.router.on(b,this.scheduleTitleUpdate)}applyTokenDefaults(e){let t=this._defaultConfig.separator,n=this._defaultConfig.prepend,r=this._defaultConfig.replace;null==e.separator&&(e.separator=t),null==e.prepend&&null!=n&&(e.prepend=n),null==e.replace&&null!=r&&(e.replace=r)}inheritFromPrevious(e){let t=e.previous;t&&(null==e.separator&&(e.separator=t.separator),null==e.prepend&&(e.prepend=t.prepend))}push(e){let t=this._findTokenById(e.id);if(t){let n=this.tokens.indexOf(t),r=[...this.tokens],i=t.previous;return e.previous=i,e.next=t.next,this.inheritFromPrevious(e),this.applyTokenDefaults(e),r.splice(n,1,e),void(this.tokens=r)}let n=this.tokens.slice(-1)[0];n&&(e.previous=n,n.next=e,this.inheritFromPrevious(e)),this.applyTokenDefaults(e),this.tokens=[...this.tokens,e]}remove(e){let t=this._findTokenById(e),{next:n,previous:r}=t;n&&(n.previous=r),r&&(r.next=n),t.previous=t.next=null;let i=[...this.tokens];i.splice(i.indexOf(t),1),this.tokens=i}get visibleTokens(){let e=this.tokens,t=e?e.length:0,n=[];for(;t--;){let r=e[t];if(r.replace){n.unshift(r);break}n.unshift(r)}return n}get sortedTokens(){let e=this.visibleTokens,t=!0,n=[],r=[n],i=[];return e.forEach((e=>{if(e.front)i.unshift(e);else if(e.prepend){t&&(t=!1,n=[],r.push(n));let i=n[0];i&&((e={...e}).separator=i.separator),n.unshift(e)}else t||(t=!0,n=[],r.push(n)),n.push(e)})),i.concat(r.reduce(((e,t)=>e.concat(t)),[]))}toString(){let e=this.sortedTokens,t=[];for(let n=0,r=e.length;n<r;n++){let i=e[n];i.title&&(t.push(i.title),n+1<r&&t.push(i.separator))}return t.join("")}willDestroy(){super.willDestroy(),this.router.off(b,this.scheduleTitleUpdate)}_updateTitle(){const e=this.toString();v?this.updateFastbootTitle(e):this.document.title=e,this.pageTitle.titleDidUpdate(e)}_validateExistingTitleElement(){}_findTokenById(e){return this.tokens.filter((t=>t.id===e))[0]}updateFastbootTitle(e){if(!v)return;const t=this.document.head,n=t.childNodes;for(let e=0;e<n.length;e++){let r=n[e];"title"===r.nodeName.toLowerCase()&&t.removeChild(r)}let r=this.document.createElement("title"),i=this.document.createTextNode(e);r.appendChild(i),t.appendChild(r)}},s=(0,h.Z)(a.prototype,"pageTitle",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=(0,h.Z)(a.prototype,"router",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=(0,h.Z)(a.prototype,"document",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a)},43600:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(8877),i=n.n(r);class o extends(i()){titleDidUpdate(){}}},94314:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r.Z});var r=n(98284)},2365:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(91251),i=n(53882),o=n.n(i),a=n(98284),s=n(35428);function l(e,t,n){let r=t.match(new RegExp("^/?"+n+"/(.+)/"+e+"$"));if(null!==r)return r[1]}const u=o().extend({_moduleRegistry:null,init(){this._super(...arguments),this.namespace=(0,s.getOwner)(this).lookup("application:main"),this._moduleRegistry||(this._moduleRegistry=new a.O)},canCatalogEntriesByType(e){return"model"===e||this._super(...arguments)},catalogEntriesByType(e){let t=this._moduleRegistry.moduleNames(),n=(0,r.A)(),i=this.namespace.modulePrefix;for(let r=0,o=t.length;r<o;r++){let o=t[r];if(-1!==o.indexOf(e)){let t=l(e,o,this.namespace.podModulePrefix||i);t||(t=o.split(e+"s/").pop()),n.addObject(t)}}return n}})},98284:(e,t,n)=>{"use strict";n.d(t,{O:()=>l,Z:()=>c});var r=n(87073),i=n.n(r),o=(n(84287),n(96663)),a=n.n(o),s=n(34149);void 0===requirejs.entries&&(requirejs.entries=requirejs._eak_seen);class l{constructor(e){this._entries=e||requirejs.entries}moduleNames(){return Object.keys(this._entries)}has(e){return e in this._entries}get(){return window.require(...arguments)}}const u=a().extend({resolveOther:function(e){let t=this.findModuleName(e);if(t){let r=this._extractDefaultExport(t,e);if(void 0===r)throw new Error(` Expected to find: '${e.fullName}' within '${t}' but got 'undefined'. Did you forget to 'export default' within '${t}'?`);return this.shouldWrapInClassFactory(r,e)&&(n=r,r={create:e=>"function"==typeof n.extend?n.extend(e):n}),r}var n},parseName:function(e){if(!0===e.parsedName)return e;let t,n,r,i=e.split("@");if(3===i.length){if(0===i[0].length){t=`@${i[1]}`;let e=i[2].split(":");n=e[0],r=e[1]}else t=`@${i[1]}`,n=i[0].slice(0,-1),r=i[2];"template:components"===n&&(r=`components/${r}`,n="template")}else if(2===i.length){let e=i[0].split(":");if(2===e.length)0===e[1].length?(n=e[0],r=`@${i[1]}`):(t=e[1],n=e[0],r=i[1]);else{let e=i[1].split(":");t=i[0],n=e[0],r=e[1]}"template"===n&&0===t.lastIndexOf("components/",0)&&(r=`components/${r}`,t=t.slice(11))}else i=e.split(":"),n=i[0],r=i[1];let a=r,l=(0,o.get)(this,"namespace");return{parsedName:!0,fullName:e,prefix:t||this.prefix({type:n}),type:n,fullNameWithoutType:a,name:r,root:l,resolveMethodName:"resolve"+(0,s.xk)(n)}},pluralizedTypes:null,moduleRegistry:null,makeToString(e,t){return this.namespace.modulePrefix+"@"+t+":"},shouldWrapInClassFactory:()=>!1,init(){this._super(),this.moduleBasedResolver=!0,this._moduleRegistry||(this._moduleRegistry=new l),this._normalizeCache=Object.create(null),this.pluralizedTypes=this.pluralizedTypes||Object.create(null),this.pluralizedTypes.config||(this.pluralizedTypes.config="config"),this._deprecatedPodModulePrefix=!1},normalize(e){return this._normalizeCache[e]||(this._normalizeCache[e]=this._normalize(e))},resolve(e){let t,n=this.parseName(e),r=n.resolveMethodName;return"function"==typeof this[r]&&(t=this[r](n)),null==t&&(t=this.resolveOther(n)),t},_normalize(e){let t=e.split(":");if(t.length>1){let e=t[0];return"component"===e||"helper"===e||"modifier"===e||"template"===e&&0===t[1].indexOf("components/")?e+":"+t[1].replace(/_/g,"-"):e+":"+(0,s.H0)(t[1].replace(/\./g,"/"))}return e},pluralize(e){return this.pluralizedTypes[e]||(this.pluralizedTypes[e]=e+"s")},podBasedLookupWithPrefix(e,t){let n=t.fullNameWithoutType;return"template"===t.type&&(n=n.replace(/^components\//,"")),e+"/"+n+"/"+t.type},podBasedModuleName(e){let t=this.namespace.podModulePrefix||this.namespace.modulePrefix;return this.podBasedLookupWithPrefix(t,e)},podBasedComponentsInSubdir(e){let t=this.namespace.podModulePrefix||this.namespace.modulePrefix;if(t+="/components","component"===e.type||/^components/.test(e.fullNameWithoutType))return this.podBasedLookupWithPrefix(t,e)},resolveEngine(e){let t=e.fullNameWithoutType+"/engine";if(this._moduleRegistry.has(t))return this._extractDefaultExport(t)},resolveRouteMap(e){let t=e.fullNameWithoutType+"/routes";if(this._moduleRegistry.has(t))return this._extractDefaultExport(t)},resolveTemplate(e){let t=this.resolveOther(e);return null==t&&(t=i().TEMPLATES[e.fullNameWithoutType]),t},mainModuleName(e){if("main"===e.fullNameWithoutType)return e.prefix+"/"+e.type},defaultModuleName(e){return e.prefix+"/"+this.pluralize(e.type)+"/"+e.fullNameWithoutType},nestedColocationComponentModuleName(e){if("component"===e.type)return e.prefix+"/"+this.pluralize(e.type)+"/"+e.fullNameWithoutType+"/index"},prefix(e){let t=this.namespace.modulePrefix;return this.namespace[e.type+"Prefix"]&&(t=this.namespace[e.type+"Prefix"]),t},moduleNameLookupPatterns:(0,o.computed)((function(){return[this.podBasedModuleName,this.podBasedComponentsInSubdir,this.mainModuleName,this.defaultModuleName,this.nestedColocationComponentModuleName]})).readOnly(),findModuleName(e,t){let n,r=this.get("moduleNameLookupPatterns");for(let i=0,o=r.length;i<o;i++){let o=r[i].call(this,e);if(o&&(o=this.chooseModuleName(o,e)),o&&this._moduleRegistry.has(o)&&(n=o),t||this._logLookup(n,e,o),n)return n}},chooseModuleName(e,t){let n=(0,s.It)(e);if(e!==n&&this._moduleRegistry.has(e)&&this._moduleRegistry.has(n))throw new TypeError(`Ambiguous module names: '${e}' and '${n}'`);if(this._moduleRegistry.has(e))return e;if(this._moduleRegistry.has(n))return n;let r=e.replace(/\/-([^/]*)$/,"/_$1");return this._moduleRegistry.has(r)?r:void 0},lookupDescription(e){let t=this.parseName(e);return this.findModuleName(t,!0)},_logLookup(e,t,n){if(!i().ENV.LOG_MODULE_RESOLVER&&!t.root.LOG_RESOLVER)return;let r,o=e?"[✓]":"[ ]";r=t.fullName.length>60?".":new Array(60-t.fullName.length).join("."),n||(n=this.lookupDescription(t)),console&&console.info&&console.info(o,t.fullName,r,n)},knownForType(e){let t=this._moduleRegistry.moduleNames(),n=Object.create(null);for(let r=0,i=t.length;r<i;r++){let i=t[r],o=this.translateToContainerFullname(e,i);o&&(n[o]=!0)}return n},translateToContainerFullname(e,t){let n=this.prefix({type:e}),r=n+"/",i="/"+e,o=t.indexOf(r),a=t.indexOf(i);if(0===o&&a===t.length-i.length&&t.length>r.length+i.length)return e+":"+t.slice(o+r.length,a);let s=n+"/"+this.pluralize(e)+"/";return 0===t.indexOf(s)&&t.length>s.length?e+":"+t.slice(s.length):void 0},_extractDefaultExport(e){let t=this._moduleRegistry.get(e,null,null,!0);return t&&t.default&&(t=t.default),t}});u.reopenClass({moduleBasedResolver:!0});const c=u},65388:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(8877);const i=n.n(r)().extend({init(){this._super(...arguments),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d")},width(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t&&(this.ctx.font=t),this.ctx.measureText(e).width},lines(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;n&&(this.ctx.font=n);let r=e.split(/\n/),i=r.length;for(let e=0;e<r.length;e++){let n=r[e];if(""!==n){let e=n.split(" "),r=0,o=0;for(;o<e.length-1;o++){let n=this.ctx.measureText(e[o]+" ").width;r+=n,r>t&&(i++,r=n)}let a=this.ctx.measureText(e[o]).width;r+=a,r>t&&(i++,r=a)}}return i},fitTextSize(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.width(e,n),i=this.ctx.font.match(/\d+/)[0];return Math.floor(parseFloat(i)*t/r)}})},84988:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(57495),i=n(43819);const o=(0,r.helper)((function(e){for(let t=0,n=e.length;t<n;t++)if(!1===(0,i.Z)(e[t]))return e[t];return e[e.length-1]}))},69476:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(57495).helper)((function(e){return e[0]===e[1]}))},50058:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(57495).helper)((function(e){return e[0]!==e[1]}))},54953:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(57495),i=n(43819);const o=(0,r.helper)((function(e){for(let t=0,n=e.length;t<n;t++)if(!0===(0,i.Z)(e[t]))return!1;return!0}))},69141:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(57495),i=n(43819);const o=(0,r.helper)((function(e){for(let t=0,n=e.length;t<n;t++)if(!0===(0,i.Z)(e[t]))return e[t];return e[e.length-1]}))},43819:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(91251),i=n(96663);function o(e){const t=e&&(0,i.get)(e,"isTruthy");return"boolean"==typeof t?t:(0,r.isArray)(e)?0!==(0,i.get)(e,"length"):!!e}},39536:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45308),i=n(96101),o=n(71275);window.define("opendatafit-embed/modifiers/handsontable",(function(){return i.Z}));const a=(0,o.createTemplateFactory)({id:"plIr+sm/",block:'[[[11,0],[4,[38,0],null,[["data","config","isVisible"],[[30,0,["data"]],[30,0,["config"]],[30,1]]]],[12],[1,"\\n"],[13],[1,"\\n\\n"],[18,2,null],[1,"\\n"]],["@isVisible","&default"],false,["handsontable","yield"]]',moduleName:"opendatafit-handsontable-view/components/opendatafit/handsontable-view.hbs",isStrictMode:!1});var s=n(78479);class l extends s.Z{get data(){return this.args.resources[0].data}get config(){let e=[],t=[];if(this.args.resources[0]&&this.args.resources[0].data&&this.args.resources[0].schema){this.args.resources[0].data;let n=this.args.resources[0].schema.fields;e=n.map((e=>{let t={data:e.name};return"number"===e.type&&(t.type="numeric"),t})),t=n.map((e=>e.name))}return{columns:e,colHeaders:t,rowHeaders:!0}}}(0,r.setComponentTemplate)(a,l)},66609:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(45308),i=n(90280),o=n(71275);window.define("opendatafit-embed/helpers/eq",(function(){return i.Z}));const a=(0,o.createTemplateFactory)({id:"inUyhsvR",block:'[[[41,[30,1],[[[1,"\\n    "],[10,1],[14,0,"label-container"],[12],[1,"\\n"],[41,[30,0,["field","title"]],[[[1,"        "],[10,"label"],[12],[1,[30,0,["field","title"]]],[13],[1,"\\n"]],[]],[[[1,"        "],[10,"label"],[12],[1,[30,0,["field","name"]]],[13],[1,"\\n"]],[]]],[1,"    "],[13],[1,"\\n\\n    "],[10,1],[14,0,"value-container"],[12],[1,"\\n"],[41,[30,0,["value","title"]],[[[1,"        "],[10,1],[12],[1,[30,0,["value","title"]]],[13],[1,"\\n"]],[]],[[[1,"        "],[10,1],[12],[1,[30,0,["value","name"]]],[13],[1,"\\n"]],[]]],[1,"    "],[13],[1,"\\n\\n"]],[]],[[[1,"\\n"],[41,[28,[37,1],[[30,0,["field","type"]],"object"],null],[[[41,[30,0,["field","constraints","enum"]],[[[1,"        "],[10,1],[14,0,"label-container"],[12],[1,"\\n"],[41,[30,0,["field","title"]],[[[1,"            "],[10,"label"],[12],[1,[30,0,["field","title"]]],[13],[1,"\\n"]],[]],[[[1,"            "],[10,"label"],[12],[1,[30,0,["field","name"]]],[13],[1,"\\n"]],[]]],[1,"        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"value-container"],[12],[1,"\\n          "],[8,[39,2],null,[["@options","@selected","@searchEnabled","@matcher","@initiallyOpened","@renderInPlace","@onChange"],[[30,0,["choices"]],[30,0,["value"]],[30,2],[30,0,["searchMatcher"]],false,true,[28,[37,3],[[30,0,["updateValue"]],[30,3]],null]]],[["default"],[[[[1,"\\n"],[41,[30,4,["title"]],[[[1,"              "],[1,[30,4,["title"]]],[1,"\\n"]],[]],[[[1,"              "],[1,[30,4,["name"]]],[1,"\\n"]],[]]],[1,"          "]],[4]]]]],[1,"\\n        "],[13],[1,"\\n\\n"]],[]],null]],[]],null],[1,"\\n"]],[]]],[1,"\\n"],[18,5,null],[1,"\\n"]],["@readOnly","@searchEnabled","@fieldName","choice","&default"],false,["if","eq","power-select","fn","yield"]]',moduleName:"opendatafit-options-view/components/opendatafit/options-view-input.hbs",isStrictMode:!1});var s,l=n(78479),u=n(96663);let c=(s=class extends l.Z{get value(){return this.args.resource?this.args.resource.data[this.args.fieldName]:null}get field(){return this.args.resource?this.args.resource.schema.fields.find((e=>e.name===this.args.fieldName)):null}get choices(){if(this.field){let e=this.field.constraints.enum,t=[],n={};for(const r of e)"category"in r&&r.category?r.category in n&&n[r.category]?n[r.category].push(r):n[r.category]=[r]:t.push(r);if(n)for(const e in n){let r={groupName:e,options:n[e]};t.push(r)}return t}return null}searchMatcher(e,t){return`${e.name} ${e.title} ${e.category}`.indexOf(t)}updateValue(e,t){if(!this.field||"object"!==this.field.type||!this.field.constraints.enum||"object"!=typeof t)throw new Error("Not implemented");this.args.updateValue(e,t)}},d=s.prototype,h="updateValue",f=[u.action],p=Object.getOwnPropertyDescriptor(s.prototype,"updateValue"),m=s.prototype,g={},Object.keys(p).forEach((function(e){g[e]=p[e]})),g.enumerable=!!g.enumerable,g.configurable=!!g.configurable,("value"in g||g.initializer)&&(g.writable=!0),g=f.slice().reverse().reduce((function(e,t){return t(d,h,e)||e}),g),m&&void 0!==g.initializer&&(g.value=g.initializer?g.initializer.call(m):void 0,g.initializer=void 0),void 0===g.initializer&&(Object.defineProperty(d,h,g),g=null),s);var d,h,f,p,m,g;(0,r.setComponentTemplate)(a,c)},14146:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(45308);const i=(0,n(71275).createTemplateFactory)({id:"sFlcT1O8",block:'[[[10,"article"],[14,0,"opendatafit options-view"],[12],[1,"\\n  "],[10,"h1"],[12],[1,[30,1]],[13],[1,"\\n  "],[10,"ul"],[14,0,"options-view-list"],[12],[1,"\\n"],[42,[28,[37,1],[[28,[37,1],[[30,2,["spec","fields"]]],null]],null],null,[[[41,[51,[30,3,["disabled"]]],[[[1,"        "],[10,"li"],[12],[1,"\\n          "],[8,[39,3],null,[["@searchEnabled","@fieldName","@resource","@updateValue","@readOnly"],[[30,3,["searchEnabled"]],[30,3,["name"]],[30,4,["firstObject"]],[30,0,["updateValue"]],[30,5]]],null],[1,"\\n        "],[13],[1,"\\n"]],[]],null]],[3]],null],[1,"  "],[13],[1,"\\n\\n"],[13],[1,"\\n\\n"],[18,6,null],[1,"\\n"]],["@title","@view","viewField","@resources","@readOnly","&default"],false,["each","-track-array","unless","opendatafit/options-view-input","yield"]]',moduleName:"opendatafit-options-view/components/opendatafit/options-view.hbs",isStrictMode:!1});var o,a,s=n(78479),l=n(96663),u=n(8877),c=n(61417),d=n(11633),h=n(25325);function f(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let p=(o=class extends s.Z{constructor(){var e;super(...arguments),(e=a)&&Object.defineProperty(this,"store",{enumerable:e.enumerable,configurable:e.configurable,writable:e.writable,value:e.initializer?e.initializer.call(this):void 0})}runBehaviours(e){let t=this.args.view.spec.fields.find((t=>t.name===e));if(t&&t.behaviours){h.lt.datapackage=this.args.datapackage,h.lt.store=this.store;let e=(e,t)=>(t=t.replaceAll("(","(datapackage, "),(0,c.scheduleOnce)("actions",this,(()=>{(0,h.ed)(e,t)})));t.behaviours.forEach((t=>{let n=t.do;(0,d.HD0)(n)?e(h.lt,n):(0,d.kJL)(n)&&e(h.lt,n.join("\n"))}))}}updateValue(e,t){let n=null;n="target"in t?"checkbox"===t.target.type?t.target.checked:t.target.value:t,this.args.resources[0]&&this.args.resources[0].data&&(this.args.resources[0].data[e]=n,this.args.resources[0].save()),this.runBehaviours(e)}},a=f(o.prototype,"store",[u.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f(o.prototype,"updateValue",[l.action],Object.getOwnPropertyDescriptor(o.prototype,"updateValue"),o.prototype),o);(0,r.setComponentTemplate)(i,p)},93841:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(96663),i=n(78479),o=n(23570),a=n(61417),s=n(79926);const l=0;let u;function c(e){let{deltaX:t=0,deltaY:n=0,deltaMode:r=l}=e;if(r!==l){2===r&&(t*=3,n*=3);const e=d();void 0!==e&&(t*=e,n*=e)}return{deltaX:t,deltaY:n}}function d(){if(void 0===u){const e=document.createElement("iframe");e.src="#",e.style.position="absolute",e.style.visibility="hidden",e.style.width="0px",e.style.height="0px",e.style.border="none",document.body.appendChild(e);const t=e.contentWindow.document;t.open(),t.write("<!doctype html><html><head></head><body><span>X</span></body></html>"),t.close();let n=t.body;u=n.firstElementChild.offsetHeight,document.body.removeChild(e)}return u}function h(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];const o={element:n,scrollLeft:0,scrollTop:0},a=n.scrollWidth-n.clientWidth,s=n.scrollHeight-n.clientHeight,l={deltaXNegative:-n.scrollLeft,deltaXPositive:a-n.scrollLeft,deltaYNegative:-n.scrollTop,deltaYPositive:s-n.scrollTop},u=window.getComputedStyle(n);return"hidden"!==u.overflowX&&(o.scrollLeft=n.scrollLeft+e,e>l.deltaXPositive?e-=l.deltaXPositive:e<l.deltaXNegative?e-=l.deltaXNegative:e=0),"hidden"!==u.overflowY&&(o.scrollTop=n.scrollTop+t,t>l.deltaYPositive?t-=l.deltaYPositive:t<l.deltaYNegative?t-=l.deltaYNegative:t=0),n!==r&&(e||t)?h(e,t,n.parentNode,r,i.concat([o])):i.concat([o])}function f(e,t,n,r){const i=h(e,t,n,r);let o;for(let e=0;e<i.length;e++)o=i[e],o.element.scrollLeft=o.scrollLeft,o.element.scrollTop=o.scrollTop}var p,m,g=n(17356);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let b=(p=class extends i.Z{constructor(){var e;super(...arguments),y(this,"transitioningInClass",this.args.transitioningInClass||"ember-basic-dropdown--transitioning-in"),y(this,"transitionedInClass",this.args.transitionedInClass||"ember-basic-dropdown--transitioned-in"),y(this,"transitioningOutClass",this.args.transitioningOutClass||"ember-basic-dropdown--transitioning-out"),y(this,"isTouchDevice",this.args.isTouchDevice||Boolean(!!window&&"ontouchstart"in window)),y(this,"dropdownId",`ember-basic-dropdown-content-${this.args.dropdown.uniqueId}`),y(this,"touchMoveEvent",void 0),y(this,"handleRootMouseDown",void 0),y(this,"scrollableAncestors",[]),y(this,"mutationObserver",void 0),(e=m)&&Object.defineProperty(this,"animationClass",{enumerable:e.enumerable,configurable:e.configurable,writable:e.writable,value:e.initializer?e.initializer.call(this):void 0})}get destinationElement(){return document.getElementById(this.args.destination)}get animationEnabled(){return!0}noop(){}setup(e){let t=document.querySelector(`[data-ebd-id=${this.args.dropdown.uniqueId}-trigger]`);this.handleRootMouseDown=n=>{if(null===n.target)return;let r=n.target;(0,g.Z)(n,this.touchMoveEvent)||e.contains(r)||t&&t.contains(r)||S(r,this.dropdownId)?this.touchMoveEvent=void 0:this.args.dropdown.actions.close(n,!0)},document.addEventListener(this.args.rootEventType,this.handleRootMouseDown,!0),window.addEventListener("resize",this.runloopAwareReposition),window.addEventListener("orientationchange",this.runloopAwareReposition),this.isTouchDevice&&(document.addEventListener("touchstart",this.touchStartHandler,!0),document.addEventListener("touchend",this.handleRootMouseDown,!0)),null!==t&&(this.scrollableAncestors=function(e){let t=[];if(e){let n=e.parentNode;if(null!==n){let e=(0,s.rP)(n);for(;e&&"BODY"!==e.tagName.toUpperCase()&&"HTML"!==e.tagName.toUpperCase();){t.push(e);let n=e.parentNode;e=null===n?void 0:(0,s.rP)(n)}}}return t}(t)),this.addScrollHandling(e)}teardown(){this.removeGlobalEvents(),this.removeScrollHandling(),this.scrollableAncestors=[],document.removeEventListener(this.args.rootEventType,this.handleRootMouseDown,!0),this.isTouchDevice&&(document.removeEventListener("touchstart",this.touchStartHandler,!0),document.removeEventListener("touchend",this.handleRootMouseDown,!0))}animateIn(e){this.animationEnabled&&k(e,(()=>{this.animationClass=this.transitionedInClass}))}animateOut(e){var t;if(!this.animationEnabled)return;let n=null!==(t=e.parentElement)&&void 0!==t?t:this.destinationElement;if(null===n)return;if(this.args.renderInPlace&&(n=n.parentElement),null===n)return;let r=e.cloneNode(!0);r.id=`${r.id}--clone`,r.classList.remove(...this.transitioningInClass.split(" ")),r.classList.add(...this.transitioningOutClass.split(" ")),n.appendChild(r),this.animationClass=this.transitioningInClass,k(r,(function(){n.removeChild(r)}))}setupMutationObserver(e){this.mutationObserver=new MutationObserver((e=>{let t=e.some((e=>w(e.addedNodes)||w(e.removedNodes)));t&&this.args.shouldReposition&&(t=this.args.shouldReposition(e,this.args.dropdown)),t&&this.runloopAwareReposition()})),this.mutationObserver.observe(e,{childList:!0,subtree:!0})}teardownMutationObserver(){void 0!==this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=void 0)}touchStartHandler(){document.addEventListener("touchmove",this.touchMoveHandler,!0)}touchMoveHandler(e){this.touchMoveEvent=e,document.removeEventListener("touchmove",this.touchMoveHandler,!0)}runloopAwareReposition(){(0,a.join)(this.args.dropdown.actions.reposition)}removeGlobalEvents(){window.removeEventListener("resize",this.runloopAwareReposition),window.removeEventListener("orientationchange",this.runloopAwareReposition)}addScrollHandling(e){if(!0===this.args.preventScroll){let t=t=>{if(null===t.target)return;let n=t.target;if(e.contains(n)||e===t.target){const r=function(e,t){const n={deltaXNegative:0,deltaXPositive:0,deltaYNegative:0,deltaYPositive:0};let r,i;for(;t.contains(e)||t===e;){r=e.scrollWidth-e.clientWidth,i=e.scrollHeight-e.clientHeight,n.deltaXNegative+=-e.scrollLeft,n.deltaXPositive+=r-e.scrollLeft,n.deltaYNegative+=-e.scrollTop,n.deltaYPositive+=i-e.scrollTop;let t=e.parentNode;if(null===t)break;e=t}return n}(n,e);let{deltaX:i,deltaY:o}=c(t);i<r.deltaXNegative?(i=r.deltaXNegative,t.preventDefault()):i>r.deltaXPositive?(i=r.deltaXPositive,t.preventDefault()):o<r.deltaYNegative?(o=r.deltaYNegative,t.preventDefault()):o>r.deltaYPositive&&(o=r.deltaYPositive,t.preventDefault()),t.defaultPrevented&&(i||o)&&f(i,o,n,e)}else t.preventDefault()};document.addEventListener("wheel",t,{capture:!0,passive:!1}),this.removeScrollHandling=()=>{document.removeEventListener("wheel",t,{capture:!0})}}else this.addScrollEvents(),this.removeScrollHandling=this.removeScrollEvents}removeScrollHandling(){}addScrollEvents(){window.addEventListener("scroll",this.runloopAwareReposition),this.scrollableAncestors.forEach((e=>{e.addEventListener("scroll",this.runloopAwareReposition)}))}removeScrollEvents(){window.removeEventListener("scroll",this.runloopAwareReposition),this.scrollableAncestors.forEach((e=>{e.removeEventListener("scroll",this.runloopAwareReposition)}))}},m=v(p.prototype,"animationClass",[o.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.transitioningInClass}}),v(p.prototype,"setup",[r.action],Object.getOwnPropertyDescriptor(p.prototype,"setup"),p.prototype),v(p.prototype,"teardown",[r.action],Object.getOwnPropertyDescriptor(p.prototype,"teardown"),p.prototype),v(p.prototype,"animateIn",[r.action],Object.getOwnPropertyDescriptor(p.prototype,"animateIn"),p.prototype),v(p.prototype,"animateOut",[r.action],Object.getOwnPropertyDescriptor(p.prototype,"animateOut"),p.prototype),v(p.prototype,"setupMutationObserver",[r.action],Object.getOwnPropertyDescriptor(p.prototype,"setupMutationObserver"),p.prototype),v(p.prototype,"teardownMutationObserver",[r.action],Object.getOwnPropertyDescriptor(p.prototype,"teardownMutationObserver"),p.prototype),v(p.prototype,"touchStartHandler",[r.action],Object.getOwnPropertyDescriptor(p.prototype,"touchStartHandler"),p.prototype),v(p.prototype,"touchMoveHandler",[r.action],Object.getOwnPropertyDescriptor(p.prototype,"touchMoveHandler"),p.prototype),v(p.prototype,"runloopAwareReposition",[r.action],Object.getOwnPropertyDescriptor(p.prototype,"runloopAwareReposition"),p.prototype),v(p.prototype,"removeGlobalEvents",[r.action],Object.getOwnPropertyDescriptor(p.prototype,"removeGlobalEvents"),p.prototype),p);function w(e){for(let t=0;t<e.length;t++){const n=e[t];if("#comment"!==n.nodeName&&("#text"!==n.nodeName||""!==n.nodeValue))return!0}return!1}function _(e){for(;e&&(!e.classList||!e.classList.contains("ember-basic-dropdown-content"));){if(null===e.parentElement)return null;e=e.parentElement}return e}function k(e,t){window.requestAnimationFrame((function(){let n=window.getComputedStyle(e);if("none"!==n.animationName&&"running"===n.animationPlayState){let n=function(){e.removeEventListener("animationend",n),t()};e.addEventListener("animationend",n)}else t()}))}function S(e,t){let n=_(e);if(null===n)return!1;{let e=n.attributes,r=document.querySelector(`[aria-controls=${e.id.value}]`);if(null===r)return!1;let i=_(r);if(null===i)return!1;let o=i.attributes;return i&&o.id.value===t||S(i,t)}}},22858:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r,i=n(78479),o=n(96663),a=n(17356);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let u=(l((r=class extends i.Z{constructor(){super(...arguments),s(this,"toggleIsBeingHandledByTouchEvents",!1),s(this,"touchMoveEvent",void 0)}noop(){}handleMouseDown(e){this.args.dropdown.disabled||"mousedown"===this.args.eventType&&0===e.button&&(this.args.stopPropagation&&e.stopPropagation(),this._stopTextSelectionUntilMouseup(),this.toggleIsBeingHandledByTouchEvents?this.toggleIsBeingHandledByTouchEvents=!1:this.args.dropdown.actions.toggle(e))}handleClick(e){"undefined"!=typeof document&&(this.isDestroyed||!this.args.dropdown||this.args.dropdown.disabled||void 0!==this.args.eventType&&"click"!==this.args.eventType||0!==e.button||(this.args.stopPropagation&&e.stopPropagation(),this.toggleIsBeingHandledByTouchEvents?this.toggleIsBeingHandledByTouchEvents=!1:this.args.dropdown.actions.toggle(e)))}handleKeyDown(e){this.args.dropdown.disabled||(13===e.keyCode?this.args.dropdown.actions.toggle(e):32===e.keyCode?(e.preventDefault(),this.args.dropdown.actions.toggle(e)):27===e.keyCode&&this.args.dropdown.actions.close(e))}handleTouchStart(){document.addEventListener("touchmove",this._touchMoveHandler)}handleTouchEnd(e){if(this.toggleIsBeingHandledByTouchEvents=!0,e&&e.defaultPrevented||this.args.dropdown.disabled)return;(0,a.Z)(e,this.touchMoveEvent)||this.args.dropdown.actions.toggle(e),this.touchMoveEvent=void 0,document.removeEventListener("touchmove",this._touchMoveHandler);let t=e.target;null!==t&&t.focus(),setTimeout((function(){if(e.target)try{let t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.target.dispatchEvent(t)}catch(e){event=new Event("click"),e.target.dispatchEvent(event)}}),0),e.preventDefault()}removeGlobalHandlers(){"undefined"!=typeof document&&(document.removeEventListener("touchmove",this._touchMoveHandler),document.removeEventListener("mouseup",this._mouseupHandler,!0))}_mouseupHandler(){document.removeEventListener("mouseup",this._mouseupHandler,!0),document.body.classList.remove("ember-basic-dropdown-text-select-disabled")}_touchMoveHandler(e){this.touchMoveEvent=e,document.removeEventListener("touchmove",this._touchMoveHandler)}_stopTextSelectionUntilMouseup(){document.addEventListener("mouseup",this._mouseupHandler,!0),document.body.classList.add("ember-basic-dropdown-text-select-disabled")}}).prototype,"handleMouseDown",[o.action],Object.getOwnPropertyDescriptor(r.prototype,"handleMouseDown"),r.prototype),l(r.prototype,"handleClick",[o.action],Object.getOwnPropertyDescriptor(r.prototype,"handleClick"),r.prototype),l(r.prototype,"handleKeyDown",[o.action],Object.getOwnPropertyDescriptor(r.prototype,"handleKeyDown"),r.prototype),l(r.prototype,"handleTouchStart",[o.action],Object.getOwnPropertyDescriptor(r.prototype,"handleTouchStart"),r.prototype),l(r.prototype,"handleTouchEnd",[o.action],Object.getOwnPropertyDescriptor(r.prototype,"handleTouchEnd"),r.prototype),l(r.prototype,"removeGlobalHandlers",[o.action],Object.getOwnPropertyDescriptor(r.prototype,"removeGlobalHandlers"),r.prototype),l(r.prototype,"_mouseupHandler",[o.action],Object.getOwnPropertyDescriptor(r.prototype,"_mouseupHandler"),r.prototype),l(r.prototype,"_touchMoveHandler",[o.action],Object.getOwnPropertyDescriptor(r.prototype,"_touchMoveHandler"),r.prototype),r)},73817:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(78479),i=n(23570),o=n(96663),a=n(44993),s=n(79926),l=n(61417);const u={modulePrefix:"opendatafit-embed",environment:"production",rootURL:"/",locationType:"none",EmberENV:{FEATURES:{},EXTEND_PROTOTYPES:{Date:!1}},APP:{autoboot:!1},host:"http://localhost",storeURL:"http://localhost:5000",storeURLPrefix:"api/v1",userURL:"http://localhost:5001",userURLPrefix:"api/v1"};var c,d,h,f,p,m,g,y,v,b,w;function _(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const M={},x=["top","left","right","width","height"];let O=(c=class extends r.Z{get horizontalPosition(){return this.args.horizontalPosition||"auto"}get verticalPosition(){return this.args.verticalPosition||"auto"}get destination(){return this.args.destination||this._getDestinationId()}get disabled(){let e=this.args.disabled||!1;return this._previousDisabled!==M&&this._previousDisabled!==e&&(0,l.schedule)("actions",(()=>{e&&this.publicAPI.isOpen&&(this.isOpen=!1),this.args.registerAPI&&this.args.registerAPI(this.publicAPI)})),this._previousDisabled=e,e}get publicAPI(){return{uniqueId:this._uid,isOpen:this.isOpen,disabled:this.disabled,actions:this._actions}}constructor(e,t){super(e,t),_(this,"hPosition",d,this),_(this,"vPosition",h,this),_(this,"top",f,this),_(this,"left",p,this),_(this,"right",m,this),_(this,"width",g,this),_(this,"height",y,this),_(this,"otherStyles",v,this),_(this,"isOpen",b,this),_(this,"renderInPlace",w,this),k(this,"previousVerticalPosition",void 0),k(this,"previousHorizontalPosition",void 0),k(this,"destinationElement",void 0),k(this,"_uid",(0,a.guidFor)(this)),k(this,"_dropdownId",this.args.dropdownId||`ember-basic-dropdown-content-${this._uid}`),k(this,"_previousDisabled",M),k(this,"_actions",{open:this.open,close:this.close,toggle:this.toggle,reposition:this.reposition}),this.args.onInit&&this.args.onInit(this.publicAPI),this.args.registerAPI&&this.args.registerAPI(this.publicAPI)}willDestroy(){super.willDestroy(),this.args.registerAPI&&this.args.registerAPI(null)}open(e){if(this.isDestroyed)return;if(this.publicAPI.disabled||this.publicAPI.isOpen)return;if(this.args.onOpen&&!1===this.args.onOpen(this.publicAPI,e))return;this.isOpen=!0,this.args.registerAPI&&this.args.registerAPI(this.publicAPI);let t=document.querySelector(`[data-ebd-id=${this.publicAPI.uniqueId}-trigger]`);if(t){let e=t.parentElement;e&&e.setAttribute("aria-owns",this._dropdownId)}}close(e,t){if(this.isDestroyed)return;if(this.publicAPI.disabled||!this.publicAPI.isOpen)return;if(this.args.onClose&&!1===this.args.onClose(this.publicAPI,e))return;if(this.isDestroyed)return;this.hPosition=this.vPosition=null,this.top=this.left=this.right=this.width=this.height=void 0,this.previousVerticalPosition=this.previousHorizontalPosition=void 0,this.isOpen=!1,this.args.registerAPI&&this.args.registerAPI(this.publicAPI);let n=document.querySelector(`[data-ebd-id=${this.publicAPI.uniqueId}-trigger]`);if(!n)return;let r=n.parentElement;r&&r.removeAttribute("aria-owns"),t||n.tabIndex>-1&&n.focus()}toggle(e){this.publicAPI.isOpen?this.close(e):this.open(e)}reposition(){if(!this.publicAPI.isOpen)return;let e=document.getElementById(this._dropdownId),t=document.querySelector(`[data-ebd-id=${this.publicAPI.uniqueId}-trigger]`);if(!e||!t)return;this.destinationElement=this.destinationElement||document.getElementById(this.destination);let{horizontalPosition:n,verticalPosition:r,previousHorizontalPosition:i,previousVerticalPosition:o}=this,{renderInPlace:a=!1,matchTriggerWidth:l=!1}=this.args,u=(this.args.calculatePosition||s.ZP)(t,e,this.destinationElement,{horizontalPosition:n,verticalPosition:r,previousHorizontalPosition:i,previousVerticalPosition:o,renderInPlace:a,matchTriggerWidth:l,dropdown:this});return this.applyReposition(t,e,u)}applyReposition(e,t,n){let r={hPosition:n.horizontalPosition,vPosition:n.verticalPosition,otherStyles:Object.assign({},this.otherStyles)};if(n.style&&(void 0!==n.style.top&&(r.top=`${n.style.top}px`),void 0!==n.style.left?(r.left=`${n.style.left}px`,r.right=void 0,void 0!==n.style.right&&(n.style.right=void 0)):void 0!==n.style.right&&(r.right=`${n.style.right}px`,r.left=void 0),void 0!==n.style.width&&(r.width=`${n.style.width}px`),void 0!==n.style.height&&(r.height=`${n.style.height}px`),void 0===this.top))for(let e in n.style)void 0!==n.style[e]&&("number"==typeof n.style[e]?t.style.setProperty(e,`${n.style[e]}px`):t.style.setProperty(e,`${n.style[e]}`));for(let e in n.style)x.includes(e)||(r.otherStyles,r.otherStyles[e]=n.style[e]);return this.hPosition=r.hPosition,this.vPosition=r.vPosition,this.top=r.top,this.left=r.left,this.right=r.right,this.width=r.width,this.height=r.height,this.otherStyles=r.otherStyles,this.previousHorizontalPosition=n.horizontalPosition,this.previousVerticalPosition=n.verticalPosition,r}_getDestinationId(){return u["ember-basic-dropdown"]&&u["ember-basic-dropdown"].destination||"ember-basic-dropdown-wormhole"}},d=S(c.prototype,"hPosition",[i.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=S(c.prototype,"vPosition",[i.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=S(c.prototype,"top",[i.b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=S(c.prototype,"left",[i.b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=S(c.prototype,"right",[i.b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=S(c.prototype,"width",[i.b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=S(c.prototype,"height",[i.b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=S(c.prototype,"otherStyles",[i.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),b=S(c.prototype,"isOpen",[i.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.args.initiallyOpened||!1}}),w=S(c.prototype,"renderInPlace",[i.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return void 0!==this.args.renderInPlace&&this.args.renderInPlace}}),S(c.prototype,"open",[o.action],Object.getOwnPropertyDescriptor(c.prototype,"open"),c.prototype),S(c.prototype,"close",[o.action],Object.getOwnPropertyDescriptor(c.prototype,"close"),c.prototype),S(c.prototype,"toggle",[o.action],Object.getOwnPropertyDescriptor(c.prototype,"toggle"),c.prototype),S(c.prototype,"reposition",[o.action],Object.getOwnPropertyDescriptor(c.prototype,"reposition"),c.prototype),c)},79926:(e,t,n)=>{"use strict";function r(e){let t=window.getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.body;for(let i=e;i=i.parentElement;)if(t=window.getComputedStyle(i),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.body}n.d(t,{ZP:()=>i,rP:()=>r});const i=(e,t,n,r)=>r.renderInPlace?((e,t,n,r)=>{let i,{horizontalPosition:o,verticalPosition:a}=r,s={horizontalPosition:"left",verticalPosition:"below",style:{}};if("auto"===o){let n=e.getBoundingClientRect();i=t.getBoundingClientRect();let r=window.pageXOffset+window.innerWidth;s.horizontalPosition=n.left+i.width>r?"right":"left"}else if("center"===o){let{width:n}=e.getBoundingClientRect(),{width:r}=t.getBoundingClientRect();s.style={left:(n-r)/2}}else if("auto-right"===o){let n=e.getBoundingClientRect(),r=t.getBoundingClientRect();s.horizontalPosition=n.right>r.width?"right":"left"}else"right"===o&&(s.horizontalPosition="right");return"above"===a?(s.verticalPosition=a,i=i||t.getBoundingClientRect(),s.style.top=-i.height):s.verticalPosition="below",s})(e,t,0,r):((e,t,n,r)=>{let{horizontalPosition:i,verticalPosition:o,matchTriggerWidth:a,previousHorizontalPosition:s,previousVerticalPosition:l}=r,u=window.pageXOffset,c=window.pageYOffset,{left:d,top:h,width:f,height:p}=e.getBoundingClientRect(),{height:m,width:g}=t.getBoundingClientRect(),y=document.body.clientWidth||window.innerWidth,v={},b=n.parentNode,w=window.getComputedStyle(b).position;for(;"relative"!==w&&"absolute"!==w&&"BODY"!==b.tagName.toUpperCase();)b=b.parentNode,w=window.getComputedStyle(b).position;if("relative"===w||"absolute"===w){let e=b.getBoundingClientRect();d-=e.left,h-=e.top;let{offsetParent:t}=b;t&&(d-=t.scrollLeft,h-=t.scrollTop)}g=a?f:g,a&&(v.width=g);let _=d+u;if("auto"===i||"auto-left"===i){let e=Math.min(y,d+g)-Math.max(0,d),t=Math.min(y,d+f)-Math.max(0,d+f-g);i=g>e&&t>e?"right":g>t&&e>t?"left":s||"left"}else if("auto-right"===i){let e=Math.min(y,d+g)-Math.max(0,d),t=Math.min(y,d+f)-Math.max(0,d+f-g);i=g>t&&e>t?"left":g>e&&t>e?"right":s||"right"}"right"===i?v.right=y-(_+f):v.left="center"===i?_+(f-g)/2:_;let k=h;if("relative"===window.getComputedStyle(document.body).getPropertyValue("position")||(k+=c),"above"===o)v.top=k-m;else if("below"===o)v.top=k+p;else{let e=k+p+m<c+window.innerHeight,t=h>m;o=e||t?"below"===l&&!e&&t?"above":"above"===l&&!t&&e?"below":l||(e?"below":"above"):"below",v.top=k+("below"===o?p:-m)}return{horizontalPosition:i,verticalPosition:o,style:v}})(e,t,n,r)},17356:(e,t,n)=>{"use strict";function r(e,t){var n;if(!t)return!1;if(null===(n=e.changedTouches)||void 0===n||!n[0]||"stylus"!==t.changedTouches[0].touchType)return!0;let r=Math.abs(t.changedTouches[0].pageX-e.changedTouches[0].pageX),i=Math.abs(t.changedTouches[0].pageY-e.changedTouches[0].pageY);return r>=5||i>=5}n.d(t,{Z:()=>r})},88717:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(45308),i=n(9582),o=n(86449),a=n(71275);window.define("opendatafit-embed/helpers/or",(function(){return i.Z})),window.define("opendatafit-embed/helpers/ensure-safe-component",(function(){return o.Z}));const s=(0,a.createTemplateFactory)({id:"Sj3zuYdT",block:'[[[8,[39,0],[[17,1]],[["@animationEnabled","@triggerRole","@ariaDescribedBy","@ariaInvalid","@ariaLabel","@ariaLabelledBy","@afterOptionsComponent","@allowClear","@beforeOptionsComponent","@buildSelection","@calculatePosition","@closeOnSelect","@defaultHighlighted","@destination","@disabled","@dropdownClass","@extra","@groupComponent","@horizontalPosition","@initiallyOpened","@loadingMessage","@matcher","@matchTriggerWidth","@noMatchesMessage","@noMatchesMessageComponent","@onBlur","@onChange","@onClose","@onFocus","@onInput","@onKeydown","@onOpen","@options","@optionsComponent","@placeholder","@placeholderComponent","@preventScroll","@registerAPI","@renderInPlace","@required","@scrollTo","@search","@searchEnabled","@searchField","@searchMessage","@searchPlaceholder","@selected","@selectedItemComponent","@eventType","@title","@triggerClass","@triggerComponent","@triggerId","@verticalPosition","@tabindex","@ebdTriggerComponent","@ebdContentComponent"],[[30,2],[30,3],[30,4],[30,5],[30,6],[30,7],[28,[37,1],[[30,8]],null],[30,9],[52,[30,10],[28,[37,1],[[30,10]],null],null],[28,[37,3],[[30,11],[30,0,["defaultBuildSelection"]]],null],[30,12],[30,13],[30,14],[30,15],[30,16],[30,17],[30,18],[28,[37,1],[[30,19]],null],[30,20],[30,21],[30,22],[30,23],[30,24],[30,25],[28,[37,1],[[30,26]],null],[30,27],[30,28],[30,29],[30,0,["handleFocus"]],[30,30],[30,0,["handleKeydown"]],[30,0,["handleOpen"]],[30,31],[28,[37,1],[[30,32]],null],[30,33],[28,[37,1],[[30,34]],null],[30,35],[30,36],[30,37],[30,38],[30,39],[30,40],[30,41],[30,42],[30,43],[30,44],[30,45],[28,[37,1],[[30,46]],null],[30,47],[30,48],[29,["ember-power-select-multiple-trigger ",[30,49]]],[52,[30,50],[50,[28,[37,1],[[30,50]],null],0,null,[["tabindex"],[[30,51]]]],[50,"power-select-multiple/trigger",0,null,[["tabindex"],[[30,51]]]]],[30,52],[30,53],[30,0,["computedTabIndex"]],[28,[37,1],[[30,54]],null],[28,[37,1],[[30,55]],null]]],[["default"],[[[[1,"\\n  "],[18,58,[[30,56],[30,57]]],[1,"\\n"]],[56,57]]]]],[1,"\\n"]],["&attrs","@animationEnabled","@triggerRole","@ariaDescribedBy","@ariaInvalid","@ariaLabel","@ariaLabelledBy","@afterOptionsComponent","@allowClear","@beforeOptionsComponent","@buildSelection","@calculatePosition","@closeOnSelect","@defaultHighlighted","@destination","@disabled","@dropdownClass","@extra","@groupComponent","@horizontalPosition","@initiallyOpened","@loadingMessage","@matcher","@matchTriggerWidth","@noMatchesMessage","@noMatchesMessageComponent","@onBlur","@onChange","@onClose","@onInput","@options","@optionsComponent","@placeholder","@placeholderComponent","@preventScroll","@registerAPI","@renderInPlace","@required","@scrollTo","@search","@searchEnabled","@searchField","@searchMessage","@searchPlaceholder","@selected","@selectedItemComponent","@eventType","@title","@triggerClass","@triggerComponent","@tabindex","@triggerId","@verticalPosition","@ebdTriggerComponent","@ebdContentComponent","option","select","&default"],false,["power-select","ensure-safe-component","if","or","component","yield"]]',moduleName:"ember-power-select/components/power-select-multiple.hbs",isStrictMode:!1});var l,u=n(78479),c=n(96663),d=n(9805);function h(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let f=(h((l=class extends u.Z{get computedTabIndex(){return void 0===this.args.triggerComponent&&this.args.searchEnabled?"-1":this.args.tabindex||"0"}handleOpen(e,t){if(this.args.onOpen&&!1===this.args.onOpen(e,t))return!1;this.focusInput(e)}handleFocus(e,t){this.args.onFocus&&this.args.onFocus(e,t),this.focusInput(e)}handleKeydown(e,t){return this.args.onKeydown&&!1===this.args.onKeydown(e,t)?(t.stopPropagation(),!1):13===t.keyCode&&e.isOpen?(t.stopPropagation(),void 0!==e.highlighted?e.selected&&-1!==e.selected.indexOf(e.highlighted)?(e.actions.close(t),!1):(e.actions.choose(e.highlighted,t),!1):(e.actions.close(t),!1)):void 0}defaultBuildSelection(e,t){let n=(t.selected||[]).slice(0),r=-1;for(let t=0;t<n.length;t++)if((0,d.isEqual)(n[t],e)){r=t;break}return r>-1?n.splice(r,1):n.push(e),n}focusInput(e){if(e){let t=document.querySelector(`#ember-power-select-trigger-multiple-input-${e.uniqueId}`);t&&t.focus()}}}).prototype,"handleOpen",[c.action],Object.getOwnPropertyDescriptor(l.prototype,"handleOpen"),l.prototype),h(l.prototype,"handleFocus",[c.action],Object.getOwnPropertyDescriptor(l.prototype,"handleFocus"),l.prototype),h(l.prototype,"handleKeydown",[c.action],Object.getOwnPropertyDescriptor(l.prototype,"handleKeydown"),l.prototype),l);(0,r.setComponentTemplate)(s,f)},52311:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(45308),i=n(9216),o=n(86449),a=n(57740),s=n(68080),l=n(96507),u=n(71275);window.define("opendatafit-embed/modifiers/did-insert",(function(){return i.Z})),window.define("opendatafit-embed/helpers/ensure-safe-component",(function(){return o.Z})),window.define("opendatafit-embed/modifiers/did-update",(function(){return a.Z})),window.define("opendatafit-embed/helpers/not",(function(){return s.Z})),window.define("opendatafit-embed/helpers/and",(function(){return l.Z}));const c=(0,u.createTemplateFactory)({id:"kAA7MUCr",block:'[[[11,"ul"],[16,1,[29,["ember-power-select-multiple-options-",[30,1,["uniqueId"]]]]],[16,"aria-activedescendant",[52,[28,[37,1],[[30,1,["isOpen"]],[28,[37,2],[[30,2]],null]],null],[30,3]]],[24,0,"ember-power-select-multiple-options"],[17,4],[4,[38,3],[[30,0,["openChanged"]],[30,1,["isOpen"]]],null],[4,[38,4],["touchstart",[30,0,["chooseOption"]]],null],[4,[38,4],["mousedown",[30,0,["chooseOption"]]],null],[12],[1,"\\n"],[42,[28,[37,6],[[28,[37,6],[[30,1,["selected"]]],null]],null],null,[[[1,"    "],[10,"li"],[15,0,[29,["ember-power-select-multiple-option ",[52,[30,5,["disabled"]],"ember-power-select-multiple-option--disabled"]]]],[12],[1,"\\n"],[41,[51,[30,1,["disabled"]]],[[[1,"        "],[10,1],[14,"role","button"],[14,"aria-label","remove element"],[14,0,"ember-power-select-multiple-remove-btn"],[15,"data-selected-index",[30,6]],[12],[1,"\\n          ×\\n        "],[13],[1,"\\n"]],[]],null],[41,[30,7],[[[1,"        "],[46,[28,[37,9],[[30,7]],null],null,[["extra","option","select"],[[30,8],[30,5],[30,1]]],null],[1,"\\n"]],[]],[[[1,"        "],[18,14,[[30,5],[30,1]]],[1,"\\n"]],[]]],[1,"    "],[13],[1,"\\n"]],[5,6]],[[[41,[28,[37,1],[[30,9],[28,[37,2],[[30,2]],null]],null],[[[1,"      "],[10,1],[14,0,"ember-power-select-placeholder"],[12],[1,[30,9]],[13],[1,"\\n"]],[]],null]],[]]],[41,[30,2],[[[1,"    "],[11,"input"],[24,"role","combobox"],[24,0,"ember-power-select-trigger-multiple-input"],[16,"aria-activedescendant",[52,[30,1,["isOpen"]],[30,3]]],[24,"aria-haspopup","listbox"],[16,"aria-expanded",[52,[30,1,["isOpen"]],"true","false"]],[24,"autocomplete","off"],[24,"autocorrect","off"],[24,"autocapitalize","off"],[16,"spellcheck",false],[16,1,[29,["ember-power-select-trigger-multiple-input-",[30,1,["uniqueId"]]]]],[16,2,[30,1,["searchText"]]],[16,"aria-controls",[30,10]],[16,5,[30,0,["triggerMultipleInputStyle"]]],[16,"placeholder",[30,0,["maybePlaceholder"]]],[16,"disabled",[30,1,["disabled"]]],[16,"tabindex",[30,11]],[24,"form","power-select-fake-form"],[24,4,"search"],[4,[38,4],["focus",[30,12]],null],[4,[38,4],["blur",[30,13]],null],[4,[38,4],["input",[30,0,["handleInput"]]],null],[4,[38,4],["keydown",[30,0,["handleKeydown"]]],null],[4,[38,11],[[30,0,["storeInputStyles"]]],null],[12],[13],[1,"\\n"]],[]],null],[13],[1,"\\n"],[10,1],[14,0,"ember-power-select-status-icon"],[12],[13],[1,"\\n"]],["@select","@searchEnabled","@ariaActiveDescendant","&attrs","opt","idx","@selectedItemComponent","@extra","@placeholder","@listboxId","@tabindex","@onFocus","@onBlur","&default"],false,["if","and","not","did-update","on","each","-track-array","unless","component","ensure-safe-component","yield","did-insert"]]',moduleName:"ember-power-select/components/power-select-multiple/trigger.hbs",isStrictMode:!1});var d,h,f=n(78479),p=n(96663),m=n(8877),g=n(61417),y=(n(84287),n(9805)),v=n(13813);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const _=window&&window.navigator?window.navigator.userAgent:"",k=_.indexOf("MSIE ")>-1||_.indexOf("Trident/")>-1;let S=(d=class extends f.Z{constructor(){var e;super(...arguments),b(this,"inputFont",void 0),b(this,"_lastIsOpen",this.args.select.isOpen),(e=h)&&Object.defineProperty(this,"textMeasurer",{enumerable:e.enumerable,configurable:e.configurable,writable:e.writable,value:e.initializer?e.initializer.call(this):void 0})}get triggerMultipleInputStyle(){if((0,g.scheduleOnce)("actions",null,this.args.select.actions.reposition),this.args.select.selected&&0!==(0,p.get)(this.args.select.selected,"length")){let e=0;return this.inputFont&&(e=this.textMeasurer.width(this.args.select.searchText,this.inputFont)),(0,v.htmlSafe)(`width: ${e+25}px`)}return(0,v.htmlSafe)("width: 100%;")}get maybePlaceholder(){if(!k)return this.args.select.selected&&0!==(0,p.get)(this.args.select.selected,"length")?"":this.args.placeholder||""}openChanged(e,t){let[n]=t;!1===n&&!0===this._lastIsOpen&&(0,g.scheduleOnce)("actions",null,this.args.select.actions.search,""),this._lastIsOpen=n}storeInputStyles(e){let{fontStyle:t,fontVariant:n,fontWeight:r,fontSize:i,lineHeight:o,fontFamily:a}=window.getComputedStyle(e);this.inputFont=`${t} ${n} ${r} ${i}/${o} ${a}`}chooseOption(e){if(null===e.target)return;let t=e.target.getAttribute("data-selected-index");if(t){let n=parseInt(t,10);e.stopPropagation(),e.preventDefault();let r=this.selectedObject(this.args.select.selected,n);this.args.select.actions.choose(r)}}handleInput(e){this.args.onInput&&!1===this.args.onInput(e)||this.args.select.actions.open(e)}handleKeydown(e){if(null!==e.target){if(this.args.onKeydown&&!1===this.args.onKeydown(e))return e.stopPropagation(),!1;if(8===e.keyCode){if(e.stopPropagation(),(0,y.isBlank)(e.target.value)){let t=this.args.select.selected[this.args.select.selected.length-1];t&&(this.args.select.actions.select(this.args.buildSelection(t,this.args.select),e),"string"==typeof t?this.args.select.actions.search(t):this.args.select.actions.search((0,p.get)(t,this.args.searchField)),this.args.select.actions.open(e))}}else(e.keyCode>=48&&e.keyCode<=90||32===e.keyCode)&&e.stopPropagation()}}selectedObject(e,t){return"function"==typeof e.objectAt?e.objectAt(t):(0,p.get)(e,t)}},h=w(d.prototype,"textMeasurer",[m.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w(d.prototype,"openChanged",[p.action],Object.getOwnPropertyDescriptor(d.prototype,"openChanged"),d.prototype),w(d.prototype,"storeInputStyles",[p.action],Object.getOwnPropertyDescriptor(d.prototype,"storeInputStyles"),d.prototype),w(d.prototype,"chooseOption",[p.action],Object.getOwnPropertyDescriptor(d.prototype,"chooseOption"),d.prototype),w(d.prototype,"handleInput",[p.action],Object.getOwnPropertyDescriptor(d.prototype,"handleInput"),d.prototype),w(d.prototype,"handleKeydown",[p.action],Object.getOwnPropertyDescriptor(d.prototype,"handleKeydown"),d.prototype),d);(0,r.setComponentTemplate)(c,S)},39138:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Yt});var r=n(45308),i=n(6369),o=n(57740),a=n(9216),s=n(68080),l=n(96507),u=n(19767),c=n(86449),d=n(9582),h=n(71275);window.define("opendatafit-embed/helpers/not-eq",(function(){return i.Z})),window.define("opendatafit-embed/modifiers/did-update",(function(){return o.Z})),window.define("opendatafit-embed/modifiers/did-insert",(function(){return a.Z})),window.define("opendatafit-embed/helpers/not",(function(){return s.Z})),window.define("opendatafit-embed/helpers/and",(function(){return l.Z})),window.define("opendatafit-embed/helpers/assign",(function(){return u.Z})),window.define("opendatafit-embed/helpers/ensure-safe-component",(function(){return c.Z})),window.define("opendatafit-embed/helpers/or",(function(){return d.Z}));const f=(0,h.createTemplateFactory)({id:"RjHFt2BV",block:'[[[8,[39,0],null,[["@horizontalPosition","@destination","@initiallyOpened","@matchTriggerWidth","@preventScroll","@onClose","@onOpen","@renderInPlace","@verticalPosition","@disabled","@calculatePosition","@triggerComponent","@contentComponent"],[[30,1],[30,2],[30,3],[30,0,["matchTriggerWidth"]],[28,[37,1],[[30,4],false],null],[30,0,["handleClose"]],[30,0,["handleOpen"]],[30,5],[30,6],[30,7],[30,8],[28,[37,2],[[30,9]],null],[28,[37,2],[[30,10]],null]]],[["default"],[[[[1,"\\n"],[44,[[28,[37,4],[[30,11],[28,[37,5],null,[["selected","highlighted","options","results","resultsCount","loading","isActive","searchText","lastSearchedText","actions"],[[30,0,["selected"]],[30,0,["highlighted"]],[30,0,["options"]],[30,0,["results"]],[30,0,["resultsCount"]],[30,0,["loading"]],[30,0,["isActive"]],[30,0,["searchText"]],[30,0,["lastSearchedText"]],[28,[37,4],[[30,11,["actions"]],[30,0,["_publicAPIActions"]]],null]]]]],null],[28,[37,6],["ember-power-select-options-",[30,11,["uniqueId"]]],null]],[[[1,"    "],[8,[30,11,["Trigger"]],[[16,0,[29,["ember-power-select-trigger ",[30,14],[52,[30,12,["isActive"]]," ember-power-select-trigger--active"]]]],[16,"aria-activedescendant",[52,[30,11,["isOpen"]],[52,[51,[30,15]],[28,[37,6],[[30,12,["uniqueId"]],"-",[30,0,["highlightedIndex"]]],null]]]],[16,"aria-controls",[52,[51,[30,15]],[30,13]]],[16,"aria-describedby",[30,16]],[16,"aria-haspopup",[52,[51,[30,15]],"listbox"]],[16,"aria-invalid",[30,17]],[16,"aria-label",[30,18]],[16,"aria-labelledby",[30,19]],[24,"aria-owns",""],[16,"aria-required",[30,20]],[16,"role",[28,[37,1],[[30,21],"button"],null]],[16,"title",[30,22]],[16,1,[30,23]],[16,"tabindex",[28,[37,9],[[28,[37,10],[[30,7]],null],[28,[37,1],[[30,24],"0"],null]],null]],[17,25],[4,[38,11],[[30,0,["_updateOptions"]],[30,27]],null],[4,[38,12],[[30,0,["_updateOptions"]],[30,27]],null],[4,[38,11],[[30,0,["_updateSelected"]],[30,28]],null],[4,[38,12],[[30,0,["_updateSelected"]],[30,28]],null],[4,[38,11],[[30,0,["_registerAPI"]],[30,12]],null],[4,[38,12],[[30,0,["_registerAPI"]],[30,12]],null],[4,[38,12],[[30,0,["_performSearch"]],[30,0,["searchText"]]],null],[4,[38,13],["keydown",[30,0,["handleTriggerKeydown"]]],null],[4,[38,13],["focus",[30,0,["handleFocus"]]],null],[4,[38,13],["blur",[30,0,["handleBlur"]]],null]],[["@eventType"],[[28,[37,1],[[30,26],"mousedown"],null]]],[["default"],[[[[1,"\\n"],[44,[[52,[30,29],[50,[28,[37,2],[[30,29]],null],0,null,null],[50,"power-select/trigger",0,null,null]]],[[[1,"        "],[8,[30,30],null,[["@allowClear","@buildSelection","@loadingMessage","@selectedItemComponent","@select","@searchEnabled","@searchField","@onFocus","@onBlur","@extra","@listboxId","@onInput","@onKeydown","@placeholder","@placeholderComponent","@ariaActiveDescendant"],[[30,31],[30,32],[28,[37,1],[[30,33],"Loading options..."],null],[28,[37,2],[[30,34]],null],[30,12],[30,15],[30,35],[30,0,["handleFocus"]],[30,0,["handleBlur"]],[30,36],[30,13],[30,0,["handleInput"]],[30,0,["handleKeydown"]],[30,37],[52,[30,38],[28,[37,2],[[30,38]],null],[50,"power-select/placeholder",0,null,null]],[28,[37,6],[[30,12,["uniqueId"]],"-",[30,0,["highlightedIndex"]]],null]]],[["default"],[[[[1,"\\n          "],[18,57,[[30,39],[30,40]]],[1,"\\n        "]],[39,40]]]]],[1,"\\n"]],[30]]],[1,"    "]],[]]]]],[1,"\\n    "],[8,[30,11,["Content"]],[[16,0,[29,["ember-power-select-dropdown",[52,[30,12,["isActive"]]," ember-power-select-dropdown--active"]," ",[30,41]]]]],null,[["default"],[[[[1,"\\n"],[41,[28,[37,16],[[30,42],null],null],[[[44,[[52,[30,42],[50,[28,[37,2],[[30,42]],null],0,null,null],[50,"power-select/before-options",0,null,null]]],[[[1,"          "],[8,[30,43],null,[["@select","@searchEnabled","@onInput","@onKeydown","@onFocus","@onBlur","@placeholder","@placeholderComponent","@extra","@listboxId","@ariaActiveDescendant","@selectedItemComponent","@searchPlaceholder"],[[30,12],[30,15],[30,0,["handleInput"]],[30,0,["handleKeydown"]],[30,0,["handleFocus"]],[30,0,["handleBlur"]],[30,37],[28,[37,1],[[30,38],[50,"power-select/placeholder",0,null,null]],null],[30,36],[30,13],[28,[37,6],[[30,12,["uniqueId"]],"-",[30,0,["highlightedIndex"]]],null],[28,[37,2],[[30,34]],null],[30,44]]],null],[1,"\\n"]],[43]]]],[]],null],[41,[30,0,["mustShowSearchMessage"]],[[[44,[[52,[30,45],[50,[28,[37,2],[[30,45]],null],0,null,null],[50,"power-select/search-message",0,null,null]]],[[[1,"          "],[8,[30,46],null,[["@searchMessage","@select"],[[30,0,["searchMessage"]],[30,12]]],null],[1,"\\n"]],[46]]]],[]],[[[41,[30,0,["mustShowNoMessages"]],[[[44,[[52,[30,47],[50,[28,[37,2],[[30,47]],null],0,null,null],[50,"power-select/no-matches-message",0,null,null]]],[[[1,"          "],[8,[30,48],null,[["@noMatchesMessage","@select"],[[30,0,["noMatchesMessage"]],[30,12]]],null],[1,"\\n"]],[48]]]],[]],[[[44,[[52,[30,49],[50,[28,[37,2],[[30,49]],null],0,null,null],[50,"power-select/options",0,null,null]],[52,[30,50],[50,[28,[37,2],[[30,50]],null],0,null,null],[50,"power-select/power-select-group",0,null,null]]],[[[1,"          "],[8,[30,51],[[16,1,[30,13]],[24,0,"ember-power-select-options"]],[["@loadingMessage","@select","@options","@groupIndex","@optionsComponent","@extra","@highlightOnHover","@groupComponent"],[[28,[37,1],[[30,33],"Loading options..."],null],[30,12],[30,12,["results"]],"",[30,51],[30,36],[30,0,["highlightOnHover"]],[30,52]]],[["default"],[[[[1,"\\n            "],[18,57,[[30,53],[30,54]]],[1,"\\n          "]],[53,54]]]]],[1,"\\n"]],[51,52]]],[1,"      "]],[]]]],[]]],[1,"      \\n"],[41,[30,55],[[[44,[[50,[28,[37,2],[[30,55]],null],0,null,null]],[[[1,"          "],[8,[30,56],null,[["@extra","@select"],[[30,36],[30,12]]],null],[1,"\\n"]],[56]]]],[]],null],[1,"    "]],[]]]]],[1,"\\n"]],[12,13]]]],[11]]]]],[1,"\\n"]],["@horizontalPosition","@destination","@initiallyOpened","@preventScroll","@renderInPlace","@verticalPosition","@disabled","@calculatePosition","@ebdTriggerComponent","@ebdContentComponent","dropdown","publicAPI","listboxId","@triggerClass","@searchEnabled","@ariaDescribedBy","@ariaInvalid","@ariaLabel","@ariaLabelledBy","@required","@triggerRole","@title","@triggerId","@tabindex","&attrs","@eventType","@options","@selected","@triggerComponent","Trigger","@allowClear","@buildSelection","@loadingMessage","@selectedItemComponent","@searchField","@extra","@placeholder","@placeholderComponent","opt","term","@dropdownClass","@beforeOptionsComponent","BeforeOptions","@searchPlaceholder","@searchMessageComponent","SearchMessage","@noMatchesMessageComponent","NoMatchesMessage","@optionsComponent","@groupComponent","Options","Group","option","select","@afterOptionsComponent","AfterOptions","&default"],false,["basic-dropdown","or","ensure-safe-component","let","assign","hash","concat","if","unless","and","not","did-insert","did-update","on","component","yield","not-eq"]]',moduleName:"ember-power-select/components/power-select.hbs",isStrictMode:!1});var p=n(78479),m=n(23570),g=n(96663),y=n.n(g),v=n(33636),b=n(61417),w=n(9805),_=(n(84287),n(6919));function k(e){return function(e){let[t,n,r]=e;return 3===e.length&&"object"==typeof t&&null!==t&&"string"==typeof n&&("object"==typeof r&&null!==r&&"enumerable"in r&&"configurable"in r||void 0===r)}(e)||function(e){let[t]=e;return 1===e.length&&"function"==typeof t&&"prototype"in t&&!t.__isComputedDecorator}(e)}function S(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return k(n)?e(...n):function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e(...r,n)}}}var M=n(87073),x=n.n(M),O=n(91819),C=n.n(O);class T{assert(){}async(e){Promise.resolve().then(e)}reportUncaughtRejection(){this.async((e=>{throw e}))}defer(){let e={promise:null,resolve:null,reject:null},t=new Promise(((t,n)=>{e.resolve=t,e.reject=n}));return e.promise=t,e}globalDebuggingEnabled(){return!1}}const R=new T,D=new class extends T{assert(){}async(e){(0,b.join)((()=>(0,b.schedule)("actions",e)))}reportUncaughtRejection(e){(0,b.next)(null,(function(){if(!x().onerror)throw e;x().onerror(e)}))}defer(){return(0,O.defer)()}globalDebuggingEnabled(){return x().ENV.DEBUG_TASKS}},E="__ec_yieldable__",A="next",L="throw",j="return",P="cancel";class I{constructor(e,t){this._taskInstance=e,this._resumeIndex=t}getTaskInstance(){return this._taskInstance}cancel(){let e=this._taskInstance;e.proceed.call(e,this._resumeIndex,P)}next(e){let t=this._taskInstance;t.proceed.call(t,this._resumeIndex,A,e)}return(e){let t=this._taskInstance;t.proceed.call(t,this._resumeIndex,j,e)}throw(e){let t=this._taskInstance;t.proceed.call(t,this._resumeIndex,L,e)}}class H{constructor(){this.__ec_yieldable__=this.__ec_yieldable__.bind(this)}onYield(){}_deferable(){let e={resolve:void 0,reject:void 0};return e.promise=new Promise(((t,n)=>{e.resolve=t,e.reject=n})),e}_toPromise(){let e=this._deferable(),t={proceed(t,n,r){n==A||n==j?e.resolve(r):e.reject(r)}},n=this.__ec_yieldable__(t,0);return e.promise.__ec_cancel__=n,e.promise}then(){return this._toPromise().then(...arguments)}catch(){return this._toPromise().catch(...arguments)}finally(){return this._toPromise().finally(...arguments)}[E](e,t){let n=new I(e,t);return this.onYield(n)}}new class extends H{onYield(){}};const N=Object.assign;class F extends H{_deferable(){return D.defer()}}class Y extends F{constructor(e){super(),this.ms=e}onYield(e){let t=(0,b.later)((()=>e.next()),this.ms);return()=>(0,b.cancel)(t)}}n(88952);const z=class{constructor(e){this.maxConcurrency=e||1}},B="CANCELLED",W="STARTED",$="QUEUED",U={type:W},V={type:$},q=e=>({type:B,reason:e});class G{constructor(e){this.remainingSlots=e}step(){return this.remainingSlots>0?(this.remainingSlots--,U):V}}const K=class extends z{makeReducer(){return new G(this.maxConcurrency)}},Z=q("it belongs to a 'drop' Task that was already running");class X{constructor(e){this.remainingSlots=e}step(){return this.remainingSlots>0?(this.remainingSlots--,U):Z}}const J=class extends z{makeReducer(){return new X(this.maxConcurrency)}},Q=q("it belongs to a 'keepLatest' Task that was already running");class ee{constructor(e,t){this.remainingSlots=e,this.numToCancel=t}step(){return this.remainingSlots>0?(this.remainingSlots--,U):this.numToCancel>0?(this.numToCancel--,Q):V}}const te=class extends z{makeReducer(e,t){let n=e+t;return new ee(this.maxConcurrency,n-this.maxConcurrency-1)}},ne=q("it belongs to a 'restartable' Task that was .perform()ed again");class re{constructor(e){this.numToCancel=e}step(){return this.numToCancel>0?(this.numToCancel--,ne):U}}const ie=class extends z{makeReducer(e,t){return new re(e+t-this.maxConcurrency)}},oe={restartable(){return this.__ec_task_factory.setBufferPolicy(ie),this},enqueue(){return this.__ec_task_factory.setBufferPolicy(K),this},drop(){return this.__ec_task_factory.setBufferPolicy(J),this},keepLatest(){return this.__ec_task_factory.setBufferPolicy(te),this},maxConcurrency(e){return this.__ec_task_factory.setMaxConcurrency(e),this},group(e){return this.__ec_task_factory.setGroup(e),this},evented(){return this.__ec_task_factory.setEvented(!0),this},debug(){return this.__ec_task_factory.setDebug(!0),this},onState(e){return this.__ec_task_factory.setOnState(e),this}};let ae,se;ae=class{},se=class{},Object.assign(se.prototype,oe),Object.assign(ae.prototype,oe,{setup(e,t){this.callSuperSetup&&this.callSuperSetup(...arguments),this.__ec_task_factory.setName(t),this.__ec_task_factory._setupEmberKVO(e)},on(){return this.__ec_task_factory.addPerformEvents(...arguments),this},cancelOn(){return this.__ec_task_factory.addCancelEvents(...arguments),this},observes(){return this.__ec_task_factory.addObserverKeys(...arguments),this}});const le=x()._setClassicDecorator||x()._setComputedDecorator;function ue(e){{let t=function(n,r){return void 0!==t.setup&&t.setup(n,r),(0,g.computed)(e)(...arguments)};return le(t),t}}var ce=n(82725);const de=new Map,he=new Map,fe=new class{onCompletion(){}onPerformed(){}onStart(){}onRunning(){}onQueued(){}},pe=class{constructor(e,t){this.schedulerPolicy=e,this.stateTrackingEnabled=t,this.taskInstances=[]}cancelAll(e,t){let n=this.taskInstances.map((n=>{n.task.guids[e]&&n.executor.cancel(t)})).filter((e=>!!e));return Promise.all(n)}perform(e){e.onFinalize((()=>this.scheduleRefresh())),this.taskInstances.push(e),this.refresh()}scheduleRefresh(){Promise.resolve().then((()=>this.refresh()))}refresh(){let e=this.stateTrackingEnabled?new class{constructor(){this.states=new Map}stateFor(e){let t=e.guid,n=this.states.get(t);if(!n){let r=he.has(t)?he.get(t):0;n=new class{constructor(e,t){this.taskable=e,this.group=e.group,this.numRunning=0,this.numQueued=0,this.numPerformedInc=0,this.attrs={},this.tag=t}onCompletion(e){let t=e.completionState;this.attrs.lastRunning=null,this.attrs.lastComplete=e,1===t?this.attrs.lastSuccessful=e:(2===t?this.attrs.lastErrored=e:3===t&&(this.attrs.lastCanceled=e),this.attrs.lastIncomplete=e)}onPerformed(e){this.numPerformedInc+=1,this.attrs.lastPerformed=e}onStart(e){this.attrs.last=e}onRunning(e){this.attrs.lastRunning=e,this.numRunning+=1}onQueued(){this.numQueued+=1}recurseTaskGroups(e){let t=this.group;for(;t;)e(t),t=t.group}applyStateFrom(e){Object.assign(this.attrs,e.attrs),this.numRunning+=e.numRunning,this.numQueued+=e.numQueued,this.numPerformedInc+=e.numPerformedInc}}(e,++r),this.states.set(t,n),he.set(t,r)}return n}computeFinalStates(e){this.computeRecursiveState(),this.forEachState((t=>e(t)))}computeRecursiveState(){this.forEachState((e=>{let t=e;e.recurseTaskGroups((e=>{let n=this.stateFor(e);n.applyStateFrom(t),t=n}))}))}forEachState(e){this.states.forEach((t=>e(t)))}}:new class{stateFor(){return fe}computeFinalStates(){}},t=new class{constructor(e,t,n){this.stateTracker=t,this.schedulerPolicy=e,this.initialTaskInstances=n,this.startingInstances=[]}process(){let[e,t,n]=this.filterFinishedTaskInstances(),r=this.schedulerPolicy.makeReducer(t,n),i=e.filter((e=>this.setTaskInstanceExecutionState(e,r.step())));return this.stateTracker.computeFinalStates((e=>this.applyState(e))),this.startingInstances.forEach((e=>e.start())),i}filterFinishedTaskInstances(){let e=0,t=0;return[this.initialTaskInstances.filter((n=>{let r=this.stateTracker.stateFor(n.task),i=n.executor.state;return i.isFinished?(r.onCompletion(n),!1):(i.hasStarted?e+=1:t+=1,!0)})),e,t]}setTaskInstanceExecutionState(e,t){let n=this.stateTracker.stateFor(e.task);switch(e.executor.counted||(e.executor.counted=!0,n.onPerformed(e)),t.type){case B:return e.cancel(t.reason),!1;case W:return e.executor.state.hasStarted||(this.startingInstances.push(e),n.onStart(e)),n.onRunning(e),!0;case $:return n.onQueued(e),!0}}applyState(e){let{taskable:t}=e;if(!t.onState)return;const{guid:n}=t;if(de.has(n)&&e.tag<de.get(n))return;let r=Object.assign({numRunning:e.numRunning,numQueued:e.numQueued,numPerformedInc:e.numPerformedInc},e.attrs);t.onState(r,t),de.set(n,e.tag)}}(this.schedulerPolicy,e,this.taskInstances);this.taskInstances=t.process()}},me=new class{step(){return U}},ge={last:null,lastRunning:null,lastPerformed:null,lastSuccessful:null,lastComplete:null,lastErrored:null,lastCanceled:null,lastIncomplete:null,performCount:0};Object.freeze(ge);const ye="TaskCancelation",ve="explicit",be="lifespan_end";class we{constructor(e,t){this.kind=e,this.reason=t,this.promise=new Promise((e=>{this.finalize=e}))}}let _e=0;class ke{constructor(e){this.context=e.context,this.debug=e.debug||!1,this.enabledModifiers=e.enabledModifiers,this.env=e.env,this.group=e.group,this.hasEnabledEvents=e.hasEnabledEvents,this.modifierOptions=e.modifierOptions,this.name=e.name,this.onStateCallback=e.onStateCallback,this.scheduler=e.scheduler,this.guid="ec_"+_e++,this.guids={},this.guids[this.guid]=!0,this.group&&Object.assign(this.guids,this.group.guids)}cancelAll(e){let{reason:t,cancelRequestKind:n,resetState:r}=e||{};t=t||".cancelAll() was explicitly called on the Task";let i=new we(n||ve,t);return this.scheduler.cancelAll(this.guid,i).then((()=>{r&&this._resetState()}))}get _isAlive(){return!0}_resetState(){this.setState(ge)}setState(){}}Object.assign(ke.prototype,ge),Object.assign(ke.prototype,{numRunning:0,numQueued:0,isRunning:!1,isQueued:!1,isIdle:!0,state:"idle"});class Se{constructor(e,t,n){this.value=e,this.done=t,this.errored=n}}class Me{constructor(e){this.done=!1,this.generatorFactory=e,this.iterator=null}step(e,t){try{let n=this.getIterator(),{value:r,done:i}=n[t](e);return i?this.finalize(r,!1):new Se(r,!1,!1)}catch(e){return this.finalize(e,!0)}}getIterator(){return this.iterator||this.done||(this.iterator=this.generatorFactory()),this.iterator}finalize(e,t){return this.done=!0,this.iterator=null,new Se(e,!0,t)}}const xe={completionState:0,value:null,error:null,isSuccessful:!1,isError:!1,isCanceled:!1,hasStarted:!1,isFinished:!1},Oe="PERFORM_TYPE_DEFAULT",Ce="PERFORM_TYPE_UNLINKED",Te="PERFORM_TYPE_LINKED",Re={};let De=[];class Ee{constructor(e){let{generatorFactory:t,env:n,debug:r}=e;this.generatorState=new Me(t),this.state=Object.assign({},xe),this.index=1,this.disposers=[],this.finalizeCallbacks=[],this.env=n,this.debug=r,this.cancelRequest=null}start(){this.state.hasStarted||this.cancelRequest||(this.setState({hasStarted:!0}),this.proceedSync(A,void 0),this.taskInstance.onStarted())}cancel(e){return this.requestCancel(e)?(this.state.hasStarted?this.proceedWithCancelAsync():this.finalizeWithCancel(),this.cancelRequest.promise):(e.finalize(),e.promise)}setState(e){Object.assign(this.state,e),this.taskInstance.setState(this.state)}proceedChecked(e,t,n){this.state.isFinished||this.advanceIndex(e)&&(t===P?(this.requestCancel(new we("yielded"),n),this.proceedWithCancelAsync()):this.proceedAsync(t,n))}proceedWithCancelAsync(){this.proceedAsync(j,Re)}proceedAsync(e,t){this.advanceIndex(this.index),this.env.async((()=>this.proceedSync(e,t)))}proceedSync(e,t){this.state.isFinished||(this.dispose(),this.generatorState.done?this.handleResolvedReturnedValue(e,t):this.handleResolvedContinueValue(e,t))}handleResolvedContinueValue(e,t){let n=this.index,r=this.generatorStep(t,e);this.advanceIndex(n)&&(r.errored?this.finalize(r.value,2):this.handleYieldedValue(r))}handleResolvedReturnedValue(e,t){switch(e){case A:case j:this.finalize(t,1);break;case L:this.finalize(t,2)}}handleYieldedUnknownThenable(e){let t=this.index;e.then((e=>{this.proceedChecked(t,A,e)}),(e=>{this.proceedChecked(t,L,e)}))}advanceIndex(e){if(this.index===e)return++this.index}handleYieldedValue(e){let t=e.value;t?(this.addDisposer(t.__ec_cancel__),t.__ec_yieldable__?this.invokeYieldable(t):"function"==typeof t.then?this.handleYieldedUnknownThenable(t):this.proceedWithSimpleValue(t)):this.proceedWithSimpleValue(t)}proceedWithSimpleValue(e){this.proceedAsync(A,e)}addDisposer(e){"function"==typeof e&&this.disposers.push(e)}dispose(){let e=this.disposers;0!==e.length&&(this.disposers=[],e.forEach((e=>e())))}generatorStep(e,t){De.push(this);let n=this.generatorState.step(e,t);if(De.pop(),this._expectsLinkedYield){let e=n.value;e&&e.performType===Te||console.warn("You performed a .linked() task without immediately yielding/returning it. This is currently unsupported (but might be supported in future version of ember-concurrency)."),this._expectsLinkedYield=!1}return n}maybeResolveDefer(){this.defer&&this.state.isFinished&&(1===this.state.completionState?this.defer.resolve(this.state.value):this.defer.reject(this.state.error))}onFinalize(e){this.finalizeCallbacks.push(e),this.state.isFinished&&this.runFinalizeCallbacks()}runFinalizeCallbacks(){this.finalizeCallbacks.forEach((e=>e())),this.finalizeCallbacks=[],this.maybeResolveDefer(),this.maybeThrowUnhandledTaskErrorLater()}promise(){return this.defer||(this.defer=this.env.defer(),this.asyncErrorsHandled=!0,this.maybeResolveDefer()),this.defer.promise}maybeThrowUnhandledTaskErrorLater(){var e;this.asyncErrorsHandled||2!==this.state.completionState||(e=this.state.error)&&e.name===ye||this.env.async((()=>{this.asyncErrorsHandled||this.env.reportUncaughtRejection(this.state.error)}))}requestCancel(e){return!this.cancelRequest&&!this.state.isFinished&&(this.cancelRequest=e,!0)}finalize(e,t){if(this.cancelRequest)return this.finalizeWithCancel();let n={completionState:t};1===t?(n.isSuccessful=!0,n.value=e):2===t?(n.isError=!0,n.error=e):3===t&&(n.error=e),this.finalizeShared(n)}finalizeWithCancel(){let e=this.taskInstance.formatCancelReason(this.cancelRequest.reason),t=new Error(e);this.debugEnabled()&&console.log(e),t.name=ye,this.finalizeShared({isCanceled:!0,completionState:3,error:t,cancelReason:e}),this.cancelRequest.finalize()}debugEnabled(){return this.debug||this.env.globalDebuggingEnabled()}finalizeShared(e){this.index++,e.isFinished=!0,this.setState(e),this.runFinalizeCallbacks(),this.dispatchFinalizeEvents(e.completionState)}dispatchFinalizeEvents(e){switch(e){case 1:this.taskInstance.onSuccess();break;case 2:this.taskInstance.onError(this.state.error);break;case 3:this.taskInstance.onCancel(this.state.cancelReason)}}invokeYieldable(e){try{let t=e.__ec_yieldable__(this.taskInstance,this.index);this.addDisposer(t)}catch(e){this.env.reportUncaughtRejection(e)}}onYielded(e,t){this.asyncErrorsHandled=!0,this.onFinalize((()=>{let n=this.state.completionState;1===n?e.proceed(t,A,this.state.value):2===n?e.proceed(t,L,this.state.error):3===n&&e.proceed(t,P,null)}));let n=this.getPerformType();if(n!==Ce)return()=>{this.detectSelfCancelLoop(n,e),this.cancel(new we("parent_cancel"))}}getPerformType(){return this.taskInstance.performType||Oe}detectSelfCancelLoop(e,t){if(e!==Oe)return;let n=t.executor&&t.executor.cancelRequest;!n||n.kind!==be||this.cancelRequest||this.state.isFinished||this.taskInstance.selfCancelLoopWarning(t)}}class Ae{constructor(e,t,n){this.task=e,this.performType=t,this.linkedObject=n}perform(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.task._performShared(t,this.performType,this.linkedObject)}}class Le extends ke{constructor(e){super(e),this.generatorFactory=e.generatorFactory,this.perform=this._perform.bind(this)}linked(){let e=De[De.length-1];if(!e)throw new Error("You can only call .linked() from within a task.");return new Ae(this,Te,e)}unlinked(){return new Ae(this,Ce,null)}toString(){return`<Task:${this.name}>`}_clone(){return new Le({context:this.context,debug:this.debug,env:this.env,generatorFactory:this.generatorFactory,group:this.group,hasEnabledEvents:this.hasEnabledEvents,name:this.name,onStateCallback:this.onStateCallback,scheduler:this.scheduler})}_curry(){let e=this._clone();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e._curryArgs=[...this._curryArgs||[],...n],e}_perform(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._performShared(t,Oe,null)}_performShared(e,t,n){let r=this._curryArgs?[...this._curryArgs,...e]:e,i=this._taskInstanceFactory(r,t,n);return t===Te&&(n._expectsLinkedYield=!0),this._isAlive||i.cancel(),this.scheduler.perform(i),i}_taskInstanceOptions(e,t,n){return{task:this,args:e,executor:new Ee({generatorFactory:()=>this.generatorFactory(e),env:this.env,debug:this.debug}),performType:t,hasEnabledEvents:this.hasEnabledEvents}}}class je extends ke{}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ie={enqueue:(e,t)=>t&&e.setBufferPolicy(K),evented:(e,t)=>t&&e.setEvented(t),debug:(e,t)=>t&&e.setDebug(t),drop:(e,t)=>t&&e.setBufferPolicy(J),group:(e,t)=>e.setGroup(t),keepLatest:(e,t)=>t&&e.setBufferPolicy(te),maxConcurrency:(e,t)=>e.setMaxConcurrency(t),onState:(e,t)=>e.setOnState(t),restartable:(e,t)=>t&&e.setBufferPolicy(ie)};function He(e,t){if(Ie[e])throw new Error(`A modifier with the name '${e}' has already been defined.`);Ie[e]=t}class Ne{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"<unknown>",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Pe(this,"env",R),Pe(this,"_debug",null),Pe(this,"_enabledModifiers",[]),Pe(this,"_hasSetConcurrencyConstraint",!1),Pe(this,"_hasSetBufferPolicy",!1),Pe(this,"_hasEnabledEvents",!1),Pe(this,"_maxConcurrency",null),Pe(this,"_onStateCallback",((e,t)=>t.setState(e))),Pe(this,"_schedulerPolicyClass",class{makeReducer(){return me}}),Pe(this,"_taskGroupPath",null),this.name=e,this.taskDefinition=t,this.options=n,this._processModifierOptions(n)}createTask(e){let t=this.getTaskOptions(e);return new Le(Object.assign({generatorFactory:t=>this.taskDefinition.apply(e,t)},t))}createTaskGroup(e){let t=this.getTaskOptions(e);return new je(t)}getModifier(e){if(function(e){return e in Ie}(e))return Ie[e].bind(null,this)}getOptions(){return this.options}getScheduler(e,t){return new pe(e,t)}getTaskOptions(e){let t,n,r=this._onStateCallback;if(this._taskGroupPath){if(t=e[this._taskGroupPath],!(t instanceof je))throw new Error(`Expected group '${this._taskGroupPath}' to be defined but was not found.`);n=t.scheduler}else{let e=new this._schedulerPolicyClass(this._maxConcurrency);n=this.getScheduler(e,r&&"function"==typeof r)}return{context:e,debug:this._debug,env:this.env,name:this.name,group:t,scheduler:n,hasEnabledEvents:this._hasEnabledEvents,onStateCallback:r,enabledModifiers:this._enabledModifiers,modifierOptions:this.getOptions()}}setBufferPolicy(e){return function(e){if(e._hasSetBufferPolicy)throw new Error(`Cannot set multiple buffer policies on a task or task group. ${e._schedulerPolicyClass} has already been set for task or task group '${e.name}'`)}(this),this._hasSetBufferPolicy=!0,this._hasSetConcurrencyConstraint=!0,this._schedulerPolicyClass=e,function(e){if(e._hasSetConcurrencyConstraint&&e._taskGroupPath)throw new Error("Cannot use both 'group' and other concurrency-constraining task modifiers (e.g. 'drop', 'enqueue', 'restartable')")}(this),this}setDebug(e){return this._debug=e,this}setEvented(e){return this._hasEnabledEvents=e,this}setMaxConcurrency(e){return this._hasSetConcurrencyConstraint=!0,this._maxConcurrency=e,this}setGroup(e){return this._taskGroupPath=e,this}setName(e){return this.name=e,this}setOnState(e){return this._onStateCallback=e,this}setTaskDefinition(e){return this.taskDefinition=e,this}_processModifierOptions(e){if(e)for(let t of Object.keys(e)){let n=e[t],r=this.getModifier(t);"function"==typeof r&&r(n)&&this._enabledModifiers.push(t)}}}var Fe=n(35428),Ye=n(35198);class ze{constructor(e){let{task:t,args:n,executor:r,performType:i,hasEnabledEvents:o}=e;this.task=t,this.args=n,this.performType=i,this.executor=r,this.executor.taskInstance=this,this.hasEnabledEvents=o}setState(){}onStarted(){}onSuccess(){}onError(){}onCancel(){}formatCancelReason(){}selfCancelLoopWarning(){}onFinalize(e){this.executor.onFinalize(e)}proceed(e,t,n){this.executor.proceedChecked(e,t,n)}[E](e,t){return this.executor.onYielded(e,t)}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".cancel() was explicitly called";this.executor.cancel(new we(ve,e))}then(){return this.executor.promise().then(...arguments)}catch(){return this.executor.promise().catch(...arguments)}finally(){return this.executor.promise().finally(...arguments)}toString(){return`${this.task} TaskInstance`}start(){return this.executor.start(),this}}function Be(e,t){return Object.keys(e).reduce(((t,n)=>function(e,t,n){const r=Object.getOwnPropertyDescriptor(e,n);r.initializer=r.initializer||(()=>e[n]),delete r.value;const i=(0,m.b)(t,n,r);return t[n]=i,t}(e,t,n)),t)}let We,$e;Object.assign(ze.prototype,xe),Object.assign(ze.prototype,{state:"waiting",isDropped:!1,isRunning:!0}),We=Be(ge,{}),We=Be({numRunning:0,numQueued:0,isRunning:!1,isQueued:!1,isIdle:!0,state:"idle"},We),$e=Be(xe,{}),$e=Be({state:"waiting",isDropped:!1,isRunning:!1},$e),Object.freeze(We),Object.freeze($e);class Ue extends ze{setState(e){let t=this._recomputeState(e);N(this,{...e,isRunning:!e.isFinished,isDropped:"dropped"===t,state:t})}_recomputeState(e){return e.isDropped?"dropped":e.isCanceled?e.hasStarted?"canceled":"dropped":e.isFinished?"finished":e.hasStarted?"running":"waiting"}onStarted(){this.triggerEvent("started",this)}onSuccess(){this.triggerEvent("succeeded",this)}onError(e){this.triggerEvent("errored",this,e)}onCancel(e){this.triggerEvent("canceled",this,e)}formatCancelReason(e){return`TaskInstance '${this.getName()}' was canceled because ${e}. For more information, see: http://ember-concurrency.com/docs/task-cancelation-help`}getName(){return this.name||(this.name=this.task&&this.task.name||"<unknown>"),this.name}selfCancelLoopWarning(e){let t=`\`${e.getName()}\``,n=`\`${this.getName()}\``;console.warn(`ember-concurrency detected a potentially hazardous "self-cancel loop" between parent task ${t} and child task ${n}. If you want child task ${n} to be canceled when parent task ${t} is canceled, please change \`.perform()\` to \`.linked().perform()\`. If you want child task ${n} to keep running after parent task ${t} is canceled, change it to \`.unlinked().perform()\``)}triggerEvent(){if(!this.hasEnabledEvents)return;let e=this.task,t=e.context,n=e&&e.name;if(t&&t.trigger&&n){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];let[e,...a]=i;t.trigger(`${n}:${e}`,...a)}}}$e&&Object.defineProperties(Ue.prototype,$e);const Ve={_performCount:0,setState(e){this._performCount=this._performCount+(e.numPerformedInc||0);let t=e.numRunning>0,n=e.numQueued>0,r=Object.assign({},e,{performCount:this._performCount,isRunning:t,isQueued:n,isIdle:!t&&!n,state:t?"running":"idle"});N(this,r)},onState(e,t){t.onStateCallback&&t.onStateCallback(e,t)}};class qe extends Le{constructor(e){super(e),(0,Ye.isDestroying)(this.context)||(0,Ye.registerDestructor)(this.context,(()=>{this.cancelAll({reason:"the object it lives on was destroyed or unrendered",cancelRequestKind:be})}))}get _isAlive(){return!(0,Ye.isDestroying)(this.context)}_taskInstanceFactory(e,t,n){let r=this._taskInstanceOptions(e,t,n);return new Ue(r)}_clone(){return new qe({context:this.context,debug:this.debug,env:this.env,generatorFactory:this.generatorFactory,group:this.group,hasEnabledEvents:this.hasEnabledEvents,name:this.name,onStateCallback:this.onStateCallback,scheduler:this.scheduler})}}We&&Object.defineProperties(qe.prototype,We),Object.assign(qe.prototype,Ve);class Ge extends qe{constructor(e){super(e),this.taskObj=e.taskObj,this._encapsulatedTaskStates=new WeakMap,this._encapsulatedTaskInstanceProxies=new WeakMap}_getEncapsulatedTaskClass(){let e=this._encapsulatedTaskImplClass;return e||(e=y().extend(this.taskObj,{unknownProperty(e){let t=this.__ec__encap_current_ti;return t?t[e]:void 0}})),e}_taskInstanceFactory(e,t){let n,r=(0,Fe.getOwner)(this.context),i=this._getEncapsulatedTaskClass().create({context:this.context});(0,Fe.setOwner)(i,r);let o=new Ue({task:this,args:e,executor:new Ee({generatorFactory:()=>i.perform.apply(n,e),env:this.env,debug:this.debug}),performType:t,hasEnabledEvents:this.hasEnabledEvents});return i.__ec__encap_current_ti=o,this._encapsulatedTaskStates.set(o,i),n=this._wrappedEncapsulatedTaskInstance(o),n}_wrappedEncapsulatedTaskInstance(e){if(!e)return null;let t=this._encapsulatedTaskInstanceProxies,n=t.get(e);if(!n){let r=this._encapsulatedTaskStates.get(e);n=new Proxy(e,{get:(e,t)=>t in e?e[t]:(0,g.get)(r,t.toString()),set:(e,t,n)=>(t in e?e[t]=n:(0,g.set)(r,t.toString(),n),!0),has:(e,t)=>t in e||t in r,ownKeys:e=>Reflect.ownKeys(e).concat(Reflect.ownKeys(r)),defineProperty(n,i,o){let a=t.get(e);return a&&(o.get?o.get=o.get.bind(a):a&&o.set&&(o.set=o.set.bind(a))),Reflect.defineProperty(r,i,o)},getOwnPropertyDescriptor:(e,t)=>t in e?Reflect.getOwnPropertyDescriptor(e,t):Reflect.getOwnPropertyDescriptor(r,t)}),t.set(e,n)}return n}}class Ke extends je{}We&&Object.defineProperties(Ke.prototype,We),Object.assign(Ke.prototype,Ve);const Ze=class extends pe{scheduleRefresh(){(0,b.once)(this,this.refresh)}};let Xe=0;function Je(e,t,n,r,i,o){if(n&&n.length>0)for(let a=0;a<n.length;++a){let s=n[a],l="__ember_concurrency_handler_"+Xe++;t[l]=Qe(r,i,o),e(t,s,null,l)}}function Qe(e,t,n){return function(){let r=(0,g.get)(this,e);n?(0,b.scheduleOnce)("actions",r,t,...arguments):r[t].apply(r,arguments)}}const et=e=>Array.isArray(e)?e:[e];He("cancelOn",((e,t)=>e.addCancelEvents(...et(t)))),He("observes",((e,t)=>e.addObserverKeys(...et(t)))),He("on",((e,t)=>e.addPerformEvents(...et(t))));class tt extends Ne{constructor(){var e;super(...arguments),e=D,"env"in this?Object.defineProperty(this,"env",{value:e,enumerable:!0,configurable:!0,writable:!0}):this.env=e}createTask(e){let t=this.getTaskOptions(e);return"object"==typeof this.taskDefinition?new Ge(Object.assign({taskObj:this.taskDefinition},t)):new qe(Object.assign({generatorFactory:t=>this.taskDefinition.apply(e,t)},t))}createTaskGroup(e){let t=this.getTaskOptions(e);return new Ke(t)}addCancelEvents(){return this._cancelEventNames=this._cancelEventNames||[],this._cancelEventNames.push(...arguments),this}addObserverKeys(){return this._observes=this._observes||[],this._observes.push(...arguments),this}addPerformEvents(){return this._eventNames=this._eventNames||[],this._eventNames.push(...arguments),this}getModifier(e){let t=super.getModifier(e);return t||"function"!=typeof ae.prototype[e]||(t=ae.prototype[e].bind(this)),t}getScheduler(e,t){return new Ze(e,t)}_setupEmberKVO(e){Je(ce.addListener,e,this._eventNames,this.name,"perform",!1),Je(ce.addListener,e,this._cancelEventNames,this.name,"cancelAll",!1),Je(v.addObserver,e,this._observes,this.name,"perform",!0)}get taskFn(){return this.taskDefinition}set taskFn(e){this.setTaskDefinition(e)}}function nt(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ne,{initializer:a,get:s,value:l}=n;a?r=a.call(void 0):s?r=s.call(void 0):l&&(r=l),r.displayName=`${t} (task)`;let u=new WeakMap,c=i[0]||{},d=new o(t,r,c);return d._setupEmberKVO(e),{get(){let e=u.get(this);return e||(e=d.createTask(this),u.set(this,e)),e}}}function rt(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ne,o=new WeakMap,a=r[0]||{},s=new i(t,null,a);return{get(){let e=o.get(this);return e||(e=s.createTaskGroup(this),o.set(this,e)),e}}}function it(e){let[t,n,r]=e;return 3===e.length&&"object"==typeof t&&null!==t&&"string"==typeof n&&("object"==typeof r&&null!==r&&"enumerable"in r&&"configurable"in r||void 0===r)}function ot(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return it(n)?e(...n):function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e(...r,n)}}}function at(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ne;return ot((function(r,i,o){let[a]=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=Object.assign({},{...t,...a});return e(r,i,o,[s],n)}))}function st(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ne;return at(nt,e,t)}function lt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ne;return at(rt,e,t)}ot((function(e,t,n){let[r]=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const{initializer:i}=n;return delete n.initializer,{get(){let e=this[r].lastSuccessful;return e?e.value:i?i.call(this):void 0}}})),ot((function(e,t,n){let[r]=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const{initializer:i}=n;delete n.initializer;let o=(0,g.computed)(`${r}.lastSuccessful`,(function(){let e=(0,g.get)(this,`${r}.lastSuccessful`);return e?(0,g.get)(e,"value"):i?i.call(this):void 0}));return o(e,t,n)}));const ut=st({},tt),ct=(st({drop:!0},tt),st({enqueue:!0},tt),st({keepLatest:!0},tt),st({restartable:!0},tt),lt({},tt));function dt(e){const t=ue((function(){return t.__ec_task_factory.setTaskDefinition(t.taskFn),t.__ec_task_factory.createTask(this)}));return t.taskFn=e,t.__ec_task_factory=new tt,Object.setPrototypeOf(t,ae.prototype),t}function ht(e){return!(!e||"function"==typeof e||"object"==typeof e&&"perform"in e&&"function"==typeof e.perform||Object.getPrototypeOf(e)!==Object.prototype)}function ft(e){return e}function pt(e){return Object.keys(e).map((t=>e[t]))}function mt(e){if(e)if(e instanceof Ue)e.executor.asyncErrorsHandled=!0;else if(e instanceof H)return e._toPromise();return e}function gt(e,t,n){return function(r){let i=function(e,t){if(Array.isArray(e))return e.map(t);if("object"==typeof e&&null!==e){let n={};return Object.keys(e).forEach((r=>{n[r]=t(e[r])})),n}return e}(r,mt),o=n(i),a=C().defer();e[t](i).then(a.resolve,a.reject);let s=!1,l=()=>{s||(s=!0,o.forEach((e=>{e&&(e instanceof Ue?e.cancel():"function"==typeof e.__ec_cancel__&&e.__ec_cancel__())})))},u=a.promise.finally(l);return u.__ec_cancel__=l,u}}function yt(e){return"function"==typeof e}function vt(e){const t=function(e){return"function"==typeof e.initializer?e.initializer.call(void 0):"function"==typeof e.get?e.get.call(void 0):e.value?e.value:void 0}(e);return yt(t)||function(e){return"object"==typeof e&&null!==e&&yt(e.perform)}(t)?function(e,t,n){return ht(e)||t&&n?ut(...arguments):dt(e)}(t):void 0}function bt(e){return function(e,t,n){if(ht(e)||t&&n)return ct(...arguments);{let e=ue((function(t){return e.__ec_task_factory.setName(t),e.__ec_task_factory.createTaskGroup(this)}));return e.__ec_task_factory=new tt,Object.setPrototypeOf(e,se.prototype),e}}()}function wt(e,t){const n=Object.keys(e);for(const r of n){const n=e[r];!0===n?t[r]():t[r](n)}return t}function _t(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return S((function(n,r,i){let[o]=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const{initializer:a,value:s}=i;return delete i.initializer,delete i.value,wt({...t,...o},e({...i,initializer:a,value:s}))(n,r,i)}))}lt({drop:!0},tt),lt({enqueue:!0},tt),lt({keepLatest:!0},tt),lt({restartable:!0},tt),gt(C().Promise,"all",ft),gt(C(),"allSettled",ft),gt(O.Promise,"race",ft),gt(C(),"hash",pt),gt(C(),"hashSettled",pt),_t(vt);const kt=_t(vt,{restartable:!0});var St,Mt,xt,Ot,Ct,Tt,Rt,Dt,Et,At,Lt;function jt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function It(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}_t(vt,{drop:!0}),_t(vt,{keepLatest:!0}),_t(vt,{enqueue:!0}),_t(bt),_t(bt,{restartable:!0}),_t(bt,{drop:!0}),_t(bt,{keepLatest:!0}),_t(bt,{enqueue:!0});const Ht=e=>"function"==typeof e.then,Nt=e=>Ht(e)&&Object.hasOwnProperty.call(e,"content"),Ft=e=>"function"==typeof e.cancel;let Yt=(St=class extends p.Z{constructor(e,t){super(e,t),Pt(this,"_publicAPIActions",{search:this._search,highlight:this._highlight,select:this._select,choose:this._choose,scrollTo:this._scrollTo}),jt(this,"_resolvedOptions",Mt,this),jt(this,"_resolvedSelected",xt,this),jt(this,"_repeatingChar",Ot,this),jt(this,"_expirableSearchText",Ct,this),jt(this,"_searchResult",Tt,this),jt(this,"isActive",Rt,this),jt(this,"loading",Dt,this),jt(this,"searchText",Et,this),jt(this,"lastSearchedText",At,this),jt(this,"highlighted",Lt,this),Pt(this,"storedAPI",void 0),Pt(this,"_lastOptionsPromise",void 0),Pt(this,"_lastSelectedPromise",void 0),Pt(this,"_lastSearchPromise",void 0),Pt(this,"_filterResultsCache",{results:[],options:[],searchText:this.searchText})}willDestroy(){if(this._lastSelectedPromise&&Nt(this._lastSelectedPromise)){try{(0,v.removeObserver)(this._lastSelectedPromise,"content",this,this._selectedObserverCallback)}catch{}this._lastSelectedPromise=void 0}super.willDestroy.apply(this,arguments)}get highlightOnHover(){return void 0===this.args.highlightOnHover||this.args.highlightOnHover}get highlightedIndex(){let e=this.results,t=this.highlighted;return(0,_.Q2)(e,t)}get searchMessage(){return void 0===this.args.searchMessage?"Type to search":this.args.searchMessage}get noMatchesMessage(){return void 0===this.args.noMatchesMessage?"No results found":this.args.noMatchesMessage}get matchTriggerWidth(){return void 0===this.args.matchTriggerWidth||this.args.matchTriggerWidth}get mustShowSearchMessage(){return!this.loading&&0===this.searchText.length&&!!this.args.search&&!!this.searchMessage&&0===this.resultsCount}get mustShowNoMessages(){return!this.loading&&0===this.resultsCount&&(!this.args.search||this.lastSearchedText.length>0)}get results(){if(this.searchText.length>0){if(this.args.search)return Wt(this._searchResult||this.options);{if(this._filterResultsCache.options===this.options&&this._filterResultsCache.searchText===this.searchText)return this._filterResultsCache.results;let e=this._filter(this.options,this.searchText);return this._filterResultsCache={results:e,options:this.options,searchText:this.searchText},e}}return this.options}get options(){return this._resolvedOptions?Wt(this._resolvedOptions):this.args.options?Wt(this.args.options):[]}get resultsCount(){return(0,_.t2)(this.results)}get selected(){return this._resolvedSelected?Wt(this._resolvedSelected):this.args.selected&&"function"!=typeof this.args.selected.then?Wt(this.args.selected):void 0}handleOpen(e,t){if(this.args.onOpen&&!1===this.args.onOpen(this.storedAPI,t))return!1;t&&t instanceof KeyboardEvent&&"keydown"===t.type&&(38===t.keyCode||40===t.keyCode)&&t.preventDefault(),this._resetHighlighted()}handleClose(e,t){if(this.args.onClose&&!1===this.args.onClose(this.storedAPI,t))return!1;this._highlight(void 0)}handleInput(e){if(null===e.target)return;let t,n=e.target.value;this.args.onInput&&(t=this.args.onInput(n,this.storedAPI,e),!1===t)||this._publicAPIActions.search("string"==typeof t?t:n)}handleKeydown(e){return(!this.args.onKeydown||!1!==this.args.onKeydown(this.storedAPI,e))&&this._routeKeydown(this.storedAPI,e)}handleTriggerKeydown(e){if(this.args.onKeydown&&!1===this.args.onKeydown(this.storedAPI,e))e.stopImmediatePropagation();else if(e.ctrlKey||e.metaKey)e.stopImmediatePropagation();else if(e.keyCode>=48&&e.keyCode<=90||Bt(e))this.triggerTypingTask.perform(e);else{if(32!==e.keyCode)return this._routeKeydown(this.storedAPI,e);this._handleKeySpace(this.storedAPI,e)}}handleFocus(e){this.isDestroying||(0,b.scheduleOnce)("actions",this,this._updateIsActive,!0),this.args.onFocus&&this.args.onFocus(this.storedAPI,e)}handleBlur(e){this.isDestroying||(0,b.scheduleOnce)("actions",this,this._updateIsActive,!1),this.args.onBlur&&this.args.onBlur(this.storedAPI,e)}_search(e){this.searchText!==e&&(this.searchText=e,this.args.search||(this.lastSearchedText=e,this._resetHighlighted()))}_updateOptions(){if(this.args.options)if(Ht(this.args.options)){if(this._lastOptionsPromise===this.args.options)return;let e=this.args.options;this._lastOptionsPromise=e,this.loading=!0,this._lastOptionsPromise.then((t=>{this._lastOptionsPromise===e&&(this.loading=!1,this._resolvedOptions=t,this._resetHighlighted())})).catch((()=>{this._lastOptionsPromise===e&&(this.loading=!1)}))}else(0,b.scheduleOnce)("actions",this,this._resetHighlighted)}_updateHighlighted(){this.storedAPI.isOpen&&this._resetHighlighted()}_updateSelected(){if(this.args.selected)if("function"==typeof this.args.selected.then){if(this._lastSelectedPromise===this.args.selected)return;this._lastSelectedPromise&&Nt(this._lastSelectedPromise)&&(0,v.removeObserver)(this._lastSelectedPromise,"content",this,this._selectedObserverCallback);let e=this.args.selected;e.then((()=>{this.isDestroyed||this.isDestroying||Nt(e)&&(0,v.addObserver)(e,"content",this,this._selectedObserverCallback)})),this._lastSelectedPromise=e,this._lastSelectedPromise.then((t=>{this._lastSelectedPromise===e&&(this._resolvedSelected=t,this._highlight(t))}))}else this._resolvedSelected=void 0,Array.isArray(this.args.selected)||this._highlight(this.args.selected)}_selectedObserverCallback(){this._resolvedSelected=this._lastSelectedPromise,this._highlight(this._resolvedSelected)}_highlight(e){e&&(0,g.get)(e,"disabled")||(this.highlighted=e)}_select(e,t){(0,w.isEqual)(this.storedAPI.selected,e)||this.args.onChange(e,this.storedAPI,t)}_choose(e,t){let n=this.args.buildSelection?this.args.buildSelection(e,this.storedAPI):e;this.storedAPI.actions.select(n,t),!1!==this.args.closeOnSelect&&this.storedAPI.actions.close(t)}_scrollTo(e){let t=this.storedAPI;if(!document||!e)return;if(this.args.scrollTo)return this.args.scrollTo(e,t);let n=document.getElementById(`ember-power-select-options-${t.uniqueId}`);if(!n)return;let r=(0,_.iZ)(t.results,e);if(-1===r)return;let i=n.querySelectorAll("[data-option-index]").item(r);if(!i)return;let o=i.offsetTop-n.offsetTop,a=o+i.offsetHeight;a>n.offsetHeight+n.scrollTop?n.scrollTop=a-n.offsetHeight:o<n.scrollTop&&(n.scrollTop=o)}_registerAPI(e,t){let[n]=t;this.storedAPI=n,this.args.registerAPI&&(0,b.scheduleOnce)("actions",null,this.args.registerAPI,n)}_performSearch(e,t){let[n]=t;if(!this.args.search)return;if(""===n)return this.loading=!1,this.lastSearchedText=n,void(void 0!==this._lastSearchPromise&&(Ft(this._lastSearchPromise)&&this._lastSearchPromise.cancel(),this._lastSearchPromise=void 0));let r=this.args.search(n,this.storedAPI);r&&Ht(r)?(this.loading=!0,void 0!==this._lastSearchPromise&&Ft(this._lastSearchPromise)&&this._lastSearchPromise.cancel(),this._lastSearchPromise=r,r.then((e=>{this._lastSearchPromise===r&&(this._searchResult=e,this.loading=!1,this.lastSearchedText=n,(0,b.scheduleOnce)("actions",this,this._resetHighlighted))})).catch((()=>{this._lastSearchPromise===r&&(this.loading=!1,this.lastSearchedText=n)}))):(this.lastSearchedText=n,this._searchResult=r,(0,b.scheduleOnce)("actions",this,this._resetHighlighted))}_defaultBuildSelection(e){return e}_routeKeydown(e,t){return 38===t.keyCode||40===t.keyCode?this._handleKeyUpDown(e,t):13===t.keyCode?this._handleKeyEnter(e,t):9===t.keyCode?this._handleKeyTab(e,t):27===t.keyCode?this._handleKeyESC(e,t):void 0}_handleKeyTab(e,t){e.actions.close(t)}_handleKeyESC(e,t){e.actions.close(t)}_handleKeyEnter(e,t){if(e.isOpen&&void 0!==e.highlighted)return e.actions.choose(e.highlighted,t),t.stopImmediatePropagation(),!1}_handleKeySpace(e,t){null!==t.target&&["TEXTAREA","INPUT"].includes(t.target.nodeName)?t.stopImmediatePropagation():e.isOpen&&void 0!==e.highlighted&&(t.stopImmediatePropagation(),t.preventDefault(),e.actions.choose(e.highlighted,t))}_handleKeyUpDown(e,t){if(e.isOpen){t.preventDefault(),t.stopPropagation();let n=40===t.keyCode?1:-1,r=(0,_.oq)(e.results,e.highlighted,n);e.actions.highlight(r),e.actions.scrollTo(r)}else e.actions.open(t)}_resetHighlighted(){let e,t=this.args.defaultHighlighted||_.iw;e="function"==typeof t?t({results:this.results,highlighted:this.highlighted,selected:this.selected}):t,this._highlight(e)}_filter(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=zt(this.args.matcher||_.WT,_.WT,this.args.searchField);return(0,_.MN)(e||[],t,r,n)}_updateIsActive(e){this.isActive=e}findWithOffset(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=zt(this.args.typeAheadOptionMatcher||_.K0,_.K0,this.args.searchField);return(0,_.hE)(e||[],t,i,n,r)}*triggerTypingTask(e){let t,n=1,r=this._repeatingChar,i=e.keyCode;Bt(e)&&(i-=48);let o=String.fromCharCode(i);t=o===this._repeatingChar?o:this._expirableSearchText+o,t.length>1?(n=0,r=""):r=o,this.storedAPI.isOpen&&this.storedAPI.highlighted?n+=(0,_.iZ)(this.storedAPI.options,this.storedAPI.highlighted):!this.storedAPI.isOpen&&this.selected?n+=(0,_.iZ)(this.storedAPI.options,this.selected):n=0,this._expirableSearchText=this._expirableSearchText+o,this._repeatingChar=r;let a=this.findWithOffset(this.storedAPI.options,t,n,!0);void 0!==a&&(this.storedAPI.isOpen?(this.storedAPI.actions.highlight(a),this.storedAPI.actions.scrollTo(a)):this.storedAPI.actions.select(a,e)),yield(1e3,new Y(1e3)),this._expirableSearchText="",this._repeatingChar=""}},Mt=It(St.prototype,"_resolvedOptions",[m.b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xt=It(St.prototype,"_resolvedSelected",[m.b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ot=It(St.prototype,"_repeatingChar",[m.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ct=It(St.prototype,"_expirableSearchText",[m.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Tt=It(St.prototype,"_searchResult",[m.b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rt=It(St.prototype,"isActive",[m.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Dt=It(St.prototype,"loading",[m.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Et=It(St.prototype,"searchText",[m.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),At=It(St.prototype,"lastSearchedText",[m.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Lt=It(St.prototype,"highlighted",[m.b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),It(St.prototype,"handleOpen",[g.action],Object.getOwnPropertyDescriptor(St.prototype,"handleOpen"),St.prototype),It(St.prototype,"handleClose",[g.action],Object.getOwnPropertyDescriptor(St.prototype,"handleClose"),St.prototype),It(St.prototype,"handleInput",[g.action],Object.getOwnPropertyDescriptor(St.prototype,"handleInput"),St.prototype),It(St.prototype,"handleKeydown",[g.action],Object.getOwnPropertyDescriptor(St.prototype,"handleKeydown"),St.prototype),It(St.prototype,"handleTriggerKeydown",[g.action],Object.getOwnPropertyDescriptor(St.prototype,"handleTriggerKeydown"),St.prototype),It(St.prototype,"handleFocus",[g.action],Object.getOwnPropertyDescriptor(St.prototype,"handleFocus"),St.prototype),It(St.prototype,"handleBlur",[g.action],Object.getOwnPropertyDescriptor(St.prototype,"handleBlur"),St.prototype),It(St.prototype,"_search",[g.action],Object.getOwnPropertyDescriptor(St.prototype,"_search"),St.prototype),It(St.prototype,"_updateOptions",[g.action],Object.getOwnPropertyDescriptor(St.prototype,"_updateOptions"),St.prototype),It(St.prototype,"_updateHighlighted",[g.action],Object.getOwnPropertyDescriptor(St.prototype,"_updateHighlighted"),St.prototype),It(St.prototype,"_updateSelected",[g.action],Object.getOwnPropertyDescriptor(St.prototype,"_updateSelected"),St.prototype),It(St.prototype,"_highlight",[g.action],Object.getOwnPropertyDescriptor(St.prototype,"_highlight"),St.prototype),It(St.prototype,"_select",[g.action],Object.getOwnPropertyDescriptor(St.prototype,"_select"),St.prototype),It(St.prototype,"_choose",[g.action],Object.getOwnPropertyDescriptor(St.prototype,"_choose"),St.prototype),It(St.prototype,"_scrollTo",[g.action],Object.getOwnPropertyDescriptor(St.prototype,"_scrollTo"),St.prototype),It(St.prototype,"_registerAPI",[g.action],Object.getOwnPropertyDescriptor(St.prototype,"_registerAPI"),St.prototype),It(St.prototype,"_performSearch",[g.action],Object.getOwnPropertyDescriptor(St.prototype,"_performSearch"),St.prototype),It(St.prototype,"triggerTypingTask",[kt],Object.getOwnPropertyDescriptor(St.prototype,"triggerTypingTask"),St.prototype),St);function zt(e,t,n){return n&&e===t?(t,r)=>e((0,g.get)(t,n),r):(t,n)=>e(t,n)}function Bt(e){return e.keyCode>=96&&e.keyCode<=105}const Wt=e=>"function"==typeof e.toArray?e.toArray():e;(0,r.setComponentTemplate)(f,Yt)},57981:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(45308),i=n(57339),o=n(9216),a=n(71275);window.define("opendatafit-embed/modifiers/will-destroy",(function(){return i.Z})),window.define("opendatafit-embed/modifiers/did-insert",(function(){return o.Z}));const s=(0,a.createTemplateFactory)({id:"aEpkvK+r",block:'[[[41,[30,1],[[[1,"  "],[10,0],[14,0,"ember-power-select-search"],[12],[1,"\\n    "],[11,"input"],[24,"autocomplete","off"],[24,"autocorrect","off"],[24,"autocapitalize","off"],[16,"spellcheck",false],[24,"role","combobox"],[24,0,"ember-power-select-search-input"],[16,2,[30,2,["searchText"]]],[16,"aria-activedescendant",[30,3]],[16,"aria-controls",[30,4]],[24,"aria-haspopup","listbox"],[16,"placeholder",[30,5]],[24,4,"search"],[4,[38,1],["input",[30,6]],null],[4,[38,1],["focus",[30,7]],null],[4,[38,1],["blur",[30,8]],null],[4,[38,1],["keydown",[30,0,["handleKeydown"]]],null],[4,[38,2],[[30,0,["focusInput"]]],null],[4,[38,3],[[30,0,["clearSearch"]]],null],[12],[13],[1,"\\n  "],[13],[1,"\\n"]],[]],null]],["@searchEnabled","@select","@ariaActiveDescendant","@listboxId","@searchPlaceholder","@onInput","@onFocus","@onBlur"],false,["if","on","did-insert","will-destroy"]]',moduleName:"ember-power-select/components/power-select/before-options.hbs",isStrictMode:!1});var l,u=n(78479),c=n(61417),d=n(96663);function h(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let f=(h((l=class extends u.Z{clearSearch(){(0,c.scheduleOnce)("actions",this.args.select.actions,"search","")}handleKeydown(e){if(!1===this.args.onKeydown(e))return!1;13===e.keyCode&&this.args.select.actions.close(e)}focusInput(e){(0,c.later)((()=>{!1!==this.args.autofocus&&e.focus()}),0)}}).prototype,"clearSearch",[d.action],Object.getOwnPropertyDescriptor(l.prototype,"clearSearch"),l.prototype),h(l.prototype,"handleKeydown",[d.action],Object.getOwnPropertyDescriptor(l.prototype,"handleKeydown"),l.prototype),h(l.prototype,"focusInput",[d.action],Object.getOwnPropertyDescriptor(l.prototype,"focusInput"),l.prototype),l);(0,r.setComponentTemplate)(s,f)},32263:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(45308);const i=(0,n(71275).createTemplateFactory)({id:"0m0XHejb",block:'[[[41,[30,1],[[[1,"  "],[10,"ul"],[14,0,"ember-power-select-options"],[14,"role","listbox"],[12],[1,"\\n    "],[10,"li"],[14,0,"ember-power-select-option ember-power-select-option--no-matches-message"],[14,"role","option"],[12],[1,"\\n      "],[1,[30,1]],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"]],[]],null]],["@noMatchesMessage"],false,["if"]]',moduleName:"ember-power-select/components/power-select/no-matches-message.hbs",isStrictMode:!1});var o=n(74305),a=n.n(o);const s=(0,r.setComponentTemplate)(i,a()())},97847:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(45308),i=n(90280),o=n(649),a=n(97803),s=n(86449),l=n(57339),u=n(9216),c=n(71275);window.define("opendatafit-embed/helpers/eq",(function(){return i.Z})),window.define("opendatafit-embed/helpers/ember-power-select-is-selected",(function(){return o.Z})),window.define("opendatafit-embed/helpers/ember-power-select-is-group",(function(){return a.Z})),window.define("opendatafit-embed/helpers/ensure-safe-component",(function(){return s.Z})),window.define("opendatafit-embed/modifiers/will-destroy",(function(){return l.Z})),window.define("opendatafit-embed/modifiers/did-insert",(function(){return u.Z}));const d=(0,c.createTemplateFactory)({id:"f2iIFiWb",block:'[[[11,"ul"],[24,"role","listbox"],[17,1],[4,[38,0],[[30,0,["addHandlers"]]],null],[4,[38,1],[[30,0,["removeHandlers"]]],null],[12],[1,"\\n"],[41,[30,2,["loading"]],[[[41,[30,3],[[[1,"      "],[10,"li"],[14,0,"ember-power-select-option ember-power-select-option--loading-message"],[14,"role","option"],[12],[1,[30,3]],[13],[1,"\\n"]],[]],null]],[]],null],[44,[[50,[28,[37,5],[[30,4]],null],0,null,null],[50,[28,[37,5],[[30,5]],null],0,null,null]],[[[42,[28,[37,7],[[28,[37,7],[[30,8]],null]],null],null,[[[41,[28,[37,8],[[30,9]],null],[[[1,"        "],[8,[30,6],null,[["@group","@select","@extra"],[[30,9],[30,2],[30,11]]],[["default"],[[[[1,"\\n          "],[8,[30,7],[[24,"role","group"],[24,0,"ember-power-select-options"]],[["@options","@select","@groupIndex","@optionsComponent","@groupComponent","@extra"],[[30,9,["options"]],[30,2],[29,[[30,12],[30,10],"."]],[30,5],[30,4],[30,11]]],[["default"],[[[[1,"\\n            "],[18,14,[[30,13],[30,2]]],[1,"\\n          "]],[13]]]]],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]],[[[1,"        "],[10,"li"],[14,0,"ember-power-select-option"],[15,1,[29,[[30,2,["uniqueId"]],"-",[30,12],[30,10]]]],[15,"aria-selected",[29,[[28,[37,10],[[30,9],[30,2,["selected"]]],null]]]],[15,"aria-disabled",[52,[30,9,["disabled"]],"true"]],[15,"aria-current",[29,[[28,[37,11],[[30,9],[30,2,["highlighted"]]],null]]]],[15,"data-option-index",[29,[[30,12],[30,10]]]],[14,"role","option"],[12],[1,"\\n          "],[18,14,[[30,9],[30,2]]],[1,"\\n        "],[13],[1,"\\n"]],[]]]],[9,10]],null]],[6,7]]],[13],[1,"\\n"]],["&attrs","@select","@loadingMessage","@groupComponent","@optionsComponent","Group","Options","@options","opt","index","@extra","@groupIndex","option","&default"],false,["did-insert","will-destroy","if","let","component","ensure-safe-component","each","-track-array","ember-power-select-is-group","yield","ember-power-select-is-selected","eq"]]',moduleName:"ember-power-select/components/power-select/options.hbs",isStrictMode:!1});var h,f=n(78479),p=n(96663);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const y=!!window&&"ontouchstart"in window;var v;"undefined"==typeof FastBoot&&("function"!=typeof(v=window.Element.prototype).matches&&(v.matches=v.msMatchesSelector||v.mozMatchesSelector||v.webkitMatchesSelector),"function"!=typeof v.closest&&(v.closest=function(e){let t=this;for(;null!==t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null}));let b=(g((h=class extends f.Z{constructor(){super(...arguments),m(this,"isTouchDevice",y),m(this,"hasMoved",!1),m(this,"mouseOverHandler",(e=>{})),m(this,"mouseUpHandler",(e=>{})),m(this,"touchEndHandler",(e=>{})),m(this,"touchMoveHandler",(e=>{})),m(this,"touchStartHandler",(e=>{}))}addHandlers(e){let t=e.getAttribute("role");if("group"===t)return;let n=(e,t)=>{if(null===t.target)return;let n=t.target.closest("[data-option-index]");if(!n)return;if(n.closest("[aria-disabled=true]"))return;let r=n.getAttribute("data-option-index");null!==r&&e(this._optionFromIndex(r),t)};this.mouseUpHandler=e=>n(this.args.select.actions.choose,e),e.addEventListener("mouseup",this.mouseUpHandler),this.args.highlightOnHover&&(this.mouseOverHandler=e=>n(this.args.select.actions.highlight,e),e.addEventListener("mouseover",this.mouseOverHandler)),this.isTouchDevice&&(this.touchMoveHandler=t=>{this.hasMoved=!0,e&&e.removeEventListener("touchmove",this.touchMoveHandler)},this.touchStartHandler=t=>{e.addEventListener("touchmove",this.touchMoveHandler)},this.touchEndHandler=e=>{if(null===e.target)return;let t=e.target.closest("[data-option-index]");if(null===t)return;if(e.preventDefault(),this.hasMoved)return void(this.hasMoved=!1);if(t.closest("[aria-disabled=true]"))return;let n=t.getAttribute("data-option-index");null!==n&&this.args.select.actions.choose(this._optionFromIndex(n),e)},e.addEventListener("touchstart",this.touchStartHandler),e.addEventListener("touchend",this.touchEndHandler)),"group"!==t&&this.args.select.actions.scrollTo(this.args.select.highlighted)}removeHandlers(e){e.removeEventListener("mouseup",this.mouseUpHandler),e.removeEventListener("mouseover",this.mouseOverHandler),e.removeEventListener("touchstart",this.touchStartHandler),e.removeEventListener("touchmove",this.touchMoveHandler),e.removeEventListener("touchend",this.touchEndHandler)}_optionFromIndex(e){let t=e.split("."),n=this.args.options[parseInt(t[0],10)];for(let e=1;e<t.length;e++)n=n.options[parseInt(t[e],10)];return n}}).prototype,"addHandlers",[p.action],Object.getOwnPropertyDescriptor(h.prototype,"addHandlers"),h.prototype),g(h.prototype,"removeHandlers",[p.action],Object.getOwnPropertyDescriptor(h.prototype,"removeHandlers"),h.prototype),h);(0,r.setComponentTemplate)(d,b)},44105:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(45308);const i=(0,n(71275).createTemplateFactory)({id:"7iOUtQCZ",block:'[[[41,[30,1],[[[1,"  "],[11,1],[24,0,"ember-power-select-placeholder"],[17,2],[12],[1,[30,1]],[13],[1,"\\n"]],[]],null]],["@placeholder","&attrs"],false,["if"]]',moduleName:"ember-power-select/components/power-select/placeholder.hbs",isStrictMode:!1});var o=n(74305),a=n.n(o);const s=(0,r.setComponentTemplate)(i,a()())},61338:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(45308);const i=(0,n(71275).createTemplateFactory)({id:"UjjiJbiW",block:'[[[10,"li"],[14,0,"ember-power-select-group"],[15,"aria-disabled",[52,[30,1,["disabled"]],"true"]],[14,"role","option"],[12],[1,"\\n  "],[10,1],[14,0,"ember-power-select-group-name"],[12],[1,[30,1,["groupName"]]],[13],[1,"\\n  "],[18,2,null],[1,"\\n"],[13]],["@group","&default"],false,["if","yield"]]',moduleName:"ember-power-select/components/power-select/power-select-group.hbs",isStrictMode:!1});var o=n(74305),a=n.n(o);const s=(0,r.setComponentTemplate)(i,a()())},85902:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(45308);const i=(0,n(71275).createTemplateFactory)({id:"p9iIhoP1",block:'[[[10,"ul"],[14,0,"ember-power-select-options"],[14,"role","listbox"],[12],[1,"\\n  "],[10,"li"],[14,0,"ember-power-select-option ember-power-select-option--search-message"],[14,"role","option"],[12],[1,"\\n    "],[1,[30,1]],[1,"\\n  "],[13],[1,"\\n"],[13]],["@searchMessage"],false,[]]',moduleName:"ember-power-select/components/power-select/search-message.hbs",isStrictMode:!1});var o=n(74305),a=n.n(o);const s=(0,r.setComponentTemplate)(i,a()())},79991:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(45308),i=n(68080),o=n(96507),a=n(86449),s=n(71275);window.define("opendatafit-embed/helpers/not",(function(){return i.Z})),window.define("opendatafit-embed/helpers/and",(function(){return o.Z})),window.define("opendatafit-embed/helpers/ensure-safe-component",(function(){return a.Z}));const l=(0,s.createTemplateFactory)({id:"P8fld6S0",block:'[[[41,[30,1,["selected"]],[[[41,[30,2],[[[1,"    "],[46,[28,[37,2],[[30,2]],null],null,[["extra","option","select"],[[28,[37,3],[[30,3]],null],[28,[37,3],[[30,1,["selected"]]],null],[28,[37,3],[[30,1]],null]]],null],[1,"\\n"]],[]],[[[1,"    "],[10,1],[14,0,"ember-power-select-selected-item"],[12],[18,7,[[30,1,["selected"]],[30,1]]],[13],[1,"\\n"]],[]]],[41,[28,[37,5],[[30,4],[28,[37,6],[[30,1,["disabled"]]],null]],null],[[[1,"    "],[11,1],[24,0,"ember-power-select-clear-btn"],[24,"role","button"],[4,[38,7],["mousedown",[30,0,["clear"]]],null],[4,[38,7],["touchstart",[30,0,["clear"]]],null],[12],[1,"×"],[13],[1,"\\n"]],[]],null]],[]],[[[1,"  "],[46,[28,[37,2],[[30,5]],null],null,[["placeholder"],[[30,6]]],null],[1,"\\n"]],[]]],[10,1],[14,0,"ember-power-select-status-icon"],[12],[13],[1,"\\n"]],["@select","@selectedItemComponent","@extra","@allowClear","@placeholderComponent","@placeholder","&default"],false,["if","component","ensure-safe-component","readonly","yield","and","not","on"]]',moduleName:"ember-power-select/components/power-select/trigger.hbs",isStrictMode:!1});var u,c=n(78479),d=n(96663);let h=(u=class extends c.Z{clear(e){if(e.stopPropagation(),this.args.select.actions.select(null),"touchstart"===e.type)return!1}},f=u.prototype,p="clear",m=[d.action],g=Object.getOwnPropertyDescriptor(u.prototype,"clear"),y=u.prototype,v={},Object.keys(g).forEach((function(e){v[e]=g[e]})),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=m.slice().reverse().reduce((function(e,t){return t(f,p,e)||e}),v),y&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(y):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(f,p,v),v=null),u);var f,p,m,g,y,v;(0,r.setComponentTemplate)(l,h)},79911:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(57495),i=n(6919);const o=(0,r.helper)((function(e){let[t]=e;return(0,i.ty)(t)}))},74684:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(57495),i=n(91251),o=n(9805);const a=(0,r.helper)((function(e){let[t,n]=e;if(null==n)return!1;if((0,i.isArray)(n)){for(let e=0;e<n.length;e++)if((0,o.isEqual)(n[e],t))return!0;return!1}return(0,o.isEqual)(t,n)}))},6919:(e,t,n)=>{"use strict";n.d(t,{K0:()=>v,MN:()=>h,Q2:()=>l,WT:()=>y,hE:()=>d,iZ:()=>s,iw:()=>f,oq:()=>p,t2:()=>a,ty:()=>o});var r=n(91251),i=n(96663);function o(e){return!!e&&!!(0,i.get)(e,"groupName")&&!!(0,i.get)(e,"options")}function a(e){let t=0;return function e(n){if(n)for(let r=0;r<(0,i.get)(n,"length");r++){let a=n.objectAt?n.objectAt(r):n[r];o(a)?e((0,i.get)(a,"options")):t++}}(e),t}function s(e,t){let n=0;return function e(r){if(!r)return-1;for(let a=0;a<(0,i.get)(r,"length");a++){let s=r.objectAt?r.objectAt(a):r[a];if(o(s)){let t=e((0,i.get)(s,"options"));if(t>-1)return t}else{if(s===t)return n;n++}}return-1}(e)}function l(e,t){return function e(n){if(!n)return"";for(let r=0;r<(0,i.get)(n,"length");r++){let a=n.objectAt?n.objectAt(r):n[r];if(o(a)){let t=e((0,i.get)(a,"options"));if(t.length>0)return r+"."+t}else if(a===t)return r+""}return""}(e)}function u(e,t){let n=0;return function e(r,a){if(!r||t<0)return{disabled:!1,option:void 0};let s=0,l=(0,i.get)(r,"length");for(;n<=t&&s<l;){let l=r.objectAt?r.objectAt(s):r[s];if(o(l)){let t=e((0,i.get)(l,"options"),a||!!(0,i.get)(l,"disabled"));if(t)return t}else{if(n===t)return{disabled:a||!!(0,i.get)(l,"disabled"),option:l};n++}s++}}(e,!1)||{disabled:!1,option:void 0}}function c(e,t){let n={groupName:e.groupName,options:t};return e.hasOwnProperty("disabled")&&(n.disabled=e.disabled),n}function d(e,t,n,r){let a,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=0,u=!1,c=()=>!!u;return function e(d,h){let f=(0,i.get)(d,"length");for(let p=0;p<f;p++){let f=d.objectAt?d.objectAt(p):d[p],m=!!(0,i.get)(f,"disabled");if(!s||!m){if(o(f)){if(e((0,i.get)(f,"options"),h||m),c())return}else n(f,t)>=0?(l<r?a||(a=f):u=f,l++):l++;if(c())return}}}(e,!1),u||a}function h(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=(0,r.A)(),l=(0,i.get)(e,"length");for(let r=0;r<l;r++){let l=e.objectAt?e.objectAt(r):e[r];if(!a||!(0,i.get)(l,"disabled"))if(o(l)){let e=h((0,i.get)(l,"options"),t,n,a);(0,i.get)(e,"length")>0&&s.push(c(l,e))}else n(l,t)>=0&&s.push(l)}return s}function f(e){let{results:t,highlighted:n,selected:r}=e,i=n||r;return void 0===i||-1===s(t,i)?p(t,i,1):i}function p(e,t,n){let r=a(e),i=Math.min(Math.max(s(e,t)+n,0),r-1),{disabled:o,option:l}=u(e,i);for(;l&&o;){let t=u(e,i+=n);o=t.disabled,l=t.option}return l}const m={"Ⓐ":"A",Ａ:"A",À:"A",Á:"A",Â:"A",Ầ:"A",Ấ:"A",Ẫ:"A",Ẩ:"A",Ã:"A",Ā:"A",Ă:"A",Ằ:"A",Ắ:"A",Ẵ:"A",Ẳ:"A",Ȧ:"A",Ǡ:"A",Ä:"A",Ǟ:"A",Ả:"A",Å:"A",Ǻ:"A",Ǎ:"A",Ȁ:"A",Ȃ:"A",Ạ:"A",Ậ:"A",Ặ:"A",Ḁ:"A",Ą:"A",Ⱥ:"A",Ɐ:"A",Ꜳ:"AA",Æ:"AE",Ǽ:"AE",Ǣ:"AE",Ꜵ:"AO",Ꜷ:"AU",Ꜹ:"AV",Ꜻ:"AV",Ꜽ:"AY","Ⓑ":"B",Ｂ:"B",Ḃ:"B",Ḅ:"B",Ḇ:"B",Ƀ:"B",Ƃ:"B",Ɓ:"B","Ⓒ":"C",Ｃ:"C",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",Ç:"C",Ḉ:"C",Ƈ:"C",Ȼ:"C",Ꜿ:"C","Ⓓ":"D",Ｄ:"D",Ḋ:"D",Ď:"D",Ḍ:"D",Ḑ:"D",Ḓ:"D",Ḏ:"D",Đ:"D",Ƌ:"D",Ɗ:"D",Ɖ:"D",Ꝺ:"D",Ǳ:"DZ",Ǆ:"DZ",ǲ:"Dz",ǅ:"Dz","Ⓔ":"E",Ｅ:"E",È:"E",É:"E",Ê:"E",Ề:"E",Ế:"E",Ễ:"E",Ể:"E",Ẽ:"E",Ē:"E",Ḕ:"E",Ḗ:"E",Ĕ:"E",Ė:"E",Ë:"E",Ẻ:"E",Ě:"E",Ȅ:"E",Ȇ:"E",Ẹ:"E",Ệ:"E",Ȩ:"E",Ḝ:"E",Ę:"E",Ḙ:"E",Ḛ:"E",Ɛ:"E",Ǝ:"E","Ⓕ":"F",Ｆ:"F",Ḟ:"F",Ƒ:"F",Ꝼ:"F","Ⓖ":"G",Ｇ:"G",Ǵ:"G",Ĝ:"G",Ḡ:"G",Ğ:"G",Ġ:"G",Ǧ:"G",Ģ:"G",Ǥ:"G",Ɠ:"G",Ꞡ:"G",Ᵹ:"G",Ꝿ:"G","Ⓗ":"H",Ｈ:"H",Ĥ:"H",Ḣ:"H",Ḧ:"H",Ȟ:"H",Ḥ:"H",Ḩ:"H",Ḫ:"H",Ħ:"H",Ⱨ:"H",Ⱶ:"H",Ɥ:"H","Ⓘ":"I",Ｉ:"I",Ì:"I",Í:"I",Î:"I",Ĩ:"I",Ī:"I",Ĭ:"I",İ:"I",Ï:"I",Ḯ:"I",Ỉ:"I",Ǐ:"I",Ȉ:"I",Ȋ:"I",Ị:"I",Į:"I",Ḭ:"I",Ɨ:"I","Ⓙ":"J",Ｊ:"J",Ĵ:"J",Ɉ:"J","Ⓚ":"K",Ｋ:"K",Ḱ:"K",Ǩ:"K",Ḳ:"K",Ķ:"K",Ḵ:"K",Ƙ:"K",Ⱪ:"K",Ꝁ:"K",Ꝃ:"K",Ꝅ:"K",Ꞣ:"K","Ⓛ":"L",Ｌ:"L",Ŀ:"L",Ĺ:"L",Ľ:"L",Ḷ:"L",Ḹ:"L",Ļ:"L",Ḽ:"L",Ḻ:"L",Ł:"L",Ƚ:"L",Ɫ:"L",Ⱡ:"L",Ꝉ:"L",Ꝇ:"L",Ꞁ:"L",Ǉ:"LJ",ǈ:"Lj","Ⓜ":"M",Ｍ:"M",Ḿ:"M",Ṁ:"M",Ṃ:"M",Ɱ:"M",Ɯ:"M","Ⓝ":"N",Ｎ:"N",Ǹ:"N",Ń:"N",Ñ:"N",Ṅ:"N",Ň:"N",Ṇ:"N",Ņ:"N",Ṋ:"N",Ṉ:"N",Ƞ:"N",Ɲ:"N",Ꞑ:"N",Ꞥ:"N",Ǌ:"NJ",ǋ:"Nj","Ⓞ":"O",Ｏ:"O",Ò:"O",Ó:"O",Ô:"O",Ồ:"O",Ố:"O",Ỗ:"O",Ổ:"O",Õ:"O",Ṍ:"O",Ȭ:"O",Ṏ:"O",Ō:"O",Ṑ:"O",Ṓ:"O",Ŏ:"O",Ȯ:"O",Ȱ:"O",Ö:"O",Ȫ:"O",Ỏ:"O",Ő:"O",Ǒ:"O",Ȍ:"O",Ȏ:"O",Ơ:"O",Ờ:"O",Ớ:"O",Ỡ:"O",Ở:"O",Ợ:"O",Ọ:"O",Ộ:"O",Ǫ:"O",Ǭ:"O",Ø:"O",Ǿ:"O",Ɔ:"O",Ɵ:"O",Ꝋ:"O",Ꝍ:"O",Ƣ:"OI",Ꝏ:"OO",Ȣ:"OU","Ⓟ":"P",Ｐ:"P",Ṕ:"P",Ṗ:"P",Ƥ:"P",Ᵽ:"P",Ꝑ:"P",Ꝓ:"P",Ꝕ:"P","Ⓠ":"Q",Ｑ:"Q",Ꝗ:"Q",Ꝙ:"Q",Ɋ:"Q","Ⓡ":"R",Ｒ:"R",Ŕ:"R",Ṙ:"R",Ř:"R",Ȑ:"R",Ȓ:"R",Ṛ:"R",Ṝ:"R",Ŗ:"R",Ṟ:"R",Ɍ:"R",Ɽ:"R",Ꝛ:"R",Ꞧ:"R",Ꞃ:"R","Ⓢ":"S",Ｓ:"S",ẞ:"S",Ś:"S",Ṥ:"S",Ŝ:"S",Ṡ:"S",Š:"S",Ṧ:"S",Ṣ:"S",Ṩ:"S",Ș:"S",Ş:"S",Ȿ:"S",Ꞩ:"S",Ꞅ:"S","Ⓣ":"T",Ｔ:"T",Ṫ:"T",Ť:"T",Ṭ:"T",Ț:"T",Ţ:"T",Ṱ:"T",Ṯ:"T",Ŧ:"T",Ƭ:"T",Ʈ:"T",Ⱦ:"T",Ꞇ:"T",Ꜩ:"TZ","Ⓤ":"U",Ｕ:"U",Ù:"U",Ú:"U",Û:"U",Ũ:"U",Ṹ:"U",Ū:"U",Ṻ:"U",Ŭ:"U",Ü:"U",Ǜ:"U",Ǘ:"U",Ǖ:"U",Ǚ:"U",Ủ:"U",Ů:"U",Ű:"U",Ǔ:"U",Ȕ:"U",Ȗ:"U",Ư:"U",Ừ:"U",Ứ:"U",Ữ:"U",Ử:"U",Ự:"U",Ụ:"U",Ṳ:"U",Ų:"U",Ṷ:"U",Ṵ:"U",Ʉ:"U","Ⓥ":"V",Ｖ:"V",Ṽ:"V",Ṿ:"V",Ʋ:"V",Ꝟ:"V",Ʌ:"V",Ꝡ:"VY","Ⓦ":"W",Ｗ:"W",Ẁ:"W",Ẃ:"W",Ŵ:"W",Ẇ:"W",Ẅ:"W",Ẉ:"W",Ⱳ:"W","Ⓧ":"X",Ｘ:"X",Ẋ:"X",Ẍ:"X","Ⓨ":"Y",Ｙ:"Y",Ỳ:"Y",Ý:"Y",Ŷ:"Y",Ỹ:"Y",Ȳ:"Y",Ẏ:"Y",Ÿ:"Y",Ỷ:"Y",Ỵ:"Y",Ƴ:"Y",Ɏ:"Y",Ỿ:"Y","Ⓩ":"Z",Ｚ:"Z",Ź:"Z",Ẑ:"Z",Ż:"Z",Ž:"Z",Ẓ:"Z",Ẕ:"Z",Ƶ:"Z",Ȥ:"Z",Ɀ:"Z",Ⱬ:"Z",Ꝣ:"Z","ⓐ":"a",ａ:"a",ẚ:"a",à:"a",á:"a",â:"a",ầ:"a",ấ:"a",ẫ:"a",ẩ:"a",ã:"a",ā:"a",ă:"a",ằ:"a",ắ:"a",ẵ:"a",ẳ:"a",ȧ:"a",ǡ:"a",ä:"a",ǟ:"a",ả:"a",å:"a",ǻ:"a",ǎ:"a",ȁ:"a",ȃ:"a",ạ:"a",ậ:"a",ặ:"a",ḁ:"a",ą:"a",ⱥ:"a",ɐ:"a",ꜳ:"aa",æ:"ae",ǽ:"ae",ǣ:"ae",ꜵ:"ao",ꜷ:"au",ꜹ:"av",ꜻ:"av",ꜽ:"ay","ⓑ":"b",ｂ:"b",ḃ:"b",ḅ:"b",ḇ:"b",ƀ:"b",ƃ:"b",ɓ:"b","ⓒ":"c",ｃ:"c",ć:"c",ĉ:"c",ċ:"c",č:"c",ç:"c",ḉ:"c",ƈ:"c",ȼ:"c",ꜿ:"c",ↄ:"c","ⓓ":"d",ｄ:"d",ḋ:"d",ď:"d",ḍ:"d",ḑ:"d",ḓ:"d",ḏ:"d",đ:"d",ƌ:"d",ɖ:"d",ɗ:"d",ꝺ:"d",ǳ:"dz",ǆ:"dz","ⓔ":"e",ｅ:"e",è:"e",é:"e",ê:"e",ề:"e",ế:"e",ễ:"e",ể:"e",ẽ:"e",ē:"e",ḕ:"e",ḗ:"e",ĕ:"e",ė:"e",ë:"e",ẻ:"e",ě:"e",ȅ:"e",ȇ:"e",ẹ:"e",ệ:"e",ȩ:"e",ḝ:"e",ę:"e",ḙ:"e",ḛ:"e",ɇ:"e",ɛ:"e",ǝ:"e","ⓕ":"f",ｆ:"f",ḟ:"f",ƒ:"f",ꝼ:"f","ⓖ":"g",ｇ:"g",ǵ:"g",ĝ:"g",ḡ:"g",ğ:"g",ġ:"g",ǧ:"g",ģ:"g",ǥ:"g",ɠ:"g",ꞡ:"g",ᵹ:"g",ꝿ:"g","ⓗ":"h",ｈ:"h",ĥ:"h",ḣ:"h",ḧ:"h",ȟ:"h",ḥ:"h",ḩ:"h",ḫ:"h",ẖ:"h",ħ:"h",ⱨ:"h",ⱶ:"h",ɥ:"h",ƕ:"hv","ⓘ":"i",ｉ:"i",ì:"i",í:"i",î:"i",ĩ:"i",ī:"i",ĭ:"i",ï:"i",ḯ:"i",ỉ:"i",ǐ:"i",ȉ:"i",ȋ:"i",ị:"i",į:"i",ḭ:"i",ɨ:"i",ı:"i","ⓙ":"j",ｊ:"j",ĵ:"j",ǰ:"j",ɉ:"j","ⓚ":"k",ｋ:"k",ḱ:"k",ǩ:"k",ḳ:"k",ķ:"k",ḵ:"k",ƙ:"k",ⱪ:"k",ꝁ:"k",ꝃ:"k",ꝅ:"k",ꞣ:"k","ⓛ":"l",ｌ:"l",ŀ:"l",ĺ:"l",ľ:"l",ḷ:"l",ḹ:"l",ļ:"l",ḽ:"l",ḻ:"l",ſ:"l",ł:"l",ƚ:"l",ɫ:"l",ⱡ:"l",ꝉ:"l",ꞁ:"l",ꝇ:"l",ǉ:"lj","ⓜ":"m",ｍ:"m",ḿ:"m",ṁ:"m",ṃ:"m",ɱ:"m",ɯ:"m","ⓝ":"n",ｎ:"n",ǹ:"n",ń:"n",ñ:"n",ṅ:"n",ň:"n",ṇ:"n",ņ:"n",ṋ:"n",ṉ:"n",ƞ:"n",ɲ:"n",ŉ:"n",ꞑ:"n",ꞥ:"n",ǌ:"nj","ⓞ":"o",ｏ:"o",ò:"o",ó:"o",ô:"o",ồ:"o",ố:"o",ỗ:"o",ổ:"o",õ:"o",ṍ:"o",ȭ:"o",ṏ:"o",ō:"o",ṑ:"o",ṓ:"o",ŏ:"o",ȯ:"o",ȱ:"o",ö:"o",ȫ:"o",ỏ:"o",ő:"o",ǒ:"o",ȍ:"o",ȏ:"o",ơ:"o",ờ:"o",ớ:"o",ỡ:"o",ở:"o",ợ:"o",ọ:"o",ộ:"o",ǫ:"o",ǭ:"o",ø:"o",ǿ:"o",ɔ:"o",ꝋ:"o",ꝍ:"o",ɵ:"o",ƣ:"oi",ȣ:"ou",ꝏ:"oo","ⓟ":"p",ｐ:"p",ṕ:"p",ṗ:"p",ƥ:"p",ᵽ:"p",ꝑ:"p",ꝓ:"p",ꝕ:"p","ⓠ":"q",ｑ:"q",ɋ:"q",ꝗ:"q",ꝙ:"q","ⓡ":"r",ｒ:"r",ŕ:"r",ṙ:"r",ř:"r",ȑ:"r",ȓ:"r",ṛ:"r",ṝ:"r",ŗ:"r",ṟ:"r",ɍ:"r",ɽ:"r",ꝛ:"r",ꞧ:"r",ꞃ:"r","ⓢ":"s",ｓ:"s",ß:"s",ś:"s",ṥ:"s",ŝ:"s",ṡ:"s",š:"s",ṧ:"s",ṣ:"s",ṩ:"s",ș:"s",ş:"s",ȿ:"s",ꞩ:"s",ꞅ:"s",ẛ:"s","ⓣ":"t",ｔ:"t",ṫ:"t",ẗ:"t",ť:"t",ṭ:"t",ț:"t",ţ:"t",ṱ:"t",ṯ:"t",ŧ:"t",ƭ:"t",ʈ:"t",ⱦ:"t",ꞇ:"t",ꜩ:"tz","ⓤ":"u",ｕ:"u",ù:"u",ú:"u",û:"u",ũ:"u",ṹ:"u",ū:"u",ṻ:"u",ŭ:"u",ü:"u",ǜ:"u",ǘ:"u",ǖ:"u",ǚ:"u",ủ:"u",ů:"u",ű:"u",ǔ:"u",ȕ:"u",ȗ:"u",ư:"u",ừ:"u",ứ:"u",ữ:"u",ử:"u",ự:"u",ụ:"u",ṳ:"u",ų:"u",ṷ:"u",ṵ:"u",ʉ:"u","ⓥ":"v",ｖ:"v",ṽ:"v",ṿ:"v",ʋ:"v",ꝟ:"v",ʌ:"v",ꝡ:"vy","ⓦ":"w",ｗ:"w",ẁ:"w",ẃ:"w",ŵ:"w",ẇ:"w",ẅ:"w",ẘ:"w",ẉ:"w",ⱳ:"w","ⓧ":"x",ｘ:"x",ẋ:"x",ẍ:"x","ⓨ":"y",ｙ:"y",ỳ:"y",ý:"y",ŷ:"y",ỹ:"y",ȳ:"y",ẏ:"y",ÿ:"y",ỷ:"y",ẙ:"y",ỵ:"y",ƴ:"y",ɏ:"y",ỿ:"y","ⓩ":"z",ｚ:"z",ź:"z",ẑ:"z",ż:"z",ž:"z",ẓ:"z",ẕ:"z",ƶ:"z",ȥ:"z",ɀ:"z",ⱬ:"z",ꝣ:"z",Ά:"Α",Έ:"Ε",Ή:"Η",Ί:"Ι",Ϊ:"Ι",Ό:"Ο",Ύ:"Υ",Ϋ:"Υ",Ώ:"Ω",ά:"α",έ:"ε",ή:"η",ί:"ι",ϊ:"ι",ΐ:"ι",ό:"ο",ύ:"υ",ϋ:"υ",ΰ:"υ",ω:"ω",ς:"σ"};function g(e){return`${e}`.replace(/[^\u0000-\u007E]/g,(function(e){return m[e]||e}))}function y(e,t){return g(e).toUpperCase().indexOf(g(t).toUpperCase())}function v(e,t){return g(e).toUpperCase().startsWith(g(t).toUpperCase())?1:-1}},30875:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(87017),i=n(34149);function o(e){return"object"==typeof e&&Boolean(e)}n(84287),n(9805);class a extends r.Z{get styles(){const{positional:e,named:t}=this.args;return[].concat(...[...e.filter(o),t].map((e=>Object.entries(e).map((e=>{let[t,n]=e;return[(0,i.H0)(t),n]})))))}setStyles(e){const t=this._oldStyles||new Set;e.forEach((e=>{let[n,r]=e,o="";r&&r.includes("!important")&&(o="important",r=r.replace("!important","")),n=(0,i.H0)(n),this.element.style.setProperty(n,r,o),t.delete(n)})),t.forEach((e=>this.element.style.removeProperty(e))),this._oldStyles=new Set(e.map((e=>e[0])))}didReceiveArguments(){this.setStyles(this.styles)}}},25325:(e,t,n)=>{"use strict";n.d(t,{ed:()=>o,lt:()=>a});var r=n(11633);function i(e,t,n,i,o,a){e=e.record,console.log("replaceItemWithScaffold called"),console.log("algorithmName:",t),console.log("inputName:",n),console.log("scaffoldName:",i),console.log("itemName:",o),console.log("itemType:",a);let s=e[a+"s"].findBy("name",o),l=e.algorithms.findBy("name",t).inputs.find((e=>e.name===n)),u=(0,r.XhB)(l[a+"Scaffolds"].find((e=>e.name===i)));console.log("GOT SCAFFOLDS:",l[a+"Scaffolds"]),console.log("GOT SCAFFOLD:",i,u),(0,r.xbD)(u)?console.warn("Scaffold with name",i,"not found in scaffolds",l[a+"Scaffolds"]):(u.name=o,Object.entries(u).forEach((e=>{const[t,n]=e;["resources"].includes(t)||(s[t]=n)})),s.save())}function o(e,t){return Function.apply(null,[...Object.keys(e),"expr","return eval(expr)"]).apply(null,[...Object.values(e),t])}var a={replaceResourceWithScaffold:function(e,t,n,r,o){return i(e,t,n,r,o,"resource")},replaceViewWithScaffold:function(e,t,n,r,o){return i(e,t,n,r,o,"view")},getResourceFieldValue:function(e,t,n){e=e.record,console.log("getResourceFieldValue called"),console.log("name:",t),console.log("fieldPath:",n);let i=e.resources.findBy("name",t),o=(0,r.U2M)(i.data,n);return console.log("value:",o),o},setViewFieldValue:function(e,t,n,r,i){let o=(e=e.record).views.findBy("name",t),a=o.spec.fields.map((e=>e.name===n?(e[r]=i,e):e));o.spec.fields=a,o.save()},setViewValue:function(e,t,n,r){let i=(e=e.record).views.findBy("name",t);i.spec[n]=r,i.save()}}},7302:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(45308);const i=(0,n(71275).createTemplateFactory)({id:"AsSqynT1",block:'[[[10,"article"],[14,0,"opendatafit params-view"],[12],[1,"\\n\\n"],[41,[51,[30,1,["spec","disabled"]]],[[[1,"    "],[10,"header"],[12],[1,"\\n"],[41,[30,2],[[[1,"        "],[10,"h1"],[12],[1,[30,2]],[13],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n\\n    "],[10,"table"],[12],[1,"\\n      "],[10,"thead"],[12],[1,"\\n        "],[10,"tr"],[12],[1,"\\n          "],[10,"th"],[14,0,"parameter-title"],[12],[1,"Parameter"],[13],[1,"\\n          "],[10,"th"],[14,0,"parameter-vary"],[12],[1,"Fit"],[13],[1,"\\n          "],[10,"th"],[14,0,"parameter-value"],[12],[1,"Initial"],[13],[1,"\\n          "],[10,"th"],[14,0,"bounds"],[12],[1,"Bounds"],[13],[1,"\\n          "],[10,"th"],[14,0,"parameter-value-optimised"],[12],[1,"\\n            Optimised\\n          "],[13],[1,"\\n"],[41,[51,[30,3]],[[[1,"            "],[10,"th"],[12],[1,"\\n              "],[11,"button"],[24,4,"button"],[4,[38,2],["click",[30,0,["updateInitialValues"]]],null],[12],[1,"\\n                ←\\n              "],[13],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n      "],[13],[1,"\\n      "],[10,"tbody"],[12],[1,"\\n"],[42,[28,[37,4],[[28,[37,4],[[30,1,["spec","keys"]]],null]],null],null,[[[1,"          "],[8,[39,5],null,[["@keyName","@resource","@outputResource","@view","@readOnly","@updateValue"],[[30,4,["name"]],[30,0,["inputResource"]],[30,0,["outputResource"]],[30,1],[30,3],[30,0,["updateValue"]]]],null],[1,"\\n"]],[4]],null],[1,"      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[13],[1,"\\n\\n"],[18,5,null],[1,"\\n"]],["@view","@title","@readOnly","viewKey","&default"],false,["unless","if","on","each","-track-array","opendatafit/params-view/input-row","yield"]]',moduleName:"opendatafit-params-view/components/opendatafit/params-view.hbs",isStrictMode:!1});var o,a,s=n(78479),l=n(96663),u=n(8877);function c(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let d=(o=class extends s.Z{constructor(){var e;super(...arguments),(e=a)&&Object.defineProperty(this,"store",{enumerable:e.enumerable,configurable:e.configurable,writable:e.writable,value:e.initializer?e.initializer.call(this):void 0})}get inputResource(){if(this.args.resources[0])return this.args.resources[0];throw new Error("opendatafit-params-view: input resource not found")}get outputResource(){if(this.args.resources[1])return this.args.resources[1];throw new Error("opendatafit-params-view: output resource not found")}updateInitialValues(){for(const e of this.args.view.spec.keys){let t=this.inputResource.data[e.name],n=this.outputResource.data[e.name];t&&t.vary&&t.value&&n&&n.value&&(t.value=n.value,this.inputResource.save())}}updateValue(e,t,n){let r=null;if(r="checkbox"===n.target.type?n.target.checked:n.target.value,!(this.inputResource&&this.inputResource.data&&e in this.inputResource.data&&t in this.inputResource.data[e]))throw new Error("opendatafit-params-view: input resource not found while updating value");this.inputResource.data[e][t]=r,this.inputResource.save()}},a=c(o.prototype,"store",[u.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(o.prototype,"updateInitialValues",[l.action],Object.getOwnPropertyDescriptor(o.prototype,"updateInitialValues"),o.prototype),c(o.prototype,"updateValue",[l.action],Object.getOwnPropertyDescriptor(o.prototype,"updateValue"),o.prototype),o);(0,r.setComponentTemplate)(i,d)},91577:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45308),i=n(90280),o=n(71275);window.define("opendatafit-embed/helpers/eq",(function(){return i.Z}));const a=(0,o.createTemplateFactory)({id:"g0i0oND7",block:'[[[1,[52,[28,[37,1],[[30,1],"lower"],null],[30,0,["bracket"]]]],[1,[30,0,["shortValue"]]],[1,[52,[28,[37,1],[[30,1],"upper"],null],[30,0,["bracket"]]]],[1,"\\n\\n\\n"],[18,2,null],[1,"\\n"]],["@type","&default"],false,["if","eq","yield"]]',moduleName:"opendatafit-params-view/components/opendatafit/params-view/bounds/bound.hbs",isStrictMode:!1});var s=n(78479);class l extends s.Z{get value(){return this.args.resource&&this.args.resource.data&&this.args.keyName in this.args.resource.data&&this.args.fieldName in this.args.resource.data[this.args.keyName]?this.args.resource.data[this.args.keyName][this.args.fieldName]:null}get key(){return this.args.resource&&this.args.resource.schema?this.args.resource.schema.keys.find((e=>e.name===this.args.keyName)):null}get field(){return this.key?this.key.fields.find((e=>e.name===this.args.fieldName)):null}get shortValue(){return this.value==1/0?"∞":this.value==-1/0?"-∞":this.value}get bracket(){return"lower"==this.args.type?this.isNoBounds?"(":"[":this.isNoBounds?")":"]"}get isNoBounds(){return this.value==1/0||this.value==-1/0}}(0,r.setComponentTemplate)(a,l)},76097:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(45308);const i=(0,n(71275).createTemplateFactory)({id:"1StJ4Z7d",block:'[[[8,[39,0],null,[["@resource","@keyName","@fieldName","@type"],[[30,1],[30,2],"lowerBound","lower"]],null],[1,",\\n"],[8,[39,0],null,[["@resource","@keyName","@fieldName","@type"],[[30,1],[30,2],"upperBound","upper"]],null],[1,"\\n"],[18,3,null],[1,"\\n"]],["@resource","@keyName","&default"],false,["opendatafit/params-view/bounds/bound","yield"]]',moduleName:"opendatafit-params-view/components/opendatafit/params-view/bounds/bounds.hbs",isStrictMode:!1});var o=n(78479);class a extends o.Z{}(0,r.setComponentTemplate)(i,a)},16913:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45308);const i=(0,n(71275).createTemplateFactory)({id:"LnZ/Hrxh",block:'[[[10,"label"],[14,0,"bound_value"],[12],[1,"\\n  "],[10,1],[14,0,"label-text"],[12],[1,[30,1]],[13],[1,"\\n  "],[8,[39,0],null,[["@resource","@keyName","@fieldName","@readOnly","@updateValue"],[[30,2],[30,3],[30,4],[30,0,["isReadOnly"]],[30,5]]],null],[1,"\\n"],[13],[1,"\\n\\n"],[10,"label"],[14,0,"no_bounds"],[12],[1,"\\n  "],[11,"input"],[16,"disabled",[30,6]],[16,"checked",[30,0,["isNoBounds"]]],[24,4,"checkbox"],[4,[38,1],["change",[30,0,["toggleNoBounds"]]],null],[12],[13],[1,"\\n  "],[10,1],[14,0,"label-text"],[12],[1,"No bounds"],[13],[1,"\\n"],[13],[1,"\\n\\n\\n"],[18,7,null],[1,"\\n"]],["@type","@resource","@keyName","@fieldName","@updateValue","@readOnly","&default"],false,["opendatafit/params-view/input","on","yield"]]',moduleName:"opendatafit-params-view/components/opendatafit/params-view/bounds/input.hbs",isStrictMode:!1});var o,a=n(78479),s=n(96663);let l=(o=class extends a.Z{toggleNoBounds(e){let t,n={target:{value:""}};this.isNoBounds&&(n.target.value="",this.args.updateValue(this.args.keyName,this.args.fieldName,n)),t="Lower"==this.args.type?"-Infinity":"Upper"==this.args.type?"Infinity":"",n.target.value=t,this.args.updateValue(this.args.keyName,this.args.fieldName,n)}get isReadOnly(){return this.args.readOnly||this.isNoBounds}get isNoBounds(){return this.value==1/0||this.value==-1/0}get value(){return this.args.resource&&this.args.resource.data&&this.args.keyName in this.args.resource.data&&this.args.fieldName in this.args.resource.data[this.args.keyName]?this.args.resource.data[this.args.keyName][this.args.fieldName]:null}get key(){return this.args.resource&&this.args.resource.schema?this.args.resource.schema.keys.find((e=>e.name===this.args.keyName)):null}get field(){return this.key?this.key.fields.find((e=>e.name===this.args.fieldName)):null}},u=o.prototype,c="toggleNoBounds",d=[s.action],h=Object.getOwnPropertyDescriptor(o.prototype,"toggleNoBounds"),f=o.prototype,p={},Object.keys(h).forEach((function(e){p[e]=h[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=d.slice().reverse().reduce((function(e,t){return t(u,c,e)||e}),p),f&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(f):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(u,c,p),p=null),o);var u,c,d,h,f,p;(0,r.setComponentTemplate)(i,l)},63224:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(45308),i=n(92239),o=n(71275);window.define("opendatafit-embed/helpers/find",(function(){return i.Z}));const a=(0,o.createTemplateFactory)({id:"gMicYJEm",block:'[[[10,"tr"],[15,0,[29,["parameter-values ",[52,[30,1],"sub-parameter"]]]],[15,"aria-hidden",[52,[30,2],"true","false"]],[12],[1,"\\n  "],[10,"td"],[14,0,"parameter-title"],[12],[1,"\\n    "],[10,0],[14,0,"parameter-title-line"],[12],[1,"\\n    "],[10,1],[12],[1,[30,0,["title"]]],[13],[1,"\\n"],[41,[30,0,["keyView","keys"]],[[[1,"      "],[11,"button"],[24,4,"button"],[4,[38,1],["click",[30,0,["polyToggleVisibility"]]],null],[12],[1,"\\n        PD\\n        "],[10,"i"],[15,0,[30,0,["polyToggleButtonIcon"]]],[12],[13],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n"],[41,[30,0,["unit"]],[[[1,"      "],[10,1],[14,0,"unit"],[12],[1,[28,[35,2],null,[["expr"],[[30,0,["unit"]]]]]],[13],[1,"\\n"]],[]],null],[1,"  "],[13],[1,"\\n\\n  "],[10,"td"],[14,0,"parameter-vary"],[12],[1,"\\n    "],[8,[39,3],null,[["@resource","@keyName","@fieldName","@readOnly","@updateValue"],[[30,3],[30,4],"vary",[30,5],[30,6]]],null],[1,"\\n  "],[13],[1,"\\n\\n  "],[10,"td"],[14,0,"parameter-value"],[12],[1,"\\n    "],[8,[39,3],null,[["@resource","@keyName","@fieldName","@readOnly","@updateValue"],[[30,3],[30,4],"value",[30,5],[30,6]]],null],[1,"\\n  "],[13],[1,"\\n  "],[10,"td"],[14,0,"bounds"],[12],[1,"\\n    "],[8,[39,4],null,[["@resource","@keyName"],[[30,3],[30,4]]],null],[1,"\\n"],[41,[51,[30,5]],[[[1,"      "],[11,"button"],[24,4,"button"],[4,[38,1],["click",[30,0,["boundsToggleVisibility"]]],null],[12],[1,"\\n        "],[10,"i"],[14,0,"fas fa-edit"],[12],[13],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"  "],[13],[1,"\\n\\n"],[41,[28,[37,6],[[30,0,["fields"]],"name","vary"],null],[[[1,"    "],[10,"td"],[14,0,"parameter-value-optimised"],[12],[1,"\\n      "],[8,[39,3],null,[["@resource","@keyName","@fieldName","@readOnly","@updateValue"],[[30,7],[30,4],"value","true",[30,6]]],null],[1,"\\n    "],[13],[1,"\\n\\n"],[41,[51,[30,5]],[[[1,"      "],[10,"td"],[12],[1,"\\n"],[41,[30,0,["updateInitialValueEnabled"]],[[[1,"            "],[11,"button"],[24,4,"button"],[4,[38,1],["click",[30,0,["updateInitialValue"]]],null],[12],[1,"\\n              ←\\n            "],[13],[1,"\\n"]],[]],null],[1,"      "],[13],[1,"\\n"]],[]],null]],[]],[[[1,"    "],[10,"td"],[12],[13],[1,"\\n"],[41,[51,[30,5]],[[[1,"      "],[10,"td"],[12],[13],[1,"\\n"]],[]],null]],[]]],[13],[1,"\\n\\n"],[1,"\\n"],[41,[30,0,["keyView","keys"]],[[[1,"\\n"],[42,[28,[37,8],[[28,[37,8],[[30,0,["keyView","keys"]]],null]],null],null,[[[1,"    "],[8,[39,9],null,[["@keyName","@resource","@outputResource","@view","@readOnly","@updateValue","@subParam","@isHidden"],[[30,8,["name"]],[30,3],[30,7],[30,9],[30,5],[30,6],true,[30,0,["polydispersityHidden"]]]],null],[1,"\\n"]],[8]],null]],[]],null],[1,"\\n"],[18,10,null],[1,"\\n"]],["@subParam","@isHidden","@resource","@keyName","@readOnly","@updateValue","@outputResource","child","@view","&default"],false,["if","on","latex-maths","opendatafit/params-view/input","opendatafit/params-view/bounds/bounds","unless","find","each","-track-array","opendatafit/params-view/input-row","yield"]]',moduleName:"opendatafit-params-view/components/opendatafit/params-view/input-row.hbs",isStrictMode:!1});var s,l,u,c=n(78479),d=n(96663),h=n(23570);function f(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function p(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let m=(s=class extends c.Z{constructor(){super(...arguments),f(this,"polydispersityHidden",l,this),f(this,"boundsInputHidden",u,this)}updateInitialValue(){let e=this.args.resource.data[this.args.keyName],t=this.args.outputResource.data[this.args.keyName];e&&t&&e.value&&t.value&&(e.value=t.value,this.args.resource.save())}get updateInitialValueEnabled(){let e=this.args.resource.data[this.args.keyName];return e&&e.vary}polyToggleVisibility(){this.polydispersityHidden=!this.polydispersityHidden}boundsToggleVisibility(){this.boundsInputHidden=!this.boundsInputHidden}get boundsHidden(){return this.boundsInputHidden||this.args.isHidden}get polyToggleButtonIcon(){return this.polydispersityHidden?"fas fa-plus":"fas fa-minus"}get polyToggleButtonText(){return this.polydispersityHidden?"Expand":"Collapse"}get title(){return this.keySchema?this.keySchema.title?this.keySchema.title:this.keySchema.name:null}get unit(){return this.keySchema?this.keySchema.unit:null}get fields(){return this.keySchema?this.keySchema.fields:null}get keySchema(){return this.args.resource?this.args.resource.schema.keys.find((e=>e.name===this.args.keyName)):null}get keyView(){let e=this.args.view,t=this.args.keyName;return e?e.spec.keys.find((e=>e.name===t)):null}},l=p(s.prototype,"polydispersityHidden",[h.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),u=p(s.prototype,"boundsInputHidden",[h.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),p(s.prototype,"updateInitialValue",[d.action],Object.getOwnPropertyDescriptor(s.prototype,"updateInitialValue"),s.prototype),p(s.prototype,"polyToggleVisibility",[d.action],Object.getOwnPropertyDescriptor(s.prototype,"polyToggleVisibility"),s.prototype),p(s.prototype,"boundsToggleVisibility",[d.action],Object.getOwnPropertyDescriptor(s.prototype,"boundsToggleVisibility"),s.prototype),s);(0,r.setComponentTemplate)(a,m)},40332:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(45308),i=n(55718),o=n(90280),a=n(71275);window.define("opendatafit-embed/helpers/precision",(function(){return i.Z})),window.define("opendatafit-embed/helpers/eq",(function(){return o.Z}));const s=(0,a.createTemplateFactory)({id:"8p+AAw3k",block:'[[[41,[30,1],[[[1,"\\n"],[41,[28,[37,1],[[30,0,["field","type"]],"boolean"],null],[[[1,"    "],[10,"input"],[15,"checked",[30,0,["value"]]],[14,"disabled","true"],[14,4,"checkbox"],[12],[13],[1,"\\n"]],[]],[[[1,"    "],[10,1],[14,0,"value"],[12],[1,[28,[35,2],[[30,0,["value"]]],null]],[13],[1,"\\n"]],[]]],[1,"\\n"]],[]],[[[1,"\\n"],[41,[28,[37,1],[[30,0,["field","type"]],"number"],null],[[[1,"    "],[11,"input"],[16,2,[30,0,["value"]]],[24,"pattern","^-?(0|[1-9]\\\\d*)(\\\\.\\\\d+)?(e-?(0|[1-9]\\\\d*))?|-?Infinity$"],[24,4,"text"],[4,[38,3],["change",[28,[37,4],[[30,2],[30,3],[30,4]],null]],null],[12],[13],[1,"\\n"]],[]],[[[41,[28,[37,1],[[30,0,["field","type"]],"integer"],null],[[[1,"    "],[11,"input"],[16,2,[30,0,["value"]]],[24,"step","1"],[24,4,"number"],[4,[38,3],["change",[28,[37,4],[[30,2],[30,3],[30,4]],null]],null],[12],[13],[1,"\\n"]],[]],[[[41,[28,[37,1],[[30,0,["field","type"]],"boolean"],null],[[[1,"    "],[11,"input"],[16,"checked",[30,0,["value"]]],[24,4,"checkbox"],[4,[38,3],["change",[28,[37,4],[[30,2],[30,3],[30,4]],null]],null],[12],[13],[1,"\\n"]],[]],[[[41,[28,[37,1],[[30,0,["field","type"]],"string"],null],[[[41,[30,0,["field","constraints","enum"]],[[[1,"      "],[11,"select"],[16,2,[30,0,["value"]]],[4,[38,3],["change",[28,[37,4],[[30,2],[30,3],[30,4]],null]],null],[12],[1,"\\n"],[42,[28,[37,6],[[28,[37,6],[[30,0,["field","constraints","enum"]]],null]],null],null,[[[1,"          "],[10,"option"],[15,2,[30,5]],[15,"selected",[28,[37,1],[[30,0,["value"]],[30,5]],null]],[12],[1,"\\n            "],[1,[30,5]],[1,"\\n          "],[13],[1,"\\n"]],[5]],null],[1,"      "],[13],[1,"\\n"]],[]],[[[1,"      "],[11,"input"],[16,2,[30,0,["value"]]],[24,4,"text"],[4,[38,3],["change",[28,[37,4],[[30,2],[30,3],[30,4]],null]],null],[12],[13],[1,"\\n"]],[]]],[1,"  "]],[]],null]],[]]]],[]]]],[]]],[1,"\\n"]],[]]],[1,"\\n"],[18,6,null],[1,"\\n"]],["@readOnly","@updateValue","@keyName","@fieldName","choice","&default"],false,["if","eq","precision","on","fn","each","-track-array","yield"]]',moduleName:"opendatafit-params-view/components/opendatafit/params-view/input.hbs",isStrictMode:!1});var l=n(78479);class u extends l.Z{get value(){return this.args.resource&&this.args.resource.data&&this.args.keyName in this.args.resource.data&&this.args.fieldName in this.args.resource.data[this.args.keyName]?this.args.resource.data[this.args.keyName][this.args.fieldName]:null}get key(){return this.args.resource&&this.args.resource.schema?this.args.resource.schema.keys.find((e=>e.name===this.args.keyName)):null}get field(){return this.key?this.key.fields.find((e=>e.name===this.args.fieldName)):null}}(0,r.setComponentTemplate)(s,u)},90569:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(57495).helper)((function(e){let[t,n,r]=e;return!!t&&t.find((e=>e[n]===r))}))},41231:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(57495).helper)((function(e){let[t]=e;return!isNaN(t)&&isFinite(t)&&t?t.toPrecision(4):t}))},2244:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(45308);const i=(0,n(71275).createTemplateFactory)({id:"dvjH1xUC",block:'[[[10,"table"],[12],[1,"\\n  "],[10,"tr"],[12],[1,"\\n"],[42,[28,[37,1],[[28,[37,1],[[30,0,["args","resources","firstObject","schema","fields"]]],null]],null],null,[[[1,"      "],[10,"th"],[12],[1,[30,1,["title"]]],[1," "],[10,1],[14,0,"unit"],[12],[1,[28,[35,2],null,[["expr"],[[30,1,["unit"]]]]]],[13],[13],[1,"\\n"]],[1]],null],[1,"  "],[13],[1,"\\n"],[42,[28,[37,1],[[28,[37,1],[[30,0,["args","resources","firstObject","data"]]],null]],null],null,[[[1,"    "],[10,"tr"],[12],[1,"\\n"],[42,[28,[37,1],[[28,[37,1],[[30,0,["args","resources","firstObject","schema","fields"]]],null]],null],null,[[[1,"        "],[10,"td"],[12],[1,[28,[35,3],[[30,2],[30,3,["name"]]],null]],[13],[1,"\\n"]],[3]],null],[1,"    "],[13],[1,"\\n"]],[2]],null],[13],[1,"\\n\\n"],[18,4,null],[1,"\\n"]],["field","data","field","&default"],false,["each","-track-array","latex-maths","get","yield"]]',moduleName:"opendatafit-table-view/components/opendatafit/table-view.hbs",isStrictMode:!1});var o=n(78479);class a extends o.Z{}(0,r.setComponentTemplate)(i,a)},85759:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45308),i=n(7229),o=n(71275);window.define("opendatafit-embed/modifiers/vega",(function(){return i.Z}));const a=(0,o.createTemplateFactory)({id:"4nVL3KGC",block:'[[[11,0],[24,5,"height: 100%; min-height: 100%; max-height: 100%;"],[4,[38,0],null,[["specType","spec","data","config","isVisible"],[[30,0,["specType"]],[30,0,["spec"]],[30,0,["data"]],[30,1],[30,2]]]],[12],[1,"\\n"],[13],[1,"\\n\\n"],[1,"\\n"],[18,3,null],[1,"\\n"]],["@config","@isVisible","&default"],false,["vega","yield"]]',moduleName:"opendatafit-vega-view/components/opendatafit/vega-view.hbs",isStrictMode:!1});var s=n(78479);class l extends s.Z{get specType(){return this.args.view.specType}get spec(){return this.args.view.spec}get data(){let e={};for(const t of this.args.resources)if(t.data){for(const e of t.data)for(const t of Object.keys(e))e[t]||(e[t]=0);e[t.name]=t.data}return e}}(0,r.setComponentTemplate)(a,l)},14965:(e,t,n)=>{"use strict";function r(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n.d(t,{Z:()=>r})},15229:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>r})},20822:(e,t,n)=>{"use strict";function r(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}n.d(t,{Z:()=>r})}}]);